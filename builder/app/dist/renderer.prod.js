module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./dist/",n(n.s="./app/index.js")}({"./app/app.global.css":function(e,t,n){},"./app/constants/routes.json":function(e){e.exports={HOME:"/",COUNTER:"/counter"}},"./app/index.js":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"VISUAL",function(){return Ko}),n.d(r,"APPLICATION",function(){return Jo}),n.d(r,"GRAPHS",function(){return Zo}),n.d(r,"VISUAL_GRAPH",function(){return ei}),n.d(r,"DASHBOARD_MENU",function(){return ti}),n.d(r,"SELECTED_NODE_BB",function(){return ni}),n.d(r,"SIDE_PANEL_EXTRA_WIDTH",function(){return ri}),n.d(r,"NodeTypes",function(){return oi}),n.d(r,"NodeTypeColors",function(){return ii}),n.d(r,"NodeProperties",function(){return ai}),n.d(r,"LinkProperties",function(){return si}),n.d(r,"NodeAttributePropertyTypes",function(){return li}),n.d(r,"NodePropertyTypes",function(){return pi}),n.d(r,"ValidationRules",function(){return ui}),n.d(r,"OptionsTypes",function(){return ci}),n.d(r,"UI_UPDATE",function(){return di}),n.d(r,"GetC",function(){return fi}),n.d(r,"Visual",function(){return hi}),n.d(r,"IsCurrentNodeA",function(){return mi}),n.d(r,"Use",function(){return yi}),n.d(r,"GetNodeProp",function(){return _i}),n.d(r,"GetLinkChainItem",function(){return vi}),n.d(r,"GetCodeName",function(){return gi}),n.d(r,"GetMethodPropNode",function(){return bi}),n.d(r,"GetLinkProperty",function(){return Ci}),n.d(r,"GetGroupProperty",function(){return Ei}),n.d(r,"VisualEq",function(){return Ni}),n.d(r,"Node",function(){return Oi}),n.d(r,"Application",function(){return ki}),n.d(r,"GetVisualGraph",function(){return Si}),n.d(r,"SaveApplication",function(){return Ii}),n.d(r,"Graphs",function(){return Li}),n.d(r,"SaveGraph",function(){return Ti}),n.d(r,"UIC",function(){return Mi}),n.d(r,"toggleVisual",function(){return Ai}),n.d(r,"GUID",function(){return wi}),n.d(r,"setVisual",function(){return xi}),n.d(r,"setApplication",function(){return Pi}),n.d(r,"SELECTED_LINK",function(){return ji}),n.d(r,"HOVERED_LINK",function(){return Ri}),n.d(r,"SELECTED_NODE",function(){return $i}),n.d(r,"SelectedNode",function(){return Di}),n.d(r,"toggleDashboardMinMax",function(){return Gi}),n.d(r,"GetNodeTitle",function(){return Ui}),n.d(r,"GetNodes",function(){return Fi}),n.d(r,"CanChangeType",function(){return Vi}),n.d(r,"NodesByType",function(){return Hi}),n.d(r,"GetNodeFromRoot",function(){return Bi}),n.d(r,"NodesConnectedTo",function(){return qi}),n.d(r,"GetState",function(){return Yi}),n.d(r,"setState",function(){return zi}),n.d(r,"GetFunctionType",function(){return Xi}),n.d(r,"GetMethodNodeProp",function(){return Qi}),n.d(r,"GetMethodProps",function(){return Ki}),n.d(r,"GetPermissionMethod",function(){return Ji}),n.d(r,"GetCurrentGraph",function(){return Zi}),n.d(r,"GetRootGraph",function(){return ea}),n.d(r,"GetSubGraphs",function(){return ta}),n.d(r,"addNewSubGraph",function(){return na}),n.d(r,"setRootGraph",function(){return ra}),n.d(r,"setAppsettingsAssemblyPrefixes",function(){return oa}),n.d(r,"GetCurrentScopedGraph",function(){return ia}),n.d(r,"GetSelectedSubgraph",function(){return aa}),n.d(r,"UPDATE_GRAPH_TITLE",function(){return sa}),n.d(r,"NEW_NODE",function(){return la}),n.d(r,"REMOVE_NODE",function(){return pa}),n.d(r,"NEW_LINK",function(){return ua}),n.d(r,"CHANGE_NODE_TEXT",function(){return ca}),n.d(r,"CURRENT_GRAPH",function(){return da}),n.d(r,"GRAPH_SCOPE",function(){return fa}),n.d(r,"CHANGE_NODE_PROPERTY",function(){return ha}),n.d(r,"NEW_PROPERTY_NODE",function(){return ma}),n.d(r,"NEW_PERMISSION_NODE",function(){return ya}),n.d(r,"NEW_ATTRIBUTE_NODE",function(){return _a}),n.d(r,"ADD_LINK_BETWEEN_NODES",function(){return va}),n.d(r,"NEW_CONDITION_NODE",function(){return ga}),n.d(r,"REMOVE_LINK_BETWEEN_NODES",function(){return ba}),n.d(r,"REMOVE_LINK",function(){return Ca}),n.d(r,"NEW_CHOICE_ITEM_NODE",function(){return Ea}),n.d(r,"NEW_PARAMETER_NODE",function(){return Na}),n.d(r,"NEW_FUNCTION_OUTPUT_NODE",function(){return Oa}),n.d(r,"NEW_MODEL_ITEM_FILTER",function(){return ka}),n.d(r,"NEW_VALIDATION_ITEM_NODE",function(){return Sa}),n.d(r,"NEW_CHOICE_TYPE",function(){return Ia}),n.d(r,"NEW_VALIDATION_TYPE",function(){return La}),n.d(r,"NEW_OPTION_ITEM_NODE",function(){return Ta}),n.d(r,"NEW_OPTION_NODE",function(){return Ma}),n.d(r,"NEW_CUSTOM_OPTION",function(){return Aa}),n.d(r,"NEW_PERMISSION_PROPERTY_DEPENDENCY_NODE",function(){return wa}),n.d(r,"NEW_EXTENSION_LIST_NODE",function(){return xa}),n.d(r,"NEW_EXTENTION_NODE",function(){return Pa}),n.d(r,"ADD_EXTENSION_DEFINITION_CONFIG_PROPERTY",function(){return ja}),n.d(r,"APPLY_FUNCTION_CONSTRAINTS",function(){return Ra}),n.d(r,"ADD_NEW_REFERENCE_NODE",function(){return $a}),n.d(r,"SET_DEPTH",function(){return Da}),n.d(r,"graphOperation",function(){return Ga}),n.d(r,"Colors",function(){return Ua});var o={};n.r(o),n.d(o,"scaffoldProject",function(){return sp});var i={};n.r(i),n.d(i,"INCREMENT_COUNTER",function(){return Iv}),n.d(i,"DECREMENT_COUNTER",function(){return Lv}),n.d(i,"increment",function(){return Tv}),n.d(i,"decrement",function(){return Mv}),n.d(i,"incrementIfOdd",function(){return Av}),n.d(i,"incrementAsync",function(){return wv});var a,s=n("react"),l=n.n(s),p=n("react-dom"),u=n("react-hot-loader"),c=n("react-redux"),d=n("./node_modules/connected-react-router/lib/index.js"),f=n("react-router"),h=n("./app/constants/routes.json");class m extends s.Component{render(){const{children:e}=this.props;return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var s in o)void 0===t[s]&&(t[s]=o[s]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var l=new Array(i),p=0;p<i;p++)l[p]=arguments[p+3];t.children=l}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.Fragment,{},void 0,e)}}n("./node_modules/core-js/modules/web.dom.iterable.js"),n("react-router-dom");var y=n("redux");n("./node_modules/core-js/modules/es6.function.bind.js");function _(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}(e=>{if(!e.relativeCompliment){e.relativeCompliment||Object.defineProperty(e,"relativeCompliment",{enumerable:!1,writable:!0,configurable:!0,value:function(e,t,n){var r=[];t=t||function(e,t){return e===t};for(var o=this.length;o--;)e.some(t.bind(null,this[o]))?n&&n.push(this[o]):r.push(this[o]);return r}})}e.intersection||Object.defineProperty(e,"intersection",{enumerable:!1,writable:!0,configurable:!0,value:function(e,t){var n=[];t=t||function(e,t){return e===t};for(var r=this.length;r--;)for(var o=e.length;o--;)if(t(e[o],this[r])){n.push(this[r]);break}return n}}),e.toNodeSelect||Object.defineProperty(e,"toNodeSelect",{enumerable:!1,writable:!0,configurable:!0,value:function(){return this.map(e=>({value:e.id,title:UIA.GetNodeTitle(e)}))}}),e.unique||Object.defineProperty(e,"unique",{enumerable:!1,writable:!0,configurable:!0,value:function(e){var t=[],n=[];e=e||function(e){return e};for(var r=0;r<this.length;r++)-1===t.indexOf(e(this[r]))&&(t.push(e(this[r])),n.push(this[r]));return n}}),e.removeIndices||Object.defineProperty(e,"removeIndices",{enumerable:!1,writable:!0,configurable:!0,value:function(e){e=e.orderBy(function(e,t){return t-e});var t=this;return e.map(function(e){t.splice(e,1)}),t}}),e.interpolate||Object.defineProperty(e,"interpolate",{enumerable:!1,writable:!0,configurable:!0,value:function(e,t,n){n=n||function(e){return e};for(var r=e;r<t;r++)this instanceof Float32Array?this[r-e]=n(r):this.push(n(r,r-e));return this}}),e.orderBy||Object.defineProperty(e,"orderBy",{enumerable:!1,writable:!0,configurable:!0,value:function(e){return this.map(function(e){return e}).sort(e)}}),e.groupBy||Object.defineProperty(e,"groupBy",{enumerable:!1,writable:!0,configurable:!0,value:function(e){for(var t={},n=0;n<this.length;n++){var r=e(this[n]);t[r]=t[r]||[],t[r].push(this[n])}return t}}),e.subset||Object.defineProperty(e,"subset",{enumerable:!1,writable:!0,configurable:!0,value:function(e,t){t=Math.min(this.length,null==t?this.length:t),e=(e=Math.min(this.length,null==e?this.length:e))<0?0:e,t=t<0?0:t;for(var n=this instanceof Float32Array?new Float32Array(t-e):[],r=e;r<t;r++)this instanceof Float32Array?n[r-e]=this[r]:n.push(this[r]);return n}})})(Array.prototype);const v="Remove Validation",g="Remove Execution",b="Select Validation",C="Select Execution",E="Selected Validations",N="Remove",O="Service Side Setup",k="Add Condition",S="Graph Properties",I="Node Label",L="Node Type",T="Nodes",M="Models",A="Condition Type",w="Reference",x="Depth",P="New",j="Service Activity",R="Code Types",$="Project",D="NameSpace",G="Pinned",U="Collapsed",F="General Link",V="On Load",H="Child link",B="On failure result",q="On Action",W="On Item Selection",Y="On Succesful result",z="Selected Executions",X="Agents",Q="Select Property",K="Disallowed values",J="Methods",Z="Allowed values",ee="Model Actions",te="Add Property",ne="Permission Dependency Attribute",re="Key fields, are used as constants through out the app.",oe="Use Enumeration",ie="Enumeration",ae="Code User",se="Add a property to the model",le="Add Attribute",pe="Add an attribute to the property",ue="UI Name",ce="The text that will be visible to the client.",de="UI Singular",fe="Unknown",he="Property value type",me="Property model type",ye="Add reference node",_e="Agent Operator",ve="Enumerable",ge="Value",be="Application Menu",Ce="Code Name",Ee="Value Name",Ne="Agent Name",Oe="File Menu",ke="Code",Se="Main Navigation",Ie="Add parameter",Le="Parameters are the required things need for the function to execute successfully",Te="Add Function Output",Me="Menu",Ae="The output of the function",we="Agent",xe="User",Pe="Parameter Type",je="Owned Resources",Re="Add model item filter",$e="Add model item filter for get functions",De="Permissions",Ge="Permission Attributes",Ue="Check if permissions are for resources owned by source model.",Fe="Permission Actions",Ve={Create:"Create",Get:"Read",GetAll:"Read All",Getall:"Read All",Delete:"Delete",Getbyowner:"Get by owner",Update:"Update"},He="Choice types",Be="Add Choice",qe="Add choice type",We="Permission nodes describe the ability of connected models on downstream models",Ye="Add permission nodes",ze="Select",Xe="Validation Actions",Qe="Add validation item",Ke="Add rule to validate user input.",Je="Use Validation",Ze="Add validation type",et="Create a new shared validation list",tt="Add",nt="Validation Types",rt="Validation Type",ot="Option Actions",it="Add option",at="Add a new option item",st="Name",lt="Option Types",pt="Use custom option",ut="Use options",ct="Create a new option list",dt="Add option list description",ft="Depends on",ht="Has dependent property",mt="Use Extensions",yt="Included in list",_t="Is equal",vt="Use equivalancy",gt="Use equal",bt="If value is equal, it will pass",Ct="Excluded from list",Et="The agent's id will have to be excluded from the list to be accepted",Nt="The agent's id will have to be included in the list to be accepted.",Ot="Extension Types",kt="Create an extension list",St="Extension list customize dropdowns/lists.",It="Extension List Actions",Lt="Add Extension",Tt="Extension(s)",Mt="Add extension node description",At="Extension Definition",wt="Extensions",xt="Extension Config",Pt="Depends On",jt="Use Id",Rt="Property",$t="Condition",Dt="Defines if a the property associated with this extension is visually dependent on the value of another property on the same object.",Gt="The property that the current property will be associated.",Ut="Matching Value",Ft="The value that the associated property will have to equal, to enable the current property",Vt="Function Types",Ht="Functions",Bt="Add function",qt="Maestro Details",Wt="Http Methods",Yt="Add Maestro",zt="Relative Http Route",Xt="Maestros",Qt="Save",Kt="Open",Jt="Publish Files",Zt="Scaffold",en="Set Working Directory",tn="Mind Map",nn="Code View",rn="Parent to",on="Is parent",an="User Model",sn="Many to many",ln="Many to many item must exists",pn="Many to Many model",un="This property will be a quick access for many to many relationships.",cn="Has logical children",dn="Logical children types",fn="Logical niece types",hn="Children have references to this node, as some sort of logical parent.",mn="Has logical nieces",yn="Children have references to this node and others potentially as some sort of logical uncle/aunt. This is for many to many relationships.",_n="Use Model as Type",vn="Custom Function",gn="Function can be constructed in an internal graph.",bn="Add New Section",Cn="Sections",En="Adds a new section to the root graph.",Nn="Enter sub graph name",On="Red Quick Graph",kn="Red Quick Sub Graph",Sn="Clear Pinned",In="Filter",Ln={Concept:"concept",Model:"model",Property:"model-property",ModelFilter:"model-filter",ScreenContainer:"screen-container",Screen:"screen",ScreenCollection:"screen-collection",ScreenItem:"screen-item",Attribute:"attribute-property",ChoiceList:"choice-list",Permission:"permission",PermissionDependency:"permission-dependency",Condition:"condition",ModelItemFilter:"model-item-filter",Enumeration:"enumeration",ValidationList:"validation-list",ValidationListItem:"validation-list-item",Validator:"validator",Executor:"executor",OptionList:"option-list",OptionListItem:"option-list-item",OptionCustom:"option-custom",ExtensionTypeList:"extension-type-list",ExtensionType:"extension-type",Function:"function",Method:"method",Action:"action",Parameter:"parameter",FunctionOutput:"function-output",Controller:"controller",Maestro:"maestro",Services:"services",ReferenceNode:"referenceNode",ClassNode:"class-node"},Tn={[Ln.Condition]:!0,[Ln.ModelItemFilter]:!0},Mn={ChangeParameter:"change-parameter",ChangeResponse:"change-response",Constants:"constants",Permissions:"permissions-generated",Executors:"executors",ModelItemFilter:"model-item-filter",ModelReturn:"model-return",ModelGet:"model-get",ModelExceptions:"model-exceptions",StreamProcess:"stream-process",StreamProcessOrchestration:"stream-process-orchestration",ValidationRule:"validation-rule"},An={RedQuickViews:"RedQuickViews"},wn=["Microsoft.VisualStudio.TestTools.UnitTesting","RedQuick.Storage","RedQuickCore.Worker","Moq","Autofac","RedQuickCore.Worker.Hosts","RedQuick.Configuration","Microsoft.Extensions.Configuration.Json"],xn=["RedQuick.Data","RedQuick.Attributes","RedQuick.Interfaces","RedQuick.Validation","RedQuickCore.Validation.Rules","RedQuick.Interfaces.Arbiter","RedQuick.Configuration","RedQuick.Util","RedQuick.Interfaces","RedQuick.Interfaces.Data","RedQuick.UI","System","System.Collections","System.Collections.Generic","System.Linq","System.Net","System.Net.Http","System.Threading.Tasks"],Pn={Methods:"Methods",StreamTypes:"StreamType",FunctionName:"FunctionName"},jn=(Ln.Model,"Error"),Rn={[Ln.ReferenceNode]:!0,[Ln.PermissionDependency]:!0,[Ln.Condition]:!0},$n={[jn]:"#FF0000",[Ln.Concept]:"#DD4B39",[Ln.ModelItemFilter]:"#4ECDC4",[Ln.Model]:"#713E5A",[Ln.Property]:"#484349",[Ln.Screen]:"#3A405A",[Ln.Attribute]:"#414770",[Ln.ChoiceList]:"#457B9D",[Ln.ValidationList]:"#A8DADC",[Ln.ValidationListItem]:"#EA526F",[Ln.OptionList]:"#2EC4B6",[Ln.OptionListItem]:"#856A5D",[Ln.OptionCustom]:"#403F4C",[Ln.ExtensionTypeList]:"#2C2B3C",[Ln.ExtensionType]:"#1B2432",[Ln.Method]:"#FE5F55",[Ln.Permission]:"#383F51",[Ln.Function]:"#553D36",[Ln.Parameter]:"#684A52",[Ln.FunctionOutput]:"#857885",[Ln.Services]:"#59FFA0",[Ln.ClassNode]:"#C3BAAA",[Ln.Maestro]:"#780116",[Ln.Condition]:"#CAFE48",[Ln.Validator]:"#151522",[Ln.ModelFilter]:"#312313",[Ln.Executor]:"#2176FF",[Ln.ReferenceNode]:"#F7B538",[Ln.ScreenCollection]:"#A9DBB8",[Ln.ScreenItem]:"#020887",[Ln.ScreenContainer]:"#60B2E5"},Dn={External:"external",Internal:"internal",Core:"core"},Gn={IsExternal:"isExternal",FunctionGroup:"FunctionGroup"},Un={Model:".Models",StreamProcess:".ActionStream",Executors:".Executors",Tests:".Tests",Extensions:".Extensions",Controllers:".Controllers",Validations:".Validations",Constants:".Constants",Permissions:".Permissions",Parameters:".Parameters",Interface:".Interface"},Fn={Enumeration:"Enumeration",ConditionType:"ConditionType",MatchReference:"MatchReference",MatchManyReferenceParameter:"MatchManyReferenceParameter",EnumerationReference:"EnumerationReference",AllowedExtensionValues:"AllowedExtensionValues",ServiceType:"ServiceType",DisallowedExtensionValues:"DisallowedExtensionValues",AllowedEnumValues:"AllowedEnumerationValue",DisallowedEnumValues:"DisallowedEnumValues",ServiceTypeSettings:"ServiceTypeSettings",ValidatorModel:"ValidatorModel",ExecutorAgent:"ExecutorAgent",ExecutorFunction:"ExecutorFunction",ExecutorModel:"ExecutorModel",ExecutorFunctionType:"ExecutorFunctionType",ValidatorFunction:"ValidatorFunction",UseEnumeration:"UseEnumeration",NameSpace:"namespace",FilterModel:"filtermodel",FilterAgent:"filteragent",Validator:"Validator",ModelItemFilter:"ModelItemFilter",Executor:"Executor",ValidatorAgent:"ValidatorAgent",Collapsed:"collapsed",UseExtension:"usextension",IncludedInList:"includedInList",Pinned:"Pinned",ExcludedFromList:"excludedInList",UseEqual:"UseEqual",IsEqualTo:"IsEqualTo",CodeUser:"codeUser",HttpRoute:"HttpRoute",HttpMethod:"HttpMethod",IsAgent:"isAgent",IsParent:"isParent",IsUser:"IsUser",UIUser:"uiUser",IsSharedResource:"isSharedResource",UIPermissions:"uiPermissions",IsOwned:"isOwned",UIName:"uiName",UIText:"text",UISingular:"uiSingular",UIChoice:"uiChoice",UIChoiceType:"uiChoiceType",UIChoiceNode:"uiChoiceNode",PermissionRequester:"permissions-requester",PermissionManyToMany:"permissions-many-to-many",MatchIds:"matchs-ids",ConnectionExists:"connection-exists",PermissionTarget:"permissions-target",UIDependsOn:"uiDependsOn",UseUIDependsOn:"UseuiDependsOn",UseUIOptions:"UseuiOptions",UIOptionType:"uiOptionType",UseCustomUIOption:"useCustomUIOption",UIOptionTypeCustom:"uiOptionTypeCustom",UIOption:"uiOption",UseUIExtensionList:"UseuiExtensionList",UIExtensionList:"uiExtensionList",UIExtension:"uiExtension",UIExtensionDefinition:"uiExtensionDefinition",MethodProps:"methodProperties",FilterPropreties:"filterproperties",UIValidationType:"uiValidationType",UseUIValidations:"UseuiValidations",NODEType:"nodeType",ReferenceType:"referenceType",UIAttributeType:"uiAttributeType",UseModelAsType:"useModelAsType",HasLogicalChildren:"hasLogicalChildren",LogicalChildrenTypes:"logicalChildrenTypes",HasLogicalNieces:"hasLogicalNieces",LogicalNieceTypes:"logicalNieceTypes",ManyToManyNexus:"manyToManyNexux",ManyToManyNexusType:"manyToManyNexusType",ManyToManyNexusTypes:"manyToManyNexusTypes",MethodType:"MethodType",UIModelType:"uiModelType",UseScopeGraph:"UseScopeGraph",ScopeGraph:"scopedGraph",Groups:"groups",GroupParent:"groupParent",CodeName:"codeName",ValueName:"valueName",AgentName:"agentName",CodePropertyType:"codeProperty",FunctionType:"functionType",PermissionImpl:"permission-implementation",ClassConstructionInformation:"ClassConstructionInformation"};function Vn(e){return"string"==typeof e?e.split("").filter(e=>-1!=="abcdefghijklmnopqrstuvwxyzzz1234567890_".indexOf(e.toLowerCase())).join(""):e}const Hn={[Fn.ServiceType]:[{chainProp:Fn.CodeName,chainFunc:Vn},{chainProp:Fn.AgentName,chainFunc:Vn},{chainProp:Fn.ValueName,chainFunc:Vn},{chainProp:Fn.UIName,chainFunc:Vn},{chainProp:Fn.UIText,chainFunc:Vn}],[Fn.UIText]:[{chainProp:Fn.CodeName,chainFunc:Vn},{chainProp:Fn.AgentName,chainFunc:Vn},{chainProp:Fn.ValueName,chainFunc:Vn},{chainProp:Fn.HttpRoute,chainFunc:e=>"string"==typeof e?e.split(" ").join("/").toLowerCase():e},{chainProp:Fn.UIName,chainFunc:e=>e}]},Bn="abcdefghijklmnopqrstuvwxyz",qn=Bn+"0123456789"+" ";function Wn(e){if(e)return isNaN(e)?(e=(e=`${e}`).split("").filter(e=>-1!==qn.indexOf(e.toLowerCase())).join(""),-1===Bn.indexOf(e[0].toLowerCase())&&(e="_"+e),e.split(" ").join("_").toUpperCase()):`"${e}"`;throw"needs to have value"}const Yn={Remove:"remove"},zn={Choice:"choice",Executor:"executor",ExecutorItem:"executor-item",ExecutorProperty:"executor-property",ExecutorModel:"executor-model",Condition:"condtion",ModelItemFilter:"model-item-filter",Validation:"validation",ValidationItem:"validation-item",Validator:"validator",ValidatorProperty:"validator-property",ValidatorModel:"validator-model",ExecutorFunction:"executor-function",ValidatorFunction:"validator-function",ValidatorModelItem:"validator-model-item",ValidatorAgent:"validator-agent",Option:"option",OptionItem:"option-item",OptionCustom:"option-custom",DependsOn:"depends-on",ExtensionList:"extension-list",Extension:"extension",Enumeration:"enumeration",EnumerationReference:"enumeration-reference",LogicalChildren:"logical-children",LogicalNieces:"logical-nieces",ManyToManyLink:"ManyToManyLink",Permission:"permission",AppliedPermissionLink:"applied-permission",RequestorPermissionLink:"request-permission-link",ManyToManyPermissionLink:"many-to-many-permission-link",ExtensionDependencyLink:"extension-dependency-link",FunctionOperator:"function-operator",FunctionLink:"function-link",OnScreenLink:"screen-link",OnSuccessLink:"on-success-link",OnFailureLink:"on-failure-link",OnAction:"on-action",ChildLink:"child-link",OnItemSelection:"on-item-selection",FunctionVariable:"function-variable",PropertyLink:"property-link",ParentLink:"parent-link",FunctionConstraintLink:"function-constraint-link",ErrorLink:"error-link",RequiredClassLink:"required-class-link",ModelTypeLink:"model-type-link",AgentTypeLink:"agent-type-link",UserLink:"user-link",MaestroLink:"maestro-link",AttributeLink:"attribute-link",PermissionFunction:"permission-function",Exist:"exist",PermissionPropertyDependency:"permission-property-dependency",PermissionDependencyProperty:"permission-dependency-property",PermissionDependencyPropertyManyToManyLink:"permission-dependency-property-many-to-many",PermissionPropertyDependencyManyToManyLink:"permission-property-dependency-many-to-many"},Xn={[zn.FunctionLink]:{type:zn.FunctionLink,stroke:$n[Ln.Function]},[zn.ErrorLink]:{type:zn.ErrorLink,stroke:$n[jn]},[zn.OnScreenLink]:{type:zn.OnScreenLink,stroke:"#E1CE7A",strokeWidth:5},[zn.OnSuccessLink]:{type:zn.OnSuccessLink,stroke:"#A23B72",strokeWidth:5},[zn.OnFailureLink]:{type:zn.OnFailureLink,stroke:"#3B1F2B",strokeWidth:5},[zn.OnItemSelection]:{type:zn.OnItemSelection,stroke:"#2E86AB",strokeWidth:5},[zn.OnAction]:{type:zn.OnAction,stroke:"#A3320B",strokeWidth:5},[zn.ChildLink]:{type:zn.ChildLink,stroke:"#47A025",strokeWidth:5},[zn.FunctionConstraintLink]:{type:zn.FunctionConstraintLink,stroke:$n[Ln.Function]},[zn.FunctionOperator]:{type:zn.FunctionOperator,stroke:$n[Ln.Function]},[zn.PropertyLink]:{type:zn.PropertyLink,stroke:$n[Ln.Property]},[zn.Choice]:{type:zn.Choice,stroke:$n[Ln.ChoiceList]},[zn.Permission]:{type:zn.Permission,stroke:$n[Ln.Permission]},[zn.AppliedPermissionLink]:{type:zn.AppliedPermissionLink,stroke:$n[Ln.Permission]},[zn.Validation]:{type:zn.Validation,stroke:$n[Ln.ValidationList]},[zn.Validator]:{type:zn.Validator,stroke:$n[Ln.Validator]},[zn.Option]:{type:zn.Option,stroke:$n[Ln.OptionList]},[zn.OptionCustom]:{type:zn.OptionCustom,stroke:$n[Ln.OptionCustom]},[zn.DependsOn]:{type:zn.DependsOn,stroke:$n[Ln.Property]},[zn.ExtensionList]:{type:zn.ExtensionList,stroke:$n[Ln.ExtensionTypeList]},[zn.Extension]:{type:zn.Extension,stroke:$n[Ln.ExtensionType]},[zn.ExtensionDependencyLink]:{type:zn.ExtensionDependencyLink,stroke:$n[Ln.ExtensionTypeList]}},Qn={TYPE:"type",CONSTRAINTS:"constraints",VALID_CONSTRAINTS:"valid-constraints",FUNCTION_ID:"function-id"},Kn={EnumerationLink:{type:zn.Enumeration},ModelItemFilter:{type:zn.ModelItemFilter},EnumerationReferenceLink:{type:zn.EnumerationReference},ConditionLink:{type:zn.Condition},LogicalChildren:{type:zn.LogicalChildren},LogicalNieces:{type:zn.LogicalNieces},ManyToManyLink:{type:zn.ManyToManyLink},PermissionFunctionLink:{type:zn.PermissionFunction},FunctionVariable:{type:zn.FunctionVariable,[Qn.FUNCTION_ID]:null},PermissionDependencyPropertyLink:{type:zn.PermissionDependencyProperty},PermissionDependencyPropertyManyToManyLink:{type:zn.PermissionDependencyPropertyManyToManyLink},PermissionPropertyDependencyLink:{type:zn.PermissionPropertyDependency},PermissionPropertyDependencyManyToManyLink:{type:zn.PermissionPropertyDependencyManyToManyLink},AttributeLink:{type:zn.AttributeLink},ExistLink:{exist:zn.Exist},ModelTypeLink:{type:zn.ModelTypeLink},AgentTypeLink:{type:zn.AgentTypeLink},RequiredClassLink:{type:zn.RequiredClassLink},OnScreenLink:{type:zn.OnScreenLink},OnSuccessLink:{type:zn.OnSuccessLink},OnFailureLink:{type:zn.OnFailureLink},OnItemSelection:{type:zn.OnItemSelection},OnAction:{type:zn.OnAction},ChildLink:{type:zn.ChildLink},FunctionLink:{type:zn.FunctionLink},FunctionOperator:{type:zn.FunctionOperator},FunctionConstraintLink:{type:zn.FunctionConstraintLink},ChoiceLink:{type:zn.Choice},PermissionLink:{type:zn.Permission},AppliedPermissionLink:{type:zn.AppliedPermissionLink},RequestorPermissionLink:{type:zn.RequestorPermissionLink},ManyToManyPermissionLink:{type:zn.ManyToManyPermissionLink},ValdationLink:{type:zn.Validation},ValidationLinkItem:{type:zn.ValidationItem},ValidatorAgentLink:{type:zn.ValidatorAgent},ValidatorModelLink:{type:zn.ValidatorModel},ValidatorModelItemLink:{type:zn.ValidatorModelItem},ValidatorPropertyLink:{type:zn.ValidatorProperty},ExecutorLink:{type:zn.Validation},ExecutorLinkItem:{type:zn.ValidationItem},ExecutorAgentLink:{type:zn.ValidatorAgent},ExecutorModelLink:{type:zn.ExecutorModel},ExecutorModelItemLink:{type:zn.ValidatorModelItem},ExecutorPropertyLink:{type:zn.ValidatorProperty},ValidatorFunctionLink:{type:zn.ValidatorFunction},ExecutorFunctionLink:{type:zn.ExecutorFunction},OptionLink:{type:zn.Option},OptionItemLink:{type:zn.OptionItem},OptionCustomLink:{type:zn.OptionCustom},DependsOnLink:{type:zn.DependsOn},ExtensionListLink:{type:zn.ExtensionList},ExtensionLink:{type:zn.Extension},ExtensionDependencyLink:{type:zn.ExtensionDependencyLink},PropertyLink:{type:zn.PropertyLink},ParentLink:{type:zn.ParentLink},UserLink:{type:zn.UserLink},MaestroLink:{type:zn.MaestroLink}};Object.keys(Kn).map(e=>{Kn[e]&&Kn[e].type&&(Kn[e][Kn[e].type]={})});const Jn={Create:"Create",Get:"Get",GetAll:"GetAll",Update:"Update",Delete:"Delete"},Zn={CVV:"cvv",AlphaNumericLike:"alphanumericlike",AlphaNumericPuncLike:"alphaNumericpunclike",AlphaOnly:"alphaonly",NumericOnly:"numericonly",Numeric:"numeric",Empty:"empty",AlphaOnlyWithSpaces:"alphaonlywithspaces",NotEmpty:"notempty",UrlEmpty:"url_empty",IsTrue:"is_true",IsFalse:"is_false",GreaterThan:"greater_than",GreaterThanOrEqualTo:"greater_than_equal_to",LessThan:"less_than",LessThanOrEqualTo:"less_than_equal_to",EqualTo:"equal_to",Any:"any",Url:"url",EmailEmpty:"email_empty",Credit:"credit",Email:"email",ExpirationMonth:"expirationMonth",BeforeNow:"beforenow",Year:"year",Debit:"debit",ExpirationYear:"expirationYear",PastDate:"pastdate",ZipEmpty:"zipempty",Zip:"zip",SocialSecurity:"socialsecurity",ListOfGuids:"listofguids",OneOf:"one-of"},er={STRING:"STRING",LISTOFSTRINGS:"LISTOFSTRINGS",DATETIME:"DATETIME",INT:"INT",FLOAT:"FLOAT",DOUBLE:"DOUBLE",BOOLEAN:"BOOLEAN",EMAIL:"EMAIL",PHONENUMBER:"PHONENUMBER"},tr="\n",nr={CSHARP:"csharp"},rr={[nr.CSHARP]:{[er.DATETIME]:"DateTime",[er.STRING]:"string",[er.LISTOFSTRINGS]:"IList<string>",[er.INT]:"int",[er.FLOAT]:"float",[er.DOUBLE]:"double",[er.BOOLEAN]:"bool",[er.EMAIL]:"Email",[er.PHONENUMBER]:"PhoneNumber"}},or={[nr.CSHARP]:{[er.EMAIL]:["RedQuick.Data","RedQuick.Attributes"],[er.PHONENUMBER]:["RedQuick.Data","RedQuick.Attributes"]}},ir={value:{type:er.DATETIME,nodeType:Ln.Property}},ar={value:{type:er.STRING,nodeType:Ln.Property}};const sr={[Zn.ListOfGuids]:{types:[er.LISTOFSTRINGS],vectors:{content:[Zn.Any],length:!0},cases:{$true:function(e){return`new List<string> { "${_()}"}`},long:function(){return`new List<string> { "${_()}asdf" }`},$empty:function(){return"new List<string>()"}}},[Zn.SocialSecurity]:{types:[er.STRING],vectors:{content:[Zn.AlphaNumericPuncLike],length:!0},cases:{$true:function(e){return`"${[].interpolate(0,9,e=>Math.floor(10*Math.random())).join("")}"`},long:function(){return`"${[].interpolate(0,12,e=>Math.floor(10*Math.random())).join("")}"`},short:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("")}"`},invalid:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("a")}"`},empty:function(){return`"${[].interpolate(0,0,e=>Math.floor(10*Math.random())).join("")}"`}}},[Zn.Zip]:{types:[er.STRING],vectors:{content:[Zn.ZipEmpty],length:!0},cases:{$true:function(e){return`"${[].interpolate(0,5,e=>Math.floor(10*Math.random())).join("")}"`},long:function(){return`"${[].interpolate(0,12,e=>Math.floor(10*Math.random())).join("")}"`},short:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("")}"`},invalid:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("a")}"`},empty:function(){return`"${[].interpolate(0,0,e=>Math.floor(10*Math.random())).join("")}"`}}},[Zn.ZipEmpty]:{types:[er.STRING],vectors:{content:!0,length:!0},cases:{$true:function(){return`"${[].interpolate(0,5,e=>Math.floor(10*Math.random())).join("")}"`},long:function(){return`"${[].interpolate(0,12,e=>Math.floor(10*Math.random())).join("")}"`},short:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("")}"`},$empty:function(){return`"${[].interpolate(0,0,e=>Math.floor(10*Math.random())).join("")}"`},invalid:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("a")}"`},invalid2:function(){return`"${[].interpolate(0,5,e=>"a").join("")}"`}}},[Zn.PastDate]:{types:[er.DATETIME],vectors:{value:!0},cases:{$true:function(e){return"Date.UtcNow().AddDays(1)"},false:function(){return"Date.UtcNow().AddDays(-1)"}}},[Zn.BeforeNow]:{types:[er.STRING],vectors:{value:!0},cases:{$true:function(e){return"Date.UtcNow().AddDays(-1)"},false:function(){return"Date.UtcNow().AddDays(1)"}}},[Zn.Email]:{types:[er.STRING],vectors:{content:!0},cases:{$true:function(e){return'"asdf@asdf.com"'},false:function(){return'"asdf@asdfdd@asdf@.com"'},empty:function(){return'""'}}},[Zn.EmailEmpty]:{types:[er.STRING],vectors:{content:!0},cases:{$true:function(e){return'"asadf@asdf.com"'},false:function(){return'"asdf@afsdfdd@asdf@.com"'},$empty:function(){return'""'}}},[Zn.Credit]:{types:[er.STRING],vectors:{content:!0,length:!0},cases:{$true:function(){return`"${[].interpolate(0,16,e=>Math.floor(10*Math.random())).join("")}"`},long:function(){return`"${[].interpolate(0,23,e=>Math.floor(10*Math.random())).join("")}"`},short:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("")}"`},$empty:function(){return`"${[].interpolate(0,0,e=>Math.floor(10*Math.random())).join("")}"`},invalid:function(){return`"${[].interpolate(0,16,e=>Math.floor(10*Math.random())).join("a")}"`},invalid2:function(){return`"${[].interpolate(0,16,e=>"a").join("")}"`}}},[Zn.Url]:{types:[er.STRING],vectors:{content:[Zn.UrlEmpty]},cases:{$true:function(e){return'"http://yahoo.com"'},false:function(){return'"asdf@afsdfdd@asdf@.com"'},empty:function(){return'""'}}},[Zn.UrlEmpty]:{types:[er.STRING],vectors:{content:[Zn.Any]},cases:{$true:function(e){return'"http://yahoo.com"'},false:function(){return'"asdf@afsdfdd@asdf@.com"'},$empty:function(){return'""'}}},[Zn.Empty]:{types:[er.STRING],vectors:{content:[Zn.Any],length:!0},cases:{false:function(){return'"asdf"'},$empty:function(){return'""'}}},[Zn.NotEmpty]:{types:[er.STRING],vectors:{content:[Zn.Any],length:!0},cases:{$false:function(){return'"asdf"'},empty:function(){return'""'}}},[Zn.NumericOnly]:{vectors:{content:[Zn.Numeric]},types:[er.STRING],cases:{$true:function(e){return'"1234"'},false:function(){return'"asdf@ afsdfdd@asdf@.com"'},empty:function(){return'""'}}},[Zn.Numeric]:{vectors:{content:[Zn.AlphaNumericPuncLike]},types:[er.STRING],cases:{$true:function(e){return'"1234.34"'},false:function(){return'"12QW"'},empty:function(){return'""'}}},[Zn.AlphaNumericPuncLike]:{vectors:{content:[Zn.Any]},types:[er.STRING],cases:{$true:function(e){return'"httas21df.!@#$ #$%^^&*^&*()aom"'},empty:function(){return'""'}}},[Zn.AlphaNumericLike]:{vectors:{content:[Zn.AlphaNumericPuncLike]},types:[er.STRING],cases:{$true:function(e){return'"httas21dfaom"'},false:function(){return'"asdf@ afsdfdd@asdf@.com"'},$empty:function(){return'""'}}},[Zn.AlphaOnly]:{types:[er.STRING],vectors:{content:[Zn.AlphaOnlyWithSpaces]},cases:{$true:function(e){return'"httasdfaom"'},false:function(){return'"asdf@ afsdfdd@asdf12f@.com"'},empty:function(){return'""'}}},[Zn.AlphaOnlyWithSpaces]:{types:[er.STRING],vectors:{content:[Zn.AlphaNumericPuncLike]},cases:{$true:function(e){return'"httas dfaom"'},$false:function(){return'"asdf@ afsdfdd@asdf12f@.com"'},empty:function(){return'""'}}},[Zn.IsTrue]:{types:[er.BOOLEAN],vectors:{value:[Zn.Any]},cases:{$true:function(){return"true"},false:function(){return"false"}}},[Zn.IsFalse]:{types:[er.BOOLEAN],vectors:{value:[Zn.Any]},cases:{true:function(){return"true"},$false:function(){return"false"}}},[Zn.GreaterThanOrEqualTo]:{types:[er.DOUBLE,er.FLOAT,er.INT],vectors:{value:{[Zn.GreaterThan]:function(e,t){},[Zn.GreaterThanOrEqualTo]:function(e,t){},[Zn.EqualTo]:function(e,t){},[Zn.LessThan]:function(e,t){},[Zn.LessThanOrEqualTo]:function(e,t){}}},cases:{$greater:function(){return" >= "},notgreater:function(){return" >= "}}},[Zn.GreaterThan]:{types:[er.DOUBLE,er.FLOAT,er.INT],vectors:{value:{[Zn.GreaterThan]:function(e,t){},[Zn.GreaterThanOrEqualTo]:function(e,t){},[Zn.EqualTo]:function(e,t){},[Zn.LessThan]:function(e,t){},[Zn.LessThanOrEqualTo]:function(e,t){}}},cases:{$greater:function(){return" > "},notgreater:function(){return" > "}}},[Zn.LessThan]:{types:[er.DOUBLE,er.FLOAT,er.INT],vectors:{value:{[Zn.GreaterThan]:function(e,t){},[Zn.GreaterThanOrEqualTo]:function(e,t){},[Zn.EqualTo]:function(e,t){},[Zn.LessThan]:function(e,t){},[Zn.LessThanOrEqualTo]:function(e,t){}}},cases:{$less:function(){return" < "},notless:function(){return" < "}}},[Zn.EqualTo]:{types:[er.DOUBLE,er.FLOAT,er.INT],vectors:{value:{[Zn.GreaterThan]:function(e,t){},[Zn.GreaterThanOrEqualTo]:function(e,t){},[Zn.EqualTo]:function(e,t){},[Zn.LessThan]:function(e,t){},[Zn.LessThanOrEqualTo]:function(e,t){}}},cases:{$equal_to:function(){return" = "},not_equal:function(){return" = "}}}};Object.keys(sr).map(e=>{sr[e].id=e});const lr={ModelReference:"model-reference",Copy:"copy",AgentReference:"agent-reference"},pr={[lr.ModelReference]:{code:{[nr.CSHARP]:"ModelReference"},arguments:{...ar,nodeType:Ln.Model,reference:{types:[Ln.Model]}}},[lr.AgentReference]:{code:{[nr.CSHARP]:"AgentReference"},arguments:{...ar,nodeType:Ln.Model,reference:{types:[Ln.Model]}}},[lr.Copy]:{code:{[nr.CSHARP]:"copy"},arguments:{...ar}}};Object.keys(pr).map(e=>{pr[e].type=e});const ur={EqualsTrue:"equals-true",EqualsFalse:"equals-false"},cr={[ur.EqualsTrue]:{code:{[nr.CSHARP]:"EqualsTrue"},arguments:{...ar,type:er.BOOLEAN}},[ur.EqualsFalse]:{code:{[nr.CSHARP]:"EqualsFalse"},arguments:{...ar,type:er.BOOLEAN}}};Object.keys(cr).map(e=>{cr[e].type=e});const dr={[Zn.OneOf]:{code:{[nr.CSHARP]:"OneOfAttribute"},arguments:{...ar,nodeType:Ln.Enumeration,reference:{types:[Ln.Enumeration,Ln.ExtensionType]}}},[Zn.SocialSecurity]:{code:{[nr.CSHARP]:"SocialSecurityAttribute"},arguments:{...ar}},[Zn.Zip]:{code:{[nr.CSHARP]:"ZipAttribute"},arguments:{...ar}},[Zn.ZipEmpty]:{code:{[nr.CSHARP]:"ZipEmptyAttribute"},arguments:{...ar}},[Zn.PastDate]:{code:{[nr.CSHARP]:"PastDateAttribute"},arguments:{...ir}},[Zn.BeforeNow]:{code:{[nr.CSHARP]:"BeforeNowAttribute"},arguments:{...ir}},[Zn.Email]:{code:{[nr.CSHARP]:"EmailAttribute"},arguments:{...ar}},[Zn.Credit]:{code:{[nr.CSHARP]:"CreditCardAttribute"},arguments:{...ar}},[Zn.EmailEmpty]:{code:{[nr.CSHARP]:"EmailEmptyAttribute"},arguments:{...ar}},[Zn.Url]:{code:{[nr.CSHARP]:"UrlAttribute"},arguments:{...ar}},[Zn.UrlEmpty]:{code:{[nr.CSHARP]:"UrlEmptyAttribute"},arguments:{...ar}},[Zn.AlphaNumericLike]:{code:{[nr.CSHARP]:"AlphaNumericLikeAttribute"},arguments:{...ar}},[Zn.AlphaOnly]:{code:{[nr.CSHARP]:"AlphaOnlyAttribute"},arguments:{...ar}},[Zn.AlphaOnlyWithSpaces]:{code:{[nr.CSHARP]:"NotEmptyAttribute"},arguments:{...ar}}};Object.keys(dr).map(e=>{dr[e].type=e});var fr=n("fs"),hr=n.n(fr);const mr={Create_ManyToMany_Agent_Value__IListChild:"Create/ManyToMany/Agent/Value => IList<Child>",Update_ManyToMany_Agent_Value__IListChild:"Update/ManyToMany/Agent/Value => IList<Child>",Get_ManyToMany_Agent_Value__IListChild:"Get/ManyToMany/Agent/Value => IList<Child>",Delete_ManyToMany_Agent_Value__IListChild:"Delete/ManyToMany/Agent/Value => IList<Child>",Create_Parent$Child_Agent_Value__IListChild:"Create/Parent-Child/Agent/Value => IList<Child>",Update_Parent$Child_Agent_Value__IListChild:"Update/Parent-Child/Agent/Value => IList<Child>",Get_Parent$Child_Agent_Value__IListChild:"Get/Parent-Child/Agent/Value => IList<Child>",Delete_Parent$Child_Agent_Value__IListChild:"Delete/Parent-Child/Agent/Value => IList<Child>",Create_Object_Agent_Value__IListObject:"Create/Object/Agent/Value => IList<Object>",Update_Object_Agent_Value__IListObject:"Update/Object/Agent/Value => IList<Object>",Get_Object_Agent_Value__IListObject:"Get/Object/Agent/Value => IList<Object>",Delete_Object_Agent_Value__IListObject:"Delete/Object/Agent/Value => IList<Object>",Create_Parent_Child_Agent_Value__Child:"Create/Parent-Child/Agent/Value => Child",Update_Parent_Child_Agent_Value__Child:"Update/Parent-Child/Agent/Value => Child",Get_Parent_Child_Agent_Value__Child:"Get/Parent-Child/Agent/Value => Child",Delete_Parent_Child_Agent_Value__Child:"Delete/Parent-Child/Agent/Value => Child",Create_Object_Agent_Value__Object:"Create/Object/Agent/Value => Object",Update_Object_Agent_Value__Object:"Update/Object/Agent/Value => Object",Get_Object_Agent_Value__Object:"Get/Object/Agent/Value => Object",Delete_Object_Agent_Value__Object:"Delete/Object/Agent/Value => Object",Can_Execute_Agent_Parent_In_Valid_List:"Can_Execute_Agent_Parent_In_Valid_List"},yr={Model:"model",Bool:"bool",CanExecute:"can-execute",ModelDeterminingProperty:"model-determining-property",AgentDeterminingProperty:"agent-determining-property",Property:"property",Parent:"parent",AgentInstance:"agent_instance",Agent:"agent",AgentType:"agent_type",User:"user",ManyToManyModel:"many_to_many",Permission:"permission",UserInstance:"user_instance",ModelFilter:"model_filter",Value:"value"},_r={IsAgent:"isAgent",IsUser:"isUser",IsTypeOf:"isTypeOf",IsParent:"isParent",IsChild:"isChild",IsList:"isList",IsSingleLink:"$single$link",IsModel:"isModel",IsFunction:"isFunction",IsProperty:"isProperty",IsEnumerable:"isEnumerable",IsInstanceVariable:"isInstanceVariable",IsInputVariable:"isInputVariable"},vr={[yr.CanExecute]:{[_r.IsSingleLink]:!0,[_r.IsFunction]:!0,key:yr.CanExecute},[yr.Model]:{[_r.IsChild]:yr.Parent,[_r.IsSingleLink]:!0,[_r.IsModel]:!0,key:yr.Model},[yr.ModelDeterminingProperty]:{[_r.IsChild]:yr.Model,[_r.IsSingleLink]:!0,[_r.IsProperty]:!0,key:yr.ModelDeterminingProperty},[yr.Parent]:{[_r.IsParent]:yr.Model,[_r.IsSingleLink]:!0,[_r.IsModel]:!0,key:yr.Parent},[yr.AgentType]:{[_r.IsAgent]:!0,[_r.IsSingleLink]:!0,[_r.IsModel]:!0,key:yr.AgentType},[yr.User]:{[_r.IsUser]:!0,[_r.IsSingleLink]:!0,[_r.IsModel]:!0,key:yr.User},[yr.UserInstance]:{[_r.IsTypeOf]:yr.User,[_r.IsSingleLink]:!0,key:yr.UserInstance,[_r.IsInstanceVariable]:!0,[_r.IsInputVariable]:!0},[yr.Value]:{[_r.IsTypeOf]:yr.Model,[_r.IsSingleLink]:!0,key:yr.Value,[_r.IsInstanceVariable]:!0,[_r.IsInputVariable]:!0}},gr={[yr.Model]:{[_r.IsSingleLink]:!0,[_r.IsModel]:!0,key:yr.Model},[yr.AgentType]:{[_r.IsAgent]:!0,[_r.IsSingleLink]:!0,[_r.IsModel]:!0,key:yr.AgentType},[yr.User]:{[_r.IsUser]:!0,[_r.IsSingleLink]:!0,[_r.IsModel]:!0,key:yr.User},[yr.UserInstance]:{[_r.IsTypeOf]:yr.User,[_r.IsSingleLink]:!0,key:yr.UserInstance,[_r.IsInstanceVariable]:!0,[_r.IsInputVariable]:!0},[yr.Value]:{[_r.IsTypeOf]:yr.Model,[_r.IsSingleLink]:!0,key:yr.Value,[_r.IsInstanceVariable]:!0,[_r.IsInputVariable]:!0}},br={[yr.Model]:{key:yr.Model,nodeTypes:[Ln.Model]},[yr.Agent]:{[Fn.IsAgent]:!0,key:yr.Agent,nodeTypes:[Ln.Model]},[yr.User]:{[Fn.IsUser]:!0,key:yr.User,nodeTypes:[Ln.Model]},[yr.Permission]:{key:yr.Permission,nodeTypes:[Ln.Permission]},[yr.ModelFilter]:{key:yr.ModelFilter,nodeTypes:[Ln.ModelFilter]}},Cr={[yr.Model]:{key:yr.Model,nodeTypes:[Ln.Model]},[yr.Parent]:{key:yr.Parent,nodeTypes:[Ln.Model]},[yr.Property]:{key:yr.Property,nodeTypes:[Ln.Property]},[yr.Agent]:{[Fn.IsAgent]:!0,key:yr.Agent,nodeTypes:[Ln.Model]},[yr.User]:{[Fn.IsUser]:!0,key:yr.User,nodeTypes:[Ln.Model]},[yr.Permission]:{key:yr.Permission,nodeTypes:[Ln.Permission]},[yr.ManyToManyModel]:{[Fn.ManyToManyNexus]:!0,key:yr.ManyToManyModel,nodeTypes:[Ln.Model]},[yr.ModelFilter]:{key:yr.ModelFilter,nodeTypes:[Ln.ModelFilter]}},Er={[yr.Model]:{key:yr.Model,nodeTypes:[Ln.Model]},[yr.Parent]:{key:yr.Parent,nodeTypes:[Ln.Model]},[yr.Agent]:{[Fn.IsAgent]:!0,key:yr.Agent,nodeTypes:[Ln.Model]},[yr.User]:{[Fn.IsUser]:!0,key:yr.User,nodeTypes:[Ln.Model]},[yr.ManyToManyModel]:{[Fn.ManyToManyNexus]:!0,key:yr.ManyToManyModel,nodeTypes:[Ln.Model]},[yr.Permission]:{key:yr.Permission,nodeTypes:[Ln.Permission]},[yr.ModelFilter]:{key:yr.ModelFilter,nodeTypes:[Ln.ModelFilter]}},Nr={[_r.IsTypeOf]:yr.Model,[_r.IsList]:!0},Or={[_r.IsTypeOf]:yr.Bool},kr={METHODS:"methods",PARAMETERS:"parameters",PARAMETERSCLASS:"Parameters",CHANGECLASS:"Change",RESPONSECLASS:"Response",STREAMPROCESS:"StreamProcess",DETERMINING_PROPERTY:"determining_property",PARENTS_ID_PROPERTY:"parentIdProperty",MODEL:"model",CONSTRUCTORS:"constructors",TEMPLATE:"template",INTERFACE:"interface",PARENT:"parent",PROPERTY:"property",METHOD:{CREATE:"Create",UPDATE:"Update",PROCESS:"Process"}},Sr={CLASSES:"classes"},Ir={[Sr.CLASSES]:{[kr.PARAMETERSCLASS]:{[kr.TEMPLATE]:hr.a.readFileSync("./app/templates/stream_process/stream_process_parameter_class.tpl","utf-8"),[kr.CONSTRUCTORS]:hr.a.readFileSync("./app/templates/stream_process/stream_process_parameter_class.tpl","utf-8"),[kr.MODEL]:yr.Model,[kr.METHODS]:{[kr.METHOD.CREATE]:{[kr.PARAMETERS]:[yr.AgentType,yr.Model]},[kr.METHOD.UPDATE]:{[kr.PARAMETERS]:[yr.AgentType,yr.Model]}}},[kr.CHANGECLASS]:{[kr.TEMPLATE]:hr.a.readFileSync("./app/templates/stream_process/stream_process_change_class.tpl","utf-8"),[kr.CONSTRUCTORS]:hr.a.readFileSync("./app/templates/stream_process/stream_process_change_class.tpl","utf-8"),[kr.MODEL]:yr.Model,[kr.METHODS]:{[kr.METHOD.CREATE]:{[kr.PARAMETERS]:[kr.PARAMETERSCLASS]}}},[kr.RESPONSECLASS]:{[kr.MODEL]:yr.Model,[kr.METHODS]:{[kr.METHOD.CREATE]:{[kr.PARAMETERS]:[kr.PARAMETERSCLASS]}}}},attachment_methods:{[kr.STREAMPROCESS]:{[kr.MODEL]:yr.Model,[kr.METHODS]:{[kr.METHOD.PROCESS]:{[kr.PARAMETERS]:[kr.CHANGECLASS]}}}},propreties:{[kr.DETERMINING_PROPERTY]:{[kr.MODEL]:yr.Model,[kr.PROPERTY]:yr.Property}}};function Lr(e){return`I${e}`}const Tr={POST:"HttpPost",GET:"HttpGet",DELETE:"HttpDelete",PATCH:"HttpPatch"},Mr={model:"model",function_name:"function_name",user:"user",user_instance:"user_instance",value:"value",agent:"agent",agent_type:"agent_type"},Ar={[mr.Create_Object_Agent_Value__IListObject]:{title:"Create Object by Agent => IList<Object>",template:hr.a.readFileSync("./app/templates/standard/create_model_agent_listobject.tpl","utf-8"),interface:hr.a.readFileSync("./app/templates/standard/create_model_agent_listobject_interface.tpl","utf-8"),constraints:{...gr},output:{...Nr},isList:!0,method:Jn.Create,template_keys:{...Mr}},[mr.Update_Object_Agent_Value__IListObject]:{title:"Update Object by Agent => IList<Object>",template:hr.a.readFileSync("./app/templates/standard/update_model_agent_listobject.tpl","utf-8"),interface:hr.a.readFileSync("./app/templates/standard/update_model_agent_listobject_interface.tpl","utf-8"),constraints:{...gr},output:{...Nr},isList:!0,method:Jn.Update,template_keys:{...Mr}},[mr.Delete_Object_Agent_Value__IListObject]:{title:"Delete Object by Agent => IList<Object>",template:hr.a.readFileSync("./app/templates/standard/delete_model_agent_listobject.tpl","utf-8"),interface:hr.a.readFileSync("./app/templates/standard/delete_model_agent_listobject_interface.tpl","utf-8"),constraints:{...gr},output:{...Nr},isList:!0,method:Jn.Delete,template_keys:{...Mr}},[mr.Get_Object_Agent_Value__IListObject]:{title:"Get Object by Agent => IList<Object>",template:hr.a.readFileSync("./app/templates/standard/get_model_agent_listobject.tpl","utf-8"),interface:hr.a.readFileSync("./app/templates/standard/get_model_agent_listobject_interface.tpl","utf-8"),constraints:{...gr},output:{...Nr},isList:!0,method:Jn.GetAll,template_keys:{...Mr}},[mr.Create_Parent$Child_Agent_Value__IListChild]:{title:"Create Parent/Child => IList<Child>",template:hr.a.readFileSync("./app/templates/create_agent_childparent_listchild.tpl","utf-8"),interface:hr.a.readFileSync("./app/templates/create_agent_childparent_listchild_interface.tpl","utf-8"),constraints:{...vr},output:{...Nr},isList:!0,method:Jn.Create,...Ir,template_keys:{...Mr}},[mr.Update_Parent$Child_Agent_Value__IListChild]:{title:"Update Parent/Child => IList<Child>",template:hr.a.readFileSync("./app/templates/update_agent_childparent_listchild.tpl","utf-8"),interface:hr.a.readFileSync("./app/templates/update_agent_childparent_listchild_interface.tpl","utf-8"),constraints:{...vr},output:{...Nr},isList:!0,method:Jn.Update,...Ir,template_keys:{...Mr}},[mr.Get_Parent$Child_Agent_Value__IListChild]:{title:"Get Parent/Child => IList<Child>",template:hr.a.readFileSync("./app/templates/get_agent_childparent_listchild.tpl","utf-8"),template:hr.a.readFileSync("./app/templates/get_agent_childparent_listchild_interface.tpl","utf-8"),constraints:{...vr},output:{...Nr},isList:!0,method:Jn.GetAll,...Ir,template_keys:{...Mr}},[mr.Can_Execute_Agent_Parent_In_Valid_List]:{title:"Can Execute Agent Parent In Valid List",template:hr.a.readFileSync("./app/templates/can_execute/can_execute_childparent_valid_list.tpl","utf-8"),constraints:{[yr.AgentType]:{[_r.IsAgent]:!0,[_r.IsSingleLink]:!0,[_r.IsModel]:!0,key:yr.AgentType},[yr.AgentDeterminingProperty]:{[_r.IsChild]:yr.AgentType,[_r.IsSingleLink]:!0,[_r.IsProperty]:!0,key:yr.AgentDeterminingProperty},[yr.Model]:{[_r.IsSingleLink]:!0,[_r.IsModel]:!0,key:yr.Model},[yr.ModelDeterminingProperty]:{[_r.IsChild]:yr.Model,[_r.IsSingleLink]:!0,[_r.IsProperty]:!0,[_r.IsEnumerable]:!0,key:yr.ModelDeterminingProperty},[yr.AgentInstance]:{[_r.IsTypeOf]:yr.AgentType,[_r.IsSingleLink]:!0,key:yr.AgentInstance,[_r.IsInstanceVariable]:!0,[_r.IsInputVariable]:!0},[yr.Value]:{[_r.IsTypeOf]:yr.Model,[_r.IsSingleLink]:!0,key:yr.Value,[_r.IsInstanceVariable]:!0,[_r.IsInputVariable]:!0}},output:{...Or},[Sr.CLASSES]:{},attachment_methods:{},propreties:{},template_keys:{...Mr}}},wr={[mr.Create_Object_Agent_Value__IListObject]:{title:"Create Object by Agent => IList<Object>",template:hr.a.readFileSync("./app/templates/standard/create_model_agent_listobject.tpl","utf-8"),interface:hr.a.readFileSync("./app/templates/standard/create_model_agent_listobject_interface.tpl","utf-8"),constraints:{...br},output:{...Nr},isList:!0,method:Jn.Create,template_keys:{...Mr}},[mr.Update_Object_Agent_Value__IListObject]:{title:"Update Object by Agent => IList<Object>",template:hr.a.readFileSync("./app/templates/standard/update_model_agent_listobject.tpl","utf-8"),interface:hr.a.readFileSync("./app/templates/standard/update_model_agent_listobject_interface.tpl","utf-8"),constraints:{...br},output:{...Nr},isList:!0,method:Jn.Update,template_keys:{...Mr}},[mr.Delete_Object_Agent_Value__IListObject]:{title:"Delete Object by Agent => IList<Object>",template:hr.a.readFileSync("./app/templates/standard/delete_model_agent_listobject.tpl","utf-8"),interface:hr.a.readFileSync("./app/templates/standard/delete_model_agent_listobject_interface.tpl","utf-8"),constraints:{...br},output:{...Nr},isList:!0,method:Jn.Delete,template_keys:{...Mr}},[mr.Get_Object_Agent_Value__IListObject]:{title:"Get Object by Agent => IList<Object>",template:hr.a.readFileSync("./app/templates/standard/get_model_agent_listobject.tpl","utf-8"),interface:hr.a.readFileSync("./app/templates/standard/get_model_agent_listobject_interface.tpl","utf-8"),constraints:{...br},output:{...Nr},isList:!0,method:Jn.GetAll,template_keys:{...Mr}},[mr.Create_Parent$Child_Agent_Value__IListChild]:{title:"Create Parent/Child => IList<Child>",template:hr.a.readFileSync("./app/templates/create_agent_childparent_listchild.tpl","utf-8"),interface:hr.a.readFileSync("./app/templates/create_agent_childparent_listchild_interface.tpl","utf-8"),constraints:{...Cr},output:{...Nr},isList:!0,method:Jn.Create,...Ir,template_keys:{...Mr}},[mr.Update_Parent$Child_Agent_Value__IListChild]:{title:"Update Parent/Child => IList<Child>",template:hr.a.readFileSync("./app/templates/update_agent_childparent_listchild.tpl","utf-8"),interface:hr.a.readFileSync("./app/templates/update_agent_childparent_listchild_interface.tpl","utf-8"),constraints:{...Cr},output:{...Nr},isList:!0,method:Jn.Update,...Ir,template_keys:{...Mr}},[mr.Get_Parent$Child_Agent_Value__IListChild]:{title:"Get Parent/Child => IList<Child>",template:hr.a.readFileSync("./app/templates/get_agent_childparent_listchild.tpl","utf-8"),interface:hr.a.readFileSync("./app/templates/get_agent_childparent_listchild_interface.tpl","utf-8"),constraints:{...Cr},output:{...Nr},isList:!0,parentGet:!0,method:Jn.GetAll,...Ir,template_keys:{...Mr}},[mr.Get_ManyToMany_Agent_Value__IListChild]:{title:"Get Many to Many => IList<Child>",template:hr.a.readFileSync("./app/templates/standard/get_agent_manytomany_listchild.tpl","utf-8"),interface:hr.a.readFileSync("./app/templates/standard/get_agent_manytomany_listchild_interface.tpl","utf-8"),constraints:{...Er},output:{...Nr},parentGet:!0,isList:!0,method:Jn.GetAll,template_keys:{...Mr}},[mr.Create_ManyToMany_Agent_Value__IListChild]:{title:"Create Many to Many => IList<Child>",template:hr.a.readFileSync("./app/templates/standard/create_agent_manytomany_listchild.tpl","utf-8"),interface:hr.a.readFileSync("./app/templates/standard/create_agent_manytomany_listchild_interface.tpl","utf-8"),constraints:{...Er},output:{...Nr},isList:!0,method:Jn.Create,...Ir,template_keys:{...Mr}},[mr.Update_ManyToMany_Agent_Value__IListChild]:{title:"Update Many to Many => IList<Child>",template:hr.a.readFileSync("./app/templates/standard/update_agent_manytomany_listchild.tpl","utf-8"),interface:hr.a.readFileSync("./app/templates/standard/update_agent_manytomany_listchild_interface.tpl","utf-8"),constraints:{...Er},output:{...Nr},isList:!0,method:Jn.Update,...Ir,template_keys:{...Mr}},[mr.Can_Execute_Agent_Parent_In_Valid_List]:{title:"Can Execute Agent Parent In Valid List",template:hr.a.readFileSync("./app/templates/can_execute/can_execute_childparent_valid_list.tpl","utf-8"),constraints:{[yr.AgentType]:{[_r.IsAgent]:!0,[_r.IsSingleLink]:!0,[_r.IsModel]:!0,key:yr.AgentType},[yr.AgentDeterminingProperty]:{[_r.IsChild]:yr.AgentType,[_r.IsSingleLink]:!0,[_r.IsProperty]:!0,key:yr.AgentDeterminingProperty},[yr.Model]:{[_r.IsSingleLink]:!0,[_r.IsModel]:!0,key:yr.Model},[yr.ModelDeterminingProperty]:{[_r.IsChild]:yr.Model,[_r.IsSingleLink]:!0,[_r.IsProperty]:!0,[_r.IsEnumerable]:!0,key:yr.ModelDeterminingProperty},[yr.AgentInstance]:{[_r.IsTypeOf]:yr.AgentType,[_r.IsSingleLink]:!0,key:yr.AgentInstance,[_r.IsInstanceVariable]:!0,[_r.IsInputVariable]:!0},[yr.Value]:{[_r.IsTypeOf]:yr.Model,[_r.IsSingleLink]:!0,key:yr.Value,[_r.IsInstanceVariable]:!0,[_r.IsInputVariable]:!0}},output:{...Or},[Sr.CLASSES]:{},attachment_methods:{},propreties:{},template_keys:{...Mr}}},xr={InEnumerable:"in-enumeration",InExtension:"in-extension",MatchReference:"match-reference",MatchManyReferenceParameter:"match-many-reference-parameter"},Pr={[xr.MatchReference]:{$matching:!0,notmatching:!1},[xr.MatchManyReferenceParameter]:{$matching:!0,notmatching:!1}},jr={RefManyToMany:"refManyToMany",RefManyToManyProperty:"refManyToManyProperty",Ref1:"ref1",Ref2:"ref2",Ref1UseId:"ref1UseId",Ref2UseId:"ref2UseId",Ref1Property:"ref1Property"},Rr={IsFalse:"is-false",IsTrue:"is-true"},$r={[xr.MatchReference]:{},[xr.MatchManyReferenceParameter]:{},[xr.InEnumerable]:{}};Object.keys(wr).map(e=>{wr[e].constraints&&($r[xr.MatchReference].functions=$r[xr.MatchReference].functions||{},$r[xr.MatchReference].functions[e]={constraints:{...wr[e].constraints}},$r[xr.MatchManyReferenceParameter].functions=$r[xr.MatchManyReferenceParameter].functions||{},$r[xr.MatchManyReferenceParameter].functions[e]={constraints:{...wr[e].constraints}},$r[xr.InEnumerable].functions=$r[xr.InEnumerable].functions||{},$r[xr.InEnumerable].functions[e]={constraints:{...wr[e].constraints}})});function Dr(e,t){if(new RegExp("({{)[A-Za-z0-9_.@ ,'|]*(}})","g").test(e))for(var n in t){var r=new RegExp("({{)"+n+"(}})","g"),o=t[n];e=e.replace(r,null==o?"":o)}return e}function Gr(){return{id:_(),version:{major:0,minor:0,build:0},workspace:"",title:On,path:[],namespace:"",groups:[],groupLib:{},groupsNodes:{},nodesGroups:{},childGroups:{},parentGroup:{},referenceNodes:{},nodeLib:{},nodes:[],nodeLinks:{},nodeConnections:{},linkLib:{},links:[],graphs:{},classNodes:{},functionNodes:{},updated:null,visibleNodes:{},appConfig:{Logging:{IncludeScopes:!1,LogLevel:{Default:"Debug",System:"Information",Microsoft:"Information"}},AppSettings:{"Local-AuthorizationKey":"C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==","Local-EndPointUrl":"https://localhost:8081",use_local:"true",EndPointUrl:"",AuthorizationKey:"",DatabaseId:"red-db-001",AssemblyPrefixes:"Smash;RedQuick","Use-SingleCollection":"true","storage-key":"UseDevelopmentStorage=true","single-thread":!0,ConfirmEmailController:"Account",ConfirmEmailAction:"ConfirmEmail",HomeAction:"Index",HomeController:"Home",ResetPasswordAction:"ResetPassword",ResetPasswordController:"Account",SecurityKey:"ajskdflajsdfklas20klasdkfj9laksdjfl4aksdjf3kanvdlnaekf",Domain:"https://localhost:13424",TokenExpirationInMinutes:"250",DomainPort:"13424"}}}}const Ur={NAMESPACE:"namespace",SERVER_SIDE_SETUP:"server_side_setup"};function Fr(e){return e.version.build++,e}function Vr(e,t){var{scope:n}=t;return n&&n.length&&(console.log(n),n.map((t,n)=>{e=e.graphs[t]})),e}function Hr(e,t){let n=Ho(),r=ro(e,n);return t&&t(n),r}function Br(e,t){var{leaf:n,id:r}=t;let o=e.groupLib[r].leaves||[];return o=[...o,n].unique(e=>e),e.groupsNodes[r]=e.groupsNodes[r]||{},e.groupsNodes[r][n]=!0,e.groupsNodes={...e.groupsNodes},e.nodesGroups[n]=e.nodesGroups[n]||{},e.nodesGroups[n][r]=!0,e.nodesGroups={...e.nodesGroups},e.groupLib[r].leaves=o,e}function qr(e,t){let{groupId:n,id:r}=t,o=e.groupLib[r],i=o.groups||[];return o.groups=[...i,n].unique(e=>e),e.groupLib[r]=o,e.groupLib={...e.groupLib},e.childGroups[r]=e.childGroups[r]||{},e.childGroups[r][n]=!0,e.parentGroup[n]=e.parentGroup[n]||{},e.parentGroup[n][r]=!0,e}function Wr(e,t){let{groupId:n,id:r}=t,o=e.groupLib[r];return o.groups=[...o.groups.filter(e=>e!==n)],e.groupLib[r]={...o},e.childGroups&&(e.childGroups[r]&&(delete e.childGroups[r][n],Object.keys(e.childGroups[r]).length||delete e.childGroups[r]),e.parentGroup[n]&&(delete e.parentGroup[n][r],Object.keys(e.parentGroup[n]).length||delete e.childGroups[n])),e}function Yr(e,t){var{id:n}=t;for(let t in e.groupsNodes[n])e.nodesGroups[t]&&(delete e.nodesGroups[t][n],0===Object.keys(e.nodesGroups[t]).length&&delete e.nodesGroups[t]);for(let t in e.childGroups[n])e.parentGroup[t]&&(delete e.parentGroup[t][n],0===Object.keys(e.parentGroup[t]).length&&delete e.parentGroup[t]);return e.groups=[...e.groups.filter(e=>e!==n)],delete e.groupLib[n],delete e.childGroups[n],delete e.groupsNodes[n],e}function zr(){return{properties:{}}}const Xr=zr;function Qr(e,t){return e.properties[t.id]=e.properties[t.id]||{validators:{}},t.validator&&(e.properties[t.id].validators[t.validator]=t.validatorArgs),e}function Kr(e,t){return delete e.properties[t.id],e}function Jr(e,t){var{property:n,validator:r}=t;return e.properties[n].validators[r]}function Zr(e){return e?e.properties:null}function eo(e,t={}){let{id:n}=t,r=ko(e,{exist:!0,id:n,direction:Lo,type:zn.Exist});return(e=function(e,t){let{id:n}=t,r=[];e.nodesGroups[n]&&(r=Object.keys(e.nodesGroups[n])).map(t=>{e=function(e,t){var{leaf:n,id:r}=t;let o=e.groupLib[r];if(o){let t=o.leaves||[];t=[...t.filter(e=>e!==n)],e.groupLib[r].leaves=t}return e.groupsNodes[r]&&(e.groupsNodes[r][n]&&delete e.groupsNodes[r][n],0===Object.keys(e.groupsNodes[r]).length&&(delete e.groupsNodes[r],e.groups=[...e.groups.filter(e=>e!==r)],delete e.groupLib[r]),e.groupsNodes={...e.groupsNodes}),e.nodesGroups[n]&&(e.nodesGroups[n][r]&&delete e.nodesGroups[n][r],0===Object.keys(e.nodesGroups[n]).length&&delete e.nodesGroups[n],e.nodesGroups={...e.nodesGroups}),e}(e,{leaf:n,id:t})});e.groupsNodes&&r.map(t=>{e.groupsNodes[t]&&(e.groupsNodes[t][n]&&delete e.groupsNodes[t][n],0===Object.keys(e.groupsNodes[t]).length&&delete e.groupsNodes[t]),e=function e(t,n){var{id:r,callback:o}=n;var i=!0;if(t.childGroups[r])for(var a in t.childGroups[r]){delete(t=e(t,{id:a,callback:e=>{e,i=i&&e}})).childGroups[r][a]}if(i){if((!t.groupLib[r]||!t.groupLib[r].leaves||!t.groupLib[r].leaves.length)&&(!t.groupLib[r]||!t.groupLib[r].groups||!t.groupLib[r].groups.length)&&(delete t.groupLib[r],t.groups=[...t.groups.filter(e=>e!==r)],delete t.childGroups[r],t.parentGroup[r])){for(var a in t.parentGroup[r])t=Wr(t,{groupId:r,id:a}),(t=e(t,{id:a})).childGroups[a]&&delete t.childGroups[a][r];delete t.parentGroup[r]}}else o&&o(!1);return t}(e,{id:t})});return e}(e=function(e,t){let{id:n}=t,r=function(e,t){return e.links.filter(n=>e.linkLib[n].source===t||e.linkLib[n].target===t)}(e,n);for(let t=0;t<r.length;t++){let n=r[t];e=Go(e,n)}return e}(e=Fr(e),t),t)).functionNodes&&e.functionNodes[n]&&(delete e.functionNodes[n],e.functionNodes={...e.functionNodes}),e.classNodes&&e.classNodes[n]&&(delete e.classNodes[n],e.classNodes={...e.classNodes}),delete e.nodeLib[n],e.nodeLib={...e.nodeLib},e.nodes=[...e.nodes.filter(e=>e!==n)],r&&r.map(t=>{e=eo(e,{id:t.id})}),e}function to(e,t){return e&&t&&t.length?so(e,Ln.Model).filter(e=>_i(e,Fn.ManyToManyNexus)).filter(e=>!(t||[]).some(t=>-1!==(_i(e,Fn.ManyToManyNexusTypes)||[]).indexOf(t))):[]}function no(e,t){return e.nodeLib[t.id]=t,e.nodeLib={...e.nodeLib},e.nodes=[...e.nodes,t.id],e=Fr(e={...e})}function ro(e,t){return e.groupLib[t.id]=t,e.groupLib={...e.groupLib},e.groups=[...e.groups,t.id].unique(e=>e),e={...e}}function oo(e,t,n,r){let{parent:o,linkProperties:i,groupProperties:a}=t,s=Bo(n);if(t.node&&(!function(e,t){t.node&&Object.apply(e.properties,JSON.parse(JSON.stringify(t.node.properties)))}(s,t),n===Ln.ReferenceNode&&t.rootNode&&(t.rootNode.referenceNodes[e.id]={...t.rootNode.referenceNodes[e.id]||{},[s.id]:t.node.id})),e=no(e,s),o&&(e=go(e,{source:o,target:s.id,properties:i?i.properties:null})),t.links&&t.links.map(t=>{e=go(e,{source:s.id,target:t.target,properties:t.linkProperties?t.linkProperties.properties:null})}),e=Uo(e,{id:s.id,prop:Fn.NODEType,value:n}),t.properties)for(var l in t.properties)e=Uo(e,{id:s.id,prop:l,value:t.properties[l]});return a&&(e=function(e,t){var{id:n,groupProperties:r,parent:o}=t,i=null;if(function(e,t){return!(!e.nodeLib[t]||!_i(e.nodeLib[t],Fn.Groups))}(e,o)){let t=_i(e.nodeLib[o],Fn.Groups);i=function(e,t){return e.groupLib[t]}(e,t.group)}else{var i=Ho(),a=_i((e=Br(e=Uo(e=ro(e,i),{id:o,value:{group:i.id},prop:Fn.Groups}),{leaf:o,id:i.id})).nodeLib[o],Fn.GroupParent);if(a&&e.groupLib[a]){var s=e.groupLib[a];if(s){var l=function e(t,n){var r=[];if(t.parentGroup[n])for(var o in t.parentGroup[n])r=[...r,...e(t,o)];return r}(e,s.id);e=qr(e,{id:s.id,groupId:i.id}),l.map(t=>{e=qr(e,{id:t,groupId:i.id})})}}}i&&(e=Uo(e=Br(e,{leaf:n,id:i.id}),{id:n,value:i.id,prop:Fn.GroupParent}));return e}(e,{id:s.id,groupProperties:a,parent:o})),r&&r(s),e}function io(e,t){return e&&e.nodeLib?e.nodeLib[t]:null}function ao(e){let t=e.functionNodes;if(t)for(let o in t){let t=io(e,o);if(t){var n=_i(t,Fn.FunctionType);if(n){var r=Ar[n];r&&(e=uo(e,{id:o,functionConstraints:r}))}}}return so(e,Ln.Validator).map(t=>{e=function(e,t){let n=_i(t,Fn.Validator);if(n){bo(e,{id:t.id});var r=Zr(n);Object.keys(r).map(n=>{e.nodeLinks[n]&&e.nodeLinks[n][t.id]})}return e}(e,t)}),e}function so(e,t,n={}){var r=e;return r?(Array.isArray(t)||(t=[t]),r.nodes.filter(e=>r.nodeLib[e].properties&&-1!==t.indexOf(r.nodeLib[e].properties[Fn.NODEType])||!n.excludeRefs&&r.nodeLib[e].properties[Fn.ReferenceType]===t).map(e=>r.nodeLib[e])):[]}function lo(e,t){return`${t}${e}`}function po(e,t){var{id:n,constraintKey:r}=t;return function(e,t){var{id:n,key:r}=t;if(e.nodeConnections[n])return Object.keys(e.nodeConnections[n]).map(t=>{let n=e.linkLib[t];return n}).filter(e=>e&&e.source===n&&e.properties&&e.properties.constraints&&e.properties.constraints.key===r);return[]}(e,{id:n,key:r}).map(t=>e.nodeLib[t.target])}function uo(e,t){var{id:n,functionConstraints:r}=t;if(e.nodeConnections[n]){let t=e.nodeLib[n];Object.keys(e.nodeConnections[n]).map(n=>{let{properties:o}=e.linkLib[n],i=e.linkLib[n];if(o){let{constraints:n}=o;n&&Object.keys(yr).map(o=>{let a=yr[o],s=r.constraints[a];if(s&&i&&i.properties&&i.properties.constraints&&i.properties.constraints.key&&i.properties.constraints.key===s.key){let r=mo.meets(s,n,i,t,e);e=Fo(e,{id:i.id,prop:Qn.VALID_CONSTRAINTS,value:!!r})}})}})}return e}function co(e,t){let{id:n,value:r}=t,o=Ar[r];if(o&&o.constraints){e.nodeConnections[n]&&ho(e,{id:n}).map(t=>{if(!function(e,t){return!!fo(e,t)}(Ci(t,Qn.CONSTRAINTS),o.constraints)){let n=function(e,t){if(e&&e.linkLib&&e.linkLib[t]){let n=e.linkLib[t].target;return e.nodeLib[n]}return null}(e,t.id);n?e=eo(e,{id:n.id}):console.warn("No nodes were removed as exepected")}});let t=null,r=null,s=null,l=e.nodeLib[n];var i=_i(l,Fn.Groups);if(i)for(let t in i)e=Yr(e,{id:i[t]});if(e.nodesGroups[n])for(let r in e.nodesGroups[n])switch(Ei(e.groupLib[r],Gn.FunctionGroup)){case Dn.Core:t=e.groupLib[r]}t||(e=Hr(e,n=>{t=n,e=Vo(e,{id:n.id,prop:Gn.FunctionGroup,value:Dn.Core})})),r||(e=Hr(e,t=>{r=t,e=Vo(e,{id:t.id,prop:Gn.FunctionGroup,value:Dn.Internal})})),s||(e=Hr(e,t=>{s=t,e=Vo(e,{id:t.id,prop:Gn.FunctionGroup,value:Dn.External})})),e.groupsNodes[s.id]&&e.groupsNodes[s.id][n]||(e=Br(e,{leaf:n,id:s.id})),e.childGroups[r.id]&&e.childGroups[r.id][s.id]||(e=qr(e,{groupId:r.id,id:s.id})),e.childGroups[t.id]&&e.childGroups[t.id][r.id]||(e=qr(e,{groupId:t.id,id:r.id}));var a=ho(e,{id:n}).map(e=>{return fo(Ci(e,Qn.CONSTRAINTS),o.constraints)});Object.keys(o.constraints).map(t=>{-1===a.indexOf(t)&&(e=oo(e,{parent:l.id,linkProperties:{properties:{type:zn.FunctionConstraintLink,constraints:{...o.constraints[t]}}}},Ln.Parameter,n=>{e=Uo(e,{id:n.id,prop:Fn.UIText,value:t})}))}),ho(e,{id:l.id}).map(n=>{let i=e.nodeLib[n.target];var a=Ci(n,Qn.CONSTRAINTS);e=a&&a.key&&o.constraints[a.key]&&o.constraints[a.key][_r.IsInputVariable]?Br(e,{leaf:i.id,id:r.id}):Br(e,{leaf:i.id,id:t.id})}),e.nodeConnections[n]&&Object.keys(e.nodeConnections[n]).map(t=>{let{properties:n}=e.linkLib[t],r=e.linkLib[t];if(n){let{constraints:t}=n;t&&Object.keys(yr).map(n=>{let i=yr[n],a=o.constraints[i];if(a&&r&&r.properties&&r.properties.constraints&&r.properties.constraints.key&&r.properties.constraints.key===a.key){let n=mo.meets(a,t,r,l,e);e=Fo(e,{id:r.id,prop:Qn.VALID_CONSTRAINTS,value:!!n})}})}}),e=Uo(e,{id:n,prop:Fn.Groups,value:{core:t.id,internal:r.id,external:s.id}})}return e}function fo(e,t){let n=JSON.stringify(e);return Object.keys(t).find(e=>JSON.stringify(t[e])===n)}function ho(e,t){let{id:n}=t;return e&&e.nodeConnections&&e.nodeConnections[n]?Object.keys(e.nodeConnections[n]).filter(t=>Ci(e.linkLib[t],Qn.TYPE)===zn.FunctionConstraintLink).map(t=>e.linkLib[t]):[]}const mo={meets:(e,t,n,r,o)=>{if(e){let t=o.nodeLib[n.target];return bo(o,{id:t.id}).find(t=>Object.keys(e).find(n=>{let i=!0;if(!1!==i){switch(n){case _r.IsAgent:t&&_i(t,Fn.IsAgent)||(i=!1);break;case _r.IsUser:t&&_i(t,Fn.IsUser)||(i=!1);break;case _r.IsTypeOf:if(!e[_r.IsInputVariable])if(t){let a=_i(t,Fn.NODEType),s=e[n],l=yo(r.id,o,s);if(l.length){0===l.filter(e=>{return _i(o.nodeLib[e.target],Fn.NODEType)!==a}).length&&(i=!1)}else i=!1}else i=!1;break;case _r.IsChild:case _r.IsParent:if(t){let a=e[n],s=yo(r.id,o,a);if(s){0===s.filter(e=>{let n=o.nodeLib[e.target],r=Co(o,{id:n.id});if(!r||!r.length)return!1;{let e=vo(o,{target:t.id,source:r[0].id});if(!e||Ci(e,Qn.TYPE)!==Kn.ParentLink.type)return!1}return!0}).length&&(i=!1)}else i=!1}else i=!1}return i}}))}return!1}};function yo(e,t,n){return Object.keys(t.nodeConnections[e]).filter(n=>t.nodeConnections[e][n]===Io).filter(e=>!!(e&&t.linkLib&&t.linkLib[e]&&t.linkLib[e].properties&&t.linkLib[e].properties.constraints&&t.linkLib[e].properties.constraints.key===n)&&t.linkLib[e]).map(e=>t.linkLib[e])}function _o(e,t,n){return e&&e.nodeConnections?Object.keys(e.nodeConnections[t]).filter(r=>!n||e.nodeConnections[t][r]===n).map(t=>e.linkLib[t]):[]}function vo(e,t){let{target:n,source:r}=t,o=e.links.find(t=>e.linkLib&&e.linkLib[t]&&e.linkLib[t].target===n&&e.linkLib[t].source===r);return o?e.linkLib[o]:null}function go(e,t){let{target:n,source:r,properties:o}=t;return To(e,t,qo(n,r,o))}function bo(e,t){return Co(e,t)}function Co(e,t){return So(e,{...t||{},direction:Io})}function Eo(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function No(e,t){var n=Oo(e,t);return n&&n.length?n[0]:null}function Oo(e,t){let n=Zi(e);var{id:r,links:o}=t,i=[r],a=[];return o.map((e,t)=>{var r=[];i.map(i=>{let s=ko(n,{id:i,...e});t===o.length-1?a=s:r=[...r,...s.map(e=>e.id)]}),r=r.unique(e=>e),i=r}),a}function ko(e,t){if(t){var{id:n,direction:r,type:o,exist:i}=t;if(e&&e.nodeConnections&&n){var a=e.nodeConnections[n];if(a)return Object.keys(a).filter(e=>a[e]).map(t=>{var n=e.linkLib[t]?r===Lo?e.linkLib[t].source:e.linkLib[t].target:null;return n?i&&e.linkLib[t].properties&&e.linkLib[t].properties.exist?e.nodeLib[n]:!o||e.linkLib[t].properties&&(e.linkLib[t].properties.type===o||e.linkLib[t].properties[o])?e.nodeLib[n]:null:(console.warn("Missing value in linkLib"),null)}).filter(e=>e)}}return[]}function So(e,t){if(t){var{id:n,direction:r,constraints:o}=t;if(e&&e.nodeConnections&&n){var i=e.nodeConnections[n];if(i)return Object.keys(i).filter(e=>i[e]===r).map(t=>{var n=e.linkLib[t]?r===Lo?e.linkLib[t].source:e.linkLib[t].target:null;if(!n)return console.warn("Missing value in linkLib"),null;if(o){let r=Ci(e.linkLib[t],Qn.CONSTRAINTS);return function(e,t){if(e===t)return!0;if(!e)return!1;if(!t)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(o,r)?e.nodeLib[n]:null}return e.nodeLib[n]}).filter(e=>e)}}return[]}const Io="SOURCE",Lo="TARGET";function To(e,t,n){let{target:r,source:o}=t;if(r&&o&&r!==o&&e.nodeLib[r]&&e.nodeLib[o]){if(function(e,t){return!e.links.some(n=>{let r=e.linkLib[n];return r.source===t.source&&r.target===t.target})}(e,{target:r,source:o}))e.linkLib[n.id]=n,e.linkLib={...e.linkLib},e.links=[...e.links,n.id],e.nodeConnections[n.source]={...e.nodeConnections[n.source]||{},[n.id]:Io},e.nodeConnections[n.target]={...e.nodeConnections[n.target]||{},[n.id]:Lo},e.nodeLinks[n.source]={...e.nodeLinks[n.source]||{},[n.target]:e.nodeLinks[n.source]?(e.nodeLinks[n.source][n.target]||0)+1:1},e.nodeLinks[n.target]={...e.nodeLinks[n.target],[n.source]:e.nodeLinks[n.target]?(e.nodeLinks[n.target][n.source]||0)+1:1};else{var i=vo(e,{target:r,source:o});i&&(i.properties={...i.properties,...n.properties,type:i.properties.type})}e.nodeLinks={...e.nodeLinks},e={...e}}return e}function Mo(e,t){let{target:n,source:r}=t;return e.links.find(t=>e.linkLib[t].source===r&&e.linkLib[t].target==n)}function Ao(e,t,n){switch(n){case Yn.Remove:e=function(e,t){t&&t.properties&&t.properties.on&&t.properties.on[Yn.Remove]&&t.properties.on[Yn.Remove].map(n=>{n.function&&wo[n.function]&&(e=wo[n.function](e,t,n.function,n))});return e}(e,t)}return e}const wo={};function xo(e,t){wo[e]=t}function Po(e){let t=_i(e,Fn.UIExtensionDefinition);if(t&&t.config)return t.config.isEnumeration}function jo(e){if(Po(e)){return _i(e,Fn.UIExtensionDefinition).config.list}return null}function Ro(e){if(Po(e)){return _i(e,Fn.UIExtensionDefinition).config.keyField}return null}function $o(e,t){var{property:n,validator:r}=t;delete e.properties[n].validators[r]}function Do(e,t={}){var n={on:{}};switch(e){case Yn.Remove:n.on[e]=[{...t}]}return n}function Go(e,t,n={}){if(t&&n.linkType){let r=e.linkLib[t];if(r&&r.properties&&r.properties[n.linkType]&&delete r.properties[n.linkType],r&&Object.keys(r.properties).length>1)return{...e}}if(t){e.links=[...e.links.filter(e=>e!==t)];let n=e.linkLib[t];n.properties&&n.properties.on&&n.properties.on[Yn.Remove]&&(e=Ao(e,n,Yn.Remove)),delete e.linkLib[t],e.linkLib={...e.linkLib},e.nodeLinks[n.source]={...e.nodeLinks[n.source],[n.target]:e.nodeLinks[n.source]?(e.nodeLinks[n.source][n.target]||0)-1:0},e.nodeLinks[n.source]&&!e.nodeLinks[n.source][n.target]&&(delete e.nodeLinks[n.source][n.target],0===Object.keys(e.nodeLinks[n.source]).length&&delete e.nodeLinks[n.source]),e.nodeLinks[n.target]={...e.nodeLinks[n.target],[n.source]:e.nodeLinks[n.target]?(e.nodeLinks[n.target][n.source]||0)-1:0},e.nodeLinks[n.target]&&!e.nodeLinks[n.target][n.source]&&(delete e.nodeLinks[n.target][n.source],0===Object.keys(e.nodeLinks[n.target]).length&&delete e.nodeLinks[n.target]),e.nodeConnections[n.source]&&e.nodeConnections[n.source][n.id]&&delete e.nodeConnections[n.source][n.id],0===Object.keys(e.nodeConnections[n.source]).length&&delete e.nodeConnections[n.source],e.nodeConnections[n.target]&&e.nodeConnections[n.target][n.id]&&delete e.nodeConnections[n.target][n.id],0===Object.keys(e.nodeConnections[n.target]).length&&delete e.nodeConnections[n.target]}return{...e}}function Uo(e,t){let{id:n,value:r,prop:o}=t,i={};if(n&&o&&e.nodeLib&&e.nodeLib[n]){if(Hn[o]){Hn[o].map(t=>{e.nodeLib[n].dirty[t.chainProp]||(i[t.chainProp]=t.chainFunc(r))})}e.nodeLib[n]={...e.nodeLib[n],dirty:{[o]:!0,...e.nodeLib[n].dirty||{}},properties:{...e.nodeLib[n].properties||{},[o]:r,...i}},o===Fn.NODEType&&r===Ln.Function?e.functionNodes={...e.functionNodes,[n]:!0}:e.functionNodes[n]&&o===Fn.NODEType&&(delete e.functionNodes[n],e.functionNodes={...e.functionNodes}),o===Fn.NODEType&&r===Ln.ClassNode?e.classNodes={...e.classNodes,[n]:!0}:e.classNodes[n]&&o===Fn.NODEType&&(delete e.classNodes[n],e.classNodes={...e.classNodes})}return e}function Fo(e,t){let{id:n,value:r,prop:o}=t;return n&&o&&e.linkLib&&e.linkLib[n]&&(e.linkLib[n]={...e.linkLib[n],properties:{...e.linkLib[n].properties||{},[o]:r}}),e}function Vo(e,t){let{id:n,value:r,prop:o}=t;return n&&o&&e.groupLib&&e.groupLib[n]&&(e.groupLib[n]={...e.groupLib[n],properties:{...e.groupLib[n].properties||{},[o]:r}}),e}function Ho(){return{id:_(),leaves:[],groups:[],properties:{}}}function Bo(e){return{id:_(),dirty:{},properties:{text:e||fe}}}function qo(e,t,n){return n=n||{},{id:_(),source:t,target:e,properties:n}}function Wo(e){return{...JSON.parse(JSON.stringify(e))}}function Yo(e,t,n={}){var r=[...Object.keys(e.groupsNodes[t])];for(var o in e.childGroups[t])n[o]||(n={...n,[o]:!0},r=[...r,...Yo(e,o,n)]);return r}xo("OnRemoveValidationPropConnection",(e,t,n)=>{var{source:r,target:o}=t,i=io(e,r);return i&&i.properties&&Kr(_i(i,Fn.Validator),{id:o}),e}),xo("OnRemoveExecutorPropConnection",(e,t,n)=>{var{source:r,target:o}=t,i=io(e,r);return i&&i.properties&&Kr(_i(i,Fn.Executor),{id:o}),e}),xo("OnRemoveModelFilterPropConnection",(e,t,n)=>{var{source:r,target:o}=t,i=io(e,r);return i&&i.properties&&Kr(_i(i,Fn.ModelItemFilter),{id:o}),e}),xo("OnRemoveValidationItemPropConnection",(e,t,n,r)=>{var{source:o,target:i}=t,a=io(e,o),{property:s,validator:l}=r||{};let p=_i(a,Fn.Validator);return a&&a.properties&&p.properties&&p.properties[s]&&p.properties[s].validators&&p.properties[s].validators[l]&&p.properties[s].validators[l].node===i&&$o(p,{...r,id:i}),e}),xo("OnRemoveExecutorItemPropConnection",(e,t,n,r)=>{var{source:o,target:i}=t,a=io(e,o),{property:s,validator:l}=r||{};let p=_i(a,Fn.Executor);return a&&a.properties&&p.properties&&p.properties[s]&&p.properties[s].validators&&p.properties[s].validators[l]&&p.properties[s].validators[l].node===i&&$o(p,{...r,id:i}),e});const zo={[Ln.Model]:1,[Ln.Function]:1,[Ln.Method]:1,[Ln.Property]:4,[Ln.ValidationList]:5,[Ln.OptionList]:6,[Ln.Parameter]:4,[Ln.Permission]:4,[Ln.Attribute]:8,[Ln.ValidationList]:10,[Ln.ValidationListItem]:12,[Ln.ModelItemFilter]:13};function Xo(e,t){let n=0;if(t.groupLib[e]){if(t.parentGroup[e]){let r=Object.keys(t.parentGroup[e])[0];r&&(n+=Xo(r,t))}n+=1}return n}function Qo(e){let t=Gr();t.id=e.id;let n=(e=function(e){let t=Gr();return t.id=e.id,t.linkLib={...e.linkLib},t.nodesGroups={...e.nodesGroups},t.groupsNodes={...e.groupsNodes},t.groups=[...e.groups],t.groupLib={...e.groupLib},t.childGroups={...e.childGroups},t.parentGroup={...e.parentGroup},t.links=[...e.links.filter(n=>{var{target:r,source:o}=e.linkLib[n];return!(!e.visibleNodes[r]||!e.visibleNodes[o])||(delete t.linkLib[n],!1)})],Object.keys(e.nodesGroups).map(n=>{if(!e.visibleNodes[n]){let r=e.nodesGroups[n];for(let e in r)t.groupsNodes[e]={...t.groupsNodes[e]},delete t.groupsNodes[e][n],0===Object.keys(t.groupsNodes[e]).length&&delete t.groupsNodes[e];delete t.nodesGroups[n]}}),Object.keys(t.groupLib).sort((t,n)=>Xo(n,e)-Xo(t,e)).map(n=>{t.groupLib[n].leaves&&(t.groupLib[n]={...t.groupLib[n]},t.groupLib[n].leaves=[...t.groupLib[n].leaves.filter(t=>e.visibleNodes[t])],t.groupLib[n].groups=[...t.groupLib[n].groups.filter(e=>t.groupLib[e])],t.groupLib[n].leaves.length||t.groupLib[n].groups.length||(t.groups=[...t.groups.filter(e=>e!==n)],delete t.groupLib[n]))}),Object.keys(e.childGroups).map(e=>{if(t.groupsNodes[e])for(let n in t.childGroups[e])t.groupsNodes[n]||(t.childGroups[e]={...t.childGroups[e]},delete t.childGroups[e][n]);else delete t.childGroups[e]}),Object.keys(e.parentGroup).map(e=>{if(t.groupsNodes[e])for(let n in t.parentGroup[e])t.groupsNodes[n]||(t.parentGroup[e]={...t.parentGroup[e]},delete t.parentGroup[e][n]);else delete t.parentGroup[e]}),Object.keys(e.visibleNodes).map(n=>{t.nodeLib[n]=e.nodeLib[n],t.nodes.push(n),t.nodeConnections[n]={...e.nodeConnections[n]},t.nodeLinks[n]={...e.nodeLinks[n]},Object.keys(e.nodeLinks[n]||{}).map(e=>{t.linkLib[e]||(t.nodeLinks[n]={...t.nodeLinks[n]},delete t.nodeLinks[n][e])})}),t}(e=function(e){return e.visibleNodes={},e.nodes.map(t=>{_i(io(e,t),Fn.Pinned)&&(e.visibleNodes[t]=!0)}),e.depth&&[].interpolate(0,e.depth,t=>{Object.keys(e.visibleNodes).map(t=>{for(let n in e.nodeLinks[t])e.visibleNodes[n]=!0})}),e}(e))).nodes.filter(t=>_i(e.nodeLib[t],Fn.Collapsed)),r={};n.map(t=>{if(e.nodesGroups[t]){let o=zo[_i(e.nodeLib[t],Fn.NODEType)]||1e3;var n=Object.keys(e.nodesGroups[t]).filter(n=>{return!Yo(e,n).find(n=>{if(n===t)return!1;var r=_i(e.nodeLib[n],Fn.NODEType);return!((zo[r]||1e3)>o)})}).sort((t,n)=>Object.keys(e.groupsNodes[n]).length-Object.keys(e.groupsNodes[t]).length);n.length&&(r[n[0]]=!0)}});let o=Object.keys(r).filter(t=>{for(var n in e.parentGroup[t])if(r[n])return!1;return!0}),i={};o.map(t=>{let n={},r=null,o=1e4,a=Yo(e,t);for(var s in a.filter(t=>{var i=Ei(e.nodeLib[t],Fn.NODEType);n[t]=!0,zo[i]<o&&(r=t,o=zo[i])}),delete n[r],n)n[s]=r;i={...i,...n}}),t.nodes=[...e.nodes.filter(e=>!i[e])],t.nodeLib={},t.nodes.map(n=>{t.nodeLib[n]=e.nodeLib[n]}),t.links=e.links.map(n=>{var r,{source:o,target:a}=e.linkLib[n];return(!i[o]||!i[a])&&(i[o]?((r=Wo(e.linkLib[n])).source=i[o],r.id=`${r.source}${r.target}`,t.linkLib[`${r.source}${r.target}`]=r):i[a]?((r=Wo(e.linkLib[n])).target=i[a],r.id=`${r.source}${r.target}`,t.linkLib[`${r.source}${r.target}`]=r):((r=Wo(e.linkLib[n])).id=`${r.source}${r.target}`,t.linkLib[`${r.source}${r.target}`]=r),r.source!==r.target&&r.id)}).filter(e=>e);var a=e.groups.map((n,r)=>{let o=e.groupLib[n],i=Ho();return i.id=`${o.id}`,o&&o.leaves&&o.leaves.map(e=>{t.nodeLib[e]&&i.leaves.push(e)}),i.leaves.length?(t.groupLib[i.id]=i,i.id):null}).filter(e=>e);return a.map(n=>{t.groupLib[n].groups=(e.groupLib[n].groups||[]).filter(e=>!!t.groupLib[e])}),t.groups=a,t}n("fs");const Ko="VISUAL",Jo="APPLICATION",Zo="GRAPHS",ei="VISUAL_GRAPH",ti="DASHBOARD_MENU",ni="SELECTED_NODE_BB",ri="SIDE_PANEL_EXTRA_WIDTH",oi=Ln,ii=$n,ai=Fn,si=Kn,li={ROUTINGNUMBER:"ROUTINGNUMBER",CURRENCY:"CURRENCY",CARMAKE:"CARMAKE",SOCIALSECURITY:"SOCIALSECURITY",EMAIL:"EMAIL",PHONE:"PHONE",CARMODEL:"CARMODEL",CARYEAR:"CARYEAR",VIN:"VIN",LONGSTRING:"LONGSTRING",CREDITCARD:"CREDITCARD",LENGTH:"LENGTH",INCH:"INCH",DIMENSION:"DIMENSION",MONEY:"MONEY",COUNTRY:"COUNTRY",DEBIT:"DEBIT",MONTH:"MONTH",STATE:"STATE",CHOICE:"CHOICE",NUMBER:"NUMBER",SLIDER:"SLIDER",DATE:"DATE",TIME:"TIME",BOOLEAN:"BOOLEAN",ACCOUNTNUMBER:"ACCOUNTNUMBER",ADDRESS:"ADDRESS",COLLECTION:"COLLECTION",OBJECT:"OBJECT",RADIO:"RADIO",CHECKLIST:"CHECKLIST",STRING:"STRING",GEOLOCATION:"GEOLOCATION",YEAR:"YEAR"},pi=er,ui=Zn,ci={CHOICELIST:"CHOICELIST",CAPITALIZE_FIRST_LETTER:"CAPITALIZE_FIRST_LETTER"},di="UI_UPDATE";function fi(e,t,n){return e&&e.uiReducer&&e.uiReducer[t]?e.uiReducer[t][n]:null}function hi(e,t){return fi(e,Ko,t)}function mi(e,t){var n=Oi(e,hi(e,$i));return n&&n.properties&&n.properties.nodeType===t}function yi(e,t){return e&&e.properties&&e.properties[t]}function _i(e,t){return e&&e.properties&&e.properties[t]}function vi(e){return No(Yi(),e)}function gi(e){return"string"==typeof e&&(e=io(Zi(Yi()),e)),_i(e,ai.CodeName)}function bi(e,t,n){var r=_i(t,ai.MethodProps);return r?io(e,r[n]||null):null}function Ci(e,t){return e&&e.properties&&e.properties[t]}function Ei(e,t){return e&&e.properties&&e.properties[t]}function Ni(e,t,n){return hi(e,t)===n}function Oi(e,t){var n=Zi(e);return n&&n.nodeLib?n.nodeLib[t]:null}function ki(e,t){return fi(e,Jo,t)}function Si(e){var t=Zi(e);return t?fi(e,ei,t.id):null}function Ii(e,t,n){n(Mi(Jo,t,e))}function Li(e,t){return fi(e,Zo,t)}function Ti(e,t){let n=Qo(e={...e,updated:Date.now()});n&&t(Mi(ei,n.id,n)),t(Mi(Zo,e.id,e))}function Mi(e,t,n){return{type:di,item:t,value:n,section:e}}function Ai(e){return(t,n)=>{var r=n();t(Mi(Ko,e,!fi(r,Ko,e)))}}function wi(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function xi(e,t){return(n,r)=>{r();n(Mi(Ko,e,t))}}function Pi(e,t){return(n,r)=>{r();n(Mi(Jo,e,t))}}const ji="SELECTED_LINK",Ri="HOVERED_LINK",$i="SELECTED_NODE";function Di(e){return(t,n)=>{t(Mi(Ko,$i,e))}}function Gi(){return Ai(ti)}function Ui(e){return e?e.properties&&e.properties.text||e.id:fe}function Fi(e){var t=Zi(e);return t?[...t.nodes.map(e=>t.nodeLib[e])]:[]}function Vi(e){switch(_i(e,ai.NODEType)){case oi.ReferenceNode:return!1;default:return!0}}function Hi(e,t,n={}){var r=n.useRoot?ea(e):Zi(e);if(r)return Array.isArray(t)||(t=[t]),r.nodes.filter(e=>r.nodeLib[e].properties&&-1!==t.indexOf(r.nodeLib[e].properties[ai.NODEType])||!n.excludeRefs&&r.nodeLib[e].properties[ai.ReferenceType]===t).map(e=>r.nodeLib[e]);throw"no graph found"}function Bi(e,t){var n=ea(e);return n?io(n,t):null}function qi(e,t){var n=Zi(e);return n?e=>{if(n.linkLib[e.id])return n.linkLib[e.id][t]}:()=>!1}let Wi;function Yi(){return Wi()}function zi(){return(e,t)=>{Wi=t}}function Xi(e){return _i(e,ai.FunctionType)}function Qi(e,t){return(_i(e,ai.MethodProps)||{})[t]}function Ki(e,t){return _i(e,ai.MethodProps)||{}}function Ji(e){return vi({id:e.id,links:[{type:zn.FunctionOperator,direction:Lo}]})}function Zi(e){return ia(e)}function ea(e,t){var n=ki(e,da);return n?n=Li(e,n):t&&Ii((n=Gr()).id,da,t),n}function ta(e){var t,n=ki(e,da);if(n){return n=Li(e,n),(t=n)&&t.graphs?Object.keys(t.graphs||{}).map(e=>t.graphs[e]):[]}return null}function na(){return(e,t)=>{var n=ea(t(),e);Ti(n=function(e){var t=Gr();return t.title=kn,e.graphs[t.id]=t,e}(n),e)}}function ra(e,t){return(n,r)=>{var o=ea(r(),n);Ti(o={...o,[e]:t},n)}}function oa(e){return(t,n)=>{var r=ea(n(),t);r.appConfig.AppSettings.AssemblyPrefixes=["RedQuick",e].unique(e=>e).join(";"),Ti(r,t)}}function ia(e,t){var n=ki(e,da);let r=ki(e,fa)||[];return console.log(`current graph ${n}`),n?(n=Li(e,n),r.length&&(console.log(`scope.length ${r.length}`),n=Vr(n,{scope:r}))):t&&Ii((n=Gr()).id,da,t),n}function aa(e){var t,n,r=ea(e);if(r){var o=ki(e,fa);if(o&&o.length)return n=t=r,o.map(e=>{n=t.graphs[e]}),n}return null}const sa="UPDATE_GRAPH_TITLE",la="NEW_NODE",pa="REMOVE_NODE",ua="NEW_LINK",ca="CHANGE_NODE_TEXT",da="CURRENT_GRAPH",fa="GRAPH_SCOPE",ha="CHANGE_NODE_PROPERTY",ma="NEW_PROPERTY_NODE",ya="NEW_PERMISSION_NODE",_a="NEW_ATTRIBUTE_NODE",va="ADD_LINK_BETWEEN_NODES",ga="NEW_CONDITION_NODE",ba="REMOVE_LINK_BETWEEN_NODES",Ca="REMOVE_LINK",Ea="NEW_CHOICE_ITEM_NODE",Na="NEW_PARAMETER_NODE",Oa="NEW_FUNCTION_OUTPUT_NODE",ka="NEW_MODEL_ITEM_FILTER",Sa="NEW_VALIDATION_ITEM_NODE",Ia="NEW_CHOICE_TYPE",La="NEW_VALIDATION_TYPE",Ta="NEW_OPTION_ITEM_NODE",Ma="NEW_OPTION_NODE",Aa="NEW_CUSTOM_OPTION",wa="NEW_PERMISSION_PROPERTY_DEPENDENCY_NODE",xa="NEW_EXTENSION_LIST_NODE",Pa="NEW_EXTENTION_NODE",ja="ADD_EXTENSION_DEFINITION_CONFIG_PROPERTY",Ra="APPLY_FUNCTION_CONSTRAINTS",$a="ADD_NEW_REFERENCE_NODE;",Da="SET_DEPTH";function Ga(e,t){return(n,r)=>{var o=r();let i=null;var a=ki(o,da);let s=ki(o,fa)||[];a?(i=a=Li(o,a),s.length&&(a=Vr(a,{scope:s}))):(Ii((a=Gr()).id,da,n),i=a);var l=e;Array.isArray(e)||(l=[{operation:e,options:t}]),l.filter(e=>e).map(e=>{let{operation:t,options:o}=e;switch(t){case Da:a=function(e,t){var{depth:n}=t;return e.depth=n,e}(a,o);break;case la:a=function(e){return no(e,Bo())}(a),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case pa:a=eo(a,o);break;case sa:a=function(e,t){var{text:n}=t;return e.title=n,e}(a,o);break;case ua:a=go(a,o);break;case va:a=function(e,t){let{target:n,source:r,properties:o}=t;if(n!==r)return To(e,t,qo(n,r,o));return e}(a,o);break;case ba:a=function(e,t){return Go(e,Mo(e,t),t)}(a,o);break;case Ca:a=function(e,t){return Go(e,e.linkLib[t.id])}(a,o);break;case ca:a=Uo(a,{...o,prop:"text"});break;case ha:a=Uo(a,o);break;case ma:a=function(e,t){return oo(e,t,Ln.Property)}(a,o),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case _a:a=oo(a,o,oi.Attribute),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case ga:a=oo(a,o,oi.Condition),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case ka:a=oo(a,o,oi.ModelItemFilter),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case La:a=oo(a,o,oi.ValidationList),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case wa:a=oo(a,o,oi.PermissionDependency),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case Ia:a=oo(a,o,oi.ChoiceList),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case Na:a=oo(a,o,oi.Parameter),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case Oa:a=oo(a,o,oi.FunctionOutput),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case ya:a=oo(a,o,oi.Permission),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case Ma:a=oo(a,o,oi.OptionList),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case Aa:a=oo(a,o,oi.OptionCustom),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case $a:a=oo(a,o,oi.ReferenceNode),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case xa:a=oo(a,o,oi.ExtensionTypeList),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case Sa:a=oo(a,o,oi.ValidationListItem),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case Pa:a=oo(a,o,oi.ExtensionType),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case Ta:a=oo(a,o,oi.OptionListItem),xi($i,a.nodes[a.nodes.length-1])(n,r);break;case Ra:a=co(a,o)}a=function(e){let t=e.functionNodes;if(t){let s=[];for(let l in t){var n=io(e,l);if(n){var r=_i(n,Fn.FunctionType);if(r){var o=Ar[r];if(o&&o[Sr.CLASSES]){let t=o[Sr.CLASSES];if(t)for(let r in t){let o=t[r][kr.MODEL];if(o){var i=po(e,{id:l,constraintKey:o}),a=[];i.map(t=>{var n=bo(e,{id:t.id});a.push(...n)}),a.map(e=>{s.push({nodeId:e.id,functionNode:n.id,key:o,class:r})})}}}}}s=[...s.unique(e=>JSON.stringify(e))],Object.keys(e.classNodes).map(t=>{s.find(n=>Eo(_i(e.nodeLib[t],Fn.ClassConstructionInformation),n))||(e=eo(e,{id:t}))}),s.map(t=>{var n=Object.keys(e.classNodes).filter(n=>!!Eo(_i(e.nodeLib[n],Fn.ClassConstructionInformation),t));if(0===n.length)e=oo(e,{parent:t.functionNode,linkProperties:{properties:{...Kn.RequiredClassLink}}},Ln.ClassNode,n=>{e=Uo(e,{id:n.id,prop:Fn.UIText,value:lo(t.class,_i(io(e,t.nodeId),Fn.CodeName))}),e=Uo(e,{id:n.id,prop:Fn.ClassConstructionInformation,value:t})});else if(1===n.length){var r=e.nodeLib[n[0]];e=Uo(e,{id:r.id,prop:Fn.UIText,value:lo(t.class,_i(io(e,t.nodeId),Fn.CodeName))})}else console.error("There should never be more than one")})}}return e}(a=ao(a))}),Ti(i=function(e){if(e&&e.referenceNodes)for(var t in e.referenceNodes)if(e.graphs&&e.graphs[t]){let o=e.graphs[t];for(let i in e.referenceNodes[t]){var n=e.nodeLib[e.referenceNodes[t][i]];if(n){var r=io(o,i);r&&(r.properties.text=n.properties.text,r.properties.referenceType=n.properties.nodeType)}}}return e}(i=s.length?function(e,t){var{scope:n,graph:r}=t;if(n&&n.length){var o=e;n.map((e,t)=>{t===n.length-1?o.graphs[e]=r:o=o.graphs[e]})}else e=r;return e}(i,{scope:s,graph:a}):a),n)}}const Ua={SelectedNode:"#f39c12"},Fa={scaffold:{message:"scaffold-project",reply:"scaffold-project-reply"}};var Va=n("path"),Ha=n.n(Va);const Ba="./app/templates/namespace.tpl";class qa{static Generate(e){var{template:t,namespace:n,space:r,usings:o}=e;let i=hr.a.readFileSync(Ba,"utf-8");return i=Dr(i,{namespace:n,space:r,imports:o?o.map(e=>`using ${e};`).unique(e=>e).join("\r\n"):null,body:t})}}const Wa="./app/templates/controller/controller.tpl",Ya="./app/templates/controller/controller_functions.tpl",za="./app/templates/controller/controller_functions_get.tpl";class Xa{static Tabs(e){let t="";for(var n=0;n<e;n++)t+=Ka;return t}static Generate(e){var{state:t,key:n}=e;let r=ea(t),o=r?r[Ur.NAMESPACE]:null,i=Hi(t,oi.Controller),a=hr.a.readFileSync(Wa,"utf-8"),s=hr.a.readFileSync(Ya,"utf-8"),l=hr.a.readFileSync(za,"utf-8"),p=ea(t),u={};return i.map(e=>{let n=a,r="",i=`${_i(e,ai.CodeName)}`,c=Hi(t,oi.Model).find(e=>_i(e,ai.IsUser)),d=[];ko(p,{id:e.id,type:zn.MaestroLink,direction:Io}).map(t=>{let o=ko(p,{id:t.id,type:zn.FunctionLink,direction:Io}),a=_i(t,ai.CodeName);(d=o).length&&d.map(t=>{var n=wr[_i(t,ai.FunctionType)];if(n){let o=s,i="",u="",c="";if(_i(t,ai.MethodType)===Jn.Get){o=l;let e="modelId";n.parentGet&&(e="parentId"),i=`string ${e}`,u=`/{${e}}`,c=`${e}`}_i(t,ai.CodeName);let d=ko(p,{id:t.id,type:zn.FunctionConstraintLink,direction:Io}),f=`${_i(t,ai.CodeName)}`,h=`${_i(t,ai.HttpMethod)}`,m=`${_i(t,ai.HttpRoute)}`,y=_i(t,ai.MethodProps);if(!y)return;d.find(e=>_i(e,ai.CodeName)===yr.UserInstance);let _=io(p,y.model),v="{controller_generator_missing_model}";_&&(v=_i(_,ai.CodeName)||v,n.isList&&(v=`IList<${v}>`)),o=Dr(o,{functionName:f,maestro_function:f,parameters:i,parameter_values:c,parameter_route:u,http_route:m||"{controller_generator_http_method",http_method:h||"{controller_generator_http_method",user_instance:e?_i(e,ai.CodeUser):"{controller_generator_code_name}",output_type:v,maestro_interface:Lr(a),input_type:_?_i(_,ai.CodeName):"{controller_generator_missing_model}"}),r+=Qa+o}}),n=Dr(n,{codeName:i,"codeName#alllower":i.toLowerCase(),user_instance:e?_i(e,ai.CodeUser):"{controller_generator_code_name}",user:c?_i(c,ai.CodeName):"{controller_generator_code_name}",functions:r})});u[_i(e,ai.CodeName)]={id:_i(e,ai.CodeName),name:_i(e,ai.CodeName),template:qa.Generate({template:n,usings:[...xn,`${o}${Un.Model}`,"Microsoft.AspNetCore.Mvc"],namespace:o,space:Un.Controllers})}}),u}}const Qa="\n",Ka="   ",Ja="./app/templates/models/model.tpl",Za="./app/templates/models/model_property.tpl",es="./app/templates/models/model_statics.tpl",ts="./app/templates/models/model_attributes.tpl";class ns{static Generate(e){var{state:t,key:n}=e;let r=ea(t),o=Hi(t,Ln.Model),i={};return o.map(e=>{var n=ns.GenerateModel({graph:r,nodeId:e.id,state:t});i[n.id]=n}),i}static GenerateModel(e){var{state:t,graph:n,nodeId:r}=e,o=[],i={};let a=ea(t),s=a?a[Ur.NAMESPACE]:null;var l=io(n,r);if(!l)return null;i.model=_i(l,ai.CodeName),i.base_model=_i(l,ai.IsUser)?"RedUser":"DBaseData",i.account_enabling_func="",_i(l,ai.IsUser)&&(i.account_enabling_func="\n            \n        public static User Create(RedExternalLoginViewModel model)\n        {\n            return new User\n            {\n                Email = model.Email,\n                UserName = model.UserName\n            };\n        }\n        public static User Create(RedRegisterViewModel model)\n        {\n            return new User\n            {\n                Email = model.Email,\n                UserName = model.UserName\n            };\n        }"),i.attributes="";var p=ko(n,{id:l.id,type:zn.PropertyLink,direction:Io});let u=hr.a.readFileSync(Za,"utf-8"),c=hr.a.readFileSync(ts,"utf-8"),d=hr.a.readFileSync(es,"utf-8"),f=ko(n,{id:r,type:zn.ValidatorModel,direction:Lo}).map(e=>_i(e,ai.CodeName)).map(e=>ns.tabs(1)+`[${e}]`+tr).join("");i.attributes=f;let h=[],m=p.map(e=>{var t=ko(n,{id:e.id,type:zn.AttributeLink,direction:Io});let r=u,i=_i(e,ai.UIAttributeType);or[nr.CSHARP][i]&&o.push(...or[nr.CSHARP][i],`${s}${Un.Model}`,`${s}${Un.Extensions}`);let a=rr[nr.CSHARP][i];_i(e,ai.UIModelType)&&(a="string");let p={model:_i(l,ai.CodeName),property_type:a,property:_i(e,ai.CodeName),attributes:t.map(t=>{var r=ko(n,{id:t.id,type:zn.Option,direction:Io});let o=[];r.map(e=>{ko(n,{id:e.id,type:zn.OptionItem,direction:Io}).map(e=>{_i(e,ai.UseCustomUIOption)?o.push(_i(e,ai.UIOptionTypeCustom)):o.push(_i(e,ai.UIOptionType))})}),o=o.unique().map(e=>`UIAttribute.${e}`);var i={};Object.keys(Zn).map(e=>{i[Zn[e]]=e});var a=[];_i(t,ai.UseUIValidations)&&ko(n,{id:t.id,type:zn.Validation,direction:Io}).map(e=>{ko(n,{id:e.id,type:zn.ValidationItem,direction:Io}).map(e=>{a.push(`ValidationRules.${i[_i(e,ai.UIValidationType)]}`)})});let s=null;_i(t,ai.UIExtensionList)&&ko(n,{id:t.id,type:zn.Extension,direction:Io}).map(e=>{s=_i(e,ai.CodeName)});let l=o&&o.length?Dr("Options = new string[] { {{options_list}} },",{options_list:o.map(e=>`${e}`).join(", ")}):"",p=a&&a.length?Dr("ValidationRules = new string[] { {{validation_list}} },",{validation_list:a.map(e=>`${e}`).join(", ")}):"",u=s?Dr("ChoiceType = {{choice_type}}.Name,",{choice_type:s}):"",d={property:_i(e,ai.CodeName),property_type:_i(e,ai.UseModelAsType)?_i(e,ai.UIModelType):_i(e,ai.UIAttributeType),ui_title:_i(e,ai.UIName),singular:_i(e,ai.UISingular)?"true":"false",options:l,choice_type:u,validation_rules:p};return t&&t.uiValidationType,Dr(c,d)}).filter(e=>e).join("\r\n")};return r=Dr(r,p)});_i(l,ai.HasLogicalChildren)&&_i(l,ai.ManyToManyNexus)&&(_i(l,ai.LogicalChildrenTypes)||[]).map(e=>{let n=io(Zi(t),e),r={property_type:rr[nr.CSHARP][pi.STRING],property:_i(n,ai.CodeName),attributes:""};m.push(Dr(u,r))});let y={model:_i(l,ai.CodeName)};(h.push(Dr(d,y)),_i(l,ai.IsUser))&&Hi(t,Ln.Model).filter(e=>e.id!==l.id&&_i(e,ai.IsAgent)).map(e=>{let t=u;t=Dr(t,{property_type:rr[nr.CSHARP][pi.STRING],property:_i(e,ai.CodeName),attributes:""}),m.push(t)});i.properties=m.join(""),i.staticFunctions=h.unique(e=>e).join("\n"),console.log(i.properties);let _=hr.a.readFileSync(Ja,"utf-8");return _=Dr(_,i),{id:_i(l,ai.CodeName),name:_i(l,ai.CodeName),template:qa.Generate({template:_,usings:[...o,"RedQuickCore.Identity",`${s}${Un.Validations}`,...xn],namespace:s,space:Un.Model})}}static tabs(e){let t="";for(var n=0;n<e;n++)t+="\t";return t}}const rs="./app/templates/extensions/extensions.tpl",os="./app/templates/extensions/extension_properties.tpl",is="./app/templates/extensions/extension_new_instance.tpl",as="./app/templates/extensions/extension_new_instance_properties.tpl",ss="./app/templates/extensions/extension_new_instance_list.tpl",ls="./app/templates/extensions/extension_new_instance_list_add.tpl",ps="./app/templates/extensions/extension_new_instance_dictionary.tpl",us="./app/templates/extensions/extension_new_instance_dictionary_add.tpl",cs="./app/templates/extensions/create_new_list_instance.tpl",ds=6;class fs{static Tabs(e){let t="";for(var n=0;n<e;n++)t+=ys;return t}static GetExtensionNodeValues(e){var t=_i(e,ai.UIExtensionDefinition);if(t&&t.config&&t.config.isEnumeration)return t.config.list.map(e=>t.config.keyField?e[t.config.keyField]:e[Object.keys(e)[0]]);throw new Error("unhandled - getting extensions nodes not as an enumeration")}static CreateListInstanceTemplate(e){let{node:t,name:n}=e;return Dr(hr.a.readFileSync(cs,"utf-8"),{name:n,model:_i(t,ai.CodeName)})}static Generate(e){var{state:t,key:n}=e;let r=Hi(t,oi.ExtensionType),o=ea(t),i=o?o[Ur.NAMESPACE]:null,a=hr.a.readFileSync(rs,"utf-8"),s=hr.a.readFileSync(os,"utf-8"),l=hr.a.readFileSync(is,"utf-8"),p=hr.a.readFileSync(as,"utf-8"),u=hr.a.readFileSync(ss,"utf-8"),c=hr.a.readFileSync(ls,"utf-8"),d=hr.a.readFileSync(ps,"utf-8"),f=(hr.a.readFileSync(us,"utf-8"),{});return r.map(e=>{let t=a,n="",r="";var o=[];let h=_i(e,ai.UIExtensionDefinition);if(h){let t=_i(e,ai.CodeName),{config:i,definition:a}=h;if(a&&(a={...a,Value:"string"},n=Object.keys(a).map(e=>{var n=s;return n=Dr(n,{name:t,property:e,type:a[e]})}).join(""),i)){var m=[];let e="";if(i.isEnumeration)m=i.list.map((e,n)=>{let r;e={...e,Value:n+1};let i=Object.keys(e).map(t=>{let n=p;return n=Dr(n,{property:t,value:Wn(e[t])}),isNaN(e[t])&&o.push({name:Wn(e[t]),value:`"${e[t]}"`}),n}).join(`,${hs}`);return r=Dr(r=l,{properties:ms+fs.Tabs(ds)+i,model:t})});else{let n,r=Object.keys(i.dictionary).map(e=>{let t=p,n={...i.dictionary};return t=Dr(t,{property:e,value:Wn(n[e])}),isNaN(n[e])&&o.push({name:Wn(n[e]),value:`"${n[e]}"`}),t}).join(`,${hs}`);n=Dr(n=l,{properties:ms+fs.Tabs(ds)+r,model:t});let a=d;e=a=Dr(a,{instance:e=n,model:t})}m=m.map(e=>{let t=c;return t=Dr(t,{instance:e})}),r=Dr(u,{addings:m.join(""),model:t})+ms+e}}t=Dr(t,{name:_i(e,ai.CodeName),properties:n,statics:r,constants:o.unique(e=>e).map(e=>ms+fs.Tabs(3)+function(e){var{name:t,value:n}=e;return`public const string ${t} = ${n};`}(e)).join("")}),f[_i(e,ai.CodeName)]={id:_i(e,ai.CodeName),name:_i(e,ai.CodeName),template:qa.Generate({template:t,usings:[...xn],namespace:i,space:Un.Extensions})}}),f}}const hs="\n                    ",ms="\n",ys="   ";n("util");const _s="./app/templates/permissions/tests/test_case.tpl",vs="./app/templates/tests/tests.tpl",gs="./app/templates/permissions/tests/test_case_property.tpl",bs="./app/templates/permissions/permissions_interface.tpl",Cs="./app/templates/permissions/permissions_case.tpl",Es="./app/templates/permissions/permissions_case_enumeration.tpl",Ns="./app/templates/permissions/permissions_case_included_in_list.tpl",Os="./app/templates/permissions/permissions_method.tpl",ks="./app/templates/permissions/permissions_arbiter_prop.tpl",Ss="./app/templates/permissions/permissions_impl.tpl",Is="./app/templates/permissions/permissions_interface_methods.tpl",Ls="./app/templates/permissions/match-many-reference-parameter.tpl",Ts="./app/templates/permissions/match-reference.tpl";class Ms{static PermissionMatches(e,t,n){var r=Ji(e);if(r){switch(Xi(r)){case mr.Get_Parent$Child_Agent_Value__IListChild:case mr.Get_ManyToMany_Agent_Value__IListChild:return Qi(r,yr.Agent)===t.id&&Qi(r,yr.Parent)===n.id;default:return Qi(r,yr.Agent)===t.id&&Qi(r,yr.Model)===n.id}}return!1}static createInstanceEnumerationListName(e,t,n,r="Enums"){return`list${r}${_i(e,ai.CodeName)||e}${_i(t,ai.CodeName)||t}${n}`}static _createConstantList(e,t){return t.map(t=>`${e}.${Wn(t)}`)}static _createEnumerationInstanceList(e,t,n){var r=_i(e,ai.AllowedEnumValues)||[];let o=_i(t,ai.CodeName);return r.map(e=>`${o}.${Wn(e)}`)}static _getNotAllowedConstances(e,t,n){var r=_i(e,ai.DisallowedEnumValues)||[];let o=_i(t,ai.CodeName);return r.map(e=>`${o}.${Wn(e)}`)}static createEnumerationInstanceList(e,t,n){return`var ${Ms.createInstanceEnumerationListName(e,t,n)} = new List<string> { ${Ms._createEnumerationInstanceList(e,t,n).map(e=>As+xs(5)+e).join()} ${As+xs(5)}};${As}`}static createStringList(e){var{name:t,constants_allowed:n,enumerationName:r}=e;return`var ${t} = new List<string> { ${(n=n.map(e=>`${r}.${Wn(e)}`)).map(e=>As+xs(5)+e).join()} ${As+xs(5)}};${As}`}static _createExtensionInstanceList(e,t,n,r="Enums"){var o=_i(e,ai.AllowedExtensionValues)||[];let i=_i(t,ai.CodeName);return o.map(e=>`${i}.${Wn(e)}`)}static _getNotAllowedExtectionConstances(e,t,n,r="Enums"){var o=_i(e,ai.DisallowedExtensionValues)||[];let i=_i(t,ai.CodeName);return o.map(e=>`${i}.${Wn(e)}`)}static createExtensionInstanceList(e,t,n,r="Enums"){return`var ${Ms.createInstanceEnumerationListName(e,t,n,"Extensions")} = new List<string> { ${Ms._createExtensionInstanceList(e,t,n,r).map(e=>As+xs(5)+e).join()} ${As+xs(5)}};${As}`}static IsRequestor(e,t,n){return!!ko(e,{id:n.id,type:zn.RequestorPermissionLink}).find(e=>e.id===t.id)}static GetExtensionNodeValues(e,t,n,r,o){var i=ko(e,{id:t.id,type:zn.PermissionPropertyDependency});let a=[];return i.map(t=>{let i=ko(e,{id:t.id,type:zn.PermissionPropertyDependency})[0];if(!i)return;let s=ko(e,{id:i.id,type:zn.PermissionDependencyProperty}),l=null;if(1!==s.length)return;l=s[0];var p=function(e,t){var{source:n,target:r,type:o}=t,i=vo(e,{source:n,target:r});return!!i&&Ci(i,Qn.TYPE)===o}(e,{target:l.id,source:r.id,type:zn.PropertyLink});let u=io(e,_i(t,ai.Enumeration)),c=io(e,_i(t,ai.UIExtension)),d=_i(t,ai.UseEnumeration),f=_i(t,ai.UseExtension);if(_i(t,ai.IncludedInList)){let e=Dr(hr.a.readFileSync(Ns,"utf-8"),h={method:n,parent:`${_i(r,ai.AgentName)||"agent"}`.toLowerCase(),parent_property:"Id",value:`${p?"value":"data"}`.toLowerCase(),value_property:_i(i,ai.CodeName),model:"data",casename:_i(t,ai.CodeName),extension:_i(c,ai.CodeName),instance_list:""});a.push({variable:`can${h.method}${h.model}${h.casename}`,template:e})}if(d){let e=hr.a.readFileSync(Es,"utf-8"),r=Ms.createEnumerationInstanceList(t,u,n),s=Ms.createInstanceEnumerationListName(t,u,n);var h;let l=Dr(e,h={method:n,value:`${p?"value":"data"}`.toLowerCase(),value_property:_i(i,ai.CodeName),model:_i(o,ai.CodeName),casename:_i(t,ai.CodeName),"allowed-values-list":s,extension:_i(c,ai.CodeName),instance_list:r});a.push({variable:`can${h.method}${h.model}${h.casename}`,template:l})}if(f){let e=_i(c,ai.UIExtensionDefinition),r=hr.a.readFileSync(Cs,"utf-8"),o=Ms.createExtensionInstanceList(t,c,n),s=Ms.createInstanceEnumerationListName(t,c,n,"Extensions"),l={method:n,value:"value",value_property:_i(i,ai.CodeName),model:"data",casename:_i(t,ai.CodeName),extension_propery_key:e&&e.config?e.config.keyField:null,extension_value_property:"Value","allowed-values-list":s,extension:_i(c,ai.CodeName),instance_list:o},p=Dr(r,l);a.push({variable:`can${l.method}${l.model}${l.casename}`,template:p})}}),a}static IsAppliedPermission(e,t,n){let r=ko(e,{id:t.id,type:zn.AppliedPermissionLink});if(r&&r.length&&function(e,t){var{source:n,target:r}=t;return Object.values(e.linkLib).find(e=>e.source===n&&e.target===r)}(e,{source:r[0].id,target:n.id}))return!0;return!1}static GetTestExtensionNodeValues(e,t,n,r,o){var i=ko(e,{id:t.id,type:zn.Condition});let a=[];return i.map(t=>{let r=_i(t,ai.ConditionType);switch(r){case xr.MatchReference:var o=_i(t,ai.MatchReference);a.push({type:r,values:[Pr[xr.MatchReference].$matching],neg:[Pr[xr.MatchReference].notmatching],options:{...o}});break;case xr.MatchManyReferenceParameter:o=_i(t,ai.MatchManyReferenceParameter);a.push({type:r,values:[Pr[xr.MatchManyReferenceParameter].$matching],neg:[Pr[xr.MatchManyReferenceParameter].notmatching],options:{...o}});break;case xr.InEnumerable:var i=_i(t,ai.EnumerationReference),s=Ms.getReferencedNodeName(e,i,ai.Enumeration),l=Ms.getReference(i,ai.AllowedEnumValues),p=Ms.getReference(i,ai.DisallowedEnumValues);let u=Ms._createConstantList(s,l),c=Ms._createConstantList(s,p),d=Ms.createInstanceEnumerationListName(t,s,n),f=Ms.getReferencedNodeName(e,i,jr.Ref1Property);a.push({type:r,name:d,ref:i[jr.Ref1],property:f,values:u,neg:c,options:{...i}});break;case xr.InExtension:let h=_i(t,ai.UIExtensionDefinition),m=Ms._createExtensionInstanceList(t,extentionNode,n),y=Ms._getNotAllowedExtectionConstances(t,extentionNode,n),_=Ms.createInstanceEnumerationListName(t,extentionNode,n,"Extensions"),v=_i(propertyNodeLinkedToByDependencyPermissionNode,ai.CodeName);a.push({type:r,name:_,property:v,values:m,neg:y,options:{...h}})}}),a}static getReferencedNodeName(e,t,n){return _i(Ms.getReferencedValue(e,t,n),ai.CodeName)}static getReferencedValue(e,t,n){return io(e,t[n])}static getReference(e,t){return e[t]}static GenerateCases(e,t,n,r){var o=Zi(e);let i=hr.a.readFileSync(Ls,"utf-8"),a=hr.a.readFileSync(Ts,"utf-8"),s={};if(t)for(var l in Jn){var p=_i(t,ai.UIPermissions);if(p&&p[l]){let n=[],p=Oo(e,{id:t.id,links:[{type:zn.Condition,direction:Io}]});p&&p.length&&p.map((s,p)=>{var u="variable_"+p;switch(_i(s,ai.ConditionType)){case xr.MatchReference:if(h=_i(s,ai.MatchReference)){var c=io(o,h[jr.Ref1]);let r=Oo(e,{id:t.id,links:[{type:zn.Condition,direction:Lo},{type:zn.FunctionOperator,direction:Lo}]}).find(e=>e);if(r){if(_i(r,ai.MethodProps)){var d=h[jr.Ref1UseId],f=h[jr.Ref2UseId];n.push({template:Dr(a,{variable:u,value_property:d?"Id":"",data_property:f?"Id":"",relationship:_i(m,ai.CodeName),property:_i(c,ai.CodeName)}),variable:u})}}}break;case xr.MatchManyReferenceParameter:var h;if(h=_i(s,ai.MatchManyReferenceParameter)){c=io(o,h[jr.RefManyToManyProperty]);let r=Oo(e,{id:t.id,links:[{type:zn.Condition,direction:Lo},{type:zn.FunctionOperator,direction:Lo}]}).find(e=>e);if(r){let e=_i(r,ai.MethodProps);if(e){var m=io(o,e[h[jr.RefManyToMany]]);n.push({arbiter:_i(m,ai.CodeName),template:Dr(i,{variable:u,relationship:_i(m,ai.CodeName),property:_i(c,ai.CodeName)}),variable:u})}}}break;case xr.InEnumerable:var y=_i(s,ai.EnumerationReference);if(y){let e=y[jr.Ref1],t=io(o,y[ai.Enumeration]);if(t){let i=_i(s,ai.CodeName)||_i(s,ai.NODEType),a=`${i}_valid_items`,p=hr.a.readFileSync(Es,"utf-8"),u=Ms.createStringList({name:a,constants_allowed:y[ai.AllowedEnumValues],enumerationName:_i(t,ai.CodeName)}),c=io(o,y[jr.Ref1Property]);var _={method:l,value:`${"model"!==e?"value":"data"}`.toLowerCase(),value_property:_i(c,ai.CodeName),model:_i(r,ai.CodeName)||_i(r,ai.NODEType),casename:i,"allowed-values-list":a,instance_list:u};let d=Dr(p,_);n.push({variable:`can${_.method}${_.model}${_.casename}`,template:d})}}}}),s[l]=n}}return s}static EnumerateCases(e){return fp(e.map(e=>(e&&e.values?e.values.length:0)+(e&&e.neg?e.neg.length:0)))}static EnumeratePermissionCases(e,t,n,r,o){if(!(t&&n&&r&&o))return[];let i=Ms.GetTestExtensionNodeValues(e,t,n,r,o),a=Ms.EnumerateCases(i),s=hr.a.readFileSync(gs,"utf-8"),l=_i(vi({id:t.id,links:[{type:zn.FunctionOperator,direction:Lo}]}),ai.MethodProps);return a.map(e=>{let t=[],n=[],r=!0;return e.map((e,o)=>{let a,p=i[o];switch(r=r&&p.values.length>e,p.type){case xr.MatchManyReferenceParameter:if(p.options&&p.options[jr.Ref1]&&p.options[jr.Ref2]&&l&&l[p.options[jr.Ref1]]&&l[p.options[jr.Ref2]]&&p.options[jr.Ref1]!==p.options[jr.Ref2]){let e=p.options[jr.Ref2];switch(p.options[jr.Ref2]){case yr.AgentType:throw"this should be agent now"}if(e){let o,i="Id";p.options[jr.Ref1UseId]||(i=p.options[jr.Ref1Property]);let a=p.options[jr.Ref1];switch(a){case yr.Agent:case yr.Model:case yr.Parent:o=Dr(s,{model:a,property:`.${i}`,value:'"wrong"'}),t.push({props:r?"":o,type:p.type}),n.push({property:`.${i}`,value:`${e}.Id`});break;case yr.AgentType:throw"This should be agent now";default:throw"this hasnt been defined yet"}}}break;case xr.MatchReference:if(p.options&&p.options[jr.Ref1]&&p.options[jr.Ref2]&&p.options[jr.Ref1]!==p.options[jr.Ref2]){let e=p.options[jr.Ref2];switch(p.options[jr.Ref2]){case yr.AgentType:throw"this should be agent now"}if(e){let o,i="Id";p.options[jr.Ref1UseId]||(i=p.options[jr.Ref1Property]);let a=p.options[jr.Ref1];switch(a){case yr.Agent:case yr.Model:case yr.Parent:o=Dr(s,{model:a,property:`.${i}`,value:r?`${e}.Id`:'"wrong"'}),t.push({props:o,type:xr.MatchReference}),n.push({property:`.${i}`,value:`${e}.Id`});break;case yr.AgentType:throw"This should be agent now";default:throw"this hasnt been defined yet"}}}break;default:a="model"===p.ref;let o=p.values.length<=e?p.neg[e-p.values.length]:p.values[e],i=Dr(s,{model:a?"model":"agent",property:`.${p.property}`,value:o});a?(t.push({props:i,type:yr.Model}),n.push({props:{property:p.property,value:o},type:yr.Model})):(t.push({props:i,type:yr.Agent}),n.push({props:{property:p.property,value:o},type:yr.Agent}))}}),{props:[...t],properties:[...n],resultSuccess:r}})}static GenerateTestCases(e,t,n,r){var o=Zi(e);let i=null,a=null,s="",l=hr.a.readFileSync(_s,"utf-8"),p=[],u=t?vi({id:t.id,links:[{type:zn.FunctionOperator,direction:Lo}]}):null;switch(i=bi(o,u,yr.Parent),a=bi(o,u,yr.ManyToManyModel),s=hr.a.readFileSync("./app/templates/permissions/tests/many_to_many_register.tpl","utf-8"),_i(u,ai.FunctionType)){case mr.Get_ManyToMany_Agent_Value__IListChild:l=hr.a.readFileSync("./app/templates/permissions/tests/Get_ManyToMany_Agent_Value__IListChild.tpl","utf-8"),s=Dr(s,{ref1type:gi(i),ref1:yr.Parent,ref2type:gi(r),ref2:yr.Model});break;case mr.Get_Parent$Child_Agent_Value__IListChild:l=hr.a.readFileSync("./app/templates/permissions/tests/Get_Parent$Child_Agent_Value__IListChild.tpl","utf-8"),s=Dr(s,{ref1type:gi(i),ref1:yr.Parent,ref2type:gi(n),ref2:yr.Agent})}if(u)for(var c in Jn){var d=_i(t,ai.UIPermissions);if(t&&d&&d[c]){let e=Ms.EnumeratePermissionCases(o,t,c,n,r);e=e.map((e,o)=>{var{props:p,resultSuccess:u,templates:d={}}=e;return Dr(Dr(l,{many_to_many_register:s}),{set_agent_properties:p.filter(e=>e.type===yr.Agent).map(e=>e.props).join(tr),set_model_properties:p.filter(e=>e.type===yr.Model).map(e=>e.props).join(tr),set_parent_properties:p.filter(e=>e.type===yr.Parent).map(e=>e.props).join(tr),set_match_reference_properties:p.filter(e=>e.type===xr.MatchReference).map(e=>e.props).join(tr),set_match_many_reference_properties:p.filter(e=>e.type===xr.MatchManyReferenceParameter).map(e=>e.props).join(tr),agent_type:gi(n),model:gi(r),many_to_many:gi(a),parent:gi(i),method:c,test:`_${gi(n)}_${gi(r)}_${c}_${o}`,result:u?"true":"false",function_name:gi(t)+c,...d})}),p=[...p,...e]}}return p}static Generate(e){var{state:t,key:n}=e;let r=Hi(t,oi.Model),o=Hi(t,oi.Permission),i=r.filter(e=>_i(e,ai.IsAgent)),a=ea(t),s=a?a[Ur.NAMESPACE]:null,l=hr.a.readFileSync(vs,"utf-8"),p=hr.a.readFileSync(bs,"utf-8"),u=hr.a.readFileSync(Ss,"utf-8"),c=hr.a.readFileSync(Is,"utf-8"),d=hr.a.readFileSync(Os,"utf-8"),f=hr.a.readFileSync(ks,"utf-8"),h={};return i.map(e=>{let n=u,i=p,a=l,m=[],y=[],_=[],v=[];r.map(n=>{let r=o.filter(t=>Ms.PermissionMatches(t,e,n));if(!r||!r.length)return;let i=[],a=[];r.map(r=>{if(r){a.push(_i(r,ai.CodeName));let o=Ms.GenerateCases(t,r,e,n),s=Ms.GenerateTestCases(t,r,e,n);i.push(o),_.push(...s)}}),i.map((t,r)=>{for(var o in t){let i=t[o];i.map(e=>{e&&e.arbiter&&v.push(e)});let s=d,l=c;s=Dr(s,{model:_i(n,ai.CodeName),value:"data",agent_type:_i(e,ai.CodeName),function_name:a[r]+o,agent:"value",method:o,cases:i.map(e=>As+xs(4)+e.template).join(""),case_result:As+xs(4)+`result = ${i.map(e=>e.variable).join(" && ")};`}),l=Dr(l,{model:_i(n,ai.CodeName),function_name:a[r]+o,value:"data",agent_type:_i(e,ai.CodeName),agent:"value",method:o}),y.push(l),m.push(s)}})}).join(As),v=v.map(e=>e.arbiter).unique(e=>e).map(e=>Dr(f,{arbiter:e})).join(As),n=Dr(n,{agent_type:_i(e,ai.CodeName),arbiters:v,methods:m.join(As+As)}),i=Dr(i,{agent_type:_i(e,ai.CodeName),methods:y.join(As+As)}),h[_i(e,ai.CodeName)]={name:`Permissions${_i(e,ai.CodeName)}`,tname:`Permissions${_i(e,ai.CodeName)}Tests`,iname:`IPermissions${_i(e,ai.CodeName)}`,template:qa.Generate({template:n,usings:[...xn,`${s}${Un.Extensions}`,`${s}${Un.Model}`,`${s}${Un.Interface}`,v&&v.length?`${s}${Un.Controllers}`:null,`${s}${Un.Constants}`].filter(e=>e),namespace:s,space:Un.Permissions}),interface:qa.Generate({template:i,usings:[...xn,`${s}${Un.Interface}`,`${s}${Un.Model}`],namespace:s,space:Un.Interface}),test:qa.Generate({template:Dr(a,{tests:_.join(tr),name:`Permissions${_i(e,ai.CodeName)}`}),usings:[...xn,...wn,`${s}${Un.Interface}`,`${s}${Un.Permissions}`,`${s}${Un.Extensions}`,`${s}${Un.Constants}`,`${s}${Un.Model}`],namespace:s,space:Un.Tests})}}),h}}const As="\n",ws="   ";function xs(e){let t="";for(var n=0;n<e;n++)t+=ws;return t}const Ps="./app/templates/validation/validation_class.tpl",js="./app/templates/validation/tests/validation.tpl",Rs="./app/templates/tests/tests.tpl",$s="./app/templates/validation/validation_property.tpl";class Ds{static enumerateValidationTestVectors(e){var t=e.map(e=>Object.keys(e.values.cases).length);return Ds.enumerate(t)}static enumerate(e,t=0){var n=[];if(t<e.length)for(var r=0;r<e[t];r++){var o=Ds.enumerate(e,t+1),i=[r];o.length?o.map(e=>{n.push([...i,...e])}):n.push(i)}return n}static Tabs(e){let t="";for(var n=0;n<e;n++)t+="    ";return t}static GenerateValidationCases(e,t){var n=_i(t,ai.ValidatorModel);let r=Zr(_i(t,ai.Validator));var o=[];return Object.keys(r).map(t=>{let n=io(e,t),i=r[t];return Object.keys(i.validators).map(t=>{let r=i.validators[t],a=io(e,r.node),s="";if(a)switch(_i(a,ai.NODEType)){case oi.ExtensionType:if(r&&r.extension){let e={"_ _":'"__ _ __"'};s=Object.keys(r.extension).map(t=>{if(r.extension[t])return e[`$${t}`]=`${_i(a,ai.CodeName)}.${Wn(t)}`,e[`$${t}`]}).filter(e=>e),o.push({property:_i(n,ai.CodeName),values:{cases:e,invalid:{"_ _":!0}}}),s=`new List<string> () {\n                ${s.join(", ")}\n            }`}break;case oi.Enumeration:if(r&&r.enumeration){let t=_i(io(e,r.node),ai.CodeName);s=Object.keys(r.enumeration).map(e=>{if(r.enumeration[e])return`${t}.${Wn(e)}`}).filter(e=>e),o.push({property:_i(n,ai.CodeName),values:{cases:[...s],invalid:{"_ _":!0}}}),s=`new List<string> () {\n                    ${s.join(", ")}\n                }`}}sr[r.type]&&o.push({property:_i(n,ai.CodeName),values:sr[r.type]})})}),Ds.enumerateValidationTestVectors(o).map((t,r)=>{let i=!0,a=[],s=t.map((t,r)=>{var s=Object.values(o[r].values.cases)[t],l=Object.keys(o[r].values.cases)[t];"function"==typeof s?s=s():o[r]&&o[r].values&&o[r].values.invalid&&!o[r].values.invalid[l]&&(l="$$"),i=i&&"$"===(l||[!1])[0];let p=Ds.Tabs(3)+`{{model}}.${o[r].property} = ${s};`;return a.push({set_properties:p,property:o[r].property,type:_i(io(e,n),ai.CodeName)}),p}).join(tr);return{resultSuccess:i,propertyInformation:a,set_properties:s,type:_i(io(e,n),ai.CodeName)}})}static Generate(e){var{state:t,key:n}=e;let r=ea(t),o=r?r[Ur.NAMESPACE]:null,i=ea(t),a={},s=Hi(t,oi.Validator),l=hr.a.readFileSync(Ps,"utf-8"),p=hr.a.readFileSync($s,"utf-8"),u=hr.a.readFileSync(js,"utf-8"),c=hr.a.readFileSync(Rs,"utf-8");return s.map(e=>{_i(e,ai.ValidatorAgent);var t=_i(e,ai.ValidatorModel),n=io(i,t),r=_i(e,ai.ValidatorFunction),s=io(i,r);let d=Zr(_i(e,ai.Validator));var f=[];let h=Object.keys(d).map(e=>{let t=io(i,e),n=d[e];return Object.keys(n.validators).map(e=>{let r=n.validators[e],o=io(i,r.node),a="";if(o)switch(_i(o,ai.NODEType)){case oi.ExtensionType:if(r&&r.extension){let e={"_ _":'"__ _ __"'};a=Object.keys(r.extension).map(t=>{if(r.extension[t])return e[`$${t}`]=`${_i(o,ai.CodeName)}.${Wn(t)}`,e[`$${t}`]}).filter(e=>e),f.push({property:_i(t,ai.CodeName),values:{cases:e,invalid:{"_ _":!0}}}),a=`new List<string> () {\n                ${a.join(", ")}\n            }`}break;case oi.Enumeration:if(r&&r.enumeration){let e=_i(io(i,r.node),ai.CodeName);a=Object.keys(r.enumeration).map(t=>{if(r.enumeration[t])return`${e}.${Wn(t)}`}).filter(e=>e),f.push({property:_i(t,ai.CodeName),values:{cases:[...a],invalid:{"_ _":!0}}}),a=`new List<string> () {\n                    ${a.join(", ")}\n                }`}}return sr[r.type]&&f.push({property:_i(t,ai.CodeName),values:sr[r.type]}),Dr(p,{attribute_type:r.code[nr.CSHARP],attribute_type_arguments:a,model_property:`.${_i(t,ai.CodeName)}`})+tr}).join("")}).join("");let m=Ds.enumerateValidationTestVectors(f).map((r,o)=>{let a=!0,s=r.map((e,t)=>{var n=Object.values(f[t].values.cases)[e],r=Object.keys(f[t].values.cases)[e];return"function"==typeof n?n=n():f[t]&&f[t].values&&f[t].values.invalid&&!f[t].values.invalid[r]&&(r="$$"),a=a&&"$"===(r||[!1])[0],Ds.Tabs(3)+`model.${f[t].property} = ${n};`}).join(tr);return Dr(u,{model:_i(n,ai.CodeName),test_name:`Test${o}`,attribute_parameters:"",expected_value:a?"true":"false",set_properties:s,attribute_type:`${_i(e,ai.CodeName)}Attribute`,properties:h,type:_i(io(i,t),ai.CodeName)})});var y=Dr(l,{model:_i(e,ai.CodeName),function_name:_i(s,ai.CodeName),properties:h,type:_i(io(i,t),ai.CodeName)}),_=Dr(c,{name:_i(e,ai.CodeName),tests:m.join(tr)});y=Dr(l,{model:_i(e,ai.CodeName),function_name:_i(s,ai.CodeName),properties:h,type:_i(io(i,t),ai.CodeName)}),a[_i(e,ai.CodeName)]={id:_i(e,ai.CodeName),name:`${_i(e,ai.CodeName)}Attribute`,tname:`${_i(e,ai.CodeName)}AttributeTests`,template:qa.Generate({template:y,usings:[...xn,`${o}${Un.Model}`,`${o}${Un.Extensions}`,`${o}${Un.Constants}`],namespace:o,space:Un.Validations}),test:qa.Generate({template:_,usings:[...xn,...wn,`${o}${Un.Model}`,`${o}${Un.Validations}`,`${o}${Un.Extensions}`,`${o}${Un.Constants}`],namespace:o,space:Un.Tests})}}),a}}const Gs="./app/templates/stream_process/stream_process_orchestration.tpl",Us="./app/templates/stream_process/stream_process_orchestration_interface.tpl",Fs="./app/templates/stream_process/stream_process_orchestration_agenttype_methods.tpl",Vs="./app/templates/stream_process/stream_process_orchestration_agenttype_methods_interface.tpl",Hs="./app/templates/stream_process/stream_process_orchestration_selected_staged_changes.tpl",Bs="./app/templates/stream_process/tests/stream_process_execution_tests.tpl",qs="./app/templates/stream_process/tests/create_model_tests.tpl",Ws="./app/templates/tests/tests.tpl";class Ys{static GenerateStaticMethods(e){let t=hr.a.readFileSync(Hs,"utf-8");return e.map(e=>{let n=t,r=_i(e,ai.CodeName);return Dr(n,{model:r,"model#allupper":r.toUpperCase(),"model#lower":r.toLowerCase()})+zs})}static GenerateAgentMethods(e){let t=Hi(e,oi.Model),n=t.filter(e=>_i(e,ai.IsAgent)),r=hr.a.readFileSync(Fs,"utf-8"),o=[],i=[];return t.map(e=>{i.push(Qs(4)+`await Process${_i(e,ai.CodeName)}Changes();`+zs)}),o.push(`       public async Task ProcessStagedChanges(Distribution distribution = null) {\n${i.join("")}\n        }\n`),n.map(e=>{t.map(t=>{var n=Dr(r,{model:_i(t,ai.CodeName),"model#lower":_i(t,ai.CodeName).toLowerCase(),agent_type:_i(e,ai.CodeName),"agent_type#lower":_i(e,ai.CodeName).toLowerCase()});o.push(n)})}),o.join("")}static GenerateAgentInterfaceMethods(e){let t=Hi(e,oi.Model),n=t.filter(e=>_i(e,ai.IsAgent)),r=hr.a.readFileSync(Vs,"utf-8"),o=[];return n.map(e=>{t.map(t=>{var n=Dr(r,{model:_i(t,ai.CodeName),"model#lower":_i(t,ai.CodeName).toLowerCase(),agent_type:_i(e,ai.CodeName),"agent_type#lower":_i(e,ai.CodeName).toLowerCase()});o.push(n)})}),o.join("")}static GenerateStrappers(e){let t=[];return t.push(Qs(4)+"validator = RedStrapper.Resolve<IValidator>();"+zs),e.map(e=>{let n=_i(e,ai.CodeName);t.push(Qs(4)+`${n.toLowerCase()}Arbiter = RedStrapper.Resolve<IRedArbiter<${n}>>();`+zs),t.push(Qs(4)+`${n.toLowerCase()}ChangeArbiter = RedStrapper.Resolve<IRedArbiter<${n}Change>>();`+zs),_i(e,ai.IsAgent)&&(t.push(Qs(4)+`${n.toLowerCase()}ResponseArbiter = RedStrapper.Resolve<IRedArbiter<${n}Response>>();`+zs),t.push(Qs(4)+`${n.toLowerCase()}Executor = RedStrapper.Resolve<I${n}Executor>();`+zs))}),t.join("")}static GenerateStrappersInstances(e){let t=[];return t.push(Qs(3)+"public IValidator validator;"+zs),e.map(e=>{let n=_i(e,ai.CodeName);t.push(Qs(3)+`public IRedArbiter<${n}> ${n.toLowerCase()}Arbiter;`+zs),t.push(Qs(3)+`public IRedArbiter<${n}Change> ${n.toLowerCase()}ChangeArbiter;`+zs),_i(e,ai.IsAgent)&&(t.push(Qs(3)+`public IRedArbiter<${n}Response> ${n.toLowerCase()}ResponseArbiter;`+zs),t.push(Qs(3)+`public I${n}Executor ${n.toLowerCase()}Executor;`+zs))}),t.join("")}static GenerateProcessTests(e){let t=ea(e),n=Hi(e,oi.Method),r="",o=hr.a.readFileSync(Bs,"utf-8"),i=hr.a.readFileSync(qs,"utf-8");r=n.map((e,n)=>{let r=_i(e,ai.MethodProps);_i(e,ai.MethodType);if(r){var i=io(t,r[yr.AgentType]),a=io(t,r[yr.Model]);io(t,r[yr.User]),io(t,r[yr.Permission])}if(a&&i&&e)return Dr(o,{model:_i(a,ai.CodeName),agent_type:_i(i,ai.CodeName),function_name:_i(e,ai.CodeName),test_name:`${_i(e,ai.CodeName)}Test`})}).filter(e=>e).join(tr);let a=[];return n.map((n,r)=>{let o=_i(n,ai.MethodProps),s=_i(n,ai.MethodType);if(o){var l=io(t,o[yr.AgentType]),p=io(t,o[yr.Model]),u=io(t,o[yr.Permission]);if(t&&u&&s&&l&&p){let r=Ys.GetFunctionValidators(e,n),s=null;r&&r.length&&(s=r.map(e=>({cases:Ds.GenerateValidationCases(t,e),isModel:_i(e,ai.ValidatorModel)===o[yr.Model]}))),s&&fp(s.map(e=>e.cases.length)).map((e,t)=>{let r=s[0].cases[e[0]],o=s[1].cases[e[1]],u="",c="";s[1].isModel?(u=Dr(o.set_properties,{model:"model"}),c=Dr(r.set_properties,{model:"agent"})):(u=Dr(o.set_properties,{model:"agent"}),c=Dr(r.set_properties,{model:"model"})),a.push(Dr(i,{model:_i(p,ai.CodeName),agent_type:_i(l,ai.CodeName),set_agent_propeties:u,set_model_properties:c,function_name:_i(n,ai.CodeName),test_result:!(r.resultSuccess&&o.resultSuccess),test_name:`${_i(n,ai.CodeName)}${t}Test`}))})}}}).join(tr),r+tr+a.join(tr)}static EnumerateFunctionValidators(e,t){let n=ea(e),r=_i(t,ai.MethodProps),o=Ys.GetFunctionValidators(e,t),i=null;return o&&o.length&&(i=o.map(e=>({cases:Ds.GenerateValidationCases(n,e),isModel:_i(e,ai.ValidatorModel)===r[yr.Model]}))),fp((i||[]).map(e=>e.cases.length)).map((e,t)=>{let n=i[0].cases[e[0]],r=i[1].cases[e[1]],o="",a="";return i[1].isModel?(o=Dr(r.set_properties,{model:"model"}),a=Dr(n.set_properties,{model:"agent"}),r.propertyInformation.map(e=>e.set_properties=Dr(e.set_properties,{model:"model"})),n.propertyInformation.map(e=>e.set_properties=Dr(e.set_properties,{model:"agent"})),{model:r,agent:n}):(o=Dr(r.set_properties,{model:"agent"}),a=Dr(n.set_properties,{model:"model"}),r.propertyInformation.map(e=>e.set_properties=Dr(e.set_properties,{model:"agent"})),n.propertyInformation.map(e=>e.set_properties=Dr(e.set_properties,{model:"model"})),{agent:r,model:n})})}static GetFunctionValidators(e,t){return Hi(e,oi.Validator).filter(e=>_i(e,ai.ValidatorFunction)===t.id)}static Generate(e){var{state:t,key:n}=e;let r=Hi(t,oi.Model),o=ea(t),i=o?o[Ur.NAMESPACE]:null,a=hr.a.readFileSync(Gs,"utf-8"),s=hr.a.readFileSync(Us,"utf-8"),l=hr.a.readFileSync(Ws,"utf-8"),p=Ys.GenerateAgentMethods(t),u=Ys.GenerateAgentInterfaceMethods(t),c=Ys.GenerateStaticMethods(r),d=Ys.GenerateStrappers(r),f=Ys.GenerateStrappersInstances(r);a=Dr(a,{static_methods:c.join(""),agent_type_methods:p,arbiters_strappers:d,arbiter_instances:f});let h=Dr(l,{name:"StreamProcessOrchestration",tests:Ys.GenerateProcessTests(t)});return s=Dr(s,{agent_type_methods:u}),{StreamProcessOrchestration:{id:"StreamProcessOrchestration",name:"StreamProcessOrchestration",iname:"IStreamProcessOrchestration",tname:"StreamProcessOrchestrationTests",template:qa.Generate({template:a,usings:[...xn,"System.Linq.Expressions",`${i}${Un.Model}`,`${i}${Un.Parameters}`,`${i}${Un.Executors}`,`${i}${Un.Interface}`,`${i}${Un.Constants}`],namespace:i,space:Un.StreamProcess}),interface:qa.Generate({template:s,usings:[...xn,`${i}${Un.Model}`,`${i}${Un.Parameters}`,`${i}${Un.Interface}`,`${i}${Un.Constants}`],namespace:i,space:Un.StreamProcess}),test:qa.Generate({template:h,usings:[...xn,...wn,`${i}${Un.Model}`,`${i}${Un.Parameters}`,`${i}${Un.Interface}`,`${i}${Un.StreamProcess}`,`${i}${Un.Executors}`,`${i}${Un.Extensions}`,`${i}${Un.Constants}`],namespace:i,space:Un.Tests})}}}}const zs="\n",Xs="   ";function Qs(e){let t="";for(var n=0;n<e;n++)t+=Xs;return t}const Ks="./app/templates/models/itemfilters/item_filter.tpl",Js="./app/templates/models/itemfilters/filter_property_function_value.tpl",Zs="./app/templates/models/itemfilters/filter_property_function_value_equals.tpl";class el{static predicates(e){return e.map(e=>`${gi(e)}.Filter()`)}static Generate(e){var{state:t,key:n}=e;let r=ea(t),o=r?r[Ur.NAMESPACE]:null,i=(ea(t),{}),a=hr.a.readFileSync(Ks,"utf-8");Hi(t,oi.ModelFilter);return Hi(t,oi.ModelItemFilter).map(e=>{let t=_i(e,ai.ModelItemFilter),n=_i(e,ai.FilterModel),r=[];if(n&&n.properties){let e=hr.a.readFileSync(Js,"utf-8"),o=[];Object.keys(n.properties).map(e=>{let t=gi(e);n.properties[e]&&Object.keys(n.properties[e].validators).map(r=>{let i=n.properties[e].validators[r],a="";if(i&&i.type)switch(i.type){case ur.EqualsTrue:a="true";break;case ur.EqualsFalse:a="false"}let s=hr.a.readFileSync(Zs,"utf-8");o.push(Dr(s,{property:t,value:a,function:"=="}))})}),r.push(Dr(e,{filter:o.join(""),model:gi(t)}))}let s=Dr(a,{code_name:_i(e,ai.CodeName),filter:r});i[_i(e,ai.CodeName)]={id:_i(e,ai.CodeName),name:`${_i(e,ai.CodeName)}`,template:qa.Generate({template:s,usings:[...xn,`${o}${Un.Model}`,`${o}${Un.Interface}`,`${o}${Un.Constants}`],namespace:o,space:Un.Controllers})}}),i}}const tl="./app/templates/maestro/maestro.tpl",nl="./app/templates/maestro/imaestro.tpl",rl="./app/templates/tests/tests.tpl",ol="./app/templates/maestro/tests/maestro.tpl",il="./app/templates/maestro/tests/maestro_same_agent_model.tpl",al="./app/templates/maestro/tests/get_agent_manytomany_listchild_interface.tpl",sl="./app/templates/maestro/tests/maestro_get.tpl";class ll{static Tabs(e){let t="";for(var n=0;n<e;n++)t+=ul;return t}static Generate(e){var{state:t,key:n}=e;let r=ea(t),o=r?r[Ur.NAMESPACE]:null,i=Hi(t,oi.Maestro),a=hr.a.readFileSync(tl,"utf-8"),s=hr.a.readFileSync(nl,"utf-8"),l=hr.a.readFileSync(rl,"utf-8"),p=hr.a.readFileSync(ol,"utf-8"),u=hr.a.readFileSync(il,"utf-8"),c=hr.a.readFileSync(sl,"utf-8"),d=ea(t),f=Zi(t),h={};return i.map(e=>{let n=a,i="",m="",y=`${_i(e,ai.CodeName)}`,_=[],v=ko(d,{id:e.id,type:zn.FunctionLink,direction:Io}),g=[],b=[],C=_i(e,ai.CodeName),E=[];(_=v).length&&_.map(e=>{let n=_i(e,ai.FunctionType);var o=wr[n];if(o){let l=o.template,d=o.interface,h="",y="";o.parentGet&&(h="string");let _=`${_i(e,ai.CodeName)}`,v=`${_i(e,ai.HttpMethod)}`,N=`${_i(e,ai.HttpRoute)}`,O=null,k=null,S=null,I=null,L=null,T=null,M=null,A=_i(e,ai.MethodProps),w="";if(A){O=io(r,A[yr.AgentType]),M=io(r,A[yr.Model]),k=io(r,A[yr.User]),I=io(r,A[yr.Permission]),L=io(r,A[yr.ModelFilter]),T=io(r,A[yr.ManyToManyModel]),S=io(r,A[yr.Parent]),T=io(r,A[yr.ManyToManyModel]);var a=Oo(t,{id:e.id,links:[{type:zn.ModelItemFilter,direction:Io}]});w=(w=el.predicates(a)).length?","+w.join():""}let x=O?`${_i(O,ai.CodeName)}`.toLowerCase():"{maestro_generator_mising_agentTypeNode}",P=M?_i(M,ai.CodeName):"{maestro_generator_mising_model}",j=O?`${_i(O,ai.CodeName)}`:"{maestro_generator_mising_agentTypeNode}",R=_i(e,ai.MethodType),$=T?_i(T,ai.CodeName):"{maestro_connection_type_missing}";y=S?_i(S,ai.CodeName):"{missing parent name}",S&&g.push(y);let D=to(r,[!!M&&M.id,O?O.id:null].filter(e=>e))||[];g.push(...D.map(e=>_i(e,ai.CodeName))),g.push(j,P),b.push({agent_type:j,model_type:P});let G="",U=!1;o.parentGet?(G=S?`${_i(S,ai.CodeName)}`.toLowerCase():"{missing parent name}",O&&S&&(U=O.id===S.id)):G=M?`${_i(M,ai.CodeName)}`.toLowerCase():"{maestro_generator_mising_model}";let F={function_name:_,agent_type:j,parent_type:y,agent:x,value_type:h,value:G,model:P,connect_type:$,predicates:w,maestro_function:_,filter_function:L?_i(L,ai.CodeName):"{missing filter node}",user:k?_i(k,ai.CodeName):"{maestro_generator_mising_user}",http_route:N||"{maestro_generator_http_method",http_method:v||"{maestro_generator_http_method",user_instance:k?`${_i(k,ai.CodeName)}`.toLowerCase():"{maestro_generator_mising_userNode}",output_type:M?_i(M,ai.CodeName):"{maestro_generator_missing_model}",maestro_interface:Lr(C),permission_function:I?_i(I,ai.CodeName)+R:"{MISSING_PERMISSION_FUNCTION}",input_type:M?_i(M,ai.CodeName):"{maestro_generator_missing_model}"};l=Dr(l,F),d=Dr(d,F),i+=pl+l,m+=pl+d;var s=Ms.EnumeratePermissionCases(f,I,R,O,M);let V=Ys.EnumerateFunctionValidators(t,e);V&&s&&(V.map(e=>{s.map(t=>{let n={},r={};if(e&&e.agent&&t.agentProperties){var o=[...e.agent.propertyInformation.map(e=>e.set_properties),...t.properties.filter(e=>e.type===yr.Agent).map(e=>e.props).map((n,r)=>-1===e.agent.propertyInformation.findIndex(e=>e.property===n.property)&&t.agentProps[r]).filter(e=>e)].join(tr);n.agent=o}if(e&&e.model&&t.itemProperties){o=[...e.model.propertyInformation.map(e=>e.set_properties),...t.filter(e=>e.type===yr.Model).map(e=>e.props).map((n,r)=>-1===e.model.propertyInformation.findIndex(e=>e.property===n.property)&&t.itemProps[r]).filter(e=>e)].join(tr);n.model=o}if(e&&e.agent&&t.agentProperties){o=[...t.agentProperties.map((e,n)=>t.agentProps[n]),...e.agent.propertyInformation.map((n,r)=>-1===t.agentProperties.findIndex(e=>e.property===n.property)&&e.agent.propertyInformation[r].set_properties).filter(e=>e)].join(tr);r.agent=o}if(e&&e.model&&t.itemProperties){o=[...t.itemProperties.map((e,n)=>t.itemProps[n]),...e.model.propertyInformation.map((n,r)=>-1===t.itemProperties.findIndex(e=>e.property===n.property)&&e.model.propertyInformation[r].set_properties).filter(e=>e)].join(tr);r.model=o}E.push(r),E.push(n)})}),E=E.map((e,t)=>{let r=p;switch(o.method){case Jn.Get:case Jn.GetAll:r=c,U&&(r=u)}switch(n){case mr.Get_ManyToMany_Agent_Value__IListChild:r=hr.a.readFileSync(al,"utf-8")}return Dr(r,{agent:j,many_to_many:_i(T,ai.CodeName),parent:_i(S,ai.CodeName),set_many_to_many_properties:"//{not set yet}",value:M?`${_i(M,ai.CodeName)}`.toLowerCase():"{maestro_generator_mising_model}",model:P,function_name:_,maestro:C,set_agent_properties:e.agent,user:k?_i(k,ai.CodeName):"{maestro_generator_mising_user}",set_model_properties:e.model,testname:`${_}Test${t}`})}))}}),g=g.unique(),b=b.unique(e=>`${e.agent_type}`);var N=g.map(e=>`IRedArbiter<${e}> _arbiter${e}`),O=b.map(e=>`IPermissions${e.agent_type} _${e.agent_type.toLowerCase()}Permissions`),k=g.map(e=>pl+ll.Tabs(4)+`arbiter${e} = _arbiter${e};`),S=b.map(e=>pl+ll.Tabs(4)+`${e.agent_type.toLowerCase()}Permissions = _${e.agent_type.toLowerCase()}Permissions;`),I=g.map(e=>pl+ll.Tabs(3)+`private readonly IRedArbiter<${e}> arbiter${e};`),L=b.map(e=>pl+ll.Tabs(3)+`private readonly IPermissions${e.agent_type} ${e.agent_type.toLowerCase()}Permissions;`);let T=Dr(l,{name:y,tests:E.join(tr)});n=Dr(n,{codeName:y,set_properties:[...k,...S].join(pl),properties:[...L,...I].join(" "),injected_services:[...N,...O].map((e,t)=>pl+ll.Tabs(7)+e).join(","),"codeName#alllower":y.toLowerCase(),functions:i});let M=Dr(s,{codeName:y,set_properties:[...k,...S].join(pl),properties:[...L,...I].join(" "),injected_services:[...N,...O].map((e,t)=>pl+ll.Tabs(7)+e).join(","),"codeName#alllower":y.toLowerCase(),functions:m});h[_i(e,ai.CodeName)]={id:_i(e,ai.CodeName),name:_i(e,ai.CodeName),iname:`I${_i(e,ai.CodeName)}`,tname:`${_i(e,ai.CodeName)}Tests`,template:qa.Generate({template:n,usings:[...xn,`${o}${Un.Model}`,`${o}${Un.Interface}`,`${o}${Un.StreamProcess}`,`${o}${Un.Constants}`,`${o}${Un.Permissions}`,`${o}${Un.Parameters}`],namespace:o,space:Un.Controllers}),interface:qa.Generate({template:M,usings:[...xn,`${o}${Un.Model}`,`${o}${Un.Interface}`],namespace:o,space:Un.Controllers}),test:qa.Generate({template:T,usings:[...xn,...wn,`${o}${Un.Model}`,`${o}${Un.Parameters}`,`${o}${Un.Interface}`,`${o}${Un.StreamProcess}`,`${o}${Un.Permissions}`,`${o}${Un.Controllers}`,`${o}${Un.Executors}`,`${o}${Un.Extensions}`,`${o}${Un.Constants}`],namespace:o,space:Un.Tests})}}),h}}const pl="\n",ul="   ",cl="./app/templates/tests/tests.tpl",dl="./app/templates/stream_process/stream_process_change_class_extention.tpl",fl="./app/templates/stream_process/stream_process_change_class_constructor.tpl",hl="./app/templates/stream_process/tests/stream_process_change_class_constructor.tpl",ml="./app/templates/models/model_statics.tpl";class yl{static Tabs(e){let t="";for(var n=0;n<e;n++)t+=vl;return t}static Generate(e){var{state:t,key:n}=e;let r=Hi(t,oi.Model),o=r.filter(e=>_i(e,ai.IsAgent)),i=ea(t),a=i?i[Ur.NAMESPACE]:null,s=hr.a.readFileSync(cl,"utf-8"),l=hr.a.readFileSync(dl,"utf-8"),p=hr.a.readFileSync(fl,"utf-8"),u=hr.a.readFileSync(hl,"utf-8"),c={};return r.map(e=>{let t=l,n=s,r=[],i=[],d=hr.a.readFileSync(ml,"utf-8");o.map(t=>{Object.values(Jn).filter(e=>e!==Jn.Get).map(n=>{let o=p;o=Dr(o,{model:_i(e,ai.CodeName),value:_i(e,ai.ValueName)||"value",agent_type:_i(t,ai.CodeName),agent:_i(t,ai.AgentName)||"agent",change_type:`Methods.${n}`,method:n});let a=u;a=Dr(a,{model:_i(e,ai.CodeName),value:_i(e,ai.ValueName)||"value",agent_type:_i(t,ai.CodeName),agent:_i(t,ai.AgentName)||"agent",change_type:`Methods.${n}`,method:n}),r.push(o),i.push(a)})}).join(_l);let f={model:`${_i(e,ai.CodeName)}Change`};r.push(Dr(d,f)),t=Dr(t,{model:_i(e,ai.CodeName),constructors:r.join(_l)}),n=Dr(n,{name:`${_i(e,ai.CodeName)}Change`,tests:i.unique(e=>e).join("")}),c[_i(e,ai.CodeName)]={id:_i(e,ai.CodeName),name:`${_i(e,ai.CodeName)}Change`,tname:`${_i(e,ai.CodeName)}ChangeTests`,template:qa.Generate({template:t,usings:[...xn,`${a}${Un.Constants}`,`${a}${Un.Model}`],namespace:a,space:Un.Parameters}),test:qa.Generate({template:n,usings:[...xn,...wn,`${a}${Un.Constants}`,`${a}${Un.Parameters}`,`${a}${Un.Model}`],namespace:a,space:Un.Tests})}}),c}}const _l="\n",vl="   ",gl="./app/templates/constants.tpl";class bl{static Tabs(e){let t="";for(var n=0;n<e;n++)t+=El;return t}static Generate(e){var{values:t=[],state:n}=e;let r=ea(n),o=r?r[Ur.NAMESPACE]:null,i=hr.a.readFileSync(gl,"utf-8"),a={};return t.map(e=>{let{model:t,name:n}=e,r=i;var s=Object.keys(t).map(e=>{let n=Dr('public const string {{name}} = "{{value}}";',{name:e,value:t[e]});return bl.Tabs(3)+n}).join(Cl);r=Dr(r,{constants:s,constants_type:n}),a[n]={id:n,name:n,template:qa.Generate({template:r,usings:[...xn],namespace:o,space:Un.Constants})}}),a}}const Cl="\n",El="   ",Nl="./app/templates/tests/tests.tpl",Ol="./app/templates/stream_process/stream_process.tpl",kl="./app/templates/stream_process/tests/stream_process.tpl",Sl="./app/templates/stream_process/stream_process_function.tpl";class Il{static GenerateStaticMethods(e){let t=e.filter(e=>_i(e,ai.IsAgent)),n=hr.a.readFileSync(Sl,"utf-8"),r=[];return t.map(t=>{e.map(e=>{let o=n,i=_i(e,ai.CodeName),a=Dr(o,{model:i,agent_type:_i(t,ai.CodeName),"model#allupper":i.toUpperCase()});r.push(a+Ll)})}),r}static GenerateStaticMethodTests(e){let t=e.filter(e=>_i(e,ai.IsAgent)),n=hr.a.readFileSync(kl,"utf-8"),r=[];return t.map(t=>{e.map(e=>{let o=n,i=_i(e,ai.CodeName),a=Dr(o,{model:i,agent_type:_i(t,ai.CodeName),"model#allupper":i.toUpperCase()});r.push(a+Ll)})}),r.unique(e=>e)}static Generate(e){var{state:t,key:n}=e;let r=Hi(t,oi.Model),o=ea(t),i=o?o[Ur.NAMESPACE]:null,a=hr.a.readFileSync(Ol,"utf-8"),s=hr.a.readFileSync(Nl,"utf-8"),l=Il.GenerateStaticMethods(r),p=Il.GenerateStaticMethodTests(r);return a=Dr(a,{static_methods:l.join("")}),s=Dr(s,{tests:p.join(""),name:"StreamProcess"}),{StreamProcess:{id:"StreamProcess",name:"StreamProcess",template:qa.Generate({template:a,usings:[...xn,"System.Threading",`${i}${Un.Constants}`,`${i}${Un.Parameters}`,`${i}${Un.Model}`],namespace:i,space:Un.StreamProcess}),test:qa.Generate({template:s,usings:[...xn,...wn,"System.Threading",`${i}${Un.Constants}`,`${i}${Un.StreamProcess}`,`${i}${Un.Parameters}`,`${i}${Un.Model}`],namespace:i,space:Un.Tests})}}}}const Ll="\n",Tl="./app/templates/stream_process/stream_process_response_class_extention.tpl",Ml="./app/templates/stream_process/stream_process_response_class_extention_constructor.tpl",Al="./app/templates/stream_process/tests/stream_process_response_class_extention_constructor.tpl",wl="./app/templates/stream_process/stream_process_response_class_extention_constructor_failed.tpl",xl="./app/templates/tests/tests.tpl";class Pl{static Tabs(e){let t="";for(var n=0;n<e;n++)t+=Rl;return t}static Generate(e){var{state:t,key:n}=e;let r=Hi(t,oi.Model),o=r.filter(e=>_i(e,ai.IsAgent)),i=ea(t),a=i?i[Ur.NAMESPACE]:null,s=hr.a.readFileSync(Tl,"utf-8"),l=hr.a.readFileSync(Ml,"utf-8"),p=hr.a.readFileSync(Al,"utf-8"),u=hr.a.readFileSync(wl,"utf-8"),c=hr.a.readFileSync(xl,"utf-8"),d={};return o.map(e=>{let t=[],n=[],o=s,i=c;r.map(o=>{r.map(r=>{Object.values(Jn).filter(e=>e!==Jn.Get&&e!==Jn.GetAll).map(i=>{let a=l,s=u,c=p,d=null,f="";i===Jn.Delete?(d=`${_i(o,ai.CodeName)}Change change, bool res`,f=`\n            var change = ${_i(o,ai.CodeName)}Change.Create();\n            var res = true;\n                            `):(d=`${_i(o,ai.CodeName)}Change change, ${_i(r,ai.CodeName)} ${(_i(r,ai.ValueName)||"").toLowerCase()}`,f=`\n            var change = ${_i(o,ai.CodeName)}Change.Create();\n            var res =  ${_i(r,ai.CodeName)}.Create();\n            change.Response = "response";\n            change.ChangeType = "changeType";\n                            `);let h=`\n            ${i===Jn.Delete?"":`\n            result.IdValue = ${(_i(r,ai.ValueName)||"").toLowerCase()}.Id;`}\n            result.Response = change.Response;\n            result.ChangeType = change.ChangeType;\n            `,m=`\n            var response = ${_i(e,ai.CodeName)}Response.${i}(change, res);\n`;a=Dr(a,{model:_i(r,ai.CodeName),value:_i(r,ai.ValueName)||"value",agent_type:_i(e,ai.CodeName),agent:_i(e,ai.AgentName)||"agent",change_type:`Methods.${i} `,method:i,parameters:d,parameters_property:h}),c=Dr(c,{model:_i(r,ai.CodeName),model2:_i(o,ai.CodeName),value:_i(r,ai.ValueName)||"value",agent_type:_i(e,ai.CodeName),agent:_i(e,ai.AgentName)||"agent",change_type:`Methods.${i} `,method:i,assert:"\n            Assert.AreEqual(response.Response, change.Response);\n            Assert.AreEqual(response.ChangeType, change.ChangeType);\n",act:m,arrange:f,parameters:d,parameters_property:h}),s=Dr(s,{model:_i(r,ai.CodeName),value:_i(r,ai.ValueName)||"value",agent_type:_i(e,ai.CodeName),agent:_i(e,ai.AgentName)||"agent",change_type:`Methods.${i} `,method:i,parameters:d,parameters_property:h}),n.some(e=>e===c)||n.push(c),-1===t.indexOf(a)&&t.push(a),-1===t.indexOf(s)&&t.push(s)})})}),o=Dr(o,{model:_i(e,ai.CodeName),constructors:t.join(jl),properties:""}),i=Dr(i,{model:_i(e,ai.CodeName),constructors:t.join(jl),name:`${_i(e,ai.CodeName)}Response`,properties:"",tests:n.join(jl)}),d[_i(e,ai.CodeName)]={id:_i(e,ai.CodeName),name:`${_i(e,ai.CodeName)}Response`,tname:`${_i(e,ai.CodeName)}ResponseTests`,template:qa.Generate({template:o,usings:[...xn,`${a} ${Un.Constants} `,`${a} ${Un.Model} `],namespace:a,space:Un.Parameters}),test:qa.Generate({template:i,usings:[...xn,...wn,`${a} ${Un.Parameters} `,`${a} ${Un.Constants} `,`${a} ${Un.Model} `],namespace:a,space:Un.Parameters})}}),d}}const jl="\n                ",Rl="   ",$l="./app/templates/executor/executor_class.tpl",Dl="./app/templates/executor/executor_class_interface.tpl",Gl="./app/templates/executor/create.tpl",Ul="./app/templates/executor/executor_entry_methods.tpl",Fl="./app/templates/executor/executor_entry_methods_interface.tpl",Vl="./app/templates/executor/entry_method_case.tpl",Hl="./app/templates/executor/update.tpl",Bl="./app/templates/tests/tests.tpl",ql="./app/templates/executor/executor_methods.tpl",Wl="./app/templates/executor/executor_methods_interface.tpl";class Yl{static enumerateValidationTestVectors(e){var t=e.map(e=>Object.keys(e.values.cases).length);return Yl.EnumerateCases(t)}static EnumerateCases(e,t=0){return fp(e,t)}static Tabs(e){let t="";for(var n=0;n<e;n++)t+="    ";return t}static Generate(e){var{state:t,key:n}=e;let r=ea(t),o=r?r[Ur.NAMESPACE]:null,i=ea(t),a={},s=Hi(t,oi.Executor),l=hr.a.readFileSync($l,"utf-8"),p=hr.a.readFileSync(Dl,"utf-8"),u=hr.a.readFileSync(ql,"utf-8"),c=hr.a.readFileSync(Wl,"utf-8"),d=hr.a.readFileSync(Gl,"utf-8"),f=hr.a.readFileSync(Hl,"utf-8"),h=hr.a.readFileSync(Ul,"utf-8"),m=hr.a.readFileSync(Fl,"utf-8"),y=hr.a.readFileSync(Vl,"utf-8"),_=(hr.a.readFileSync(Bl,"utf-8"),{}),v={},g={},b=[],C=Hi(t,oi.Model),E=C.filter(e=>_i(e,ai.IsAgent)),N=Hi(t,[oi.Function,oi.Method]);C.map(e=>{E.map(t=>{Object.keys(Jn).map(n=>{let r=!1;N.filter(e=>_i(e,ai.MethodType)===n).map(n=>{r=!0,b.push({agent:_i(t,ai.CodeName),model:_i(e,ai.CodeName),function:_i(n,ai.CodeName),method:_i(n,ai.MethodType)})}),r||b.push({agent:_i(t,ai.CodeName),model:_i(e,ai.CodeName),method:n})})})}),s.map(e=>{var t=_i(e,ai.ExecutorAgent),n=_i(e,ai.ExecutorModel),r=io(i,n),o=io(i,t),a=_i(e,ai.ExecutorFunction),s=io(i,a),l=_i(e,ai.ExecutorFunctionType),p=io(i,a);let h=Zr(_i(e,ai.Executor));var m=[];let y=_i(o,ai.CodeName)+_i(r,ai.CodeName)+_i(p,ai.MethodType);g[y]=g[y]||[],g[y].push({agent:_i(o,ai.CodeName),model:_i(r,ai.CodeName),functType:l,funct:_i(s,ai.CodeName)});let b=Object.keys(h).map(e=>{let t=io(i,e),n=h[e];return Object.keys(n.validators).map(e=>{let r=n.validators[e],o=io(i,r.node),a="";if(o)switch(_i(o,ai.NODEType)){case oi.ExtensionType:if(r&&r.extension){let e={"_ _":'"_____"'};a=Object.keys(r.extension).map(t=>{if(r.extension[t])return e[`${t}`]=`${_i(o,ai.CodeName)}.${Wn(t)}`,e[`${t}`]}).filter(e=>e),a=e.filter(e=>e).unique(e=>e).join(),m.push({property:_i(t,ai.CodeName),values:{cases:e}}),a=`new List<string> () {\n                ${a}\n            }`}break;case oi.Enumeration:}sr[r.type]&&m.push({property:_i(t,ai.CodeName),values:sr[r.type]});let s="result{{model_property}} = data{{model_property}};";switch(r.type){case lr.AgentReference:s="result{{model_property}} = agent.Id;"}var l=Dr(s,{attribute_type:r.code[nr.CSHARP],attribute_type_arguments:a,model_property:`.${_i(t,ai.CodeName)}`});return Yl.Tabs(4)+l+tr}).unique(e=>e).join("")}).unique(e=>e).join(""),C="{{not-defined template}}";switch(l){case Jn.Create:C=d;break;case Jn.Update:C=f}var E=Dr(C,{property_sets:b,model:`${_i(r,ai.CodeName)}`}),N=(E=Dr(u,{model:_i(r,ai.CodeName),method_name:_i(p,ai.CodeName),parameters:Dr("{{data}} data, {{agent}} agent, {{change}} change",{data:_i(r,ai.CodeName),agent:_i(o,ai.CodeName),change:`${_i(r,ai.CodeName)}Change`}),data:_i(r,ai.CodeName),agent:_i(o,ai.CodeName),change:`${_i(r,ai.CodeName)}Change`,method_guts:E}),Dr(c,{model:_i(r,ai.CodeName),method_name:_i(p,ai.CodeName),parameters:Dr("{{data}} data, {{agent}} agent, {{change}} change",{data:_i(r,ai.CodeName),agent:_i(o,ai.CodeName),change:`${_i(r,ai.CodeName)}Change`}),data:_i(r,ai.CodeName),agent:_i(o,ai.CodeName),change:`${_i(r,ai.CodeName)}Change`,method_guts:E}));v[t]=v[t]||[],_[t]=_[t]||[],_[t].push(E),v[t].push(N)});let O=b.map(e=>{var{agent:t,model:n,method:r}=e;let o=(g[t+n+e.method]||[]).map(e=>{var{agent:t,model:n,functType:r,funct:o}=e;return Dr(y,{agent:t,model:n,func_name:o})+tr}).unique(e=>e).join("");return Dr(h,{agent:t,model:n,cases:o,change:`${n}`,method:r})+tr}),k=b.map(e=>{var{agent:t,model:n,method:r}=e;return Dr(m,{agent:t,model:n,change:`${n}`,method:r})+tr});return Object.keys(_).map(e=>{var t=io(i,e);let n=Dr(l,{model:_i(t,ai.CodeName),methods:_[e].join(""),staticentry:O.unique(e=>e).join("")}),r=Dr(p,{model:_i(t,ai.CodeName),methods:v[e].unique(e=>e).join(""),staticentry:k.unique(e=>e).join("")});a[_i(t,ai.CodeName)]={id:_i(t,ai.CodeName),name:`${_i(t,ai.CodeName)}Executor`,tname:`${_i(t,ai.CodeName)}ExecutorTests`,iname:`I${_i(t,ai.CodeName)}Executor`,template:qa.Generate({template:n,usings:[...xn,`${o}${Un.Model}`,`${o}${Un.Parameters}`,`${o}${Un.Interface}`,`${o}${Un.Constants}`],namespace:o,space:Un.Executors}),interface:qa.Generate({template:r,usings:[...xn,`${o}${Un.Model}`,`${o}${Un.Parameters}`,`${o}${Un.Constants}`],namespace:o,space:Un.Interface})}}),a}}const zl="./app/templates/models/returns/returns_class.tpl",Xl="./app/templates/models/returns/returns_funcs.tpl";class Ql{static Generate(e){var{state:t,key:n}=e;let r=ea(t),o=r?r[Ur.NAMESPACE]:null,i=ea(t),a={},s=hr.a.readFileSync(zl,"utf-8"),l=hr.a.readFileSync(Xl,"utf-8"),p=Hi(t,oi.ModelFilter);return Hi(t,oi.Model).filter(e=>_i(e,ai.IsAgent)).map(e=>{var t=p.filter(t=>_i(t,ai.FilterAgent)===e.id).map(t=>{let n=io(r,_i(t,ai.FilterModel)),o=ko(i,{id:n.id,direction:Io,type:zn.PropertyLink}).filter(e=>_i(t,ai.FilterPropreties)?_i(t,ai.FilterPropreties)[e.id]:"").map(e=>`           result.${_i(e,ai.CodeName)} = model.${_i(e,ai.CodeName)};`).join(tr);return Dr(l,{function:_i(t,ai.CodeName),agent:_i(e,ai.CodeName),model:_i(n,ai.CodeName),set_properties:o})}).join(tr);let n=Dr(s,{agent:_i(e,ai.CodeName),functions:t});a[_i(e,ai.CodeName)]={id:_i(e,ai.CodeName),name:`${_i(e,ai.CodeName)}Return`,template:qa.Generate({template:n,usings:[...xn,`${o}${Un.Model}`,`${o}${Un.Interface}`,`${o}${Un.Constants}`],namespace:o,space:Un.Controllers})}}),a}}const Kl="./app/templates/models/exceptions/exceptions_class.tpl";class Jl{static Generate(e){var{state:t,key:n}=e;let r=ea(t),o=r?r[Ur.NAMESPACE]:null,i=(ea(t),{}),a=hr.a.readFileSync(Kl,"utf-8");Hi(t,oi.ModelFilter);return Hi(t,oi.Model).filter(e=>_i(e,ai.IsAgent)).map(e=>{let t=Dr(a,{agent:_i(e,ai.CodeName)});i[_i(e,ai.CodeName)]={id:_i(e,ai.CodeName),name:`${_i(e,ai.CodeName)}Exceptions`,template:qa.Generate({template:t,usings:[...xn,`${o}${Un.Model}`,`${o}${Un.Interface}`,`${o}${Un.Constants}`],namespace:o,space:Un.Controllers})}}),i}}const Zl="./app/templates/models/gets/model_get_class.tpl",ep="./app/templates/models/gets/model_get_function.tpl",tp="./app/templates/models/gets/model_get_many_to_many_function.tpl",np="./app/templates/models/gets/model_get_many_to_many_function_get_child.tpl";class rp{static enumerateValidationTestVectors(e){var t=e.map(e=>Object.keys(e.values.cases).length);return rp.EnumerateCases(t)}static EnumerateCases(e,t=0){return fp(e,t)}static Tabs(e){let t="";for(var n=0;n<e;n++)t+="    ";return t}static Generate(e){var{state:t,key:n}=e;let r=ea(t),o=r?r[Ur.NAMESPACE]:null,i=ea(t),a={},s=hr.a.readFileSync(Zl,"utf-8"),l=hr.a.readFileSync(ep,"utf-8"),p=hr.a.readFileSync(tp,"utf-8"),u=hr.a.readFileSync(np,"utf-8"),c=Hi(t,oi.Model);return c.map(e=>{var t=c.filter(t=>t.id!==e.id).filter(t=>!(!_i(e,ai.HasLogicalChildren)||!(_i(e,ai.LogicalChildrenTypes)||[]).some(e=>e===t.id)||_i(e,ai.ManyToManyNexus))).map(t=>Dr(l,{agent_type:_i(e,ai.CodeName),model:_i(t,ai.CodeName)}));if(_i(e,ai.ManyToManyNexus)){var n=_i(e,ai.LogicalChildrenTypes)||[];if(n&&n.length){let r=n.map(e=>_i(io(i,e),ai.CodeName)).unique(e=>e).length===n.length;n.map(n=>{t.push(Dr(u,{model:_i(io(i,n),ai.CodeName),many_to_many:_i(e,ai.CodeName)}))}),fp([].interpolate(0,n.length,function(){return n.length+1})).filter(e=>e.length===e.unique(e=>e).length).map(o=>{let a=o.subset(0,o.length).map((e,t)=>{if(n.length===e)return!1;let o=`x${t}`;return r&&(o=_i(io(i,n[e]),ai.CodeName).toLowerCase()),Dr(`{{_type}} ${o}`,{_type:_i(io(i,n[e]),ai.CodeName)})}).filter(e=>e);a.length&&t.push(Dr(p,{parameters:a.join(", "),query:o.subset(0,o.length).map((e,t)=>{if(n.length===e)return!1;let o=`x${t}`;return r&&(o=_i(io(i,n[e]),ai.CodeName).toLowerCase()),Dr(`item.{{_type}} == ${o}.Id`,{_type:_i(io(i,n[e]),ai.CodeName)})}).filter(e=>e).join(" && "),model:_i(e,ai.CodeName)}))})}}let r=Dr(s,{agent_type:_i(e,ai.CodeName),functions:t.unique(e=>e).join(tr)});a[_i(e,ai.CodeName)]={id:_i(e,ai.CodeName),name:`${_i(e,ai.CodeName)}Get`,template:qa.Generate({template:r,usings:[...xn,`${o}${Un.Model}`,`${o}${Un.Interface}`,`${o}${Un.Constants}`],namespace:o,space:Un.Controllers})}}),a}}class op{static generate(e){var{state:t,type:n,key:r}=e;switch(n){case Ln.Controller:return Xa.Generate({state:t,key:r});case Ln.Model:return ns.Generate({state:t,key:r});case Ln.ExtensionType:return fs.Generate({state:t,key:r});case Ln.Maestro:return ll.Generate({state:t,key:r});case Mn.ChangeParameter:return yl.Generate({state:t,key:r});case Mn.ChangeResponse:return Pl.Generate({state:t,key:r});case Mn.Constants:let e=Hi(t,Ln.Model),o=Hi(t,[Ln.Function,Ln.Method]),i=Hi(t,Ln.Enumeration).map(e=>{var t=_i(e,Fn.Enumeration),n={};return t.map(e=>{n[Wn(e)]=e}),{name:_i(e,Fn.CodeName),model:n}}),a={};e.map(e=>{a[_i(e,Fn.CodeName).toUpperCase()]=_i(e,Fn.CodeName).toUpperCase()});let s={};return o.map(e=>{s[_i(e,Fn.CodeName)]=_i(e,Fn.CodeName).toUpperCase()}),bl.Generate({values:[{name:Pn.Methods,model:Jn},{name:Pn.StreamTypes,model:a},{name:Pn.FunctionName,model:s},...i],state:t,key:r});case Mn.Permissions:return Ms.Generate({state:t,key:r});case Mn.StreamProcess:return Il.Generate({state:t,key:r});case Mn.StreamProcessOrchestration:return Ys.Generate({state:t,key:r});case Mn.ValidationRule:return Ds.Generate({state:t,key:r});case Mn.Executors:return Yl.Generate({state:t,key:r});case Mn.ModelGet:return rp.Generate({state:t,key:r});case Mn.ModelReturn:return Ql.Generate({state:t,key:r});case Mn.ModelExceptions:return Jl.Generate({state:t,key:r});case Mn.ModelItemFilter:return el.Generate({state:t,key:r})}}}const{ipcRenderer:ip}=n("electron"),ap={};function sp(e={}){var{filesOnly:t}=e;return(e,n)=>{var r=n();let o=ea(r),i=o.title.split(" ").join(".");(t?Promise.resolve():function(e,t){var n=function(e,t){return{msg:e,body:t,id:(void 0)()}}(e,t);ap[n.id]={};let r=Promise.resolve().then(()=>new Promise((e,t)=>{ap[n.id].resolve=e,ap[n.id].fail=t}));return ip.send("message",JSON.stringify(n)),r}(Fa.scaffold.message,{solutionName:i,workspace:Ha.a.join(o.workspace,o.title)})).then(e=>{console.log("Finished Scaffolding."),function(e,t,n){var r=[Ln.Controller,Ln.Model,Ln.ExtensionType,Ln.Maestro,...Object.values(Mn)];let o=ea(n);r.map(r=>{var o=op.generate({type:r,state:n});let i=pp[r];for(var a in Ha.a.join(),o)lp(Ha.a.join(e,t+i)),Object(fr.writeFileSync)(Ha.a.join(e,t+i,`${o[a].name}.cs`),o[a].template),o[a].interface&&(lp(Ha.a.join(e,t+".Interfaces")),Object(fr.writeFileSync)(Ha.a.join(e,t+".Interfaces",`${o[a].iname||a}.cs`),o[a].interface)),o[a].test&&(lp(Ha.a.join(e,t+".Tests")),Object(fr.writeFileSync)(Ha.a.join(e,t+".Tests",`${o[a].tname||a}.cs`),o[a].test))}),o&&(lp(Ha.a.join(e,t+".Tests")),Object(fr.writeFileSync)(Ha.a.join(e,t+".Tests","appsettings.json"),JSON.stringify(o.appConfig,null,4)),lp(Ha.a.join(e,t+".Web")),Object(fr.writeFileSync)(Ha.a.join(e,t+".Web","appsettings.json"),JSON.stringify(o.appConfig,null,4)))}(Ha.a.join(o.workspace,o.title),i,r)}).then(()=>{let e=o?o[Ur.NAMESPACE]:null,t=o?o[Ur.SERVER_SIDE_SETUP]:null,n=Hi(r,Ln.Model).find(e=>_i(e,ai.IsUser));if(t)return function e(t,n,r,o){let i=hr.a.readdirSync(t);r=r||t;i.map(i=>{let a=Ha.a.join(t,i);if(hr.a.existsSync(a)&&hr.a.lstatSync(a).isDirectory()){let s=t.substr(r.length);lp(Ha.a.join(o,s,i)),e(a,n,r,o)}else if(hr.a.existsSync(a)){let e=hr.a.readFileSync(a,"utf-8"),s=t.substr(r.length);e=Dr(e,n),hr.a.writeFileSync(Ha.a.join(o,s,i),e,"utf-8")}})}(Ha.a.join(`./app/templates/net_core_mvc/identity/${t}`),{model:_i(n,ai.CodeName),namespace:e},null,Ha.a.join(Ha.a.join(o.workspace,o.title),i+Ha.a.join(".Web")))})}}function lp(e){hr.a.existsSync(e)||console.log("doesnt exist : "+e),hr.a.existsSync(e)||hr.a.mkdirSync(e)}ip.on("message-reply",(e,t)=>{console.log(t);let n=JSON.parse(t);ap[n.id]&&ap[n.id].resolve(n.msg),delete ap[n.id]});const pp={[Ln.Controller]:Ha.a.join(".Web","Controllers"),[Ln.Model]:".Models",[Ln.ExtensionType]:".Models",[Ln.Maestro]:".Controllers",[Mn.ChangeParameter]:".Models",[Mn.ChangeResponse]:".Models",[Mn.ValidationRule]:".Models",[Mn.Executors]:".Controllers",[Mn.ModelGet]:".Controllers",[Mn.ModelReturn]:".Controllers",[Mn.ModelExceptions]:".Controllers",[Mn.Constants]:".Models",[Mn.Permissions]:".Controllers",[Mn.ModelItemFilter]:".Controllers",[Mn.StreamProcess]:".Controllers",[Mn.StreamProcessOrchestration]:".Controllers"};function up(e){return{state:e}}function cp(e){return Object(y.bindActionCreators)({...r,...o},e)}function dp(e){return Object(c.connect)(up,cp)(e)}function fp(e,t=0){var n=[];if(t<e.length)for(var r=0;r<e[t];r++){var o=fp(e,t+1),i=[r];o.length?o.map(e=>{n.push([...i,...e])}):n.push(i)}return n}var hp;function mp(e,t,n,r){hp||(hp="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:hp,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}String.prototype.padding=function(e,t){var n=this.valueOf();if(Math.abs(e)<=n.length)return n;var r=Math.max(Math.abs(e)-this.length||0,0),o=Array(r+1).join(String(t||" ").charAt(0));return e<0?o+n:n+o},String.prototype.unCamelCase=function(){return(this||"").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b([A-Z]+)([A-Z])([a-z])/,"$1 $2$3").replace(/^./,function(e){return e.toUpperCase()}).trim()};var yp,_p,vp,gp=mp("a",{className:"logo"},void 0,mp("span",{className:"logo-mini"},void 0,mp("b",{},void 0,"R"),"QB"),mp("span",{className:"logo-lg"},void 0,mp("b",{},void 0,"Red"),"QuickBuilder"));class bp extends s.Component{render(){return gp}}class Cp extends s.Component{render(){return function(e,t,n,r){yp||(yp="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:yp,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("header",{className:"main-header"},void 0,this.props.children)}}class Ep extends s.Component{render(){return function(e,t,n,r){_p||(_p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:_p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("nav",{className:"navbar navbar-static-top"},void 0,this.props.children)}}function Np(e,t,n,r){vp||(vp="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:vp,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Op=Np("span",{className:"sr-only"},void 0,"Toggle navigation");var kp,Sp,Ip,Lp,Tp,Mp,Ap,wp=dp(class extends s.Component{render(){var e=this;return Np("a",{onClick:()=>{e.props.toggleDashboardMinMax()},className:"sidebar-toggle","data-toggle":"push-menu",role:"button"},void 0,Op)}});function xp(e,t,n,r){kp||(kp="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:kp,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class Pp extends s.Component{render(){return xp("div",{className:"navbar-custom-menu"},void 0,xp("ul",{className:"nav navbar-nav"},void 0,this.props.children))}}function jp(){return(jp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rp(e,t,n,r){Sp||(Sp="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Sp,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class $p extends s.Component{menuType(){return"messages-menu"}open(){return this.props.open?"open":""}ariaExpanded(){return this.props.open?"true":"false"}icon(){return this.props.icon||"fa fa-envelope-o"}label(){return null}usermode(){return this.props.usermode}usermenu(){return this.props.usermode?"user user-menu":""}userbody(){return this.props.usermode?"user user-body":""}userheader(){return this.props.usermode,"header"}render(){var e={};return this.props.width&&(e.style={width:this.props.width}),Rp("li",{className:`dropdown ${this.usermenu()} ${this.menuType()} ${this.open()}`},void 0,Rp("a",{className:"dropdown-toggle","data-toggle":"dropdown","aria-expanded":this.ariaExpanded(),onClick:()=>{this.props.onClick&&this.props.onClick()}},void 0,Rp("i",{className:this.icon()}),this.label()),l.a.createElement("ul",jp({className:"dropdown-menu"},e),this.props.headerText?Rp("li",{className:this.userheader()},void 0,this.props.headerText):null,this.props.header?Rp("li",{className:this.userheader()},void 0,this.props.header):null,this.usermode()?Rp("li",{className:this.userbody()},void 0,Rp("div",{className:"row"},void 0,this.props.children)):Rp("li",{className:this.userbody()},void 0,Rp("ul",{className:"menu"},void 0,this.props.children)),this.props.footer?this.props.footer:null))}}function Dp(e,t,n,r){Ip||(Ip="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Ip,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class Gp extends s.Component{icon(){return this.props.icon||"fa fa-envelope-o"}render(){return Dp("li",{},void 0,Dp("a",{onClick:()=>{this.props.onClick&&this.props.onClick()}},void 0,Dp("div",{className:"pull-left"},void 0,Dp("i",{style:{fontSize:34},className:this.icon()})),Dp("h4",{},void 0,this.props.title),Dp("p",{},void 0,this.props.description)))}}function Up(e,t,n,r){Lp||(Lp="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Lp,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class Fp extends s.Component{render(){return Up("aside",{className:"main-sidebar"},void 0,Up("section",{className:"sidebar",style:{height:"auto"}},void 0,this.props.children))}}class Vp extends s.Component{render(){return function(e,t,n,r){Tp||(Tp="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Tp,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("li",{className:"header"},void 0,this.props.title)}}class Hp extends s.Component{render(){return function(e,t,n,r){Mp||(Mp="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Mp,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("ul",{className:"sidebar-menu tree"},void 0,this.props.children)}}function Bp(e,t,n,r){Ap||(Ap="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Ap,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var qp,Wp,Yp,zp,Xp,Qp,Kp,Jp,Zp=Bp("i",{className:"fa fa-angle-left pull-right"});class eu extends s.Component{active(){return this.props.active?"active":""}open(){return this.props.open?"menu-open":""}display(){return this.props.open,"block"}icon(){return this.props.icon||"fa fa-dashboard"}render(){return Bp("li",{className:`treeview ${this.active()} ${this.open()}`},void 0,Bp("a",{onClick:()=>{this.props.toggle&&this.props.toggle(),this.props.onClick&&this.props.onClick()}},void 0,this.props.hideIcon?null:Bp("i",{className:`${this.icon()}`}),Bp("span",{},void 0,this.props.title),this.props.hideArrow?null:Bp("span",{className:"pull-right-container"},void 0,Zp,this.props.right?this.props.right:null),!this.props.hideArrow&&this.props.right?null:Bp("span",{className:"pull-right-container"},void 0,this.props.right?this.props.right:null)),Bp("ul",{className:"treeview-menu",style:{display:this.display()}},void 0,this.props.children))}}function tu(e,t,n,r){qp||(qp="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:qp,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class nu extends s.Component{icon(){return this.props.icon||"fa fa-circle-o"}render(){return tu("li",{},void 0,tu("a",{onClick:()=>{this.props.onClick&&this.props.onClick()}},void 0,tu("i",{className:this.icon()}),this.props.title,this.props.right?tu("span",{class:"pull-right-container"},void 0,this.props.right):null),this.props.children)}}class ru extends s.Component{render(){return function(e,t,n,r){Wp||(Wp="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Wp,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:"content-wrapper",style:{minHeight:"946px"}},void 0,this.props.children)}}class ou extends s.Component{open(){return this.props.open?"control-sidebar-open":""}extraWidth(){return this.props.extraWide?"extra-wide":""}render(){return function(e,t,n,r){Yp||(Yp="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Yp,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("aside",{className:`control-sidebar control-sidebar-dark ${this.open()} ${this.extraWidth()}`},void 0,this.props.children)}}class iu extends s.Component{render(){return function(e,t,n,r){zp||(zp="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:zp,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("ul",{className:"nav nav-tabs nav-justified control-sidebar-tabs"},void 0,this.props.children)}}function au(e,t,n,r){Xp||(Xp="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Xp,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class su extends s.Component{icon(){return this.props.icon||"fa fa-wrench"}active(){return this.props.active?"active":""}ariaExapanded(){return this.props.active?"true":"false"}render(){return au("li",{className:this.active()},void 0,au("a",{"data-toggle":"tab",onClick:()=>{this.props.onClick&&this.props.onClick()},"aria-expanded":this.ariaExapanded()},void 0,au("i",{className:this.icon()})))}}function lu(e,t,n,r){Qp||(Qp="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Qp,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class pu extends s.Component{render(){return lu("ul",{className:"control-sidebar-menu"},void 0,this.props.children)}}class uu extends s.Component{icon(){return this.props.icon||"fa fa-birthday-cake"}render(){return lu("li",{},void 0,lu("a",{onClick:()=>{this.props.onClick&&this.props.onClick()}},void 0,lu("i",{className:`menu-icon ${this.icon()} bg-red`}),lu("div",{className:"menu-info"},void 0,lu("h4",{className:"control-sidebar-subheading"},void 0,this.props.title||""),lu("p",{},void 0,this.props.description||""))))}}class cu extends s.Component{render(){return lu("h3",{className:"control-sidebar-heading"},void 0,this.props.title)}}class du extends s.Component{active(){return this.props.active?"active":""}render(){return function(e,t,n,r){Kp||(Kp="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Kp,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:`tab-pane ${this.active()}`},void 0,this.props.active?this.props.children:null)}}function fu(){return(fu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class hu extends s.Component{_class(){return this.props.sidebarform?"sidebar-form":""}render(){return l.a.createElement("form",fu({role:"form",className:this._class()},{style:this.props.style||{}}),this.props.children)}}function mu(e,t,n,r){Jp||(Jp="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Jp,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var yu,_u,vu=mu("i",{className:"fa fa-edit"});class gu extends s.Component{label(){return this.props.label||"{label}"}value(){return this.props.value||""}placeholder(){return this.props.placeholder||""}disabled(){return this.props.disabled?"disabled":""}render(){return mu("div",{className:this.props.inputgroup?"input-group":"form-group"},void 0,this.props.inputgroup?null:mu("label",{},void 0,this.label()),mu("input",{type:"text",disabled:this.disabled(),className:"form-control",value:this.value(),onChange:e=>{this.props.onChange&&this.props.onChange(e.target.value)},placeholder:this.placeholder()}),this.props.inputgroup?mu("span",{className:"input-group-btn"},void 0,mu("button",{type:"submit",onClick:()=>{this.props.onClick&&this.props.onClick()},name:"search",id:"search-btn",className:"btn btn-flat"},void 0,vu)):null)}}function bu(e,t,n,r){yu||(yu="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:yu,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class Cu extends s.Component{label(){return this.props.label||"{label}"}value(){return this.props.value||""}options(){return this.props.options?this.props.options.map((e,t)=>bu("option",{value:e.value},`option-${t}`,e.title)):[]}disabled(){return this.props.disabled?"disabled":""}render(){return bu("div",{className:"form-group"},void 0,bu("label",{},void 0,this.label()),bu("select",{className:"form-control",disabled:this.disabled(),onSelect:e=>{this.props.onChange&&this.props.onChange(e.target.value)},onChange:e=>{this.props.onChange&&this.props.onChange(e.target.value)},value:this.value()},void 0,bu("option",{value:""},void 0,this.props.defaultSelectText||ze),this.options()))}}function Eu(e,t,n,r){_u||(_u="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:_u,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class Nu extends s.Component{label(){return this.props.label||"{label}"}value(){return this.props.value||""}title(){return this.props.title||""}render(){return Eu("div",{className:"form-group"},void 0,Eu("div",{className:"checkbox"},void 0,Eu("label",{title:this.title()},void 0,Eu("input",{type:"checkbox",checked:this.value(),onChange:e=>{this.props.onChange&&this.props.onChange(e.target.checked)}}),this.label())))}}var Ou=n("webcola");const ku={Facebook:"Facebook",Twitter:"Twitter",Google:"Google",Microsoft:"Microsoft"},Su={[ku.Facebook]:{properties:{UseFacebook:{type:"boolean"},FacebookAppId:{type:"string"},FacebookAppSecret:{type:"string"}}},[ku.Microsoft]:{properties:{UseMicrosoftAccount:{type:"boolean"},MicrosoftClientId:{type:"string"},MicrosoftClientSecret:{type:"string"}}},[ku.Google]:{properties:{UseGoogle:{type:"boolean"},GoogleClientId:{type:"string"},GoogleClientSecret:{type:"string"}}},[ku.Twitter]:{properties:{UseTwitter:{type:"boolean"},TwitterConsumerKey:{type:"string"},TwitterConsumerSecret:{type:"string"}}}};var Iu;function Lu(e,t,n,r){Iu||(Iu="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Iu,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Tu,Mu,Au=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Services),n=Oi(e,hi(e,$i));let r=n?_i(n,Fn.ServiceType):"",o=[];if(r){let e=Su[r];e&&e.properties&&Object.keys(e.properties).map(t=>{var r=e.properties[t],i=_i(n,ai.ServiceTypeSettings)||{};if(r&&r.type)switch(r.type){case"string":o.push(Lu(gu,{onChange:e=>{this.props.graphOperation(ha,{prop:ai.ServiceTypeSettings,id:n.id,value:{...i,[t]:e}})},label:t.unCamelCase(),value:i[t]||""},`service-type${t}`));break;case"boolean":o.push(Lu(Nu,{onChange:e=>{this.props.graphOperation(ha,{prop:ai.ServiceTypeSettings,id:n.id,value:{...i,[t]:e}})},label:t.unCamelCase(),value:i[t]||""},`service-type${t}`))}})}return Lu(du,{active:t},void 0,Lu(hu,{},void 0,Lu(Cu,{label:j,options:Object.keys(ku).map(e=>({title:e,value:ku[e]})),onChange:e=>{this.props.graphOperation(ha,{prop:ai.ServiceType,id:n.id,value:e})},value:r}),o))}});class wu extends s.Component{render(){return function(e,t,n,r){Tu||(Tu="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Tu,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("ul",{className:"tab-content"},void 0,this.props.children)}}function xu(e,t,n,r){Mu||(Mu="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Mu,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class Pu extends s.Component{icon(){return this.props.icon||"fa fa-gears"}title(){return this.props.title||""}render(){return xu("li",{},void 0,xu("a",{onClick:()=>{this.props.onClick&&this.props.onClick()},title:this.title(),"data-toggle":"control-sidebar"},void 0,xu("i",{className:this.icon()})))}}const ju="GraphPropertiesMenu",Ru="ApplicationMenu";var $u={value:function(){}};function Du(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new Gu(r)}function Gu(e){this._=e}function Uu(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function Fu(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=$u,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Gu.prototype=Du.prototype={constructor:Gu,on:function(e,t){var n,r,o=this._,i=(r=o,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),a=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=i[a]).type)o[n]=Fu(o[n],e.name,t);else if(null==t)for(n in o)o[n]=Fu(o[n],e.name,null);return this}for(;++a<s;)if((n=(e=i[a]).type)&&(n=Uu(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Gu(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var Vu=Du,Hu="http://www.w3.org/1999/xhtml",Bu={svg:"http://www.w3.org/2000/svg",xhtml:Hu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qu=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Bu.hasOwnProperty(t)?{space:Bu[t],local:e}:e};var Wu=function(e){var t=qu(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Hu&&t.documentElement.namespaceURI===Hu?t.createElement(e):t.createElementNS(n,e)}})(t)},Yu=0;function zu(){this._="@"+(++Yu).toString(36)}zu.prototype=function(){return new zu}.prototype={constructor:zu,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var Xu=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var Qu=document.documentElement;if(!Qu.matches){var Ku=Qu.webkitMatchesSelector||Qu.msMatchesSelector||Qu.mozMatchesSelector||Qu.oMatchesSelector;Xu=function(e){return function(){return Ku.call(this,e)}}}}var Ju=Xu,Zu={},ec=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Zu={mouseenter:"mouseover",mouseleave:"mouseout"}));function tc(e,t,n){return e=nc(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function nc(e,t,n){return function(r){var o=ec;ec=r;try{e.call(this,this.__data__,t,n)}finally{ec=o}}}function rc(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?t.length=o:delete this.__on}}}function oc(e,t,n){var r=Zu.hasOwnProperty(e.type)?tc:nc;return function(o,i,a){var s,l=this.__on,p=r(t,i,a);if(l)for(var u=0,c=l.length;u<c;++u)if((s=l[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=p,s.capture=n),void(s.value=t);this.addEventListener(e.type,p,n),s={type:e.type,name:e.name,value:t,listener:p,capture:n},l?l.push(s):this.__on=[s]}}function ic(){}var ac=function(e){return null==e?ic:function(){return this.querySelector(e)}};function sc(){return[]}var lc=function(e){return null==e?sc:function(){return this.querySelectorAll(e)}},pc=function(e){return new Array(e.length)};function uc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}uc.prototype={constructor:uc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var cc="$";function dc(e,t,n,r,o,i){for(var a,s=0,l=t.length,p=i.length;s<p;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new uc(e,i[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function fc(e,t,n,r,o,i,a){var s,l,p,u={},c=t.length,d=i.length,f=new Array(c);for(s=0;s<c;++s)(l=t[s])&&(f[s]=p=cc+a.call(l,l.__data__,s,t),p in u?o[s]=l:u[p]=l);for(s=0;s<d;++s)(l=u[p=cc+a.call(e,i[s],s,i)])?(r[s]=l,l.__data__=i[s],u[p]=null):n[s]=new uc(e,i[s]);for(s=0;s<c;++s)(l=t[s])&&u[f[s]]===l&&(o[s]=l)}function hc(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var mc=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function yc(e,t){return e.style.getPropertyValue(t)||mc(e).getComputedStyle(e,null).getPropertyValue(t)}function _c(e){return e.trim().split(/^|\s+/)}function vc(e){return e.classList||new gc(e)}function gc(e){this._node=e,this._names=_c(e.getAttribute("class")||"")}function bc(e,t){for(var n=vc(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Cc(e,t){for(var n=vc(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}gc.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ec(){this.textContent=""}function Nc(){this.innerHTML=""}function Oc(){this.nextSibling&&this.parentNode.appendChild(this)}function kc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Sc(){return null}function Ic(){var e=this.parentNode;e&&e.removeChild(this)}function Lc(e,t,n){var r=mc(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}var Tc=[null];function Mc(e,t){this._groups=e,this._parents=t}function Ac(){return new Mc([[document.documentElement]],Tc)}Mc.prototype=Ac.prototype={constructor:Mc,select:function(e){"function"!=typeof e&&(e=ac(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=t[o],l=s.length,p=r[o]=new Array(l),u=0;u<l;++u)(i=s[u])&&(a=e.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),p[u]=a);return new Mc(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=lc(e));for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,s=t[i],l=s.length,p=0;p<l;++p)(a=s[p])&&(r.push(e.call(a,a.__data__,p,s)),o.push(a));return new Mc(r,o)},filter:function(e){"function"!=typeof e&&(e=Ju(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],p=0;p<s;++p)(i=a[p])&&e.call(i,i.__data__,p,a)&&l.push(i);return new Mc(r,this._parents)},data:function(e,t){if(!e)return h=new Array(this.size()),u=-1,this.each(function(e){h[++u]=e}),h;var n,r=t?fc:dc,o=this._parents,i=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=i.length,s=new Array(a),l=new Array(a),p=new Array(a),u=0;u<a;++u){var c=o[u],d=i[u],f=d.length,h=e.call(c,c&&c.__data__,u,o),m=h.length,y=l[u]=new Array(m),_=s[u]=new Array(m);r(c,d,y,_,p[u]=new Array(f),h,t);for(var v,g,b=0,C=0;b<m;++b)if(v=y[b]){for(b>=C&&(C=b+1);!(g=_[C])&&++C<m;);v._next=g||null}}return(s=new Mc(s,o))._enter=l,s._exit=p,s},enter:function(){return new Mc(this._enter||this._groups.map(pc),this._parents)},exit:function(){return new Mc(this._exit||this._groups.map(pc),this._parents)},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l,p=t[s],u=n[s],c=p.length,d=a[s]=new Array(c),f=0;f<c;++f)(l=p[f]||u[f])&&(d[f]=l);for(;s<r;++s)a[s]=t[s];return new Mc(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=hc);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],l=s.length,p=o[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(p[u]=a);p.sort(t)}return new Mc(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=qu(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):yc(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=_c(e+"");if(arguments.length<2){for(var r=vc(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?bc:Cc)(this,e)}}:t?function(e){return function(){bc(this,e)}}:function(e){return function(){Cc(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?Ec:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Nc:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(Oc)},lower:function(){return this.each(kc)},append:function(e){var t="function"==typeof e?e:Wu(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:Wu(e),r=null==t?Sc:"function"==typeof t?t:ac(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Ic)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?oc:rc,null==n&&(n=!1),r=0;r<a;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var l,p=0,u=s.length;p<u;++p)for(r=0,l=s[p];r<a;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return Lc(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return Lc(this,e,t)}})(e,t))}};var wc=Ac;function xc(e,t,n,r,o,i,a,s,l,p){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=o,this.x=i,this.y=a,this.dx=s,this.dy=l,this._=p}xc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Pc=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function jc(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Rc(){}var $c="\\s*([+-]?\\d+)\\s*",Dc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uc=/^#([0-9a-f]{3})$/,Fc=/^#([0-9a-f]{6})$/,Vc=new RegExp("^rgb\\("+[$c,$c,$c]+"\\)$"),Hc=new RegExp("^rgb\\("+[Gc,Gc,Gc]+"\\)$"),Bc=new RegExp("^rgba\\("+[$c,$c,$c,Dc]+"\\)$"),qc=new RegExp("^rgba\\("+[Gc,Gc,Gc,Dc]+"\\)$"),Wc=new RegExp("^hsl\\("+[Dc,Gc,Gc]+"\\)$"),Yc=new RegExp("^hsla\\("+[Dc,Gc,Gc,Dc]+"\\)$"),zc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Xc(e){var t;return e=(e+"").trim().toLowerCase(),(t=Uc.exec(e))?new ed((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=Fc.exec(e))?Qc(parseInt(t[1],16)):(t=Vc.exec(e))?new ed(t[1],t[2],t[3],1):(t=Hc.exec(e))?new ed(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Bc.exec(e))?Kc(t[1],t[2],t[3],t[4]):(t=qc.exec(e))?Kc(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Wc.exec(e))?td(t[1],t[2]/100,t[3]/100,1):(t=Yc.exec(e))?td(t[1],t[2]/100,t[3]/100,t[4]):zc.hasOwnProperty(e)?Qc(zc[e]):"transparent"===e?new ed(NaN,NaN,NaN,0):null}function Qc(e){return new ed(e>>16&255,e>>8&255,255&e,1)}function Kc(e,t,n,r){return r<=0&&(e=t=n=NaN),new ed(e,t,n,r)}function Jc(e){return e instanceof Rc||(e=Xc(e)),e?new ed((e=e.rgb()).r,e.g,e.b,e.opacity):new ed}function Zc(e,t,n,r){return 1===arguments.length?Jc(e):new ed(e,t,n,null==r?1:r)}function ed(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function td(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rd(e,t,n,r)}function nd(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof rd)return new rd(e.h,e.s,e.l,e.opacity);if(e instanceof Rc||(e=Xc(e)),!e)return new rd;if(e instanceof rd)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new rd(a,s,l,e.opacity)}(e):new rd(e,t,n,null==r?1:r)}function rd(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function od(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Pc(Rc,Xc,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Pc(ed,Zc,jc(Rc,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new ed(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ed(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),Pc(rd,nd,jc(Rc,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new rd(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new rd(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new ed(od(e>=240?e-240:e+120,o,r),od(e,o,r),od(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var id=Math.PI/180,ad=180/Math.PI,sd=.95047,ld=1,pd=1.08883,ud=4/29,cd=6/29,dd=3*cd*cd,fd=cd*cd*cd;function hd(e){if(e instanceof yd)return new yd(e.l,e.a,e.b,e.opacity);if(e instanceof Ed){var t=e.h*id;return new yd(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof ed||(e=Jc(e));var n=bd(e.r),r=bd(e.g),o=bd(e.b),i=_d((.4124564*n+.3575761*r+.1804375*o)/sd),a=_d((.2126729*n+.7151522*r+.072175*o)/ld);return new yd(116*a-16,500*(i-a),200*(a-_d((.0193339*n+.119192*r+.9503041*o)/pd)),e.opacity)}function md(e,t,n,r){return 1===arguments.length?hd(e):new yd(e,t,n,null==r?1:r)}function yd(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function _d(e){return e>fd?Math.pow(e,1/3):e/dd+ud}function vd(e){return e>cd?e*e*e:dd*(e-ud)}function gd(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function bd(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Cd(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Ed)return new Ed(e.h,e.c,e.l,e.opacity);e instanceof yd||(e=hd(e));var t=Math.atan2(e.b,e.a)*ad;return new Ed(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new Ed(e,t,n,null==r?1:r)}function Ed(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}Pc(yd,md,jc(Rc,{brighter:function(e){return new yd(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new yd(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=ld*vd(e),new ed(gd(3.2404542*(t=sd*vd(t))-1.5371385*e-.4985314*(n=pd*vd(n))),gd(-.969266*t+1.8760108*e+.041556*n),gd(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),Pc(Ed,Cd,jc(Rc,{brighter:function(e){return new Ed(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Ed(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return hd(this).rgb()}}));var Nd=-.14861,Od=1.78277,kd=-.29227,Sd=-.90649,Id=1.97294,Ld=Id*Sd,Td=Id*Od,Md=Od*kd-Sd*Nd;function Ad(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof wd)return new wd(e.h,e.s,e.l,e.opacity);e instanceof ed||(e=Jc(e));var t=e.r/255,n=e.g/255,r=e.b/255,o=(Md*r+Ld*t-Td*n)/(Md+Ld-Td),i=r-o,a=(Id*(n-o)-kd*i)/Sd,s=Math.sqrt(a*a+i*i)/(Id*o*(1-o)),l=s?Math.atan2(a,i)*ad-120:NaN;return new wd(l<0?l+360:l,s,o,e.opacity)}(e):new wd(e,t,n,null==r?1:r)}function wd(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function xd(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}Pc(wd,Ad,jc(Rc,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new wd(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new wd(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*id,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),o=Math.sin(e);return new ed(255*(t+n*(Nd*r+Od*o)),255*(t+n*(kd*r+Sd*o)),255*(t+n*(Id*r)),this.opacity)}}));var Pd=function(e){return function(){return e}};function jd(e,t){return function(n){return e+n*t}}function Rd(e,t){var n=t-e;return n?jd(e,n>180||n<-180?n-360*Math.round(n/360):n):Pd(isNaN(e)?t:e)}function $d(e){return 1==(e=+e)?Dd:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Pd(isNaN(t)?n:t)}}function Dd(e,t){var n=t-e;return n?jd(e,n):Pd(isNaN(e)?t:e)}var Gd=function e(t){var n=$d(t);function r(e,t){var r=n((e=Zc(e)).r,(t=Zc(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Dd(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Ud(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=Zc(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}Ud(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return xd((n-r/t)*t,a,o,i,s)}}),Ud(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return xd((n-r/t)*t,o,i,a,s)}});var Fd=function(e,t){return t-=e=+e,function(n){return e+t*n}},Vd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hd=new RegExp(Vd.source,"g");var Bd,qd,Wd,Yd,zd=function(e,t){var n,r,o,i=Vd.lastIndex=Hd.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=Vd.exec(e))&&(r=Hd.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Fd(n,r)})),i=Hd.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})},Xd=180/Math.PI,Qd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Kd=function(e,t,n,r,o,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Xd,skewX:Math.atan(l)*Xd,scaleX:a,scaleY:s}};function Jd(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],l=[];return i=e(i),a=e(a),function(e,r,o,i,a,s){if(e!==o||r!==i){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:Fd(e,o)},{i:l-2,x:Fd(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Fd(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,s,l),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Fd(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,s,l),function(e,t,n,r,i,a){if(e!==n||t!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:Fd(e,n)},{i:s-2,x:Fd(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,l),i=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var Zd=Jd(function(e){return"none"===e?Qd:(Bd||(Bd=document.createElement("DIV"),qd=document.documentElement,Wd=document.defaultView),Bd.style.transform=e,e=Wd.getComputedStyle(qd.appendChild(Bd),null).getPropertyValue("transform"),qd.removeChild(Bd),e=e.slice(7,-1).split(","),Kd(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),ef=Jd(function(e){return null==e?Qd:(Yd||(Yd=document.createElementNS("http://www.w3.org/2000/svg","g")),Yd.setAttribute("transform",e),(e=Yd.transform.baseVal.consolidate())?(e=e.matrix,Kd(e.a,e.b,e.c,e.d,e.e,e.f)):Qd)},", ",")",")");Math.SQRT2;function tf(e){return function(t,n){var r=e((t=nd(t)).h,(n=nd(n)).h),o=Dd(t.s,n.s),i=Dd(t.l,n.l),a=Dd(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=o(e),t.l=i(e),t.opacity=a(e),t+""}}}tf(Rd),tf(Dd);function nf(e){return function(t,n){var r=e((t=Cd(t)).h,(n=Cd(n)).h),o=Dd(t.c,n.c),i=Dd(t.l,n.l),a=Dd(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=o(e),t.l=i(e),t.opacity=a(e),t+""}}}nf(Rd),nf(Dd);function rf(e){return function t(n){function r(t,r){var o=e((t=Ad(t)).h,(r=Ad(r)).h),i=Dd(t.s,r.s),a=Dd(t.l,r.l),s=Dd(t.opacity,r.opacity);return function(e){return t.h=o(e),t.s=i(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}rf(Rd),rf(Dd);var of,af,sf=0,lf=0,pf=0,uf=1e3,cf=0,df=0,ff=0,hf="object"==typeof performance&&performance.now?performance:Date,mf="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yf(){return df||(mf(_f),df=hf.now()+ff)}function _f(){df=0}function vf(){this._call=this._time=this._next=null}function gf(e,t,n){var r=new vf;return r.restart(e,t,n),r}function bf(){df=(cf=hf.now())+ff,sf=lf=0;try{!function(){yf(),++sf;for(var e,t=of;t;)(e=df-t._time)>=0&&t._call.call(null,e),t=t._next;--sf}()}finally{sf=0,function(){var e,t,n=of,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:of=t);af=e,Ef(r)}(),df=0}}function Cf(){var e=hf.now(),t=e-cf;t>uf&&(ff-=t,cf=e)}function Ef(e){sf||(lf&&(lf=clearTimeout(lf)),e-df>24?(e<1/0&&(lf=setTimeout(bf,e-hf.now()-ff)),pf&&(pf=clearInterval(pf))):(pf||(cf=hf.now(),pf=setInterval(Cf,uf)),sf=1,mf(bf)))}vf.prototype=gf.prototype={constructor:vf,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?yf():+n)+(null==t?0:+t),this._next||af===this||(af?af._next=this:of=this,af=this),this._call=e,this._time=n,Ef()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ef())}};var Nf=function(e,t,n){var r=new vf;return t=null==t?0:+t,r.restart(function(n){r.stop(),e(n+t)},t,n),r},Of=Vu("start","end","interrupt"),kf=[],Sf=0,If=1,Lf=2,Tf=3,Mf=4,Af=5,wf=6,xf=function(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(l){var p,u,c,d;if(n.state!==If)return s();for(p in o)if((d=o[p]).name===n.name){if(d.state===Tf)return Nf(i);d.state===Mf?(d.state=wf,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete o[p]):+p<t&&(d.state=wf,d.timer.stop(),delete o[p])}if(Nf(function(){n.state===Tf&&(n.state=Mf,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Lf,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Lf){for(n.state=Tf,r=new Array(c=n.tween.length),p=0,u=-1;p<c;++p)(d=n.tween[p].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=Af,1),i=-1,a=r.length;++i<a;)r[i].call(null,o);n.state===Af&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=wf,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=gf(function(e){n.state=If,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:o,on:Of,tween:kf,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Sf})};function Pf(e,t){var n=Rf(e,t);if(n.state>Sf)throw new Error("too late; already scheduled");return n}function jf(e,t){var n=Rf(e,t);if(n.state>Lf)throw new Error("too late; already started");return n}function Rf(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var $f=function(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>Lf&&n.state<Af,n.state=wf,n.timer.stop(),r&&n.on.call("interrupt",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}};function Df(e,t,n){var r=e._id;return e.each(function(){var e=jf(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return Rf(e,r).value[t]}}var Gf=function(e,t){var n;return("number"==typeof t?Fd:t instanceof Xc?Gd:(n=Xc(t))?(t=n,Gd):zd)(e,t)};var Uf=wc.prototype.constructor;var Ff=0;function Vf(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Hf(){return++Ff}var Bf=wc.prototype;Vf.prototype=function(e){return wc().transition(e)}.prototype={constructor:Vf,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=ac(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,l,p=r[a],u=p.length,c=i[a]=new Array(u),d=0;d<u;++d)(s=p[d])&&(l=e.call(s,s.__data__,d,p))&&("__data__"in s&&(l.__data__=s.__data__),c[d]=l,xf(c[d],t,n,d,c,Rf(s,n)));return new Vf(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=lc(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var l,p=r[s],u=p.length,c=0;c<u;++c)if(l=p[c]){for(var d,f=e.call(l,l.__data__,c,p),h=Rf(l,n),m=0,y=f.length;m<y;++m)(d=f[m])&&xf(d,t,n,m,f,h);i.push(f),a.push(l)}return new Vf(i,a,t,n)},filter:function(e){"function"!=typeof e&&(e=Ju(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],p=0;p<s;++p)(i=a[p])&&e.call(i,i.__data__,p,a)&&l.push(i);return new Vf(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l,p=t[s],u=n[s],c=p.length,d=a[s]=new Array(c),f=0;f<c;++f)(l=p[f]||u[f])&&(d[f]=l);for(;s<r;++s)a[s]=t[s];return new Vf(a,this._parents,this._name,this._id)},selection:function(){return new Uf(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Hf(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,p=0;p<l;++p)if(a=s[p]){var u=Rf(a,t);xf(a,e,n,p,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Vf(r,this._parents,e,n)},call:Bf.call,nodes:Bf.nodes,node:Bf.node,size:Bf.size,empty:Bf.empty,each:Bf.each,on:function(e,t){var n=this._id;return arguments.length<2?Rf(this.node(),n).on.on(e):this.each(function(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?Pf:jf;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}(n,e,t))},attr:function(e,t){var n=qu(e),r="transform"===n?ef:Gf;return this.attrTween(e,"function"==typeof t?(n.local?function(e,t,n){var r,o,i;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(e.space,e.local))===s?null:a===r&&s===o?i:i=t(r=a,o=s);this.removeAttributeNS(e.space,e.local)}}:function(e,t,n){var r,o,i;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(e))===s?null:a===r&&s===o?i:i=t(r=a,o=s);this.removeAttribute(e)}})(n,r,Df(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===n?null:i===r?o:o=t(r=i,n)}}:function(e,t,n){var r,o;return function(){var i=this.getAttribute(e);return i===n?null:i===r?o:o=t(r=i,n)}})(n,r,t+""))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=qu(e);return this.tween(n,(r.local?function(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttributeNS(e.space,e.local,r(t))}}return n._value=t,n}:function(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttribute(e,r(t))}}return n._value=t,n})(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Zd:Gf;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var i=yc(this,e),a=(this.style.removeProperty(e),yc(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}(e,r)).on("end.style."+e,function(e){return function(){this.style.removeProperty(e)}}(e)):this.styleTween(e,"function"==typeof t?function(e,t,n){var r,o,i;return function(){var a=yc(this,e),s=n(this);return null==s&&(this.style.removeProperty(e),s=yc(this,e)),a===s?null:a===r&&s===o?i:i=t(r=a,o=s)}}(e,r,Df(this,"style."+e,t)):function(e,t,n){var r,o;return function(){var i=yc(this,e);return i===n?null:i===r?o:o=t(r=i,n)}}(e,r,t+""),n)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){function r(){var r=this,o=t.apply(r,arguments);return o&&function(t){r.style.setProperty(e,o(t),n)}}return r._value=t,r}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Df(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=Rf(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?function(e,t){var n,r;return function(){var o=jf(this,e),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}:function(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=jf(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},l=0,p=o.length;l<p;++l)if(o[l].name===t){o[l]=s;break}l===p&&o.push(s)}i.tween=o}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){Pf(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){Pf(this,e).delay=t}})(t,e)):Rf(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){jf(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){jf(this,e).duration=t}})(t,e)):Rf(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){jf(this,e).ease=t}}(t,e)):Rf(this.node(),t).ease}};(function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n})(3),function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),Math.PI;(function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n})(1.70158),function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158);var qf=2*Math.PI,Wf=(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=qf);function o(e){return t*Math.pow(2,10*--e)*Math.sin((r-e)/n)}return o.amplitude=function(t){return e(t,n*qf)},o.period=function(n){return e(t,n)},o}(1,.3),function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=qf);function o(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+r)/n)}return o.amplitude=function(t){return e(t,n*qf)},o.period=function(n){return e(t,n)},o}(1,.3),function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=qf);function o(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((r-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((r+e)/n))/2}return o.amplitude=function(t){return e(t,n*qf)},o.period=function(n){return e(t,n)},o}(1,.3),{time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}});function Yf(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return Wf.time=yf(),Wf;return n}wc.prototype.interrupt=function(e){return this.each(function(){$f(this,e)})},wc.prototype.transition=function(e){var t,n;e instanceof Vf?(t=e._id,e=e._name):(t=Hf(),(n=Wf).time=yf(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,p=0;p<l;++p)(a=s[p])&&xf(a,e,t,p,s,n||Yf(a,t));return new Vf(r,this._parents,e,t)};function zf(e,t,n){this.k=e,this.x=t,this.y=n}zf.prototype={constructor:zf,scale:function(e){return 1===e?this:new zf(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new zf(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new zf(1,0,0);zf.prototype;var Xf,Qf=n("d3");const Kf=20;class Jf extends s.Component{constructor(){super(),this.textSize={},this.mapScale=1,this.mapTranslate={x:0,y:0},this.state={id:`id-${Date.now()}`,graph:{nodes:[].map(e=>(e.id=e.name,e)),links:[],groups:[]}},this.draw=this.draw.bind(this),this.mouseDown=this.mouseDown.bind(this),this.mouseUp=this.mouseUp.bind(this),this.mouseMove=this.mouseMove.bind(this)}componentDidMount(){this.draw(),window.addEventListener("resize",this.draw),window.addEventListener("mousemove",this.mouseMove),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("mousedown",this.mouseDown)}mouseDown(e){this.mouseStartEvent=e}mouseUp(e){this.mouseStartEvent=null,this.mouseMoved=null}mouseMove(e){this.mouseStartEvent&&(this.mouseMoveEvt=e,this.mouseMoved={x:e.clientX-this.mouseStartEvent.clientX,y:e.clientY-this.mouseStartEvent.clientY})}componentWillUnmount(){window.removeEventListener("resize",this.draw),window.removeEventListener("mousemove",this.mouseMove),window.removeEventListener("mousedown",this.mouseUp),window.removeEventListener("mouseup",this.mouseDown);var e=document.querySelector(`#${this.state.id}`);e&&(e.innerHTML="")}calculateNodeTextSize(e,t){var n=document.querySelector("#secret-div-space");return n||((n=document.createElement("div")).id="secret-div-space",n.setAttribute("id","secret-div-space"),n.style.visibility="hidden",n.style.position="absolute",n.classList.add("label"),n.style.whiteSpace="normal",n.style.maxWidth=(e||"").split(" ").length>1?"200px":"300px",n.style.top="-10000px",n.style.padding=2*t+"px",document.querySelector(`#${this.state.id}`).appendChild(n)),n.innerHTML=e,n.getBoundingClientRect()}draw(){var e=this,t=document.querySelector(`#${this.state.id}`);t.innerHTML="";var n=t.getBoundingClientRect(),r=Ou.d3adaptor(Qf),o=n.width-10,i=n.height-10,a=Qf.scaleOrdinal(Qf.schemeCategory10),s=6,l=12;r.linkDistance(this.props.linkDistance||280).avoidOverlaps(!0).handleDisconnected(!1).size([o,i]);var p=function(){var t=Qf.select(`#${e.state.id}`).append("svg").attr("width",o).attr("height",i).attr("pointer-events","all");t.append("svg:defs").append("svg:marker").attr("id","end-arrow").attr("viewBox","0 -5 10 10").attr("refX",5).attr("markerWidth",3).attr("markerHeight",3).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5L2,0").attr("stroke-width","0px").attr("fill",function(e){return e&&e.properties&&e.properties.type&&Xn[e.properties.type]&&Xn[e.properties.type].stroke?Xn[e.properties.type].stroke:"#555"});var n=t.append("g");function r(){var{x:t=0,y:r=0}=e.mouseMoved||{};n.attr("transform",`scale(${e.mapScale||1}) translate(${e.mapTranslate.x+t}, ${e.mapTranslate.y+r})`)}return t.on("wheel",function(t){e.mapScale+=Qf.event.wheelDelta/(e.props.zoomFactor||5e3),r()}),t.on("mousemove",function(t,n){e.panning&&r()}),t.on("mousedown",function(t){e.panning=!0}),t.on("mouseup",function(t){e.panning=!1,e.mouseMoved&&e.mapTranslate&&(e.mapTranslate={x:e.mapTranslate.x+e.mouseMoved.x,y:e.mapTranslate.y+e.mouseMoved.y})}),r(),n}();var u=this.state.graph;u.nodes.forEach(function(t){var n=e.calculateNodeTextSize(_(t),l);t.width=Math.max(Kf,n.width),t.height=Math.max(Kf,n.height)}),u.groups.forEach(function(e){e.padding=l}),r.nodes(u.nodes).groups(u.groups).links(u.links).on("tick",function(){e.$_nodes&&e.$_nodes.each(function(t){var n=e.calculateNodeTextSize(_(t),l);t.width=Math.max(Kf,n.width),t.height=Math.max(Kf,n.height),t.innerBounds=t.bounds.inflate(-s)});e.$_nodes&&e.$_nodes.attr("width",function(e){return e.width}).attr("height",function(e){return e.height}).attr("x",function(e){return e.x-e.width/2}).attr("y",function(e){return e.y-e.height/2});c.attr("x",function(e){return e.bounds.x}).attr("y",function(e){return e.bounds.y}).attr("width",function(e){return e.bounds.width()}).attr("height",function(e){return e.bounds.height()}),f.each(function(e){e.route=Ou.makeEdgeBetween(v(e.source),v(e.target,-Math.PI/2),5)}),f.attr("x1",function(e){return e.route.sourceIntersection.x}).attr("y1",function(e){return e.route.sourceIntersection.y}).attr("x2",function(e){return e.route.arrowStart.x}).attr("y2",function(e){return e.route.arrowStart.y}),m.attr("transform",function(e){var t=e.y-e.height/2,n=e.x-e.width/2;return`translate(${n},${t})`}),h.attr("x",function(e){return e.x-e.width/2}).attr("y",function(e){var t=this.querySelector("div"),n=t?t.getBoundingClientRect().height:0;return e.y+n/2-e.height+l/2}),y.text(function(e){return _(e)})});var c=p.selectAll(".group").data(u.groups).enter().append("rect").attr("rx",8).attr("ry",8).attr("class","group").style("fill",function(e,t){return a(t)}).call(r.drag),d=p.selectAll(".node");this.$node=d,this.buildNode(u,r,a);var f=p.selectAll(".link").data(u.links).enter().append("line").attr("class","link").style("stroke",function(e){return e.selected?"#ff0000":e&&e.properties&&e.properties.type===zn.FunctionConstraintLink&&!e.properties[Qn.VALID_CONSTRAINTS]?Xn[zn.ErrorLink].stroke:e&&e.properties&&e.properties.type&&Xn[e.properties.type]&&Xn[e.properties.type].stroke?Xn[e.properties.type].stroke:"#555"}).style("stroke-dasharray",function(e){return e&&e.properties&&e.properties.type===zn.FunctionConstraintLink&&!e.properties[Qn.VALID_CONSTRAINTS]?"5,5":""}).style("d",function(e){return e&&e.properties&&e.properties.type===zn.FunctionConstraintLink&&!e.properties[Qn.VALID_CONSTRAINTS]?"M5 20 l215 0":""}).style("stroke-width",function(e){return e&&e.properties&&e.properties.type&&Xn[e.properties.type]&&Xn[e.properties.type].strokeWidth?Xn[e.properties.type].strokeWidth:Math.sqrt(e.value)});f.on("click",(t,n,r)=>{e.props.onLinkClick&&t&&e.props.onLinkClick({id:t.id,source:t.source.id,target:t.target.id},r[n].getBoundingClientRect())}),f.on("mouseover",(t,n,r)=>{e.props.onLinkHover&&t&&e.props.onLinkHover({id:t.id,source:t.source.id,target:t.target.id},r[n].getBoundingClientRect())});var h=p.selectAll(".label").data(u.nodes).enter().append("foreignObject").attr("class","label");h.on("click",(t,n,r)=>{e.props.onNodeClick&&t&&t.id&&e.props.onNodeClick(t.id,r[n].getBoundingClientRect())});var m=p.selectAll(".features").data(u.nodes).enter().append("g").attr("class","features");m.append("rect").attr("width",function(e){return e.selected?5:0}).attr("height",function(e){return e.height-10}).attr("x",3).attr("y",5).attr("rx",5).attr("ry",5).style("fill",function(t){return t.selected&&e.props.selectedColor?e.props.selectedColor:a(u.groups.length)});var y=h.append("xhtml:div").style("width",e=>`${e.width-l/2}px`).style("white-space","normal").style("text-align","start").style("height",e=>`${e.height-l/2}px`).text(function(e){return`${_(e)}`}).call(r.drag);function _(e){return e&&e.properties&&e.properties.text||e.name}function v(e,t=Math.PI/2){var{innerBounds:n,x:r,y:o}=e,i=n.y-n.Y,a=n.x-n.X;return Object.assign(n,{x:1+n.x,y:i?a/i*1+n.y:n.y,X:1+n.X,Y:i?a/i*1+n.Y:n.Y})}this.$force=r,this.setState({$node:d,$color:a}),r.start()}buildNode(e,t,n){var r=this,o=this.$node.data(t.nodes(),e=>e.id||e.name),i=o.enter().append("rect").attr("class","node").attr("width",function(e){return e.width}).attr("height",function(e){return e.height}).attr("rx",5).attr("ry",5).style("fill",function(t){return t&&t.properties&&t.properties.nodeType&&ii[t.properties.nodeType]?ii[t.properties.nodeType]:n(e.groups.length)}).on("click",(e,t,n)=>{r.props.onNodeClick&&e&&r.props.onNodeClick(e.id,n[t].getBoundingClientRect())}).call(t.drag);o.exit().remove(),this.$_nodes=i}applyNodeVisualData(e){return e.width=40,e.height=40,e.name=e.id,e}componentWillReceiveProps(e,t){if(e.graph){var{graph:n}=e,r=!0;if(this.$force.stop(),n.nodes&&this.state&&this.state.graph&&this.state.graph.nodes){var o=this.state.graph.nodes.relativeCompliment(n.nodes,(e,t)=>e.id===t).map(e=>this.state.graph.nodes.indexOf(e));this.state.graph.nodes.removeIndices(o),n.nodes.relativeCompliment(this.state.graph.nodes,(e,t)=>e===t.id).map(e=>{this.state.graph.nodes.push(this.applyNodeVisualData(function(e){return{...e}}(n.nodeLib[e])))}),e.selectedNodes&&this.state.graph.nodes.map(t=>{t.selected=!!e.selectedNodes.find(e=>e==t.id)}),this.state.graph.nodes.map(e=>{var t=n.nodeLib[e.id];t&&t.properties&&(e.properties={...t.properties})}),r=!0}if(n.links&&this.state&&this.state.graph&&this.state.graph.links){let t=this.state.graph.links.relativeCompliment(n.links,(e,t)=>e.id===t).map(e=>this.state.graph.links.indexOf(e));this.state.graph.links.removeIndices(t),n.links.relativeCompliment(this.state.graph.links,(e,t)=>e===t.id).map(e=>{this.state.graph.links.push(function(e,t){return{...e,source:t.findIndex(t=>t.id===e.source),target:t.findIndex(t=>t.id===e.target)}}(n.linkLib[e],this.state.graph.nodes))}),e.selectedLinks&&this.state.graph.links.map(t=>{t.selected=!!e.selectedLinks.find(e=>e.id===t.id)}),this.state.graph.links.map(e=>{let t=n.linkLib[e.id];t&&t.properties&&(e.properties={...t.properties})}),r=!0}if(n.groups&&this.state&&this.state.graph&&this.state.graph.groups){let e=n.groups.filter(e=>n.groupLib[e].leaves||n.groupLib[e].groups),t=this.state.graph.groups.relativeCompliment(e,(e,t)=>e.id===t).map(e=>this.state.graph.groups.indexOf(e));this.state.graph.groups.removeIndices(t),e.relativeCompliment(this.state.graph.groups,(e,t)=>e===t.id).filter(e=>n.groupLib[e]&&(n.groupLib[e].leaves||n.groupLib[e].groups)).map(e=>{this.state.graph.groups.push(function(e,t,n){let r={...e};return delete r.leaves,delete r.groups,r}(n.groupLib[e],this.state.graph.nodes))}),e.forEach(e=>{!function(e,t,n,r){t&&(t.leaves&&t.leaves.length?(e.leaves=e.leaves||[],e.leaves.length=0,e.leaves.push(...t.leaves.map(e=>r.findIndex(t=>t.id===e)))):delete e.leaves,t.groups&&t.groups.length?(e.groups=e.groups||[],e.groups.length=0,e.groups.push(...t.groups.map(e=>n.findIndex(t=>t.id===e)))):delete e.groups)}(this.state.graph.groups.find(t=>t.id===e),n.groupLib[e],this.state.graph.groups,this.state.graph.nodes)})}r&&this.draw()}}shouldComponentUpdate(){return!1}render(){return function(e,t,n,r){Xf||(Xf="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Xf,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{id:this.state.id,className:"mindmap",style:{minHeight:946}})}}var Zf,eh;function th(e,t,n,r){Zf||(Zf="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Zf,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class nh extends s.Component{render(){return th(du,{active:this.props.active},void 0,(this.props.items||[]).map(e=>th("div",{className:`external-event ${this.props.isSelected(e)?"bg-red":"bg-green"}`,style:{cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},onClick:()=>{this.props.onClick&&this.props.onClick(e)}},`allowed-${e.id}`," ",e.title)))}}function rh(e,t,n,r){eh||(eh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:eh,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var oh,ih=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Model),n=Oi(e,hi(e,$i)),r=_i(n,ai.IsAgent),o=_i(n,ai.IsParent),i=_i(n,ai.ManyToManyNexus),a=Hi(e,oi.Permission).map(e=>({value:e.id,title:Ui(e)}));return rh(du,{active:t},void 0,n?rh(hu,{},void 0,rh(Nu,{label:we,value:n.properties?n.properties[ai.IsAgent]:"",onChange:e=>{this.props.graphOperation(ha,{prop:ai.IsAgent,id:n.id,value:e})}}),r?rh(Cu,{label:an,options:Hi(e,oi.Model).map(e=>({value:e.id,title:Ui(e)})),onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.UIUser],source:t,linkType:si.UserLink.type}),this.props.graphOperation(ha,{prop:ai.UIUser,id:t,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.UserLink}})},value:n.properties?n.properties[ai.UIUser]:""}):null,rh(Nu,{label:xe,value:n.properties?n.properties[ai.IsUser]:"",onChange:e=>{this.props.graphOperation(ha,{prop:ai.IsUser,id:n.id,value:e})}}),rh(Nu,{label:sn,title:un,value:_i(n,ai.ManyToManyNexus),onChange:e=>{this.props.graphOperation([{operation:ha,options:{prop:ai.ManyToManyNexus,id:n.id,value:e}}])}}),i?rh(Cu,{options:Hi(e,Ln.Model).map(e=>({value:e.id,title:Ui(e)})),label:pn,onChange:e=>{let t=n.id;var r=_i(n,ai.ManyToManyNexusTypes)||[];this.props.graphOperation([{operation:ha,options:{prop:ai.ManyToManyNexusTypes,id:n.id,value:[...r,e].unique(e=>e)}},{operation:va,options:{target:e,source:t,properties:{...si.ManyToManyLink}}}])},value:""}):null,rh(nh,{active:!0,isSelected:e=>{var t=_i(n,ai.ManyToManyNexusTypes)||[];return e&&t.some(t=>t===e.id)},items:(_i(n,ai.ManyToManyNexusTypes)||[]).map(t=>{let n=io(Zi(e),t);if(n)return{title:Ui(n),id:n.id}}),onClick:e=>{let t=n.id;var r=_i(n,ai.ManyToManyNexusTypes)||[],o=r;o=r.some(t=>e.id===t)?[...o.filter(t=>t!==e.id)].unique(e=>e):[...o,e.id].unique(e=>e),this.props.graphOperation([{operation:ha,options:{prop:ai.ManyToManyNexusTypes,id:n.id,value:o}},{operation:ba,options:{target:e.id,source:t,linkType:si.ManyToManyLink.type}}])}})):null,rh(cu,{title:ee}),rh(pu,{},void 0,rh(uu,{onClick:()=>{this.props.graphOperation(ma,{parent:hi(e,$i),groupProperties:{},linkProperties:{properties:{...si.PropertyLink}}})},icon:"fa fa-puzzle-piece",title:te,description:se})),r?rh(Cu,{label:De,options:a,onChange:e=>{var t=n.id;this.props.graphOperation(va,{target:e,source:t,properties:{...si.PermissionLink}})},value:n.properties?n.properties[ai.UIPermissions]:""}):null,n?rh(hu,{},void 0,rh(Nu,{label:on,value:n.properties?n.properties[ai.IsParent]:"",onChange:e=>{this.props.graphOperation(ha,{prop:ai.IsParent,id:n.id,value:e})}})):null,o?rh(Cu,{label:rn,options:Hi(e,oi.Model).map(e=>({value:e.id,title:Ui(e)})),onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.UIChoiceNode],source:t,linkType:si.ParentLink.type}),this.props.graphOperation(ha,{prop:ai.UIChoiceNode,id:t,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ParentLink}})},value:n.properties?n.properties[ai.UIChoiceNode]:""}):null,rh(pu,{},void 0,r?rh(uu,{onClick:()=>{this.props.graphOperation(ya,{parent:hi(e,$i),linkProperties:{properties:{...si.PermissionLink}}})},icon:"fa fa-puzzle-piece",title:Ye,description:We}):null))}});function ah(e,t,n,r){oh||(oh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:oh,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var sh,lh=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Function),n=Oi(e,hi(e,$i)),r=Hi(e,oi.Model).filter(e=>_i(e,ai.IsAgent)).map(e=>({value:e.id,title:Ui(e)})),o=Object.keys(Ar).map(e=>({title:Ar[e].title||e,value:e}));return ah(du,{active:t},void 0,n?ah(Cu,{label:_e,options:r,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.UIExtension],source:t}),this.props.graphOperation(ha,{prop:ai.UIExtension,id:n.id,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.FunctionOperator}})},value:n.properties?n.properties[ai.UIPermissions]:""}):null,n?ah(Nu,{label:vn,title:gn,value:n.properties?n.properties[ai.UseScopeGraph]:"",onChange:e=>{this.props.graphOperation(ha,{prop:ai.UseScopeGraph,id:n.id,value:e})}}):null,n&&!n.properties[ai.UseScopeGraph]?ah(Cu,{label:Vt,options:o,onChange:e=>{this.props.graphOperation(ha,{prop:ai.FunctionType,id:n.id,value:e}),this.props.graphOperation(Ra,{id:n.id,value:e})},value:n.properties?n.properties[ai.FunctionType]:""}):null,n?ah(Cu,{label:J,options:Object.keys(Jn).map(e=>({title:e,value:Jn[e]})),onChange:e=>{this.props.graphOperation(ha,{prop:ai.MethodType,id:n.id,value:e})},value:n.properties?n.properties[ai.MethodType]:""}):null,n?ah(Cu,{label:Wt,options:Object.keys(Tr).map(e=>({title:e,value:Tr[e]})),onChange:e=>{this.props.graphOperation(ha,{id:n.id,value:e,prop:Fn.HttpMethod})},value:_i(n,Fn.HttpMethod)}):null,n?ah(gu,{label:zt,value:_i(n,Fn.HttpRoute),onChange:e=>{this.props.graphOperation(ha,{id:n.id,value:e,prop:Fn.HttpRoute})}}):null,ah(pu,{},void 0,n&&n.properties[ai.UseScopeGraph]?ah(uu,{onClick:()=>{this.props.graphOperation([{operation:void 0},{options:{id:n.id}}])},icon:"fa fa-puzzle-piece",title:vn,description:gn}):null,n?ah(uu,{onClick:()=>{this.props.graphOperation(Na,{parent:hi(e,$i)})},icon:"fa fa-puzzle-piece",title:Ie,description:Le}):null,n?ah(uu,{onClick:()=>{this.props.graphOperation(Oa,{parent:hi(e,$i)})},icon:"fa fa-puzzle-piece",title:Te,description:Ae}):null))}});function ph(e,t,n,r){sh||(sh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:sh,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var uh,ch=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Property),n=Oi(e,hi(e,$i));if(n)var r=n&&n.properties&&n.properties[ai.UseUIDependsOn],o=_i(n,ai.UseModelAsType),i=_i(n,ai.ManyToManyNexus),a=Hi(e,oi.Property).filter(e=>e.id!==n.id).map(e=>({value:e.id,title:Ui(e)}));return ph(du,{active:t},void 0,n?ph(hu,{},void 0,ph(Nu,{label:ht,value:n.properties?n.properties[ai.UseUIDependsOn]:"",onChange:e=>{this.props.graphOperation(ha,{prop:ai.UseUIDependsOn,id:n.id,value:e})}}),r?ph(Cu,{label:ft,options:a,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.UIDependsOn],source:t}),this.props.graphOperation(ha,{prop:ai.UIDependsOn,id:t,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.DependsOnLink}})},value:n.properties?n.properties[ai.UIDependsOn]:""}):null):null,n?ph(hu,{},void 0,ph(gu,{label:ue,value:n.properties?n.properties[ai.UIName]:"",onChange:e=>{this.props.graphOperation(ha,{prop:ai.UIName,id:n.id,value:e})}})):null,n?ph(hu,{},void 0,ph(Nu,{label:sn,title:un,value:_i(n,ai.ManyToManyNexus),onChange:e=>{var t=n.id;this.props.graphOperation([e?null:{operation:ba,options:{target:n.properties[ai.ManyToManyNexusType],source:t}},{operation:ha,options:{prop:ai.ManyToManyNexus,id:n.id,value:e}},e&&n.properties[ai.ManyToManyNexusType]?{operation:va,options:{target:n.properties[ai.ManyToManyNexusType],source:t,properties:{...si.ManyToManyLink}}}:null].filter(e=>e))}}),i?ph(Cu,{options:Hi(e,Ln.Model).filter(e=>_i(e,Fn.ManyToManyNexus)).map(e=>({value:e.id,title:Ui(e)})),label:sn,onChange:e=>{var t=n.id;this.props.graphOperation([{operation:ba,options:{target:n.properties[ai.ManyToManyNexusType],source:t}},{operation:ha,options:{prop:ai.ManyToManyNexusType,id:n.id,value:e}},{operation:va,options:{target:e,source:t,properties:{...si.ManyToManyLink}}}])},value:_i(n,ai.ManyToManyNexusType)}):null,ph(Nu,{label:_n,value:n.properties?n.properties[ai.UseModelAsType]:"",onChange:e=>{var t=n.id;this.props.graphOperation([e?null:{operation:ba,options:{target:n.properties[ai.UIModelType],source:t}},{operation:ha,options:{prop:ai.UseModelAsType,id:n.id,value:e}},e&&n.properties[ai.UIModelType]?{operation:va,options:{target:n.properties[ai.UIModelType],source:t,properties:{...si.ModelTypeLink}}}:null])}}),o?null:ph(Cu,{options:Object.keys(pi).sort((e,t)=>e.localeCompare(t)).map(e=>({value:pi[e],title:e})),label:he,onChange:e=>{this.props.graphOperation(ha,{prop:ai.UIAttributeType,id:n.id,value:e})},value:n.properties?n.properties[ai.UIAttributeType]:""}),o?ph(Cu,{options:Hi(e,Ln.Model).map(e=>({value:e.id,title:Ui(e)})),label:me,onChange:e=>{var t=n.id;this.props.graphOperation([{operation:ba,options:{target:n.properties[ai.UIModelType],source:t}},{operation:ha,options:{prop:ai.UIModelType,id:n.id,value:e}},{operation:va,options:{target:e,source:t,properties:{...si.ModelTypeLink}}}])},value:n.properties?n.properties[ai.UIModelType]:""}):null):null,ph(cu,{title:ee}),ph(pu,{},void 0,ph(uu,{onClick:()=>{this.props.graphOperation(_a,{parent:hi(e,$i),groupProperties:{},linkProperties:{properties:{...Kn.AttributeLink}}})},icon:"fa fa-puzzle-piece",title:le,description:pe})))}});function dh(e,t,n,r){uh||(uh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:uh,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var fh,hh=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Attribute),n=Oi(e,hi(e,$i)),r=Hi(e,oi.ChoiceList).map(e=>({value:e.id,title:Ui(e)})),o=Hi(e,oi.ValidationList).map(e=>({value:e.id,title:Ui(e)})),i=n&&n.properties&&n.properties[ai.UIAttributeType]==li.CHOICE,a=yi(n,ai.UseUIValidations),s=yi(n,ai.UseUIOptions),l=yi(n,ai.UseUIExtensionList),p=Hi(e,oi.OptionList).map(e=>({value:e.id,title:Ui(e)})),u=Hi(e,oi.ExtensionType).map(e=>({value:e.id,title:Ui(e)}));return dh(du,{active:t},void 0,n?dh(hu,{},void 0,dh(gu,{label:ue,title:ce,value:n.properties?n.properties[ai.UIName]:"",onChange:e=>{this.props.graphOperation(ha,{prop:ai.UIName,id:n.id,value:e})}}),dh(Cu,{options:Object.keys(li).sort((e,t)=>e.localeCompare(t)).map(e=>({value:li[e],title:e})),label:he,onChange:e=>{this.props.graphOperation(ha,{prop:ai.UIAttributeType,id:n.id,value:e})},value:n.properties?n.properties[ai.UIAttributeType]:""}),i?dh(Cu,{label:He,options:r,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.UIChoiceType],source:t}),this.props.graphOperation(ha,{prop:ai.UIChoiceType,id:t,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ChoiceLink}})},value:n.properties?n.properties[ai.UIChoiceType]:""}):null,i?dh(pu,{},void 0,dh(uu,{onClick:()=>{this.props.graphOperation(Ia,{})},icon:"fa fa-puzzle-piece",title:Be,description:qe})):null,dh(Nu,{label:de,value:n.properties?n.properties[ai.UISingular]:"",onChange:e=>{this.props.graphOperation(ha,{prop:ai.UISingular,id:n.id,value:e})}}),dh(Nu,{label:Je,value:n.properties?n.properties[ai.UseUIValidations]:"",onChange:e=>{this.props.graphOperation(ha,{prop:ai.UseUIValidations,id:n.id,value:e})}}),a?dh(Cu,{label:nt,options:o,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.UIValidationType],source:t}),this.props.graphOperation(ha,{prop:ai.UIValidationType,id:t,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ValdationLink}})},value:n.properties?n.properties[ai.UIValidationType]:""}):null,a?dh(pu,{},void 0,dh(uu,{onClick:()=>{this.props.graphOperation(La,{})},icon:"fa fa-puzzle-piece",title:Ze,description:et})):null,dh(Nu,{label:ut,value:n.properties?n.properties[ai.UseUIOptions]:"",onChange:e=>{this.props.graphOperation(ha,{prop:ai.UseUIOptions,id:n.id,value:e})}}),s?dh(Cu,{label:lt,options:p,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.UIOptionType],source:t}),this.props.graphOperation(ha,{prop:ai.UIOptionType,id:t,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.OptionLink}})},value:n.properties?n.properties[ai.UIOptionType]:""}):null,s?dh(pu,{},void 0,dh(uu,{onClick:()=>{this.props.graphOperation(Ma,{})},icon:"fa fa-puzzle-piece",title:ct,description:dt})):null,dh(Nu,{label:mt,value:n.properties?n.properties[ai.UseUIExtensionList]:"",onChange:e=>{this.props.graphOperation(ha,{prop:ai.UseUIExtensionList,id:n.id,value:e})}}),l?dh(Cu,{label:Ot,options:u,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.UIExtensionList],source:t}),this.props.graphOperation(ha,{prop:ai.UIExtensionList,id:t,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ExtensionLink}})},value:n.properties?n.properties[ai.UIExtensionList]:""}):null,l?dh(pu,{},void 0,dh(uu,{onClick:()=>{this.props.graphOperation(xa,{})},icon:"fa fa-puzzle-piece",title:kt,description:St})):null):null)}});function mh(e,t,n,r){fh||(fh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:fh,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var yh=mh("div",{});var _h;dp(class extends s.Component{constructor(e){super(e),this.state={}}render(){let e=this.props.nodeProperty,t=this.props.node;if(!t)return yh;this.props.linkType;let n=this.props.items,{state:r}=this.props;return mh(nh,{active:!0,isSelected:n=>{var r=_i(t,e)||[];if(r&&r.some)return n&&r.some(e=>e===n.id)},items:n,onClick:e=>{this.props.removeLink&&this.props.graphOperation(ba,{target:e.value,source:t.id}),this.props.removeNode&&this.props.graphOperation(pa,{id:e.value})}})}});function vh(e,t,n,r){_h||(_h="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:_h,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var gh,bh=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Permission),n=Oi(e,hi(e,$i)),r=(_i(n,ai.IsAgent),n&&n.properties[ai.UIPermissions],Hi(e,oi.Model).toNodeSelect(),Zi(e)),o=r&&n&&n.properties?n.properties[ai.PermissionTarget]:"",i=r&&n&&n.properties?n.properties[ai.PermissionRequester]:"",a=null;o&&(a=ko(r,{id:o,direction:Io,type:zn.PropertyLink}))&&(a=a.toNodeSelect()),i&&(ko(r,{id:i,direction:Io,type:zn.PropertyLink})||[]).toNodeSelect(),Hi(e,Ln.Method).map(e=>({title:Ui(e),value:e.id}));let s=_i(n,ai.PermissionRequester),l=_i(n,ai.PermissionTarget),p=[];s&&l&&(p=to(r,[s,l]));let u=_i(n,ai.PermissionManyToMany),c=[];return u&&(c=function(e,t){return ko(e,{id:t,direction:Io,type:zn.PropertyLink})}(r,u).toNodeSelect()),vh(du,{active:t},void 0,vh(cu,{title:ee}))}});function Ch(e,t,n,r){gh||(gh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:gh,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Eh,Nh,Oh=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.ChoiceList),n=_i(Oi(e,hi(e,$i)),ai.UIExtensionDefinition);return Ch(du,{active:t},void 0,Ch("ul",{},void 0,n?Object.keys(n.definition).map((e,t)=>Ch("li",{},`clist${e}-${t}`,e)):null))}});class kh extends s.Component{icon(){return this.props.icon||"fa fa-circle-o"}render(){return function(e,t,n,r){Eh||(Eh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Eh,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("li",{},void 0,this.props.title,this.props.children)}}function Sh(e,t,n,r){Nh||(Nh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Nh,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Ih,Lh=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.ModelFilter),n=Oi(e,hi(e,$i));let r=Hi(e,Ln.Model).map(e=>({title:Ui(e),value:e.id})),o=Hi(e,Ln.Model).filter(e=>_i(e,Fn.IsAgent)).map(e=>({title:Ui(e),value:e.id}));var i=n?Sh(Cu,{label:M,options:r,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:_i(n,Fn.FilterModel),source:t}),this.props.graphOperation(ha,{prop:Fn.FilterModel,id:n.id,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ModelTypeLink}})},value:_i(n,Fn.FilterModel)}):null,a=n?Sh(Cu,{label:X,options:o,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:_i(n,Fn.FilterAgent),source:t}),this.props.graphOperation(ha,{prop:Fn.FilterAgent,id:n.id,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.AgentTypeLink}})},value:_i(n,Fn.FilterAgent)}):null;return Sh(du,{active:t},void 0,n?Sh(hu,{},void 0,i,a):null)}});function Th(e,t,n,r){Ih||(Ih="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Ih,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Mh,Ah=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.ValidationList);return Th(du,{active:t},void 0,Th(cu,{title:Xe}),Th(pu,{},void 0,Th(uu,{onClick:()=>{this.props.graphOperation(Sa,{parent:hi(e,$i),groupProperties:{},linkProperties:{properties:{...si.ValidationLinkItem}}})},icon:"fa fa-puzzle-piece",title:Qe,description:Ke})))}});function wh(e,t,n,r){Mh||(Mh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Mh,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var xh,Ph=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.ValidationListItem),n=Oi(e,hi(e,$i));return wh(du,{active:t},void 0,n?wh(hu,{},void 0,wh(Cu,{options:Object.keys(ui).sort((e,t)=>e.localeCompare(t)).map(e=>({value:ui[e],title:e})),label:rt,onChange:e=>{this.props.graphOperation(ha,{prop:ai.UIValidationType,id:n.id,value:e})},value:n.properties?n.properties[ai.UIValidationType]:""})):null)}});function jh(e,t,n,r){xh||(xh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:xh,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Rh,$h=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Validator),n=Oi(e,hi(e,$i)),r=Hi(e,oi.Model).map(e=>({title:Ui(e),value:e.id})),o=Hi(e,[oi.MethodF,oi.Function]).map(e=>({title:Ui(e),value:e.id})),i=Hi(e,oi.Model).filter(e=>_i(e,Fn.IsAgent)).map(e=>({title:Ui(e),value:e.id}));return jh(du,{active:t},void 0,n?jh(hu,{},void 0,jh(Cu,{options:r,label:M,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.ValidatorModel],source:t}),this.props.graphOperation(ha,{prop:ai.ValidatorModel,id:n.id,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ValidatorModelLink}})},value:n.properties?n.properties[ai.ValidatorModel]:""}),jh(Cu,{options:i,label:X,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.ValidatorAgent],source:t}),this.props.graphOperation(ha,{prop:ai.ValidatorAgent,id:n.id,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ValidatorAgentLink}})},value:n.properties?n.properties[ai.ValidatorAgent]:""}),jh(Cu,{options:o,label:Ht,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.ValidatorFunction],source:t}),this.props.graphOperation(ha,{prop:ai.ValidatorFunction,id:n.id,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ValidatorFunctionLink}})},value:n.properties?n.properties[ai.ValidatorFunction]:""})):null)}});function Dh(e,t,n,r){Rh||(Rh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Rh,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Gh,Uh=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.OptionList);return Dh(du,{active:t},void 0,Dh(cu,{title:ot}),Dh(pu,{},void 0,Dh(uu,{onClick:()=>{this.props.graphOperation(Ta,{parent:hi(e,$i),groupProperties:{},linkProperties:{properties:{...si.OptionItemLink}}})},icon:"fa fa-puzzle-piece",title:it,description:at})))}});function Fh(e,t,n,r){Gh||(Gh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Gh,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Vh,Hh=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Executor),n=Zi(e),r=Oi(e,hi(e,$i));if(r&&_i(r,ai.ExecutorModel)){var o=ko(n,{id:_i(r,ai.ExecutorModel),direction:Io,type:zn.PropertyLink}).map(e=>({title:Ui(e),value:e.id}));_i(r,Fn.Executor)}return Fh(du,{active:t},void 0,r?Fh(hu,{},void 0,Fh(Cu,{options:o,defaultSelectText:Q,label:Rt,onChange:e=>{var t=r.id;let n=_i(r,Fn.Executor)||Xr();n=Qr(n,{id:e}),this.props.graphOperation(ha,{id:t,prop:Fn.Executor,value:n}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ExecutorModelLink,...Do(Yn.Remove,{function:"OnRemoveExecutorPropConnection"})}})},value:r.properties?r.properties[ai.ExecutorModel]:""})):null)}});function Bh(e,t,n,r){Vh||(Vh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Vh,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var qh,Wh=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Condition),n=Oi(e,hi(e,$i)),r=_i(n,ai.ConditionType),o=Zi(e),i=n?Oo(e,{id:n.id,links:[{type:zn.Condition,direction:Lo},{type:zn.FunctionOperator,direction:Lo}]}):[];let a=[],s=[];_i(n,Fn.MatchReference);var l=[],p=i.map(e=>_i(e,Fn.FunctionType)).filter(e=>e);if($r[r]&&$r[r].functions&&p&&1===p.length){let{constraints:t}=$r[r].functions[p[0]];if(t){let r=_i(i[0],Fn.MethodProps);if(l=Object.keys(t).filter(e=>-1!==t[e].nodeTypes.indexOf(Ln.Model)).map(e=>r&&r[e]?{title:`${_i(io(o,r[e]),Fn.UIText)||e}(${e})`,value:e}:{title:e,value:e}),r){var u=_i(n,Fn.MatchReference)||{};u.ref2&&(a=this.getProperties(r,u,e,"ref2")),u.ref1&&(s=this.getProperties(r,u,e,"ref1"))}}}return Bh(du,{active:t},void 0,Bh(gu,{label:I,value:_i(n,Fn.UIText),onChange:e=>{this.props.graphOperation(ca,{id:n.id,value:e})}}),Bh(Cu,{label:A,options:Object.keys(xr).map(e=>({title:e,value:xr[e]})),onChange:e=>{this.props.graphOperation(ha,{prop:ai.ConditionType,id:n.id,value:e})},value:r}),this.getMatchManyReferenceProperty({conditionType:r,model_options:l,currentNode:n,methods:i}),this.getEnumeration({conditionType:r,graph:o,model_options:l,currentNode:n,methods:i}),this.getMatchReferenceProperty({conditionType:r,model_options:l,currentNode:n,methods:i,graph:o}))}getProperties(e,t,n,r="ref2"){let o=[],i=Oo(n,{id:e[t[r]],links:[{type:zn.PropertyLink,direction:Io}]});return i&&(o=i.toNodeSelect()),o}getEnumeration(e){var{conditionType:t,model_options:n,graph:r,currentNode:o,methods:i}=e,{state:a}=this.props,s=_i(o,Fn.EnumerationReference)||{};if(t!==xr.InEnumerable)return[];let l=_i(i?i[0]:null,Fn.MethodProps);var p=[],u=Oo(a,{id:o.id,links:[{type:zn.Condition,direction:Lo}]})[0];(s=_i(o,Fn.EnumerationReference)||{ref1:GetNodeProp(u,ai.PermissionRequester)}).ref2&&this.getProperties(l,s,a,"ref2"),s.ref1&&(p=this.getProperties(l,s,a,"ref1")),s[jr.RefManyToMany]&&this.getProperties(l,s,a,"refManyToMany");var c=s&&s[ai.Enumeration]?s[ai.Enumeration]:"",d=s&&s[ai.AllowedEnumValues]?s[ai.AllowedEnumValues]:[],f=[];if(c){var h=io(r,c);if(h){var m=_i(h,Fn.Enumeration)||[];d=d.intersection(m),f=m.relativeCompliment(d)}}let y={...s};var _=Hi(a,oi.Enumeration).toNodeSelect();return[Bh(Cu,{label:w,options:n,onChange:e=>{s.ref1=e,this.props.graphOperation(ha,{prop:ai.EnumerationReference,id:o.id,value:s})},value:y.ref1}),Bh(Cu,{label:Rt,options:p,onChange:e=>{s.ref1Property=e,this.props.graphOperation(ha,{prop:ai.EnumerationReference,id:o.id,value:s})},value:y.ref1Property}),o?Bh(Cu,{label:ie,options:_,onChange:e=>{var t=o.id;let n=s[ai.Enumeration]||"";s[ai.Enumeration]=e,this.props.graphOperation(ba,{target:n,source:t,linkType:si.EnumerationReferenceLink.type}),this.props.graphOperation(ha,{prop:ai.EnumerationReference,id:t,value:s}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.EnumerationReferenceLink}})},value:s[ai.Enumeration]||""},`${o.id}-enum`):null,Bh(cu,{title:Z},`${o.id}-allowed-enum-title`),d&&d.length?d.map(e=>Bh("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{var t=m.relativeCompliment([...d].filter(t=>t!==e));s[ai.AllowedEnumValues]=[...d].filter(t=>t!==e),s[ai.DisallowedEnumValues]=t,this.props.graphOperation(ha,{prop:ai.EnumerationReference,id:o.id,value:s})}},`allowed-${e}`," ",e)):null,Bh(cu,{title:K},`${o.id}-disalloweditem-title`),f&&f.length?f.map(e=>Bh("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{var t=m.relativeCompliment([...d,e].unique());s[ai.AllowedEnumValues]=[...d,e].unique(),s[ai.DisallowedEnumValues]=t,this.props.graphOperation(ha,{prop:ai.EnumerationReference,id:o.id,value:s})}},`disallowed-${e}`," ",e)):null]}getMatchManyReferenceProperty(e){var{conditionType:t,model_options:n,currentNode:r,methods:o}=e,{state:i}=this.props,a=_i(r,Fn.MatchManyReferenceParameter)||{};let s=_i(o?o[0]:null,Fn.MethodProps);var l=[],p=[],u=[];(a=_i(r,Fn.MatchManyReferenceParameter)||{}).ref2&&(p=this.getProperties(s,a,i,"ref2")),a.ref1&&(l=this.getProperties(s,a,i,"ref1")),a[jr.RefManyToMany]&&(u=this.getProperties(s,a,i,"refManyToMany"));let c={...a};return[t==xr.MatchManyReferenceParameter?Bh(Cu,{label:w,options:n,onChange:e=>{a.ref1=e,this.props.graphOperation(ha,{prop:ai.MatchManyReferenceParameter,id:r.id,value:a})},value:c.ref1}):null,c.ref1&&t==xr.MatchManyReferenceParameter?Bh(Nu,{label:jt,value:c.ref1UseId,onChange:e=>{a.ref1UseId=e,this.props.graphOperation(ha,{prop:ai.MatchManyReferenceParameter,id:r.id,value:a})}}):null,c.ref1&&!a.ref1UseId&&t==xr.MatchManyReferenceParameter?Bh(Cu,{label:Rt,options:l,onChange:e=>{a.ref1Property=e,this.props.graphOperation(ha,{prop:ai.MatchManyReferenceParameter,id:r.id,value:a})},value:c.ref1Property}):null,t==xr.MatchManyReferenceParameter?Bh(Cu,{label:w,options:n,onChange:e=>{a.ref2=e,this.props.graphOperation(ha,{prop:ai.MatchManyReferenceParameter,id:r.id,value:a})},value:c.ref2}):null,c.ref2&&t==xr.MatchManyReferenceParameter?Bh(Nu,{label:jt,value:c.ref2UseId,onChange:e=>{a.ref2UseId=e,this.props.graphOperation(ha,{prop:ai.MatchManyReferenceParameter,id:r.id,value:a})}}):null,c.ref2&&!a.ref2UseId&&t==xr.MatchManyReferenceParameter?Bh(Cu,{label:Rt,options:p,onChange:e=>{a.ref2Property=e,this.props.graphOperation(ha,{prop:ai.MatchManyReferenceParameter,id:r.id,value:a})},value:c.ref2Property}):null,c.ref1&&c.ref2&&t==xr.MatchManyReferenceParameter?Bh(Cu,{label:sn,options:n,onChange:e=>{a[jr.RefManyToMany]=e,this.props.graphOperation(ha,{prop:ai.MatchManyReferenceParameter,id:r.id,value:a})},value:c[jr.RefManyToMany]}):null,c.ref2&&t==xr.MatchManyReferenceParameter?Bh(Nu,{label:ln,value:c.refManyToManyExists,onChange:e=>{a.refManyToManyExists=e,this.props.graphOperation(ha,{prop:ai.MatchManyReferenceParameter,id:r.id,value:a})}}):null,c.ref1&&c.ref2&&t==xr.MatchManyReferenceParameter?Bh(Cu,{label:Rt,options:u,onChange:e=>{a.refManyToManyProperty=e,this.props.graphOperation(ha,{prop:ai.MatchManyReferenceParameter,id:r.id,value:a})},value:c.refManyToManyProperty}):null,c.refManyToManyProperty&&c.ref1&&c.ref2&&t==xr.MatchManyReferenceParameter?Bh(Cu,{title:$t,label:$t,options:[...Object.keys(Rr)].map(e=>({title:e,value:e})),value:c.refManyToManyCondition,onChange:e=>{a.refManyToManyCondition=e,this.props.graphOperation(ha,{prop:ai.MatchManyReferenceParameter,id:r.id,value:e})}}):null].filter(e=>e).map((e,t)=>e)}getMatchReferenceProperty(e){var{conditionType:t,model_options:n,currentNode:r,methods:o}=e;if(t!==xr.MatchReference)return null;var{state:i}=this.props,a=_i(r,Fn.MatchReference)||{};let s=_i(o?o[0]:null,Fn.MethodProps);var l=[],p=[],u=ai.MatchReference;a.ref2&&(p=this.getProperties(s,a,i,"ref2")),a.ref1&&(l=this.getProperties(s,a,i,"ref1")),a[jr.RefManyToMany]&&this.getProperties(s,a,i,"refManyToMany");let c={...a};return[Bh(Cu,{label:w,options:n,onChange:e=>{var t=_i(r,Fn.MatchReference)||{};t.ref1=e,this.props.graphOperation(ha,{prop:u,id:r.id,value:t})},value:c.ref1}),c.ref1?Bh(Nu,{label:jt,value:c.ref1UseId,onChange:e=>{var t=_i(r,Fn.MatchReference)||{};t.ref1UseId=e,this.props.graphOperation(ha,{prop:u,id:r.id,value:t})}}):null,c.ref1&&!a.ref1UseId?Bh(Cu,{label:Rt,options:l,onChange:e=>{var t=_i(r,Fn.MatchReference)||{};t[jr.Ref1Property]=e,this.props.graphOperation(ha,{prop:u,id:r.id,value:t})},value:c.ref1Property}):null,Bh(Cu,{label:w,options:n,onChange:e=>{var t=_i(r,Fn.MatchReference)||{};t.ref2=e,this.props.graphOperation(ha,{prop:u,id:r.id,value:t})},value:c.ref2}),c.ref2?Bh(Nu,{label:jt,value:c.ref2UseId,onChange:e=>{var t=_i(r,Fn.MatchReference)||{};t.ref2UseId=e,this.props.graphOperation(ha,{prop:u,id:r.id,value:t})}}):null,c.ref2&&!a.ref2UseId?Bh(Cu,{label:Rt,options:p,onChange:e=>{var t=_i(r,Fn.MatchReference)||{};t.ref2Property=e,this.props.graphOperation(ha,{prop:u,id:r.id,value:t})},value:c.ref2Property}):null].filter(e=>e)}});function Yh(e,t,n,r){qh||(qh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:qh,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var zh,Xh=dp(class extends s.Component{mustBeModel(e){for(var{state:t}=this.props,n=_o(Zi(t),e.id,Lo),r=0;r<n.length;r++){var o=Ci(n[r],Qn.CONSTRAINTS);if(o&&o[_r.IsModel])return!0}return!1}mustBeProperty(e){for(var{state:t}=this.props,n=_o(Zi(t),e.id,Lo),r=0;r<n.length;r++){var o=Ci(n[r],Qn.CONSTRAINTS);if(o&&o[_r.IsProperty])return!0}return!1}mustBeFunction(e){for(var{state:t}=this.props,n=_o(Zi(t),e.id,Lo),r=0;r<n.length;r++){var o=Ci(n[r],Qn.CONSTRAINTS);if(o&&o[_r.IsFunction])return!0}return!1}render(){var e,t,{state:n}=this.props,r=mi(n,oi.Parameter),o=Oi(n,hi(n,$i)),i=[],a=[];return o&&r&&(e=Zi(n),t={id:o.id},i=So(e,{...t||{},direction:Lo}),this.mustBeModel(o)?a=Hi(n,oi.Model).map(e=>({value:e.id,title:Ui(e)})):this.mustBeProperty(o)?a=Hi(n,oi.Property).map(e=>({value:e.id,title:Ui(e)})):this.mustBeFunction(o)&&(a=Hi(n,oi.Function).map(e=>({value:e.id,title:Ui(e)})))),Yh(du,{active:r},void 0,o&&0===i.length?Yh(Cu,{label:Pe,options:Object.keys(pi).sort((e,t)=>e.localeCompare(t)).map(e=>({value:pi[e],title:e})),onChange:e=>{o.id,this.props.graphOperation(ha,{prop:ai.CodePropertyType,id:o.id,value:e})},value:o.properties?o.properties[ai.CodePropertyType]:""}):null,o?Yh(Cu,{label:He,options:a,onChange:e=>{var t=o.id;this.props.graphOperation(ba,{target:o.properties[ai.UIChoiceNode],source:t}),this.props.graphOperation(ha,{prop:ai.UIChoiceNode,id:t,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ChoiceLink}})},value:o.properties?o.properties[ai.UIChoiceNode]:""}):null)}});function Qh(e,t,n,r){zh||(zh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:zh,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Kh,Jh,Zh=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.OptionListItem),n=Oi(e,hi(e,$i)),r=n&&n.properties&&n.properties[ai.UseCustomUIOption],o=Hi(e,oi.OptionCustom).map(e=>({value:e.id,title:Ui(e)}));return Qh(du,{active:t},void 0,n?Qh(hu,{},void 0,Qh(Nu,{label:pt,value:n.properties?n.properties[ai.UseCustomUIOption]:"",onChange:e=>{this.props.graphOperation(ha,{prop:ai.UseCustomUIOption,id:n.id,value:e})}}),Qh(Cu,r?{options:o,label:lt,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.UIOptionTypeCustom],source:t}),this.props.graphOperation(ha,{prop:ai.UIOptionTypeCustom,id:n.id,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.OptionCustomLink}})},value:n.properties?n.properties[ai.UIOptionTypeCustom]:""}:{options:Object.keys(ci).sort((e,t)=>e.localeCompare(t)).map(e=>({value:ci[e],title:e})),label:lt,onChange:e=>{this.props.graphOperation(ha,{prop:ai.UIOptionType,id:n.id,value:e})},value:n.properties?n.properties[ai.UIOptionType]:""}),r?Qh(pu,{},void 0,Qh(uu,{onClick:()=>{this.props.graphOperation(Aa,{})},icon:"fa fa-puzzle-piece",title:ct,description:dt})):null):null)}});function em(e,t,n,r){Kh||(Kh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Kh,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class tm extends s.Component{constructor(e){super(e),this.state={value:""}}render(){var{state:e}=this.props;return em(hu,{sidebarform:!0},void 0,em(gu,{onClick:()=>{this.props.onComplete&&(this.props.onComplete(this.state.value),this.setState({value:""}))},value:this.state.value,onChange:e=>{this.setState({value:e})},inputgroup:!0,placeholder:ie}))}}function nm(e,t,n,r){Jh||(Jh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Jh,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var rm=nm("div",{},void 0,"reference"),om=nm("div",{},void 0,"item"),im=nm("div",{});var am,sm=dp(class extends s.Component{render(){var e,{state:t}=this.props,n=(mi(t,oi.Executor),Zi(t)),r=Oi(t,hi(t,$i));if(r&&_i(r,ai.ExecutorModel)&&(e=(i=_i(r,Fn.Executor)).properties[this.props.property].validators[this.props.validator]),e){if(e.arguments&&e.arguments.reference){var{types:o}=e.arguments.reference;if(o){let l=Hi(t,o).filter(e=>_i(e,Fn.NODEType)!==Ln.ExtensionType||Po(e));var i;let p=Jr(i=_i(r,Fn.Executor)||{properties:{}},{property:this.props.property,validator:this.props.validator}),u=[];if(p&&p.node){let e=io(n,p.node);switch(_i(e,Fn.NODEType)){case Ln.Enumeration:u=(_i(e,Fn.Enumeration)||[]).map(e=>nm("div",{className:`external-event ${p.enumeration&&p.enumeration[e]?"bg-red":"bg-black"}`,style:{cursor:"pointer"},onClick:()=>{p.enumeration=p.enumeration||{},p.enumeration[e]=!p.enumeration[e],this.props.graphOperation(ha,{id:r.id,prop:Fn.Executor,value:i})}},void 0," ",e));break;case Ln.ExtensionType:var a=jo(e),s=Ro(e);u=a.map(e=>nm("div",{className:`external-event ${p.extension&&p.extension[e[s]]?"bg-red":"bg-black"}`,style:{cursor:"pointer"},onClick:()=>{p.extension=p.extension||{},p.extension[e[s]]=!p.extension[e[s]],this.props.graphOperation(ha,{id:r.id,prop:Fn.Executor,value:i})}},void 0," ",e[s]))}}return nm(hu,{},void 0,nm(Cu,{options:l.map(e=>({title:Ui(e),value:e.id})),defaultSelectText:L,label:Rt,onChange:e=>{var t=r.id,n=_i(r,Fn.Executor)||{properties:{}};let o=Jr(n,{property:this.props.property,validator:this.props.validator}),i=o.node;o.node=e,i&&this.props.graphOperation(ba,{target:i,source:t}),this.props.graphOperation(ha,{id:t,prop:Fn.Executor,value:n}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ExecutorModelItemLink,...Do(Yn.Remove,{property:this.props.property,validator:this.props.validator,function:"OnRemoveExecutorItemPropConnection",node:o.node})}})},value:e?e.node:""}),u)}return rm}return om}return im}});function lm(e,t,n,r){am||(am="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:am,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var pm=lm("div",{});var um,cm=dp(class extends s.Component{render(){var e,{state:t}=this.props,n=mi(t,this.props.nodeType||oi.Executor),r=Zi(t),o=Oi(t,hi(t,$i));n&&o&&_i(o,this.props.modelKey||ai.ExecutorModel)&&(e=_i(o,this.props.nodeProp||Fn.Executor));let i=this.props.ui||pr,a=pm;return e&&e.properties&&(a=Object.keys(e.properties).map(n=>{let a=e.properties[n],s=`ExecutorPropertyActivityMenu${n}-${o.id}`,l=Object.keys(a&&a.validators?a.validators:{}).map(e=>{let r=`${`${s}-selected-validation`}-inne-${e}-r`;return lm(eu,{title:a.validators&&a.validators[e]&&a.validators[e].type?a.validators[e].type:e,open:hi(t,r),active:hi(t,r),toggle:()=>{this.props.toggleVisual(r)},icon:"fa fa-tag"},`${e}-v-v`,lm(eu,{hideArrow:!0,title:N,icon:"fa fa-minus",onClick:()=>{let t=o.id,r=_i(o,this.props.nodeProp||Fn.Executor)||{properties:{}};delete r.properties[n].validators[e],this.props.graphOperation(ha,{id:t,prop:this.props.nodeProp||Fn.Executor,value:r})}}),lm(sm,{node:o.id,property:n,validator:e}))}),p=Object.keys(i).filter(e=>!a||!a.validators||!a.validators[e]).reverse().map(e=>lm(eu,{hideArrow:!0,title:e,icon:"fa fa-plus-square-o",onClick:()=>{let t=o.id;var r=_i(o,this.props.nodeProp||Fn.Executor)||{properties:{}};r=Qr(r,{id:n,validator:(void 0)(),validatorArgs:{type:e,...i[e]}}),this.props.graphOperation(ha,{id:t,prop:this.props.nodeProp||Fn.Executor,value:r})}},`${e}-afjlskf-asfd`));return lm(eu,{open:hi(t,s),active:hi(t,s),title:Ui(io(r,n)),toggle:()=>{this.props.toggleVisual(s)}},s,lm(eu,{hideArrow:!0,title:g,icon:"fa fa-minus",onClick:()=>{let e=o.id;this.props.graphOperation(ba,{target:n,source:e})}}),lm(eu,{title:z,icon:"fa  fa-list-ul",open:hi(t,`${s}-selected-executions`),active:hi(t,`${s}-selected-executions`),toggle:()=>{this.props.toggleVisual(`${s}-selected-executions`)}},void 0,l),lm(eu,{title:C,icon:"fa fa-plus-circle",open:hi(t,`${s}-selectexecution`),active:hi(t,`${s}-selectexecution`),toggle:()=>{this.props.toggleVisual(`${s}-selectexecution`)}},void 0,p))}),a=lm("div",{style:{position:"relative"}},void 0,lm(Fp,{},void 0,lm(ou,{},void 0,lm(Hp,{},void 0,a))))),a}});function dm(e,t,n,r){um||(um="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:um,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var fm,hm=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Executor),n=Oi(e,hi(e,$i)),r=Hi(e,oi.Model).map(e=>({title:Ui(e),value:e.id})),o=Hi(e,[oi.Function,oi.Method]).map(e=>({title:Ui(e),value:e.id})),i=Hi(e,oi.Model).filter(e=>_i(e,Fn.IsAgent)).map(e=>({title:Ui(e),value:e.id}));return dm(du,{active:t},void 0,n?dm(hu,{},void 0,dm(Cu,{options:Object.keys(Jn).map(e=>({title:e,value:e})),label:J,onChange:e=>{this.props.graphOperation(ha,{prop:ai.ExecutorFunctionType,id:n.id,value:e})},value:n.properties?n.properties[ai.ExecutorFunctionType]:""}),dm(Cu,{options:r,label:M,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.ExecutorModel],source:t}),this.props.graphOperation(ha,{prop:ai.ExecutorModel,id:n.id,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ExecutorModelLink}})},value:n.properties?n.properties[ai.ExecutorModel]:""}),dm(Cu,{options:i,label:X,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.ExecutorAgent],source:t}),this.props.graphOperation(ha,{prop:ai.ExecutorAgent,id:n.id,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ExecutorAgentLink}})},value:n.properties?n.properties[ai.ExecutorAgent]:""}),dm(Cu,{options:o,label:Ht,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.ExecutorFunction],source:t}),this.props.graphOperation(ha,{prop:ai.ExecutorFunction,id:n.id,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ExecutorFunctionLink}})},value:n.properties?n.properties[ai.ExecutorFunction]:""})):null)}});function mm(e,t,n,r){fm||(fm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:fm,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ym,_m=dp(class extends s.Component{render(){var e,{state:t}=this.props,n=mi(t,oi.Validator),r=Zi(t),o=Oi(t,hi(t,$i));if(o&&_i(o,ai.ValidatorModel)){var i=ko(r,{id:_i(o,ai.ValidatorModel),direction:Io,type:zn.PropertyLink}).map(e=>({title:Ui(e),value:e.id}));e=_i(o,Fn.Validator)}let a=[];return e&&e.properties&&(a=Object.keys(e.properties).map(e=>{let n=`ValidatorPropertyMenu${e}-${o.id}`;return mm(eu,{open:hi(t,n),active:hi(t,n),title:Ui(io(r,e)),toggle:()=>{this.props.toggleVisual(n)}},n)}),a=mm("div",{style:{position:"relative"}},void 0,mm(Fp,{},void 0,mm(ou,{},void 0,mm(Hp,{},void 0,a))))),mm(du,{active:n},void 0,o?mm(hu,{},void 0,mm(Cu,{options:i,defaultSelectText:Q,label:Rt,onChange:e=>{var t=o.id,n=_i(o,Fn.Validator)||{properties:{}};n=Qr(n,{id:e}),this.props.graphOperation(ha,{id:t,prop:Fn.Validator,value:n}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ValidatorModelLink,...Do(Yn.Remove,{function:"OnRemoveValidationPropConnection"})}})},value:o.properties?o.properties[ai.ValidatorModel]:""})):null)}});function vm(e,t,n,r){ym||(ym="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ym,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var gm=vm("div",{},void 0,"reference"),bm=vm("div",{},void 0,"item"),Cm=vm("div",{});var Em,Nm=dp(class extends s.Component{render(){var e,{state:t}=this.props,n=(mi(t,oi.Validator),Zi(t)),r=Oi(t,hi(t,$i));if(r&&_i(r,ai.ValidatorModel)&&(e=(i=_i(r,Fn.Validator)).properties[this.props.property].validators[this.props.validator]),e){if(e.arguments&&e.arguments.reference){var{types:o}=e.arguments.reference;if(o){let l=Hi(t,o).filter(e=>_i(e,Fn.NODEType)!==Ln.ExtensionType||Po(e));var i;let p=Jr(i=_i(r,Fn.Validator)||{properties:{}},{property:this.props.property,validator:this.props.validator}),u=[];if(p&&p.node){let e=io(n,p.node);switch(_i(e,Fn.NODEType)){case Ln.Enumeration:u=(_i(e,Fn.Enumeration)||[]).map(e=>vm("div",{className:`external-event ${p.enumeration&&p.enumeration[e]?"bg-red":"bg-black"}`,style:{cursor:"pointer"},onClick:()=>{p.enumeration=p.enumeration||{},p.enumeration[e]=!p.enumeration[e],this.props.graphOperation(ha,{id:r.id,prop:Fn.Validator,value:i})}},void 0," ",e));break;case Ln.ExtensionType:var a=jo(e),s=Ro(e);u=a.map(e=>vm("div",{className:`external-event ${p.extension&&p.extension[e[s]]?"bg-red":"bg-black"}`,style:{cursor:"pointer"},onClick:()=>{p.extension=p.extension||{},p.extension[e[s]]=!p.extension[e[s]],this.props.graphOperation(ha,{id:r.id,prop:Fn.Validator,value:i})}},void 0," ",e[s]))}}return vm(hu,{},void 0,vm(Cu,{options:l.map(e=>({title:Ui(e),value:e.id})),defaultSelectText:L,label:Rt,onChange:e=>{var t=r.id,n=_i(r,Fn.Validator)||{properties:{}};let o=Jr(n,{property:this.props.property,validator:this.props.validator}),i=o.node;o.node=e,i&&this.props.graphOperation(ba,{target:i,source:t}),this.props.graphOperation(ha,{id:t,prop:Fn.Validator,value:n}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ValidatorModelItemLink,...Do(Yn.Remove,{property:this.props.property,validator:this.props.validator,function:"OnRemoveValidationItemPropConnection",node:o.node})}})},value:e?e.node:""}),u)}return gm}return bm}return Cm}});function Om(e,t,n,r){Em||(Em="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Em,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var km=Om("div",{});var Sm,Im=dp(class extends s.Component{render(){var e,{state:t}=this.props,n=mi(t,oi.Validator),r=Zi(t),o=Oi(t,hi(t,$i));n&&o&&_i(o,ai.ValidatorModel)&&(e=_i(o,Fn.Validator));let i=km;return e&&e.properties&&(i=Object.keys(e.properties).map(n=>{let i=e.properties[n],a=`ValidatorPropertyActivityMenu${n}-${o.id}`,s=Object.keys(i&&i.validators?i.validators:{}).map(e=>{let r=`${`${a}-selected-validation`}-inne-${e}-r`;return Om(eu,{title:i.validators&&i.validators[e]&&i.validators[e].type?i.validators[e].type:e,open:hi(t,r),active:hi(t,r),toggle:()=>{this.props.toggleVisual(r)},icon:"fa fa-tag"},`${e}-v-v`,Om(eu,{hideArrow:!0,title:N,icon:"fa fa-minus",onClick:()=>{let t=o.id,r=_i(o,Fn.Validator)||{properties:{}};delete r.properties[n].validators[e],this.props.graphOperation(ha,{id:t,prop:Fn.Validator,value:r})}}),Om(Nm,{node:o.id,property:n,validator:e}))}),l=Object.keys(dr).filter(e=>!i||!i.validators||!i.validators[e]).reverse().map(e=>Om(eu,{hideArrow:!0,title:e,icon:"fa fa-plus-square-o",onClick:()=>{let t=o.id;var r=_i(o,Fn.Validator)||{properties:{}};r=Qr(r,{id:n,validator:(void 0)(),validatorArgs:{type:e,...dr[e]}}),this.props.graphOperation(ha,{id:t,prop:Fn.Validator,value:r})}},`${e}-afjlskf-asfd`));return Om(eu,{open:hi(t,a),active:hi(t,a),title:Ui(io(r,n)),toggle:()=>{this.props.toggleVisual(a)}},a,Om(eu,{hideArrow:!0,title:v,icon:"fa fa-minus",onClick:()=>{let e=o.id;this.props.graphOperation(ba,{target:n,source:e})}}),Om(eu,{title:E,icon:"fa  fa-list-ul",open:hi(t,`${a}-selected-validations`),active:hi(t,`${a}-selected-validations`),toggle:()=>{this.props.toggleVisual(`${a}-selected-validations`)}},void 0,s),Om(eu,{title:b,icon:"fa fa-plus-circle",open:hi(t,`${a}-selectvalidation`),active:hi(t,`${a}-selectvalidation`),toggle:()=>{this.props.toggleVisual(`${a}-selectvalidation`)}},void 0,l))}),i=Om("div",{style:{position:"relative"}},void 0,Om(Fp,{},void 0,Om(ou,{},void 0,Om(Hp,{},void 0,i))))),i}});function Lm(e,t,n,r){Sm||(Sm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Sm,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Tm,Mm=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.ExtensionTypeList),n=Oi(e,hi(e,$i)),r=Hi(e,oi.ExtensionType).map(e=>({value:e.id,title:Ui(e)}));return Lm(du,{active:t},void 0,n?Lm(hu,{},void 0,Lm(Cu,{options:r,label:Tt,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.UIExtension],source:t}),this.props.graphOperation(ha,{prop:ai.UIExtension,id:n.id,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ExtensionLink}})},value:n.properties?n.properties[ai.UIExtension]:""})):null,Lm(cu,{title:It}),Lm(pu,{},void 0,Lm(uu,{onClick:()=>{this.props.graphOperation(Pa,{})},icon:"fa fa-puzzle-piece",title:Lt,description:Mt})))}});function Am(e,t,n,r){Tm||(Tm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Tm,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var wm,xm=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Permission),n=Oi(e,hi(e,$i)),r=(_i(n,ai.IsAgent),n?{...Jn,...n.properties[ai.UIPermissions]||{}}:null),o=(Hi(e,oi.Model).map(e=>({value:e.id,title:Ui(e)})),Zi(e)),i=o&&n&&n.properties?n.properties[ai.PermissionTarget]:"",a=o&&n&&n.properties?n.properties[ai.PermissionRequester]:"",s=null;return i&&(s=ko(o,{id:i,direction:Io,type:zn.PropertyLink}))&&(s=s.map(e=>({value:e.id,title:Ui(e)}))),a&&ko(o,{id:a,direction:Io,type:zn.PropertyLink}).map(e=>({value:e.id,title:Ui(e)})),Am(du,{active:t},void 0,Am(cu,{title:Ge}),n?Am(Nu,{title:Ue,label:je,value:n.properties[ai.IsOwned],onChange:e=>{this.props.graphOperation(ha,{prop:ai.IsOwned,id:n.id,value:e})}}):null,Am(cu,{title:Fe}),r?Am(hu,{},void 0,Object.keys(r).map(e=>Am(Nu,{label:Ve[e],value:r[e],onChange:t=>{r[e]=t,this.props.graphOperation(ha,{prop:ai.UIPermissions,id:n.id,value:{...r}})}},`permissions-${e}`))):null,Am("button",{type:"submit",className:"btn btn-primary",onClick:()=>{this.props.graphOperation(ga,{parent:hi(e,$i),groupProperties:{},linkProperties:{properties:{...Kn.ConditionLink}}})}},void 0,k))}});function Pm(e,t,n,r){wm||(wm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:wm,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var jm,Rm=dp(class extends s.Component{render(){var{state:e}=this.props,t=!!(ki(e,fa)||[]).length,n=(Hi(e,Ln.Model,{useRoot:!0})||[]).map(e=>({title:Ui(e),value:e.id}));return Pm(du,{active:t},void 0,Pm(hu,{},void 0,Pm(Cu,{label:ye,options:n,onChange:t=>{var n=Bi(e,t);this.props.graphOperation([{operation:$a,options:{node:n,rootNode:ea(e)}}])},value:""})))}});function $m(e,t,n,r){jm||(jm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:jm,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Dm=$m("div",{}),Gm=$m("span",{className:"hamburger hamburger-1"}),Um=$m("span",{className:"hamburger hamburger-2"}),Fm=$m("span",{className:"hamburger hamburger-3"});class Vm extends s.Component{constructor(e){super(e),this.state={id:wi()}}icon(){return this.props.icon||"fa fa-gears"}menuItems(){var e=[],{menuItems:t}=this.props;return t&&t.map((t,n)=>{t.onClick&&t.icon&&e.push($m("a",{title:t.title,className:"menu-item",onClick:t.onClick,style:{pointerEvents:"all"}},`goo-menu-${this.state.id}-icon-index-${n}`," ",$m("i",{className:t.icon})," "))}),e}render(){if(!this.props.visible)return Dm;var e=this.menuItems();return $m("div",{className:"goo-menu container",style:{position:"fixed",transition:"all 200ms",top:this.props.top||0,left:this.props.left||0}},void 0,$m("nav",{className:"menu",style:{pointerEvents:"none"}},void 0,$m("input",{type:"checkbox",onChange:()=>{this.props.onToggle&&this.props.onToggle()},checked:this.props.open,style:{pointerEvents:"all"},href:"#",className:"menu-open",id:`${this.state.id}`}),$m("label",{className:"menu-open-button",htmlFor:`${this.state.id}`,style:{pointerEvents:"all"}},void 0,Gm,Um,Fm),e))}}var Hm,Bm,qm=$m("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1"},void 0,$m("defs",{},void 0,$m("filter",{id:"shadowed-goo"},void 0,$m("feGaussianBlur",{in:"SourceGraphic",result:"blur",stdDeviation:"10"}),$m("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7",result:"goo"}),$m("feGaussianBlur",{in:"goo",stdDeviation:"3",result:"shadow"}),$m("feColorMatrix",{in:"shadow",mode:"matrix",values:"0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 -0.2",result:"shadow"}),$m("feOffset",{in:"shadow",dx:"1",dy:"1",result:"shadow"}),$m("feComposite",{in2:"shadow",in:"goo",result:"goo"}),$m("feComposite",{in2:"goo",in:"SourceGraphic",result:"mix"})),$m("filter",{id:"goo"},void 0,$m("feGaussianBlur",{in:"SourceGraphic",result:"blur",stdDeviation:"10"}),$m("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7",result:"goo"}),$m("feComposite",{in2:"goo",in:"SourceGraphic",result:"mix"}))));class Wm extends s.Component{render(){return $m("div",{style:{display:"none"}},void 0,qm)}}function Ym(e,t,n,r){Hm||(Hm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Hm,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class zm extends s.Component{label(){return this.props.label||"{label}"}value(){return this.props.value||""}title(){return this.props.title||"{title}"}primary(){return this.props.primary?"box-primary":""}render(){var e={};return this.props.maxheight&&(e.maxHeight=`${this.props.maxheight}px`,e.overflowY="scroll"),Ym("div",{className:`box ${this.primary()}`},void 0,Ym("div",{className:"box-header with-border"},void 0,Ym("h3",{className:"box-title"},void 0,this.title())),Ym("div",{className:"box-body",style:{...e}},void 0,this.props.children),Ym("div",{className:"box-footer"},void 0,this.props.footer))}}function Xm(e,t,n,r){Bm||(Bm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Bm,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Qm,Km=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.ChoiceList),n=_i(Oi(e,hi(e,$i)),ai.UIExtensionDefinition);return Xm(du,{active:t},void 0,Xm("ul",{},void 0,n?Object.keys(n.definition).map((e,t)=>Xm("li",{},`clist${e}-${t}`,e)):null))}});function Jm(e,t,n,r){Qm||(Qm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Qm,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Zm,ey,ty,ny,ry,oy,iy=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.ModelFilter),n=Oi(e,hi(e,$i));Hi(e,Ln.Model).map(e=>({title:Ui(e),value:e.id}));var r=Zi(e);let o=[];return n&&(o=(ko(r,{id:_i(n,Fn.FilterModel),direction:Io,type:zn.PropertyLink})||[]).map(e=>Jm(Nu,{label:Ui(e),value:_i(n,ai.FilterPropreties)?_i(n,ai.FilterPropreties)[e.id]:"",onChange:t=>{let r=_i(n,ai.FilterPropreties)||{};r[e.id]=t,this.props.graphOperation(ha,{prop:ai.FilterPropreties,id:n.id,value:r})}},`checkbox-${e.id}`))),Jm(du,{active:t},void 0,n?Jm(hu,{},void 0,o):null)}});function ay(e,t,n,r){Zm||(Zm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Zm,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class sy extends s.Component{min(){return this.props.min||"1"}max(){return this.props.max||"100"}value(){return this.props.value||""}render(){return ay("div",{className:"slidecontainer"},void 0,ay("input",{type:"range",min:this.min(),onChange:e=>{this.props.onChange&&!isNaN(e.target.value)&&this.props.onChange(parseFloat(e.target.value))},max:this.max(),value:this.value(),className:"slider"}))}}class ly extends s.Component{active(){return this.props.active?"active":""}render(){return function(e,t,n,r){ey||(ey="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ey,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:"tab-content"},void 0,this.props.children)}}class py extends s.Component{active(){return this.props.active?"active":""}title(){return this.props.title||this.props.children||"{title}"}render(){return function(e,t,n,r){ty||(ty="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ty,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("li",{className:"user-footer"},void 0,this.props.children)}}class uy extends s.Component{render(){return function(e,t,n,r){ny||(ny="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ny,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:"nav-tabs-custom"},void 0,this.props.children)}}function cy(e,t,n,r){ry||(ry="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ry,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class dy extends s.Component{render(){var e=this,t=e.props.dataFunc||(e=>e||""),n=(e.props.data||[]).map((n,r)=>cy("tr",{},`${r}-row`,(e.props.columns||[]).map((e,o)=>cy("td",{},`${o}-${r}-cell`,t(n[e.value],e.value,r))),(e.props.columnButtons||[]).map((e,t)=>cy("td",{},`${t}-${r}-cell-btn`,e(n,r))))),r=(e.props.columns||[]).map((e,t)=>cy("th",{},`col-${t}`,e.title));(e.props.columnButtons||[]).map((e,t)=>{r.push(cy("th",{},`${t}-cell-header`))});var o={};return o.style={maxHeight:this.props.maxHeight||500,overflowY:"auto"},l.a.createElement("div",o,cy("table",{className:"table table-bordered"},void 0,cy("tbody",{},void 0,cy("tr",{},void 0,r),n)))}}function fy(e,t,n,r){oy||(oy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:oy,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var hy=fy("i",{className:"fa fa-pencil-square"}),my=fy("i",{className:"fa fa-book"}),yy=fy("i",{className:"fa fa-balance-scale"}),_y=fy("i",{className:"fa fa-trash"}),vy=fy("i",{className:"fa fa-anchor"});var gy,by=dp(class extends s.Component{constructor(e){super(e),this.state={property:""}}form(){var{state:e}=this.props,t=mi(e,oi.ExtensionType)||mi(e,oi.ChoiceList),n=Oi(e,hi(e,$i));return t&&_i(n,ai.UIExtensionDefinition),null}editKey(e){return`${e}-edit`}tabKey(e){return`${e}-tabkey`}footer(){var{state:e}=this.props,t=mi(e,oi.ExtensionType)||mi(e,oi.ChoiceList),n=Oi(e,hi(e,$i));if(t&&n){var r=_i(n,ai.UIExtensionDefinition),o=r&&r.config.isEnumeration?fy("div",{className:"pull-right"},void 0,fy("button",{type:"submit",className:"btn btn-primary",onClick:()=>{r.config.list=[...r.config.list,{}],this.props.graphOperation(ha,{prop:ai.UIExtensionDefinition,id:n.id,value:{...r}})}},void 0,tt)):null,i=n?this.tabKey(n.id):null,a=fy("div",{className:"pull-left"},void 0,fy("div",{className:"btn-group"},void 0,fy("button",{onClick:()=>this.props.setVisual(i,At),type:"button",title:At,className:"btn btn-default btn-flat"},void 0,hy),fy("button",{onClick:()=>this.props.setVisual(i,xt),type:"button",title:xt,className:"btn btn-default btn-flat"},void 0,my),fy("button",{onClick:()=>{r||(r={config:{isEnumeration:!1,dictionary:{},list:[]},definition:{}}),this.props.setVisual(i,Pt),this.props.graphOperation(ha,{prop:ai.UIExtensionDefinition,id:n.id,value:r})},type:"button",title:Pt,className:"btn btn-default btn-flat"},void 0,yy)),fy("div",{className:"btn-group"},void 0,Ni(e,i,At)?fy("button",{onClick:()=>{this.state.property&&(r||(r={config:{isEnumeration:!1,dictionary:{},list:[]},definition:{}}),r.definition[this.state.property]="string",this.props.graphOperation(ha,{prop:ai.UIExtensionDefinition,id:n.id,value:r}),this.setState({property:""}))},type:"button",className:"btn btn-default btn-flat"},void 0,tt):null));return fy(py,{},void 0,a,o)}return null}render(){var{state:e}=this.props,t=Oi(e,hi(e,$i)),n=(this.form(),this.footer()),r=t?this.tabKey(t.id):null,o=_i(t,ai.UIExtensionDefinition),i=t?Hi(e,oi.Property).map(e=>({value:e.id,title:Ui(e)})):[];return fy(du,{active:mi(e,oi.ExtensionType)},void 0,Ni(e,r,Pt)?null:fy(hu,{},void 0,o?fy(Nu,{label:ve,value:o.config.isEnumeration,onChange:e=>{o.config.isEnumeration=e,this.props.graphOperation(ha,{prop:ai.UIExtensionDefinition,id:t.id,value:{...o,config:{...o.config}}})}}):null,fy(gu,{value:this.state.property,label:Rt,onChange:e=>{this.setState({property:e})}})),o&&Ni(e,r,xt)?fy(dy,{columns:Object.keys(o.definition).map(e=>({title:e,value:e})),dataFunc:(e,n,r)=>fy(gu,{label:ge,value:e,onChange:e=>{o.config.isEnumeration?o.config&&o.config.list&&o.config.list[r]&&(o.config.list[r][n]=e):o.config&&o.config.dictionary&&(o.config.dictionary[n]=e),this.props.graphOperation(ha,{prop:ai.UIExtensionDefinition,id:t.id,value:{...o,config:{...o.config,dictionary:{...o.config.dictionary},list:[...o.config.list]}}})}}),columnButtons:o.config.isEnumeration?[(e,n)=>fy("div",{className:"pull-right"},void 0,fy("button",{onClick:()=>{o.config.isEnumeration&&(o.config&&o.config.list&&o.config.list[n]&&(o.config.list=[...o.config.list.filter((e,t)=>t!==n)]),this.props.graphOperation(ha,{prop:ai.UIExtensionDefinition,id:t.id,value:{...o}}))},className:"btn btn-block btn-default"},void 0,_y))]:[],data:o.config.isEnumeration?o.config.list.map(e=>({...e})):[{...o.config.dictionary}]}):null,o&&Ni(e,r,At)?fy(dy,{columns:[{title:st,value:"name"}],columnButtons:[e=>fy("div",{className:"pull-right"},void 0,fy("div",{class:"btn-group"},void 0,fy("button",{title:re,onClick:()=>{o.config={...o.config,keyField:e.name},this.props.graphOperation(ha,{prop:ai.UIExtensionDefinition,id:t.id,value:{...o}})},className:`btn   ${e.name===o.config.keyField?"btn-success":"btn-default"}`},void 0,vy),fy("button",{onClick:()=>{delete o.definition[e.name],o.definition={...o.definition},this.props.graphOperation(ha,{prop:ai.UIExtensionDefinition,id:t.id,value:{...o}})},className:"btn btn-default"},void 0,"x")))],data:Object.keys(o.definition).map(e=>({name:e}))}):null,o&&Ni(e,r,Pt)?fy(hu,{},void 0,fy(Nu,{label:Pt,title:Dt,value:o.definition.dependsOn,onChange:e=>{o.definition.dependsOn=e,this.props.graphOperation(ha,{prop:ai.UIExtensionDefinition,id:t.id,value:{...o,definition:{...o.definition}}})}}),fy(Cu,{label:ft,title:Gt,options:i,value:o.definition.property,onChange:e=>{o.definition.property=e;var n=t.id;this.props.graphOperation(ba,{target:t.properties[ai.UIChoiceType],source:n}),this.props.graphOperation(ha,{prop:ai.UIChoiceType,id:n,value:e}),this.props.graphOperation(va,{target:e,source:n,properties:{...si.ExtensionDependencyLink}}),this.props.graphOperation(ha,{prop:ai.UIExtensionDefinition,id:t.id,value:{...o,definition:{...o.definition}}})}}),fy(gu,{label:Ut,title:Ft,value:o.definition.match,onChange:e=>{o.definition.match=e,this.props.graphOperation(ha,{prop:ai.UIExtensionDefinition,id:t.id,value:{...o,definition:{...o.definition}}})}})):null,n)}});function Cy(e,t,n,r){gy||(gy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:gy,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Ey,Ny=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Method),n=Oi(e,hi(e,$i)),r=(Hi(e,oi.Model).filter(e=>_i(e,ai.IsAgent)).map(e=>({value:e.id,title:Ui(e)})),Hi(e,oi.Permission).map(e=>({value:e.id,title:Ui(e)})),Object.keys(wr).map(e=>({title:wr[e].title||e,value:e})));return Cy(du,{active:t},void 0,n&&!n.properties[ai.UseScopeGraph]?Cy(Cu,{label:Vt,options:r,onChange:e=>{this.props.graphOperation(ha,{prop:ai.FunctionType,id:n.id,value:e})},value:n.properties?n.properties[ai.FunctionType]:""}):null,n?Cy(Cu,{label:J,options:Object.keys(Jn).map(e=>({title:e,value:Jn[e]})),onChange:e=>{this.props.graphOperation(ha,{prop:ai.MethodType,id:n.id,value:e})},value:n.properties?n.properties[ai.MethodType]:""}):null,n?Cy(Cu,{label:Wt,options:Object.keys(Tr).map(e=>({title:e,value:Tr[e]})),onChange:e=>{this.props.graphOperation(ha,{id:n.id,value:e,prop:Fn.HttpMethod})},value:_i(n,Fn.HttpMethod)}):null,n?Cy(gu,{label:zt,value:_i(n,Fn.HttpRoute),onChange:e=>{this.props.graphOperation(ha,{id:n.id,value:e,prop:Fn.HttpRoute})}}):null,Cy(pu,{},void 0,n&&n.properties[ai.UseScopeGraph]?Cy(uu,{onClick:()=>{this.props.graphOperation([{operation:void 0},{options:{id:n.id}}])},icon:"fa fa-puzzle-piece",title:vn,description:gn}):null,n?Cy(uu,{onClick:()=>{this.props.graphOperation(ka,{parent:hi(e,$i),groupProperties:{},linkProperties:{properties:{...Kn.ModelItemFilter}}})},icon:"fa fa-puzzle-piece",title:Re,description:$e}):null))}});function Oy(e,t,n,r){Ey||(Ey="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Ey,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ky,Sy=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Method),n=(Zi(e),Oi(e,hi(e,$i))),r=_i(n,Fn.FunctionType);let o=wr[r],i=[];return o&&o.constraints&&(i=Object.values(o.constraints).map(t=>{let r=Hi(e,t.nodeTypes).filter(e=>!Object.keys(t).filter(e=>"key"!=e&&"nodeTypes"!==e).find(n=>_i(e,n)!==t[n])).map(e=>({title:Ui(e),value:e.id}));return Oy(Cu,{label:t.key,options:r,onChange:e=>{var r=n.id;let o=_i(n,Fn.MethodProps)||{},i=o[t.key];o[t.key]=e,this.props.graphOperation(ba,{target:i,source:r,linkType:si.FunctionOperator.type}),this.props.graphOperation(ha,{prop:ai.MethodProps,id:n.id,value:o}),this.props.graphOperation(va,{target:e,source:r,properties:{...si.FunctionOperator}})},value:_i(n,Fn.MethodProps)?_i(n,Fn.MethodProps)[t.key]:""},t.key)})),Oy(du,{active:t},void 0,n?Oy(hu,{},void 0,i):null)}});function Iy(e,t,n,r){ky||(ky="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ky,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const Ly="MAESTRO_DETAILS_MENU";var Ty=Iy("div",{});var My,Ay=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Maestro),n=Oi(e,hi(e,$i)),r=n?bo(Zi(e),{id:n.id}):[];return t?Iy(eu,{open:hi(e,Ly),active:hi(e,Ly),title:qt,toggle:()=>{this.props.toggleVisual(Ly)}},void 0,r.map((e,t)=>Iy(nu,{title:`${Ui(e)}`,onClick:()=>{var t=n.id;this.props.graphOperation(ba,{target:e.id,source:t})}},`tree-view-item-maestro-details${t}`))):Ty}});function wy(e,t,n,r){My||(My="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:My,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const xy="NODE_MANAGEMENT_MENU",Py="NODE_MANAGEMENT";var jy=wy("i",{className:"fa fa-times"});var Ry,$y=dp(class extends s.Component{constructor(e){super(e),this.state={filter:""}}toFilterString(e){return`${_i(e,Fn.CodeName)} ${e.id} ${_i(e,Fn.UIText)} ${_i(e,Fn.NODEType)}`.toLowerCase()}render(){let{state:e}=this.props;var t=Zi(e);let n=(this.state.filter||"").toLowerCase(),r=Fi(e).filter(e=>!!n&&-1!==this.toFilterString(e).indexOf(n)).groupBy(e=>_i(e,Fn.NODEType)),o=[];return o=Object.keys(r).filter(e=>r[e].length).map((t,n)=>{let o=`NodeManagement-${t}`,i=r[t].map((e,r)=>wy(eu,{hideArrow:!0,title:_i(e,Fn.UIText),icon:_i(e,Fn.Pinned)?"fa fa-check-circle-o":"fa fa-circle-o",toggle:()=>{this.props.graphOperation(ha,{prop:ai.Pinned,id:e.id,value:!_i(e,Fn.Pinned)})}},`node-${t}-${n}-${r}`));return wy(eu,{title:t,icon:"fa fa-dot-circle-o",open:hi(e,o),active:hi(e,o),right:wy("span",{className:"label label-primary "},void 0,r[t].length),toggle:()=>{this.props.toggleVisual(o)}},`node-${t}-${n}`,i)}),wy(eu,{title:`${T} ${t?Object.keys(t.visibleNodes||{}).length:""}`,icon:"fa fa-object-group",open:hi(e,Py),active:hi(e,Py),onClick:()=>{this.props.toggleVisual(Py)}},void 0,wy(eu,{icon:"fa fa-dot-circle-o",title:Me,open:hi(e,xy),active:hi(e,xy),onClick:()=>{this.props.toggleVisual(xy)}},void 0,wy("div",{className:"pull-left"},void 0,wy("div",{className:"btn-group"},void 0,wy("button",{onClick:()=>{this.props.graphOperation(Fi(e).filter(e=>_i(e,Fn.Pinned)).map(e=>({operation:ha,options:{prop:ai.Pinned,id:e.id,value:!1}})))},type:"button",title:Sn,className:"btn btn-default btn-flat"},void 0,jy)))),wy(hu,{sidebarform:!0},void 0,wy(gu,{value:this.state.filter,onChange:e=>{this.setState({filter:e})},inputgroup:!0,placeholder:In})),o)}});function Dy(e,t,n,r){Ry||(Ry="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Ry,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Gy,Uy=dp(class extends s.Component{render(){var{state:e}=this.props,t=Oi(e,hi(e,$i)),n=!Tn[_i(t,ai.NODEType)];return Dy(du,{active:n},void 0,t?Dy(hu,{},void 0,Dy(gu,{label:Ce,disabled:!Vi(t),value:t.properties?t.properties[ai.CodeName]:"",onChange:e=>{this.props.graphOperation(ha,{prop:ai.CodeName,id:t.id,value:e})}}),Dy(gu,{label:Ee,disabled:!Vi(t),value:t.properties?t.properties[ai.ValueName]:"",onChange:e=>{this.props.graphOperation(ha,{prop:ai.ValueName,id:t.id,value:e})}}),Dy(gu,{label:Ne,disabled:!Vi(t),value:t.properties?t.properties[ai.AgentName]:"",onChange:e=>{this.props.graphOperation(ha,{prop:ai.AgentName,id:t.id,value:e})}})):null)}});function Fy(e,t,n,r){Gy||(Gy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Gy,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Vy,Hy=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.ModelItemFilter),n=[],r=Zi(e),o=Oi(e,hi(e,$i));if(o){var i=No(e,{id:o.id,links:[{direction:Lo,type:zn.ModelItemFilter}]}),a=null,s=Ki(i);if(s)switch(Xi(i)){case mr.Get_ManyToMany_Agent_Value__IListChild:a=io(r,s[yr.ManyToManyModel])}a&&(n=Oo(e,{id:a.id,links:[{direction:Io,type:zn.PropertyLink}]}).toNodeSelect())}return Fy(du,{active:t},void 0,o?Fy(hu,{},void 0,Fy(gu,{label:I,value:_i(o,Fn.UIText),onChange:e=>{this.props.graphOperation(ca,{id:o.id,value:e})}}),Fy(Cu,{options:n,defaultSelectText:Q,label:Rt,onChange:e=>{var t=o.id;let n=_i(o,Fn.FilterModel)||Xr();n=Qr(n,{id:e}),this.props.graphOperation([{operation:ha,options:{id:t,prop:Fn.FilterModel,value:n}},{operation:ha,options:{id:t,prop:Fn.ModelItemFilter,value:a.id}}]),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ModelItemFilter,...Do(Yn.Remove,{function:"OnRemoveModelFilterPropConnection"})}})},value:""})):null)}});function By(e,t,n,r){Vy||(Vy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Vy,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var qy,Wy=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Model),n=Oi(e,hi(e,$i)),r=_i(n,ai.HasLogicalChildren),o=_i(n,ai.HasLogicalNieces);return By(du,{active:t},void 0,n?By(hu,{},void 0,By(Nu,{label:cn,title:hn,value:_i(n,ai.HasLogicalChildren),onChange:e=>{this.props.graphOperation([{operation:ha,options:{prop:ai.HasLogicalChildren,id:n.id,value:e}}])}}),r?By(Cu,{options:Hi(e,Ln.Model).map(e=>({value:e.id,title:Ui(e)})),label:dn,onChange:e=>{let t=n.id;var r=_i(n,ai.LogicalChildrenTypes)||[];this.props.graphOperation([{operation:ha,options:{prop:ai.LogicalChildrenTypes,id:n.id,value:[...r,e].unique(e=>e)}},{operation:va,options:{target:e,source:t,properties:{...si.LogicalChildren}}}])},value:""}):null,r?By(nh,{active:!0,isSelected:e=>{var t=_i(n,ai.LogicalChildrenTypes)||[];return e&&t.some(t=>t===e.id)},items:(_i(n,ai.LogicalChildrenTypes)||[]).map(t=>{let n=io(Zi(e),t);if(n)return{title:Ui(n),id:n.id}}),onClick:e=>{let t=n.id;var r=_i(n,ai.LogicalChildrenTypes)||[],o=r;o=r.some(t=>e.id===t)?[...o.filter(t=>t!==e.id)].unique(e=>e):[...o,e.id].unique(e=>e),this.props.graphOperation([{operation:ha,options:{prop:ai.LogicalChildrenTypes,id:n.id,value:o}},{operation:ba,options:{target:e.id,source:t,properties:{...si.LogicalChildren}}}])}}):null,By(Nu,{label:mn,title:yn,value:_i(n,ai.HasLogicalNieces),onChange:e=>{this.props.graphOperation([{operation:ha,options:{prop:ai.HasLogicalNieces,id:n.id,value:e}}])}}),o?By(Cu,{options:Hi(e,Ln.Model).map(e=>({value:e.id,title:Ui(e)})),label:fn,onChange:e=>{let t=n.id;var r=_i(n,ai.LogicalNieceTypes)||[];this.props.graphOperation([{operation:ha,options:{prop:ai.LogicalNieceTypes,id:n.id,value:[...r,e].unique(e=>e)}},{operation:va,options:{target:e,source:t,properties:{...si.LogicalNieces}}}])},value:""}):null,o?By(nh,{active:!0,isSelected:e=>{var t=_i(n,ai.LogicalNieceTypes)||[];return e&&t.some(t=>t===e.id)},items:(_i(n,ai.LogicalNieceTypes)||[]).map(t=>{let n=io(Zi(e),t);if(n)return{title:Ui(n),id:n.id}}),onClick:e=>{let t=n.id;var r=_i(n,ai.LogicalNieceTypes)||[],o=r;o=r.some(t=>e.id===t)?[...o.filter(t=>t!==e.id)].unique(e=>e):[...o,e.id].unique(e=>e),this.props.graphOperation([{operation:ha,options:{prop:ai.LogicalNieceTypes,id:n.id,value:o}},{operation:ba,options:{target:e.id,source:t,properties:{...si.LogicalNieces}}}])}}):null):null)}});function Yy(e,t,n,r){qy||(qy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:qy,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class zy extends s.Component{constructor(e){super(e),this.state={filter:"",id:(void 0)()}}render(){return Yy("div",{className:"form-group"},void 0,(this.props.values||[]).map((e,t)=>{let{value:n,title:r}=e;return Yy("div",{className:"radio"},`${t}-radio-${this.state.id}`,Yy("label",{},void 0,Yy("input",{type:"radio",name:this.state.id,id:this.state.id,value:this.props.value===n,onChange:()=>{this.props.onChange(n)},checked:this.props.value===n?"checked":""}),r))}))}}var Xy;function Qy(e,t,n,r){Xy||(Xy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Xy,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Ky=Qy("div",{});var Jy,Zy=dp(class extends s.Component{constructor(e){super(e),this.state={filter:""}}toFilterString(e){return`${_i(e,Fn.CodeName)} ${e.id} ${_i(e,Fn.UIText)} ${_i(e,Fn.NODEType)}`.toLowerCase()}render(){let{state:e}=this.props;var t=Zi(e);return t?Qy(zm,{title:x},void 0,Qy(hu,{},void 0,Qy(zy,{value:t.depth,onChange:e=>{this.props.graphOperation([{operation:Da,options:{depth:e}}])},values:[].interpolate(0,7,e=>({title:"Depth  "+e,value:e}))}))):Ky}});function e_(e,t,n,r){Jy||(Jy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Jy,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var t_,n_=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Maestro),n=Oi(e,hi(e,$i)),r=Zi(e),o=Hi(e,[oi.Function,oi.Method]).map(e=>({title:Ui(e),value:e.id}));return e_(du,{active:t},void 0,n?e_(Cu,{label:Ht,options:o,defaultSelectText:Bt,onChange:e=>{let t=n.id;this.props.graphOperation(va,{target:e,source:t,properties:{...si.FunctionLink}}),bo(r,{id:e,constraints:{[_r.IsInputVariable]:!0}}).map(n=>{this.props.graphOperation(va,{source:n.id,target:t,properties:{...si.FunctionVariable,[Qn.FUNCTION_ID]:e}})})},value:""}):null)}});function r_(e,t,n,r){t_||(t_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:t_,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const o_="CONTROLLER_DETAILS_MENU";var i_=r_("div",{});var a_,s_=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Maestro),n=Oi(e,hi(e,$i)),r=n?bo(Zi(e),{id:n.id}):[];return t?r_(eu,{open:hi(e,o_),active:hi(e,o_),title:qt,toggle:()=>{this.props.toggleVisual(o_)}},void 0,r.map((e,t)=>r_(nu,{title:`${Ui(e)}`,onClick:()=>{var t=n.id;this.props.graphOperation(ba,{target:e.id,source:t})}},`tree-view-item-controller-details${t}`))):i_}});function l_(e,t,n,r){a_||(a_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:a_,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p_,u_=dp(class extends s.Component{render(){var{state:e}=this.props,t=Oi(e,hi(e,$i)),n=mi(e,oi.Controller),r=(Zi(e),Hi(e,oi.Maestro).map(e=>({title:Ui(e),value:e.id})));return l_(du,{active:n},void 0,t?l_(Cu,{label:Xt,options:r,defaultSelectText:Yt,onChange:e=>{let n=t.id;this.props.graphOperation(va,{target:e,source:n,properties:{...si.MaestroLink}})},value:""}):null,t?l_(gu,{label:ae,value:_i(t,Fn.CodeUser),onChange:e=>{this.props.graphOperation(ha,{id:t.id,value:e,prop:Fn.CodeUser})}}):null)}});function c_(e,t,n,r){p_||(p_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:p_,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d_,f_=dp(class extends s.Component{getTargetNodes(e,t){let n=[];return t&&((n=ko(e,{id:t.id,direction:Io,type:zn.PermissionDependencyPropertyManyToManyLink})).length||(n=ko(e,{id:t.id,direction:Io,type:zn.PermissionDependencyProperty}))),n}render(){var{state:e}=this.props,t=mi(e,oi.PermissionDependency),n=Oi(e,hi(e,$i)),r=(_i(n,ai.IsAgent),Hi(e,oi.Enumeration).map(e=>({value:e.id,title:Ui(e)}))),o=Hi(e,oi.ExtensionType).map(e=>({value:e.id,title:Ui(e)})),i=Zi(e),a=n&&n.properties?n.properties[ai.UIExtension]:"",s=(n&&n.properties?n.properties[ai.AllowedExtensionValues]:[])||[],l=[];if(a){var p=io(i,a);if(p){var u=_i(p,ai.UIExtensionDefinition);if(u&&u.config&&u.config.isEnumeration){var c=u.config.list.map(e=>e[u.config.keyField||Object.keys(e)[0]]);s=s.intersection(c),l=c.relativeCompliment(s)}}}var d=n&&n.properties?n.properties[ai.Enumeration]:"",f=(n&&n.properties?n.properties[ai.AllowedEnumValues]:[])||[],h=[];if(d){var m=io(i,d);if(m){var y=_i(m,Fn.Enumeration)||[];f=f.intersection(y),h=y.relativeCompliment(f)}}let _=this.getTargetNodes(i,n),v=null,g=null;return _.length&&(v=_i(g=_[0],ai.UIAttributeType)),c_(du,{active:t},void 0,c_(cu,{title:ne}),n&&g&&v==pi.BOOLEAN?c_(Nu,{title:vt,label:gt,value:n.properties[ai.UseEqual],onChange:e=>{this.props.graphOperation(ha,{prop:ai.UseEqual,id:n.id,value:e})}}):null,n&&g&&v==pi.BOOLEAN&&_i(n,ai.UseEqual)?c_(Cu,{title:bt,label:_t,options:["true","false"].map(e=>({title:e,value:e})),value:n.properties[ai.IsEqualTo],onChange:e=>{this.props.graphOperation(ha,{prop:ai.IsEqualTo,id:n.id,value:e})}}):null,n&&g&&v==pi.LISTOFSTRINGS?c_(Nu,{title:Nt,label:yt,value:n.properties[ai.IncludedInList],onChange:e=>{this.props.graphOperation(ha,{prop:ai.IncludedInList,id:n.id,value:e})}}):null,n&&g&&v==pi.LISTOFSTRINGS?c_(Nu,{title:Et,label:Ct,value:n.properties[ai.ExcludedFromList],onChange:e=>{this.props.graphOperation(ha,{prop:ai.ExcludedFromList,id:n.id,value:e})}}):null,n&&g&&v==pi.STRING?c_(Nu,{title:oe,label:oe,value:n.properties[ai.UseEnumeration],onChange:e=>{this.props.graphOperation(ha,{prop:ai.UseEnumeration,id:n.id,value:e})}}):null,n&&g&&v==pi.STRING?c_(Nu,{title:mt,label:mt,value:n.properties[ai.UseExtension],onChange:e=>{this.props.graphOperation(ha,{prop:ai.UseExtension,id:n.id,value:e})}}):null,n&&g&&v==pi.STRING&&n.properties[ai.UseExtension]?c_(cu,{title:Z}):null,t&&s&&s.length&&n&&n.properties[ai.UseExtension]?s.map(e=>c_("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{this.props.graphOperation(ha,{prop:ai.AllowedExtensionValues,id:n.id,value:[...s].filter(t=>t!==e)}),this.props.graphOperation(ha,{prop:ai.DisallowedExtensionValues,id:n.id,value:c.relativeCompliment([...s].filter(t=>t!==e))})}},`ext_allowed-${e}`," ",e)):null,n&&g&&v==pi.STRING&&n.properties[ai.UseExtension]?c_(cu,{title:K}):null,t&&l&&l.length&&n&&n.properties[ai.UseExtension]?l.map(e=>c_("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{this.props.graphOperation(ha,{prop:ai.AllowedExtensionValues,id:n.id,value:[...s,e].unique()}),this.props.graphOperation(ha,{prop:ai.DisallowedExtensionValues,id:n.id,value:c.relativeCompliment([...s,e].unique())})}},`ext_disallowed-${e}`," ",e)):null,n&&g&&v==pi.STRING&&n.properties[ai.UseExtension]?c_(Cu,{label:wt,options:o,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.UIExtension],source:t,linkType:si.ExtensionLink.type}),this.props.graphOperation(ha,{prop:ai.UIExtension,id:t,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.ExtensionLink}})},value:n.properties?n.properties[ai.UIExtension]:""}):null,n&&g&&v==pi.STRING&&n.properties[ai.UseEnumeration]?c_(Cu,{label:ie,options:r,onChange:e=>{var t=n.id;this.props.graphOperation(ba,{target:n.properties[ai.Enumeration],source:t,linkType:si.EnumerationLink.type}),this.props.graphOperation(ha,{prop:ai.Enumeration,id:t,value:e}),this.props.graphOperation(va,{target:e,source:t,properties:{...si.EnumerationLink}})},value:n.properties?n.properties[ai.Enumeration]:""}):null,n&&g&&v==pi.STRING&&n.properties[ai.UseEnumeration]?c_(cu,{title:Z}):null,t&&f&&f.length&&n&&n.properties[ai.UseEnumeration]?f.map(e=>c_("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{var t=y.relativeCompliment([...f].filter(t=>t!==e));this.props.graphOperation(ha,{prop:ai.AllowedEnumValues,id:n.id,value:[...f].filter(t=>t!==e)}),this.props.graphOperation(ha,{prop:ai.DisallowedEnumValues,id:n.id,value:t})}},`allowed-${e}`," ",e)):null,n&&g&&v==pi.STRING&&n.properties[ai.UseEnumeration]?c_(cu,{title:K}):null,t&&h&&h.length&&n&&n.properties[ai.UseEnumeration]?h.map(e=>c_("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{var t=y.relativeCompliment([...f,e].unique());this.props.graphOperation(ha,{prop:ai.AllowedEnumValues,id:n.id,value:[...f,e].unique()}),this.props.graphOperation(ha,{prop:ai.DisallowedEnumValues,id:n.id,value:t})}},`disallowed-${e}`," ",e)):null)}});function h_(e,t,n,r){d_||(d_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:d_,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const m_="GRAPH_MENU";var y_,__=dp(class extends s.Component{render(){var{state:e}=this.props;return h_($p,{icon:"fa fa-cart-plus",open:hi(e,m_),onClick:()=>{this.props.toggleVisual(m_)}},void 0,h_(Gp,{icon:"fa fa-plus",title:bn,onClick:()=>{this.props.addNewSubGraph()},description:En}))}});function v_(e,t,n,r){y_||(y_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:y_,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const g_="SECTION_LIST";var b_,C_=dp(class extends s.Component{render(){let e=this,{state:t}=e.props,n=[],r=ta(t),o=ea(t);r&&r.map(t=>{n.push(v_(nu,{title:t.title||fe,right:v_("span",{className:"label label-primary pull-right"},void 0,t.nodes.length),onClick:()=>{e.props.setApplication(fa,[t.id])}},t.id))});let i=n;return o&&(i=v_(eu,{hideIcon:!0,right:v_("span",{className:"label label-primary pull-right"},void 0,o.nodes.length),title:o.title||fe,hideArrow:!0,open:!0,active:!0,onClick:()=>{e.props.setApplication(fa,null)}},void 0,n)),v_(eu,{title:Cn,icon:"fa fa-cart-plus",open:hi(t,g_),active:hi(t,g_),onClick:()=>{this.props.toggleVisual(g_)}},void 0,i)}});function E_(e,t,n,r){b_||(b_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:b_,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N_,O_=dp(class extends s.Component{render(){var{state:e}=this.props,t=mi(e,oi.Enumeration),n=Oi(e,hi(e,$i)),r=_i(n,Fn.Enumeration)||[];return E_(du,{active:t},void 0,E_(tm,{onComplete:e=>{if(e){var t=_i(n,Fn.Enumeration)||[];this.props.graphOperation(ha,{prop:ai.Enumeration,id:n.id,value:[...t,e].unique()})}}}),t&&r&&r.length?r.map(e=>E_("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{this.props.graphOperation(ha,{prop:ai.Enumeration,id:n.id,value:[...r].filter(t=>t!==e)})}},void 0," ",e)):null)}});function k_(e,t,n,r){N_||(N_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:N_,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S_,I_=dp(class extends s.Component{render(){var{state:e}=this.props,t=ia(e);return k_(hu,{sidebarform:!0},void 0,k_(gu,{value:t?t.title:"",onChange:e=>{this.props.graphOperation(sa,{text:e})},inputgroup:!0,placeholder:Nn}))}});function L_(e,t,n,r){S_||(S_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:S_,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class T_ extends s.Component{active(){return!!this.props.active}render(){let e=this.active();return L_("div",{style:{position:"relative",width:"100%"}},void 0,L_("div",{style:{position:"absolute",width:"100%",transition:"all 1s",pointerEvents:e?"all":"none",top:e?0:"-1000px",backgroundColor:"#dd4b39d2"}},void 0,this.props.children))}}var M_,A_,w_,x_=n("react-syntax-highlighter"),P_=n.n(x_),j_={hljs:{display:"block",overflowX:"auto",padding:"0.5em",color:"#000",background:"#f8f8ff"},"hljs-comment":{color:"#408080",fontStyle:"italic"},"hljs-quote":{color:"#408080",fontStyle:"italic"},"hljs-keyword":{color:"#954121"},"hljs-selector-tag":{color:"#954121"},"hljs-literal":{color:"#954121"},"hljs-subst":{color:"#954121"},"hljs-number":{color:"#40a070"},"hljs-string":{color:"#219161"},"hljs-doctag":{color:"#219161"},"hljs-selector-id":{color:"#19469d"},"hljs-selector-class":{color:"#19469d"},"hljs-section":{color:"#19469d"},"hljs-type":{color:"#19469d"},"hljs-params":{color:"#00f"},"hljs-title":{color:"#458",fontWeight:"bold"},"hljs-tag":{color:"#000080",fontWeight:"normal"},"hljs-name":{color:"#000080",fontWeight:"normal"},"hljs-attribute":{color:"#000080",fontWeight:"normal"},"hljs-variable":{color:"#008080"},"hljs-template-variable":{color:"#008080"},"hljs-regexp":{color:"#b68"},"hljs-link":{color:"#b68"},"hljs-symbol":{color:"#990073"},"hljs-bullet":{color:"#990073"},"hljs-built_in":{color:"#0086b3"},"hljs-builtin-name":{color:"#0086b3"},"hljs-meta":{color:"#999",fontWeight:"bold"},"hljs-deletion":{background:"#fdd"},"hljs-addition":{background:"#dfd"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}};function R_(e,t,n,r){M_||(M_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:M_,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}class $_ extends s.Component{active(){return this.props.active?"active":""}title(){return this.props.title||this.props.children||"{title}"}render(){return R_("li",{className:this.active()},void 0,R_("a",{"data-toggle":"tab",onClick:()=>{this.props.onClick&&this.props.onClick()},"aria-expanded":"true"},void 0,this.title()))}}class D_ extends s.Component{render(){return function(e,t,n,r){A_||(A_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:A_,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("ul",{className:"nav nav-tabs"},void 0,this.props.children)}}function G_(e,t,n,r){w_||(w_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:w_,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const U_="MODEL_CODE",F_="CODE_VIEW_TAB";var V_,H_=dp(class extends s.Component{constructor(e){super(e),this.state={}}active(){return!!this.props.active}render(){var{state:e}=this.props;let t=this.active(),n="",r=(hi(e,U_),ea(e)),o=r?r[Ur.NAMESPACE]:null,i=r?r[Ur.SERVER_SIDE_SETUP]:null,a=null;if(e&&r&&t){var s=hi(e,F_),l=this.state[hi(e,F_)],p=op.generate({type:s,key:l,state:e});a=p,p&&p[l]&&(n=p[l].template)}var u=[Ln.Controller,Ln.Model,Ln.ExtensionType,Ln.Maestro,...Object.values(Mn)];hi(e,F_);let c=[];return a&&Object.keys(a).map(e=>{c.push({id:e,title:a[e].name,value:a[e].name})}),G_(T_,{active:t},void 0,G_("section",{className:"content"},void 0,G_("div",{className:"row"},void 0,G_("div",{className:"col-md-2"},void 0,G_(zm,{primary:!0,title:$},void 0,G_(gu,{onChange:e=>{this.props.setRootGraph(Ur.NAMESPACE,e),this.props.setAppsettingsAssemblyPrefixes(e)},label:D,value:o}),G_(Cu,{label:O,options:Object.keys(An).map(e=>({title:e,value:An[e]})),onChange:e=>{this.props.setRootGraph(Ur.SERVER_SIDE_SETUP,e)},value:i})),G_(zm,{primary:!0,title:R},void 0,G_(nh,{active:!0,isSelected:t=>t&&this.state[hi(e,F_)]===t.id,items:c,onClick:t=>{this.setState({[hi(e,F_)]:t.id})}}))),G_("div",{className:"col-md-10"},void 0,G_(uy,{},void 0,G_(D_,{},void 0,u?u.map(t=>G_($_,{active:Ni(e,F_,t),title:t,onClick:()=>{this.props.setVisual(F_,t)}},t)):null)),G_(ly,{},void 0,G_(du,{active:hi(e,F_)},void 0,G_(zm,{title:ke,primary:!0,maxheight:700},void 0,n?G_(P_.a,{language:"csharp",style:j_},void 0,n):null)))))))}});function B_(e,t,n,r){V_||(V_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:V_,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const q_="side-panel-open",W_="NODE_MENU",Y_="CONNECTING_NODE",z_="LINK_DISTANCE",X_="MAIN_CONTENT",Q_="MIND_MAP",K_="CODE_VIEW";var J_=B_(Wm,{}),Z_=B_(bp,{}),ev=B_(wp,{}),tv=B_(__,{}),nv=B_(I_,{}),rv=B_(kh,{},void 0,B_(Zy,{})),ov=B_(C_,{}),iv=B_($y,{}),av=B_(Ay,{}),sv=B_(s_,{}),lv=B_(Km,{}),pv=B_(Wh,{}),uv=B_(wu,{},void 0,B_(u_,{}),B_(Hy,{}),B_(Uy,{}),B_(lh,{}),B_(Ny,{}),B_(hh,{}),B_(Xh,{}),B_(ih,{}),B_($h,{}),B_(hm,{}),B_(ch,{}),B_(Ph,{}),B_(Oh,{}),B_(n_,{}),B_(Ah,{}),B_(Uh,{}),B_(Mm,{}),B_(Zh,{}),B_(xm,{}),B_(by,{}),B_(Lh,{}),B_(f_,{}),B_(O_,{}),B_(Au,{})),cv=B_(wu,{},void 0,B_(_m,{}),B_(Rm,{}),B_(Hh,{}),B_(Wy,{}),B_(Sy,{}),B_(bh,{}),B_(iy,{})),dv=B_(Im,{}),fv=B_(cm,{});const hv="SELECTED_TAB",mv="DEFAULT_TAB",yv="PARAMETER_TAB",_v="SCOPE_TAB";var vv,gv,bv=dp(class extends s.Component{componentDidMount(){this.props.setState()}minified(){var{state:e}=this.props;return fi(e,Ko,ti)?"sidebar-collapse":""}nodeSelectionMenuItems(){var e=[],{state:t}=this.props;if(hi(t,$i)){switch(_i(Oi(t,hi(t,$i)),Fn.NODEType)){case Ln.Method:case Ln.Action:e.push({onClick:()=>{this.props.setVisual(Y_,Kn.OnScreenLink)},icon:"fa fa-download",title:V},{onClick:()=>{this.props.setVisual(Y_,Kn.OnSuccessLink)},icon:"fa  fa-trophy",title:Y},{onClick:()=>{this.props.setVisual(Y_,Kn.OnItemSelection)},icon:"fa  fa-tasks",title:W},{onClick:()=>{this.props.setVisual(Y_,Kn.OnAction)},icon:"fa  fa-tasks",title:q},{onClick:()=>{this.props.setVisual(Y_,Kn.OnFailureLink)},icon:"fa  fa-frown-o",title:B});break;case Ln.ScreenItem:case Ln.ScreenCollection:case Ln.ScreenContainer:case Ln.Screen:e.push({onClick:()=>{this.props.setVisual(Y_,Kn.ChildLink)},icon:"fa  fa-share-alt",title:H})}e.push({onClick:()=>{this.props.setVisual(Y_,!0)},icon:"fa fa-link",title:F})}return e}render(){var{state:e}=this.props,t=hi(e,ni),n=0,r=0;t&&(n=t.right,r=t.top);var o=this.nodeSelectionMenuItems(),i=Oi(e,hi(e,$i));let a=Zi(e),s=ea(e),l=Si(e),p=hi(e,X_),u="0.0.0",c=null;s&&(u=`${s.version.major}.${s.version.minor}.${s.version.build}`,c=s.workspace);let d=null;return hi(e,Ri)&&(d=function(e,t){var n=Mo(e,t);return n?e.linkLib[n]:null}(s,hi(e,Ri))),B_("div",{className:`skin-red sidebar-mini skin-red ${this.minified()}`,style:{height:"auto",minHeight:"100vh"}},void 0,B_("div",{className:"wrapper",style:{height:"100vh"}},void 0,J_,B_(Vm,{visible:hi(e,$i),left:n-20,open:hi(e,W_),onToggle:()=>{this.props.toggleVisual(W_)},top:r+30,menuItems:o}),B_("div",{"data-tid":"container"},void 0,B_(Cp,{},void 0,Z_,B_(Ep,{},void 0,ev,B_(Pp,{},void 0,hi(e,ji)?B_(Pu,{icon:"fa fa-minus-square",onClick:()=>{this.props.graphOperation(ba,hi(e,ji)),this.props.setVisual(ji,null)}}):null,tv,B_(Pu,{icon:"fa fa-plus",onClick:()=>{this.props.graphOperation(la),this.props.setVisual(q_,!0),this.props.setVisual(hv,mv)}}),B_(Pu,{icon:"fa fa-minus",onClick:()=>{this.props.graphOperation(pa,{id:hi(e,$i)}),this.props.setVisual(q_,!1),this.props.setVisual(hv,mv)}}),B_(Pu,{onClick:()=>{this.props.toggleVisual("side-panel-open")}})))),B_(Fp,{},void 0,B_(Hp,{},void 0,B_(Vp,{title:Se}),B_(eu,{active:p===Q_||!p,hideArrow:!0,title:tn,icon:"fa fa-map",onClick:()=>{this.props.setVisual(X_,Q_)}}),B_(eu,{active:p===K_,hideArrow:!0,title:nn,icon:"fa fa-code",onClick:()=>{this.props.setVisual(X_,K_)}}),d&&d.properties?B_(Vp,{title:d.properties.type}):null,B_(Vp,{title:Oe}),B_(eu,{open:hi(e,Ru),active:hi(e,Ru),title:be,toggle:()=>{this.props.toggleVisual(Ru)}},void 0,B_(eu,{hideArrow:!0,title:P,icon:"fa fa-plus",onClick:()=>{this.props.newRedQuickBuilderGraph()}}),B_(eu,{hideArrow:!0,title:Kt,icon:"fa fa-folder-open",onClick:()=>{this.props.openRedQuickBuilderGraph()}}),B_(eu,{hideArrow:!0,title:Qt,icon:"fa fa-save",onClick:()=>{this.props.saveGraphToFile()}}),B_(eu,{hideArrow:!0,title:Zt,icon:"fa fa-cog",onClick:()=>{this.props.scaffoldProject()}}),B_(eu,{hideArrow:!0,title:Jt,icon:"fa fa-cog",onClick:()=>{this.props.scaffoldProject({filesOnly:!0})}}),B_(eu,{hideArrow:!0,title:en,icon:"fa fa-folder-open",onClick:()=>{this.props.setWorkingDirectory()}}),B_(eu,{title:u,hideArrow:!0}),c?B_(eu,{hideArrow:!0,title:c,icon:"fa fa-cog"}):null,nv),B_(eu,{open:hi(e,ju),active:hi(e,ju),title:S,toggle:()=>{this.props.toggleVisual(ju)}},void 0,B_(kh,{},void 0,B_(sy,{min:30,max:500,onChange:e=>{this.props.setVisual(z_,e)},value:hi(e,z_)})),rv),ov,iv,av,sv)),B_(ru,{},void 0,B_(H_,{active:hi(e,X_)===K_}),B_(Jf,{linkDistance:hi(e,z_),onNodeClick:(t,n)=>{if(hi(e,Y_)){let n=hi(e,$i);console.log(`selectedId:${n} => nodeId:${t}`);let r=hi(e,Y_);!0===r?this.props.graphOperation(ua,{target:t,source:n}):this.props.graphOperation(ua,{target:t,source:n,properties:r}),this.props.setVisual(Y_,!1),this.props.setVisual($i,null)}else-1===[hi(e,$i)].indexOf(t)?(this.props.SelectedNode(t),this.props.setVisual(ni,n),this.props.setVisual(q_,!0)):this.props.SelectedNode(null)},onLinkClick:(e,t)=>{console.log(`link id : ${e}`),this.props.setVisual(ji,e),this.props.setVisual(Ri,e)},selectedColor:Ua.SelectedNode,selectedLinks:[hi(e,ji)].filter(e=>e),selectedNodes:[hi(e,$i)].filter(e=>e),graph:l||a})),B_(ou,{open:hi(e,q_),extraWide:mi(e,oi.ExtensionType)},void 0,B_(iu,{},void 0,B_(su,{icon:"fa fa-cog",active:Ni(e,hv,mv),onClick:()=>{this.props.setVisual(hv,mv)}}),B_(su,{active:Ni(e,hv,yv),onClick:()=>{this.props.setVisual(hv,yv)}}),B_(su,{active:Ni(e,hv,_v),onClick:()=>{this.props.setVisual(hv,_v)}})),Ni(e,hv,mv)?B_(wu,{},void 0,i&&!Tn[_i(i,Fn.NODEType)]?B_(hu,{},void 0,B_(gu,{label:I,value:i.properties?i.properties.text:"",onChange:e=>{this.props.graphOperation(ca,{id:i.id,value:e})}}),Rn[i.properties?_i(i,ai.NODEType):null]?null:B_(Cu,{disabled:!Vi(i),label:L,options:Object.keys(oi).filter(e=>!Rn[oi[e]]).sort((e,t)=>e.localeCompare(t)).map(e=>({value:oi[e],title:e})),onChange:e=>{this.props.graphOperation(ha,{prop:ai.NODEType,id:i.id,value:e})},value:i.properties?_i(i,ai.NODEType):null}),B_(Nu,{label:U,value:_i(i,ai.Collapsed),onChange:e=>{this.props.graphOperation(ha,{prop:ai.Collapsed,id:i.id,value:e})}}),B_(Nu,{label:G,value:_i(i,ai.Pinned),onChange:e=>{this.props.graphOperation(ha,{prop:ai.Pinned,id:i.id,value:e})}})):null,lv,pv):null,Ni(e,hv,yv)?uv:null,Ni(e,hv,_v)?cv:null,Ni(e,hv,_v)?dv:null,Ni(e,hv,_v)?fv:null,Ni(e,hv,_v)?B_(cm,{ui:cr,modelKey:Fn.ModelItemFilter,nodeType:Ln.ModelItemFilter,nodeProp:Fn.FilterModel}):null))))}});function Cv(e,t,n,r){vv||(vv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:vv,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ev(e,t,n,r){gv||(gv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:gv,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Nv=Ev(()=>Cv(m,{},void 0,Cv(f.Switch,{},void 0,Cv(f.Route,{path:h.HOME,component:bv}))),{});var Ov=n("redux-thunk"),kv=n.n(Ov),Sv=n("history");n("./node_modules/redux-logger/dist/redux-logger.js");const Iv="INCREMENT_COUNTER",Lv="DECREMENT_COUNTER";function Tv(){return{type:Iv}}function Mv(){return{type:Lv}}function Av(){return(e,t)=>{const{counter:n}=t();n%2!=0&&e(Tv())}}function wv(e=1e3){return t=>{setTimeout(()=>{t(Tv())},e)}}function xv(e=0,t){switch(t.type){case Iv:return e+1;case Lv:return e-1;default:return e}}function Pv(e,t){switch(e=e||{},t.type){case di:return function(e,t){var n={...e};return n[t.section]={...n[t.section]||{}},n[t.section][t.item]=t.value,n}(e,t);default:return e}}function jv(e){return Object(y.combineReducers)({router:Object(d.connectRouter)(e),counter:xv,uiReducer:Pv})}const Rv=Object(Sv.createHashHistory)();jv(Rv);const $v=Object(Sv.createHashHistory)(),Dv=jv($v),Gv=Object(d.routerMiddleware)($v),Uv=Object(y.applyMiddleware)(kv.a,Gv);const Fv={configureStore:function(e){return Object(y.createStore)(Dv,e,Uv)},history:$v},{configureStore:Vv}=Fv,{history:Hv}=Fv;var Bv;n("./app/app.global.css");function qv(e,t,n,r){Bv||(Bv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Bv,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}const Wv=Vv();Object(p.render)(qv(u.AppContainer,{},void 0,qv(class extends s.Component{render(){const{store:e,history:t}=this.props;return Ev(c.Provider,{store:e},void 0,Ev(d.ConnectedRouter,{history:t},void 0,Nv))}},{store:Wv,history:Hv})),document.getElementById("root"))},"./node_modules/connected-react-router/lib/ConnectedRouter.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("react"),a=c(i),s=c(n("./node_modules/prop-types/index.js")),l=n("react-redux"),p=n("react-router"),u=n("./node_modules/connected-react-router/lib/actions.js");function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.getIn,n=e.toJS,r=function(e){function r(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));i.inTimeTravelling=!1,i.unsubscribe=o.store.subscribe(function(){var r=n(t(o.store.getState(),["router","location"])),a=r.pathname,s=r.search,l=r.hash,p=e.history.location,u=p.pathname,c=p.search,d=p.hash;u===a&&c===s&&d===l||(i.inTimeTravelling=!0,e.history.push({pathname:a,search:s,hash:l}))});var a=function(t,n){i.inTimeTravelling?i.inTimeTravelling=!1:e.onLocationChanged(t,n)};return i.unlisten=e.history.listen(a),a(e.history.location,e.history.action),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,C("Component")),o(r,[{key:"componentWillUnmount",value:function(){this.unlisten(),this.unsubscribe()}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.children;return C("React").createElement(C("Router"),{history:t},n)}}]),r}();r.contextTypes={store:C("PropTypes").shape({getState:C("PropTypes").func.isRequired,subscribe:C("PropTypes").func.isRequired}).isRequired},r.propTypes={history:C("PropTypes").shape({action:C("PropTypes").string.isRequired,listen:C("PropTypes").func.isRequired,location:C("PropTypes").object.isRequired,push:C("PropTypes").func.isRequired}).isRequired,location:C("PropTypes").oneOfType([C("PropTypes").object,C("PropTypes").string]).isRequired,action:C("PropTypes").string.isRequired,basename:C("PropTypes").string,children:C("PropTypes").oneOfType([C("PropTypes").func,C("PropTypes").node]),onLocationChanged:C("PropTypes").func.isRequired};return C("connect")(function(e){return{action:t(e,["router","action"]),location:t(e,["router","location"])}},function(e){return{onLocationChanged:function(t,n){return e(C("onLocationChanged")(t,n))}}})(r)};function f(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=C("createConnectedRouter");var h,m=null;function y(){if(null===m){var e=f();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),m=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return m}function _(){var e=f();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function v(){var e=y(),t=_(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(h=f()).__rewire_reset_all__||(h.__rewire_reset_all__=function(){h.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var g="__INTENTIONAL_UNDEFINED__",b={};function C(e){var t=v();if(void 0===t[e])return function(e){switch(e){case"Component":return i.Component;case"PropTypes":return s.default;case"onLocationChanged":return u.onLocationChanged;case"connect":return l.connect;case"createConnectedRouter":return d;case"React":return a.default;case"Router":return p.Router}return}(e);var n=t[e];return n===g?void 0:n}function E(e,t){var n=v();if("object"!==(void 0===e?"undefined":r(e)))return n[e]=void 0===t?g:t,function(){N(e)};Object.keys(e).forEach(function(t){n[t]=e[t]})}function N(e){var t=v();delete t[e],0==Object.keys(t).length&&delete _()[y]}function O(e){var t=v(),n=Object.keys(e),r={};function o(){n.forEach(function(e){t[e]=r[e]})}return function(i){n.forEach(function(n){r[n]=t[n],t[n]=e[n]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(b,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",C),e("__GetDependency__",C),e("__Rewire__",E),e("__set__",E),e("__reset__",N),e("__ResetDependency__",N),e("__with__",O)}();var k=void 0===d?"undefined":r(d);function S(e,t){Object.defineProperty(d,e,{value:t,enumerable:!1,configurable:!0})}"object"!==k&&"function"!==k||!Object.isExtensible(d)||(S("__get__",C),S("__GetDependency__",C),S("__Rewire__",E),S("__set__",E),S("__reset__",N),S("__ResetDependency__",N),S("__with__",O),S("__RewireAPI__",b)),t.__get__=C,t.__GetDependency__=C,t.__Rewire__=E,t.__set__=E,t.__ResetDependency__=N,t.__RewireAPI__=b},"./node_modules/connected-react-router/lib/actions.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=t.LOCATION_CHANGE="@@router/LOCATION_CHANGE",i=(t.onLocationChanged=function(e,t){return{type:b("LOCATION_CHANGE"),payload:{location:e,action:t}}},t.CALL_HISTORY_METHOD="@@router/CALL_HISTORY_METHOD"),a=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return{type:b("CALL_HISTORY_METHOD"),payload:{method:e,args:n}}}},s=t.push=b("updateLocation")("push"),l=t.replace=b("updateLocation")("replace"),p=t.go=b("updateLocation")("go"),u=t.goBack=b("updateLocation")("goBack"),c=t.goForward=b("updateLocation")("goForward");t.routerActions={push:b("push"),replace:b("replace"),go:b("go"),goBack:b("goBack"),goForward:b("goForward")};function d(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}var f,h=null;function m(){if(null===h){var e=d();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),h=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return h}function y(){var e=d();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _(){var e=m(),t=y(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(f=d()).__rewire_reset_all__||(f.__rewire_reset_all__=function(){f.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var v="__INTENTIONAL_UNDEFINED__",g={};function b(e){var t=_();if(void 0===t[e])return function(e){switch(e){case"LOCATION_CHANGE":return o;case"CALL_HISTORY_METHOD":return i;case"updateLocation":return a;case"push":return s;case"replace":return l;case"go":return p;case"goBack":return u;case"goForward":return c}return}(e);var n=t[e];return n===v?void 0:n}function C(e,t){var n=_();if("object"!==(void 0===e?"undefined":r(e)))return n[e]=void 0===t?v:t,function(){E(e)};Object.keys(e).forEach(function(t){n[t]=e[t]})}function E(e){var t=_();delete t[e],0==Object.keys(t).length&&delete y()[m]}function N(e){var t=_(),n=Object.keys(e),r={};function o(){n.forEach(function(e){t[e]=r[e]})}return function(i){n.forEach(function(n){r[n]=t[n],t[n]=e[n]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(g,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",b),e("__GetDependency__",b),e("__Rewire__",C),e("__set__",C),e("__reset__",E),e("__ResetDependency__",E),e("__with__",N)}(),t.__get__=b,t.__GetDependency__=b,t.__Rewire__=C,t.__set__=C,t.__ResetDependency__=E,t.__RewireAPI__=g,t.default=g},"./node_modules/connected-react-router/lib/createAll.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("./node_modules/connected-react-router/lib/actions.js")),a=u(n("./node_modules/connected-react-router/lib/ConnectedRouter.js")),s=u(n("./node_modules/connected-react-router/lib/reducer.js")),l=u(n("./node_modules/connected-react-router/lib/middleware.js")),p=u(n("./node_modules/connected-react-router/lib/selectors.js"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return o({},b("actions"),b("createSelectors")(e),{ConnectedRouter:b("createConnectedRouter")(e),connectRouter:b("createConnectRouter")(e),routerMiddleware:b("routerMiddleware")})};function d(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=b("createAll");var f,h=null;function m(){if(null===h){var e=d();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),h=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return h}function y(){var e=d();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _(){var e=m(),t=y(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(f=d()).__rewire_reset_all__||(f.__rewire_reset_all__=function(){f.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var v="__INTENTIONAL_UNDEFINED__",g={};function b(e){var t=_();if(void 0===t[e])return function(e){switch(e){case"actions":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter(function(e){return"__get__"!==e&&"__set__"!==e&&"__reset__"!==e&&"__with__"!==e&&"__GetDependency__"!==e&&"__Rewire__"!==e&&"__ResetDependency__"!==e&&"__RewireAPI__"!==e}).reduce(function(t,n){return t[n]=e[n],t},{})}(i);case"createSelectors":return p.default;case"createConnectedRouter":return a.default;case"createConnectRouter":return s.default;case"routerMiddleware":return l.default;case"createAll":return c}return}(e);var n=t[e];return n===v?void 0:n}function C(e,t){var n=_();if("object"!==(void 0===e?"undefined":r(e)))return n[e]=void 0===t?v:t,function(){E(e)};Object.keys(e).forEach(function(t){n[t]=e[t]})}function E(e){var t=_();delete t[e],0==Object.keys(t).length&&delete y()[m]}function N(e){var t=_(),n=Object.keys(e),r={};function o(){n.forEach(function(e){t[e]=r[e]})}return function(i){n.forEach(function(n){r[n]=t[n],t[n]=e[n]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(g,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",b),e("__GetDependency__",b),e("__Rewire__",C),e("__set__",C),e("__reset__",E),e("__ResetDependency__",E),e("__with__",N)}();var O=void 0===c?"undefined":r(c);function k(e,t){Object.defineProperty(c,e,{value:t,enumerable:!1,configurable:!0})}"object"!==O&&"function"!==O||!Object.isExtensible(c)||(k("__get__",b),k("__GetDependency__",b),k("__Rewire__",C),k("__set__",C),k("__reset__",E),k("__ResetDependency__",E),k("__with__",N),k("__RewireAPI__",g)),t.__get__=b,t.__GetDependency__=b,t.__Rewire__=C,t.__set__=C,t.__ResetDependency__=E,t.__RewireAPI__=g},"./node_modules/connected-react-router/lib/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=t.createMatchSelector=t.getAction=t.getLocation=t.routerMiddleware=t.connectRouter=t.ConnectedRouter=t.routerActions=t.goForward=t.goBack=t.go=t.replace=t.push=t.CALL_HISTORY_METHOD=t.LOCATION_CHANGE=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=a(n("./node_modules/connected-react-router/lib/createAll.js")),i=a(n("./node_modules/connected-react-router/lib/structure/plain/index.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=M("createAll")(M("plainStructure")),l=s.LOCATION_CHANGE,p=s.CALL_HISTORY_METHOD,u=s.push,c=s.replace,d=s.go,f=s.goBack,h=s.goForward,m=s.routerActions,y=s.ConnectedRouter,_=s.connectRouter,v=s.routerMiddleware,g=s.getLocation,b=s.getAction,C=s.createMatchSelector;function E(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.LOCATION_CHANGE=l,t.CALL_HISTORY_METHOD=p,t.push=u,t.replace=c,t.go=d,t.goBack=f,t.goForward=h,t.routerActions=m,t.ConnectedRouter=y,t.connectRouter=_,t.routerMiddleware=v,t.getLocation=g,t.getAction=b,t.createMatchSelector=C;var N,O=null;function k(){if(null===O){var e=E();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),O=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return O}function S(){var e=E();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function I(){var e=k(),t=S(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(N=E()).__rewire_reset_all__||(N.__rewire_reset_all__=function(){N.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var L="__INTENTIONAL_UNDEFINED__",T={};function M(e){var t=I();if(void 0===t[e])return function(e){switch(e){case"createAll":return o.default;case"plainStructure":return i.default}return}(e);var n=t[e];return n===L?void 0:n}function A(e,t){var n=I();if("object"!==(void 0===e?"undefined":r(e)))return n[e]=void 0===t?L:t,function(){w(e)};Object.keys(e).forEach(function(t){n[t]=e[t]})}function w(e){var t=I();delete t[e],0==Object.keys(t).length&&delete S()[k]}function x(e){var t=I(),n=Object.keys(e),r={};function o(){n.forEach(function(e){t[e]=r[e]})}return function(i){n.forEach(function(n){r[n]=t[n],t[n]=e[n]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(T,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",M),e("__GetDependency__",M),e("__Rewire__",A),e("__set__",A),e("__reset__",w),e("__ResetDependency__",w),e("__with__",x)}(),t.__get__=M,t.__GetDependency__=M,t.__Rewire__=A,t.__set__=A,t.__ResetDependency__=w,t.__RewireAPI__=T,t.default=T},"./node_modules/connected-react-router/lib/middleware.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n("./node_modules/connected-react-router/lib/actions.js");var i=function(e){return function(t){return function(t){return function(n){if(n.type!==h("CALL_HISTORY_METHOD"))return t(n);var r=n.payload,o=r.method,i=r.args;e[o].apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i))}}}};function a(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=h("routerMiddleware");var s,l=null;function p(){if(null===l){var e=a();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),l=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return l}function u(){var e=a();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function c(){var e=p(),t=u(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(s=a()).__rewire_reset_all__||(s.__rewire_reset_all__=function(){s.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var d="__INTENTIONAL_UNDEFINED__",f={};function h(e){var t=c();if(void 0===t[e])return function(e){switch(e){case"CALL_HISTORY_METHOD":return o.CALL_HISTORY_METHOD;case"routerMiddleware":return i}return}(e);var n=t[e];return n===d?void 0:n}function m(e,t){var n=c();if("object"!==(void 0===e?"undefined":r(e)))return n[e]=void 0===t?d:t,function(){y(e)};Object.keys(e).forEach(function(t){n[t]=e[t]})}function y(e){var t=c();delete t[e],0==Object.keys(t).length&&delete u()[p]}function _(e){var t=c(),n=Object.keys(e),r={};function o(){n.forEach(function(e){t[e]=r[e]})}return function(i){n.forEach(function(n){r[n]=t[n],t[n]=e[n]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(f,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",h),e("__GetDependency__",h),e("__Rewire__",m),e("__set__",m),e("__reset__",y),e("__ResetDependency__",y),e("__with__",_)}();var v=void 0===i?"undefined":r(i);function g(e,t){Object.defineProperty(i,e,{value:t,enumerable:!1,configurable:!0})}"object"!==v&&"function"!==v||!Object.isExtensible(i)||(g("__get__",h),g("__GetDependency__",h),g("__Rewire__",m),g("__set__",m),g("__reset__",y),g("__ResetDependency__",y),g("__with__",_),g("__RewireAPI__",f)),t.__get__=h,t.__GetDependency__=h,t.__Rewire__=m,t.__set__=m,t.__ResetDependency__=y,t.__RewireAPI__=f},"./node_modules/connected-react-router/lib/reducer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n("./node_modules/connected-react-router/lib/actions.js"),i=function(e){var t=e.fromJS,n=e.merge;return function(e){var r=t({location:e.location,action:e.action});return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.type,i=t.payload;return o===h("LOCATION_CHANGE")?n(e,i):e}}};function a(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=h("createConnectRouter");var s,l=null;function p(){if(null===l){var e=a();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),l=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return l}function u(){var e=a();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function c(){var e=p(),t=u(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(s=a()).__rewire_reset_all__||(s.__rewire_reset_all__=function(){s.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var d="__INTENTIONAL_UNDEFINED__",f={};function h(e){var t=c();if(void 0===t[e])return function(e){switch(e){case"LOCATION_CHANGE":return o.LOCATION_CHANGE;case"createConnectRouter":return i}return}(e);var n=t[e];return n===d?void 0:n}function m(e,t){var n=c();if("object"!==(void 0===e?"undefined":r(e)))return n[e]=void 0===t?d:t,function(){y(e)};Object.keys(e).forEach(function(t){n[t]=e[t]})}function y(e){var t=c();delete t[e],0==Object.keys(t).length&&delete u()[p]}function _(e){var t=c(),n=Object.keys(e),r={};function o(){n.forEach(function(e){t[e]=r[e]})}return function(i){n.forEach(function(n){r[n]=t[n],t[n]=e[n]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(f,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",h),e("__GetDependency__",h),e("__Rewire__",m),e("__set__",m),e("__reset__",y),e("__ResetDependency__",y),e("__with__",_)}();var v=void 0===i?"undefined":r(i);function g(e,t){Object.defineProperty(i,e,{value:t,enumerable:!1,configurable:!0})}"object"!==v&&"function"!==v||!Object.isExtensible(i)||(g("__get__",h),g("__GetDependency__",h),g("__Rewire__",m),g("__set__",m),g("__reset__",y),g("__ResetDependency__",y),g("__with__",_),g("__RewireAPI__",f)),t.__get__=h,t.__GetDependency__=h,t.__Rewire__=m,t.__set__=m,t.__ResetDependency__=y,t.__RewireAPI__=f},"./node_modules/connected-react-router/lib/selectors.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n("react-router"),i=function(e){var t=e.getIn,n=e.toJS,r=function(e){return n(t(e,["router","location"]))};return{getLocation:r,getAction:function(e){return n(t(e,["router","action"]))},createMatchSelector:function(e){var t=null,n=null;return function(o){var i=(r(o)||{}).pathname;if(i===t)return n;t=i;var a=h("matchPath")(i,e);return a&&n&&a.url===n.url||(n=a),n}}}};function a(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=h("createSelectors");var s,l=null;function p(){if(null===l){var e=a();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),l=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return l}function u(){var e=a();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function c(){var e=p(),t=u(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(s=a()).__rewire_reset_all__||(s.__rewire_reset_all__=function(){s.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var d="__INTENTIONAL_UNDEFINED__",f={};function h(e){var t=c();if(void 0===t[e])return function(e){switch(e){case"matchPath":return o.matchPath;case"createSelectors":return i}return}(e);var n=t[e];return n===d?void 0:n}function m(e,t){var n=c();if("object"!==(void 0===e?"undefined":r(e)))return n[e]=void 0===t?d:t,function(){y(e)};Object.keys(e).forEach(function(t){n[t]=e[t]})}function y(e){var t=c();delete t[e],0==Object.keys(t).length&&delete u()[p]}function _(e){var t=c(),n=Object.keys(e),r={};function o(){n.forEach(function(e){t[e]=r[e]})}return function(i){n.forEach(function(n){r[n]=t[n],t[n]=e[n]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(f,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",h),e("__GetDependency__",h),e("__Rewire__",m),e("__set__",m),e("__reset__",y),e("__ResetDependency__",y),e("__with__",_)}();var v=void 0===i?"undefined":r(i);function g(e,t){Object.defineProperty(i,e,{value:t,enumerable:!1,configurable:!0})}"object"!==v&&"function"!==v||!Object.isExtensible(i)||(g("__get__",h),g("__GetDependency__",h),g("__Rewire__",m),g("__set__",m),g("__reset__",y),g("__ResetDependency__",y),g("__with__",_),g("__RewireAPI__",f)),t.__get__=h,t.__GetDependency__=h,t.__Rewire__=m,t.__set__=m,t.__ResetDependency__=y,t.__RewireAPI__=f},"./node_modules/connected-react-router/lib/structure/plain/getIn.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(!e)return e;var n=t.length;if(n){for(var r=e,o=0;o<n&&r;++o)r=r[t[o]];return r}};function i(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=f("getIn");var a,s=null;function l(){if(null===s){var e=i();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),s=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return s}function p(){var e=i();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function u(){var e=l(),t=p(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(a=i()).__rewire_reset_all__||(a.__rewire_reset_all__=function(){a.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var c="__INTENTIONAL_UNDEFINED__",d={};function f(e){var t=u();if(void 0===t[e])return function(e){switch(e){case"getIn":return o}return}(e);var n=t[e];return n===c?void 0:n}function h(e,t){var n=u();if("object"!==(void 0===e?"undefined":r(e)))return n[e]=void 0===t?c:t,function(){m(e)};Object.keys(e).forEach(function(t){n[t]=e[t]})}function m(e){var t=u();delete t[e],0==Object.keys(t).length&&delete p()[l]}function y(e){var t=u(),n=Object.keys(e),r={};function o(){n.forEach(function(e){t[e]=r[e]})}return function(i){n.forEach(function(n){r[n]=t[n],t[n]=e[n]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(d,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",f),e("__GetDependency__",f),e("__Rewire__",h),e("__set__",h),e("__reset__",m),e("__ResetDependency__",m),e("__with__",y)}();var _=void 0===o?"undefined":r(o);function v(e,t){Object.defineProperty(o,e,{value:t,enumerable:!1,configurable:!0})}"object"!==_&&"function"!==_||!Object.isExtensible(o)||(v("__get__",f),v("__GetDependency__",f),v("__Rewire__",h),v("__set__",h),v("__reset__",m),v("__ResetDependency__",m),v("__with__",y),v("__RewireAPI__",d)),t.__get__=f,t.__GetDependency__=f,t.__Rewire__=h,t.__set__=h,t.__ResetDependency__=m,t.__RewireAPI__=d},"./node_modules/connected-react-router/lib/structure/plain/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n("./node_modules/connected-react-router/lib/structure/plain/getIn.js"),s=(r=a)&&r.__esModule?r:{default:r};var l={fromJS:function(e){return e},getIn:_("getIn"),merge:function(e,t){return i({},e,t)},toJS:function(e){return e}};function p(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=_("structure");var u,c=null;function d(){if(null===c){var e=p();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),c=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return c}function f(){var e=p();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function h(){var e=d(),t=f(),n=t[e];return n||(t[e]=Object.create(null),n=t[e]),n}(u=p()).__rewire_reset_all__||(u.__rewire_reset_all__=function(){u.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var m="__INTENTIONAL_UNDEFINED__",y={};function _(e){var t=h();if(void 0===t[e])return function(e){switch(e){case"getIn":return s.default;case"structure":return l}return}(e);var n=t[e];return n===m?void 0:n}function v(e,t){var n=h();if("object"!==(void 0===e?"undefined":o(e)))return n[e]=void 0===t?m:t,function(){g(e)};Object.keys(e).forEach(function(t){n[t]=e[t]})}function g(e){var t=h();delete t[e],0==Object.keys(t).length&&delete f()[d]}function b(e){var t=h(),n=Object.keys(e),r={};function o(){n.forEach(function(e){t[e]=r[e]})}return function(i){n.forEach(function(n){r[n]=t[n],t[n]=e[n]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(y,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",_),e("__GetDependency__",_),e("__Rewire__",v),e("__set__",v),e("__reset__",g),e("__ResetDependency__",g),e("__with__",b)}();var C=void 0===l?"undefined":o(l);function E(e,t){Object.defineProperty(l,e,{value:t,enumerable:!1,configurable:!0})}"object"!==C&&"function"!==C||!Object.isExtensible(l)||(E("__get__",_),E("__GetDependency__",_),E("__Rewire__",v),E("__set__",v),E("__reset__",g),E("__ResetDependency__",g),E("__with__",b),E("__RewireAPI__",y)),t.__get__=_,t.__GetDependency__=_,t.__Rewire__=v,t.__set__=v,t.__ResetDependency__=g,t.__RewireAPI__=y},"./node_modules/core-js/modules/_a-function.js":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"./node_modules/core-js/modules/_add-to-unscopables.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_wks.js")("unscopables"),o=Array.prototype;null==o[r]&&n("./node_modules/core-js/modules/_hide.js")(o,r,{}),e.exports=function(e){o[r][e]=!0}},"./node_modules/core-js/modules/_an-object.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_is-object.js");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},"./node_modules/core-js/modules/_array-includes.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_to-iobject.js"),o=n("./node_modules/core-js/modules/_to-length.js"),i=n("./node_modules/core-js/modules/_to-absolute-index.js");e.exports=function(e){return function(t,n,a){var s,l=r(t),p=o(l.length),u=i(a,p);if(e&&n!=n){for(;p>u;)if((s=l[u++])!=s)return!0}else for(;p>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},"./node_modules/core-js/modules/_bind.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/modules/_a-function.js"),o=n("./node_modules/core-js/modules/_is-object.js"),i=n("./node_modules/core-js/modules/_invoke.js"),a=[].slice,s={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),l=function(){var r=n.concat(a.call(arguments));return this instanceof l?function(e,t,n){if(!(t in s)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)}(t,r.length,r):i(t,r,e)};return o(t.prototype)&&(l.prototype=t.prototype),l}},"./node_modules/core-js/modules/_cof.js":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"./node_modules/core-js/modules/_core.js":function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},"./node_modules/core-js/modules/_ctx.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_a-function.js");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},"./node_modules/core-js/modules/_defined.js":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},"./node_modules/core-js/modules/_descriptors.js":function(e,t,n){e.exports=!n("./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_dom-create.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_is-object.js"),o=n("./node_modules/core-js/modules/_global.js").document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},"./node_modules/core-js/modules/_enum-bug-keys.js":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"./node_modules/core-js/modules/_export.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_global.js"),o=n("./node_modules/core-js/modules/_core.js"),i=n("./node_modules/core-js/modules/_hide.js"),a=n("./node_modules/core-js/modules/_redefine.js"),s=n("./node_modules/core-js/modules/_ctx.js"),l=function(e,t,n){var p,u,c,d,f=e&l.F,h=e&l.G,m=e&l.S,y=e&l.P,_=e&l.B,v=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,g=h?o:o[t]||(o[t]={}),b=g.prototype||(g.prototype={});for(p in h&&(n=t),n)c=((u=!f&&v&&void 0!==v[p])?v:n)[p],d=_&&u?s(c,r):y&&"function"==typeof c?s(Function.call,c):c,v&&a(v,p,c,e&l.U),g[p]!=c&&i(g,p,d),y&&b[p]!=c&&(b[p]=c)};r.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},"./node_modules/core-js/modules/_fails.js":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/modules/_function-to-string.js":function(e,t,n){e.exports=n("./node_modules/core-js/modules/_shared.js")("native-function-to-string",Function.toString)},"./node_modules/core-js/modules/_global.js":function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"./node_modules/core-js/modules/_has.js":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"./node_modules/core-js/modules/_hide.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_object-dp.js"),o=n("./node_modules/core-js/modules/_property-desc.js");e.exports=n("./node_modules/core-js/modules/_descriptors.js")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"./node_modules/core-js/modules/_html.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_global.js").document;e.exports=r&&r.documentElement},"./node_modules/core-js/modules/_ie8-dom-define.js":function(e,t,n){e.exports=!n("./node_modules/core-js/modules/_descriptors.js")&&!n("./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty(n("./node_modules/core-js/modules/_dom-create.js")("div"),"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_invoke.js":function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},"./node_modules/core-js/modules/_iobject.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_cof.js");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},"./node_modules/core-js/modules/_is-object.js":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/core-js/modules/_iter-create.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/modules/_object-create.js"),o=n("./node_modules/core-js/modules/_property-desc.js"),i=n("./node_modules/core-js/modules/_set-to-string-tag.js"),a={};n("./node_modules/core-js/modules/_hide.js")(a,n("./node_modules/core-js/modules/_wks.js")("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},"./node_modules/core-js/modules/_iter-define.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/modules/_library.js"),o=n("./node_modules/core-js/modules/_export.js"),i=n("./node_modules/core-js/modules/_redefine.js"),a=n("./node_modules/core-js/modules/_hide.js"),s=n("./node_modules/core-js/modules/_iterators.js"),l=n("./node_modules/core-js/modules/_iter-create.js"),p=n("./node_modules/core-js/modules/_set-to-string-tag.js"),u=n("./node_modules/core-js/modules/_object-gpo.js"),c=n("./node_modules/core-js/modules/_wks.js")("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,h,m,y,_){l(n,t,h);var v,g,b,C=function(e){if(!d&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",N="values"==m,O=!1,k=e.prototype,S=k[c]||k["@@iterator"]||m&&k[m],I=S||C(m),L=m?N?C("entries"):I:void 0,T="Array"==t&&k.entries||S;if(T&&(b=u(T.call(new e)))!==Object.prototype&&b.next&&(p(b,E,!0),r||"function"==typeof b[c]||a(b,c,f)),N&&S&&"values"!==S.name&&(O=!0,I=function(){return S.call(this)}),r&&!_||!d&&!O&&k[c]||a(k,c,I),s[t]=I,s[E]=f,m)if(v={values:N?I:C("values"),keys:y?I:C("keys"),entries:L},_)for(g in v)g in k||i(k,g,v[g]);else o(o.P+o.F*(d||O),t,v);return v}},"./node_modules/core-js/modules/_iter-step.js":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},"./node_modules/core-js/modules/_iterators.js":function(e,t){e.exports={}},"./node_modules/core-js/modules/_library.js":function(e,t){e.exports=!1},"./node_modules/core-js/modules/_object-create.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_an-object.js"),o=n("./node_modules/core-js/modules/_object-dps.js"),i=n("./node_modules/core-js/modules/_enum-bug-keys.js"),a=n("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO"),s=function(){},l=function(){var e,t=n("./node_modules/core-js/modules/_dom-create.js")("iframe"),r=i.length;for(t.style.display="none",n("./node_modules/core-js/modules/_html.js").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[i[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:o(n,t)}},"./node_modules/core-js/modules/_object-dp.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_an-object.js"),o=n("./node_modules/core-js/modules/_ie8-dom-define.js"),i=n("./node_modules/core-js/modules/_to-primitive.js"),a=Object.defineProperty;t.f=n("./node_modules/core-js/modules/_descriptors.js")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"./node_modules/core-js/modules/_object-dps.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_object-dp.js"),o=n("./node_modules/core-js/modules/_an-object.js"),i=n("./node_modules/core-js/modules/_object-keys.js");e.exports=n("./node_modules/core-js/modules/_descriptors.js")?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},"./node_modules/core-js/modules/_object-gpo.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_has.js"),o=n("./node_modules/core-js/modules/_to-object.js"),i=n("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},"./node_modules/core-js/modules/_object-keys-internal.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_has.js"),o=n("./node_modules/core-js/modules/_to-iobject.js"),i=n("./node_modules/core-js/modules/_array-includes.js")(!1),a=n("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO");e.exports=function(e,t){var n,s=o(e),l=0,p=[];for(n in s)n!=a&&r(s,n)&&p.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~i(p,n)||p.push(n));return p}},"./node_modules/core-js/modules/_object-keys.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_object-keys-internal.js"),o=n("./node_modules/core-js/modules/_enum-bug-keys.js");e.exports=Object.keys||function(e){return r(e,o)}},"./node_modules/core-js/modules/_property-desc.js":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js/modules/_redefine.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_global.js"),o=n("./node_modules/core-js/modules/_hide.js"),i=n("./node_modules/core-js/modules/_has.js"),a=n("./node_modules/core-js/modules/_uid.js")("src"),s=n("./node_modules/core-js/modules/_function-to-string.js"),l=(""+s).split("toString");n("./node_modules/core-js/modules/_core.js").inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var p="function"==typeof n;p&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(p&&(i(n,a)||o(n,a,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},"./node_modules/core-js/modules/_set-to-string-tag.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_object-dp.js").f,o=n("./node_modules/core-js/modules/_has.js"),i=n("./node_modules/core-js/modules/_wks.js")("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},"./node_modules/core-js/modules/_shared-key.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_shared.js")("keys"),o=n("./node_modules/core-js/modules/_uid.js");e.exports=function(e){return r[e]||(r[e]=o(e))}},"./node_modules/core-js/modules/_shared.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_core.js"),o=n("./node_modules/core-js/modules/_global.js"),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("./node_modules/core-js/modules/_library.js")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/modules/_to-absolute-index.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_to-integer.js"),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},"./node_modules/core-js/modules/_to-integer.js":function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},"./node_modules/core-js/modules/_to-iobject.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_iobject.js"),o=n("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return r(o(e))}},"./node_modules/core-js/modules/_to-length.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_to-integer.js"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},"./node_modules/core-js/modules/_to-object.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return Object(r(e))}},"./node_modules/core-js/modules/_to-primitive.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_is-object.js");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/modules/_uid.js":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},"./node_modules/core-js/modules/_wks.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_shared.js")("wks"),o=n("./node_modules/core-js/modules/_uid.js"),i=n("./node_modules/core-js/modules/_global.js").Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},"./node_modules/core-js/modules/es6.array.iterator.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/modules/_add-to-unscopables.js"),o=n("./node_modules/core-js/modules/_iter-step.js"),i=n("./node_modules/core-js/modules/_iterators.js"),a=n("./node_modules/core-js/modules/_to-iobject.js");e.exports=n("./node_modules/core-js/modules/_iter-define.js")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},"./node_modules/core-js/modules/es6.function.bind.js":function(e,t,n){var r=n("./node_modules/core-js/modules/_export.js");r(r.P,"Function",{bind:n("./node_modules/core-js/modules/_bind.js")})},"./node_modules/core-js/modules/web.dom.iterable.js":function(e,t,n){for(var r=n("./node_modules/core-js/modules/es6.array.iterator.js"),o=n("./node_modules/core-js/modules/_object-keys.js"),i=n("./node_modules/core-js/modules/_redefine.js"),a=n("./node_modules/core-js/modules/_global.js"),s=n("./node_modules/core-js/modules/_hide.js"),l=n("./node_modules/core-js/modules/_iterators.js"),p=n("./node_modules/core-js/modules/_wks.js"),u=p("iterator"),c=p("toStringTag"),d=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(f),m=0;m<h.length;m++){var y,_=h[m],v=f[_],g=a[_],b=g&&g.prototype;if(b&&(b[u]||s(b,u,d),b[c]||s(b,c,_),l[_]=d,v))for(y in r)b[y]||i(b,y,r[y],!0)}},"./node_modules/prop-types/factoryWithThrowingShims.js":function(e,t,n){"use strict";var r=n("./node_modules/prop-types/lib/ReactPropTypesSecret.js");function o(){}e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},"./node_modules/prop-types/index.js":function(e,t,n){e.exports=n("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/redux-logger/dist/redux-logger.js":function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function n(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function r(e,t,n){r.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function i(e,t){i.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function a(e,t,n){a.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function l(e){var t=void 0===e?"undefined":E(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function p(e,t,n,u,c,d,f){f=f||[];var h=(c=c||[]).slice(0);if(void 0!==d){if(u){if("function"==typeof u&&u(h,d))return;if("object"===(void 0===u?"undefined":E(u))){if(u.prefilter&&u.prefilter(h,d))return;if(u.normalize){var m=u.normalize(h,d,e,t);m&&(e=m[0],t=m[1])}}}h.push(d)}"regexp"===l(e)&&"regexp"===l(t)&&(e=e.toString(),t=t.toString());var y=void 0===e?"undefined":E(e),_=void 0===t?"undefined":E(t),v="undefined"!==y||f&&f[f.length-1].lhs&&f[f.length-1].lhs.hasOwnProperty(d),g="undefined"!==_||f&&f[f.length-1].rhs&&f[f.length-1].rhs.hasOwnProperty(d);if(!v&&g)n(new o(h,t));else if(!g&&v)n(new i(h,e));else if(l(e)!==l(t))n(new r(h,e,t));else if("date"===l(e)&&e-t!=0)n(new r(h,e,t));else if("object"===y&&null!==e&&null!==t)if(f.filter(function(t){return t.lhs===e}).length)e!==t&&n(new r(h,e,t));else{if(f.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?n(new a(h,b,new i(void 0,e[b]))):p(e[b],t[b],n,u,h,b,f);for(;b<t.length;)n(new a(h,b,new o(void 0,t[b++])))}else{var C=Object.keys(e),N=Object.keys(t);C.forEach(function(r,o){var i=N.indexOf(r);i>=0?(p(e[r],t[r],n,u,h,r,f),N=s(N,i)):p(e[r],void 0,n,u,h,r,f)}),N.forEach(function(e){p(void 0,t[e],n,u,h,e,f)})}f.length=f.length-1}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||n(new r(h,e,t)))}function u(e,t,n,r){return r=r||[],p(e,t,function(e){e&&r.push(e)},n),r.length?r:void 0}function c(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,o=-1,i=n.path?n.path.length-1:0;++o<i;)void 0===r[n.path[o]]&&(r[n.path[o]]="number"==typeof n.path[o]?[]:{}),r=r[n.path[o]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var o,i=t[n],a=r.path.length-1;for(o=0;o<a;o++)i=i[r.path[o]];switch(r.kind){case"A":e(i[r.path[o]],r.index,r.item);break;case"D":delete i[r.path[o]];break;case"E":case"N":i[r.path[o]]=r.rhs}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":t=s(t,n);break;case"E":case"N":t[n]=r.rhs}return t}(n.path?r[n.path[o]]:r,n.index,n.item);break;case"D":delete r[n.path[o]];break;case"E":case"N":r[n.path[o]]=n.rhs}}}function d(e){return"color: "+k[e].color+"; font-weight: bold"}function f(e,t,n,r){var o=u(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}o?o.forEach(function(e){var t=e.kind,r=function(e){var t=e.kind,n=e.path,r=e.lhs,o=e.rhs,i=e.index,a=e.item;switch(t){case"E":return[n.join("."),r,"",o];case"N":return[n.join("."),o];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+i+"]",a];default:return[]}}(e);n.log.apply(n,["%c "+k[t].text,d(t)].concat(N(r)))}):n.log(" no diff ");try{n.groupEnd()}catch(e){n.log(" diff end  ")}}function h(e,t,n,r){switch(void 0===e?"undefined":E(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,N(n)):e[r];case"function":return e(t);default:return e}}function m(e,t){var n=t.logger,r=t.actionTransformer,o=t.titleFormatter,i=void 0===o?function(e){var t=e.timestamp,n=e.duration;return function(e,r,o){var i=["action"];return i.push("%c"+String(e.type)),t&&i.push("%c@ "+r),n&&i.push("%c(in "+o.toFixed(2)+" ms)"),i.join(" ")}}(t):o,a=t.collapsed,s=t.colors,l=t.level,p=t.diff,u=void 0===t.titleFormatter;e.forEach(function(o,c){var d=o.started,m=o.startedTime,y=o.action,_=o.prevState,v=o.error,g=o.took,C=o.nextState,E=e[c+1];E&&(C=E.prevState,g=E.started-d);var N=r(y),O="function"==typeof a?a(function(){return C},y,o):a,k=b(m),S=s.title?"color: "+s.title(N)+";":"",I=["color: gray; font-weight: lighter;"];I.push(S),t.timestamp&&I.push("color: gray; font-weight: lighter;"),t.duration&&I.push("color: gray; font-weight: lighter;");var L=i(N,k,g);try{O?s.title&&u?n.groupCollapsed.apply(n,["%c "+L].concat(I)):n.groupCollapsed(L):s.title&&u?n.group.apply(n,["%c "+L].concat(I)):n.group(L)}catch(e){n.log(L)}var T=h(l,N,[_],"prevState"),M=h(l,N,[N],"action"),A=h(l,N,[v,_],"error"),w=h(l,N,[C],"nextState");if(T)if(s.prevState){var x="color: "+s.prevState(_)+"; font-weight: bold";n[T]("%c prev state",x,_)}else n[T]("prev state",_);if(M)if(s.action){var P="color: "+s.action(N)+"; font-weight: bold";n[M]("%c action    ",P,N)}else n[M]("action    ",N);if(v&&A)if(s.error){var j="color: "+s.error(v,_)+"; font-weight: bold;";n[A]("%c error     ",j,v)}else n[A]("error     ",v);if(w)if(s.nextState){var R="color: "+s.nextState(C)+"; font-weight: bold";n[w]("%c next state",R,C)}else n[w]("next state",C);p&&f(_,C,n,O);try{n.groupEnd()}catch(e){n.log(" log end ")}})}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},S,e),n=t.logger,r=t.stateTransformer,o=t.errorTransformer,i=t.predicate,a=t.logErrors,s=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var l=[];return function(e){var n=e.getState;return function(e){return function(p){if("function"==typeof i&&!i(n,p))return e(p);var u={};l.push(u),u.started=C.now(),u.startedTime=new Date,u.prevState=r(n()),u.action=p;var c=void 0;if(a)try{c=e(p)}catch(e){u.error=o(e)}else c=e(p);u.took=C.now()-u.started,u.nextState=r(n());var d=t.diff&&"function"==typeof s?s(n,p):t.diff;if(m(l,Object.assign({},t,{diff:d})),l.length=0,u.error)throw u.error;return c}}}}var _,v,g=function(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e},b=function(e){return g(e.getHours(),2)+":"+g(e.getMinutes(),2)+":"+g(e.getSeconds(),2)+"."+g(e.getMilliseconds(),3)},C="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},O=[];_="object"===("undefined"==typeof global?"undefined":E(global))&&global?global:"undefined"!=typeof window?window:{},(v=_.DeepDiff)&&O.push(function(){void 0!==v&&_.DeepDiff===u&&(_.DeepDiff=v,v=void 0)}),t(r,n),t(o,n),t(i,n),t(a,n),Object.defineProperties(u,{diff:{value:u,enumerable:!0},observableDiff:{value:p,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&p(e,t,function(r){n&&!n(e,t,r)||c(e,t,r)})},enumerable:!0},applyChange:{value:c,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var r,o,i=e;for(o=n.path.length-1,r=0;r<o;r++)void 0===i[n.path[r]]&&(i[n.path[r]]={}),i=i[n.path[r]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var o,i=t[n],a=r.path.length-1;for(o=0;o<a;o++)i=i[r.path[o]];switch(r.kind){case"A":e(i[r.path[o]],r.index,r.item);break;case"D":case"E":i[r.path[o]]=r.lhs;break;case"N":delete i[r.path[o]]}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":case"E":t[n]=r.lhs;break;case"N":t=s(t,n)}return t}(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==v},enumerable:!0},noConflict:{value:function(){return O&&(O.forEach(function(e){e()}),O=null),u},enumerable:!0}});var k={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},S={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?y()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=S,e.createLogger=y,e.logger=I,e.default=I,Object.defineProperty(e,"__esModule",{value:!0})}(t)},d3:function(e,t){e.exports=require("d3")},electron:function(e,t){e.exports=require("electron")},fs:function(e,t){e.exports=require("fs")},history:function(e,t){e.exports=require("history")},path:function(e,t){e.exports=require("path")},react:function(e,t){e.exports=require("react")},"react-dom":function(e,t){e.exports=require("react-dom")},"react-hot-loader":function(e,t){e.exports=require("react-hot-loader")},"react-redux":function(e,t){e.exports=require("react-redux")},"react-router":function(e,t){e.exports=require("react-router")},"react-router-dom":function(e,t){e.exports=require("react-router-dom")},"react-syntax-highlighter":function(e,t){e.exports=require("react-syntax-highlighter")},redux:function(e,t){e.exports=require("redux")},"redux-thunk":function(e,t){e.exports=require("redux-thunk")},util:function(e,t){e.exports=require("util")},webcola:function(e,t){e.exports=require("webcola")}});
//# sourceMappingURL=renderer.prod.js.map