module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="./dist/",r(r.s="./app/index.js")}({"./app/app.global.css":function(e,t,r){},"./app/constants/routes.json":function(e){e.exports={HOME:"/",COUNTER:"/counter"}},"./app/index.js":function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"VISUAL",function(){return Ei}),r.d(n,"APPLICATION",function(){return Oi}),r.d(n,"GRAPHS",function(){return Mi}),r.d(n,"VISUAL_GRAPH",function(){return Ni}),r.d(n,"DASHBOARD_MENU",function(){return ki}),r.d(n,"SELECTED_NODE_BB",function(){return Si}),r.d(n,"SIDE_PANEL_EXTRA_WIDTH",function(){return Ti}),r.d(n,"NodeTypes",function(){return Ai}),r.d(n,"NodeTypeColors",function(){return Ii}),r.d(n,"NodeProperties",function(){return Li}),r.d(n,"LinkProperties",function(){return wi}),r.d(n,"NodeAttributePropertyTypes",function(){return xi}),r.d(n,"NodePropertyTypes",function(){return Pi}),r.d(n,"ValidationRules",function(){return $i}),r.d(n,"OptionsTypes",function(){return ji}),r.d(n,"UI_UPDATE",function(){return Ri}),r.d(n,"GetC",function(){return Di}),r.d(n,"Visual",function(){return Gi}),r.d(n,"IsCurrentNodeA",function(){return Ui}),r.d(n,"Use",function(){return Fi}),r.d(n,"GetNodeProp",function(){return Vi}),r.d(n,"IsAgent",function(){return Bi}),r.d(n,"GetLinkChainItem",function(){return qi}),r.d(n,"GetCodeName",function(){return Hi}),r.d(n,"GetModelPropertyChildren",function(){return Wi}),r.d(n,"GetNodeById",function(){return Yi}),r.d(n,"GetMethodDefinition",function(){return zi}),r.d(n,"GetMethodFunctionType",function(){return Xi}),r.d(n,"GetMethodFunctionValidation",function(){return Qi}),r.d(n,"GetPermissionNode",function(){return Ki}),r.d(n,"GetModelPropertyNodes",function(){return Ji}),r.d(n,"GetLogicalChildren",function(){return Zi}),r.d(n,"GetMethodNodeSelectOptions",function(){return ea}),r.d(n,"GetNodeCode",function(){return ta}),r.d(n,"GetMethodPropNode",function(){return ra}),r.d(n,"GetMethodOptions",function(){return na}),r.d(n,"GetLinkProperty",function(){return oa}),r.d(n,"GetGroupProperty",function(){return ia}),r.d(n,"VisualEq",function(){return aa}),r.d(n,"Node",function(){return sa}),r.d(n,"Application",function(){return la}),r.d(n,"GetVisualGraph",function(){return pa}),r.d(n,"SaveApplication",function(){return ua}),r.d(n,"Graphs",function(){return ca}),r.d(n,"SaveGraph",function(){return da}),r.d(n,"UIC",function(){return fa}),r.d(n,"toggleVisual",function(){return ha}),r.d(n,"GUID",function(){return ma}),r.d(n,"setVisual",function(){return ya}),r.d(n,"setApplication",function(){return _a}),r.d(n,"SELECTED_LINK",function(){return va}),r.d(n,"HOVERED_LINK",function(){return ga}),r.d(n,"SELECTED_NODE",function(){return ba}),r.d(n,"SelectedNode",function(){return Ca}),r.d(n,"toggleDashboardMinMax",function(){return Ea}),r.d(n,"GetNodeTitle",function(){return Oa}),r.d(n,"GetNodes",function(){return Ma}),r.d(n,"CanChangeType",function(){return Na}),r.d(n,"NodesByType",function(){return ka}),r.d(n,"GetNodeFromRoot",function(){return Sa}),r.d(n,"NodesConnectedTo",function(){return Ta}),r.d(n,"GetState",function(){return Ia}),r.d(n,"setState",function(){return La}),r.d(n,"GetGraphNode",function(){return wa}),r.d(n,"GetFunctionType",function(){return xa}),r.d(n,"GetMethodNodeProp",function(){return Pa}),r.d(n,"GetMethodProps",function(){return $a}),r.d(n,"GetMethodsProperties",function(){return ja}),r.d(n,"GetMethodsProperty",function(){return Ra}),r.d(n,"GetMethodFilterParameters",function(){return Da}),r.d(n,"GetMethodPermissionParameters",function(){return Ua}),r.d(n,"GetPermissionMethod",function(){return Fa}),r.d(n,"GetCurrentGraph",function(){return Va}),r.d(n,"GetRootGraph",function(){return Ba}),r.d(n,"GetSubGraphs",function(){return qa}),r.d(n,"addNewSubGraph",function(){return Ha}),r.d(n,"setRootGraph",function(){return Wa}),r.d(n,"setAppsettingsAssemblyPrefixes",function(){return Ya}),r.d(n,"GetCurrentScopedGraph",function(){return za}),r.d(n,"GetSelectedSubgraph",function(){return Xa}),r.d(n,"UPDATE_GRAPH_TITLE",function(){return Qa}),r.d(n,"NEW_NODE",function(){return Ka}),r.d(n,"REMOVE_NODE",function(){return Ja}),r.d(n,"NEW_LINK",function(){return Za}),r.d(n,"CHANGE_NODE_TEXT",function(){return es}),r.d(n,"CURRENT_GRAPH",function(){return ts}),r.d(n,"GRAPH_SCOPE",function(){return rs}),r.d(n,"ADD_DEFAULT_PROPERTIES",function(){return ns}),r.d(n,"CHANGE_NODE_PROPERTY",function(){return os}),r.d(n,"NEW_PROPERTY_NODE",function(){return is}),r.d(n,"NEW_PERMISSION_NODE",function(){return as}),r.d(n,"NEW_ATTRIBUTE_NODE",function(){return ss}),r.d(n,"ADD_LINK_BETWEEN_NODES",function(){return ls}),r.d(n,"NEW_CONDITION_NODE",function(){return ps}),r.d(n,"REMOVE_LINK_BETWEEN_NODES",function(){return us}),r.d(n,"REMOVE_LINK",function(){return cs}),r.d(n,"NEW_CHOICE_ITEM_NODE",function(){return ds}),r.d(n,"NEW_PARAMETER_NODE",function(){return fs}),r.d(n,"NEW_FUNCTION_OUTPUT_NODE",function(){return hs}),r.d(n,"NEW_MODEL_ITEM_FILTER",function(){return ms}),r.d(n,"NEW_AFTER_METHOD",function(){return ys}),r.d(n,"NEW_VALIDATION_ITEM_NODE",function(){return _s}),r.d(n,"NEW_CHOICE_TYPE",function(){return vs}),r.d(n,"NEW_VALIDATION_TYPE",function(){return gs}),r.d(n,"NEW_OPTION_ITEM_NODE",function(){return bs}),r.d(n,"NEW_OPTION_NODE",function(){return Cs}),r.d(n,"NEW_CUSTOM_OPTION",function(){return Es}),r.d(n,"NEW_PERMISSION_PROPERTY_DEPENDENCY_NODE",function(){return Os}),r.d(n,"NEW_EXTENSION_LIST_NODE",function(){return Ms}),r.d(n,"NEW_EXTENTION_NODE",function(){return Ns}),r.d(n,"ADD_EXTENSION_DEFINITION_CONFIG_PROPERTY",function(){return ks}),r.d(n,"APPLY_FUNCTION_CONSTRAINTS",function(){return Ss}),r.d(n,"ADD_NEW_REFERENCE_NODE",function(){return Ts}),r.d(n,"SET_DEPTH",function(){return As}),r.d(n,"graphOperation",function(){return Is}),r.d(n,"Colors",function(){return Ls});var o={};r.r(o),r.d(o,"scaffoldProject",function(){return lu});var i={};r.r(i),r.d(i,"openRedQuickBuilderGraph",function(){return mu}),r.d(i,"newRedQuickBuilderGraph",function(){return yu}),r.d(i,"RED_QUICK_FILE_EXT",function(){return _u}),r.d(i,"RED_QUICK_FILE_EXT$",function(){return vu}),r.d(i,"saveGraphToFile",function(){return gu}),r.d(i,"setWorkingDirectory",function(){return bu});var a={};r.r(a),r.d(a,"INCREMENT_COUNTER",function(){return tb}),r.d(a,"DECREMENT_COUNTER",function(){return rb}),r.d(a,"increment",function(){return nb}),r.d(a,"decrement",function(){return ob}),r.d(a,"incrementIfOdd",function(){return ib}),r.d(a,"incrementAsync",function(){return ab});var s,l=r("react"),p=r.n(l),u=r("react-dom"),c=r("react-hot-loader"),d=r("react-redux"),f=r("./node_modules/connected-react-router/lib/index.js"),h=r("react-router"),m=r("./app/constants/routes.json");class y extends l.Component{render(){const{children:e}=this.props;return function(e,t,r,n){s||(s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var l=new Array(i),p=0;p<i;p++)l[p]=arguments[p+3];t.children=l}return{$$typeof:s,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(l.Fragment,{},void 0,e)}}r("./node_modules/core-js/modules/web.dom.iterable.js"),r("react-router-dom");var _=r("redux");r("./node_modules/core-js/modules/es6.function.bind.js");const v="Remove Validation",g="Remove Execution",b="Select Validation",C="Select Execution",E="Selected Validations",O="Remove",M="Type",N="Service Side Setup",k="Add Condition",S="Graph Properties",T="Node Label",A="Node Type",I="Nodes",L="Models",w="Output Model",x="Condition Type",P="Reference",$="Depth",j="New",R="Service Activity",D="Code Types",G="Project",U="NameSpace",F="Pinned",V="Collapsed",B="General Link",q="On Load",H="Child link",W="On failure result",Y="On Action",z="On Item Selection",X="On Succesful result",Q="Selected Executions",K="Agents",J="Select Property",Z="Disallowed values",ee="Function Variables",te="Methods",re="Allowed values",ne="Model Actions",oe="Set default properties, on the node",ie="Set default props",ae="Add Property",se="Permission Dependency Attribute",le="Key fields, are used as constants through out the app.",pe="Use Enumeration",ue="Enumeration",ce="Code User",de="Add a property to the model",fe="Add Attribute",he="Add an attribute to the property",me="UI Name",ye="The text that will be visible to the client.",_e="UI Singular",ve="Unknown",ge="Property value type",be="Property model type",Ce="Add reference node",Ee="Is Reference List",Oe="Agent Operator",Me="Enumerable",Ne="Value",ke="Application Menu",Se="Code Name",Te="Value Name",Ae="Agent Name",Ie="File Menu",Le="Code",we="Main Navigation",xe="Add parameter",Pe="Parameters are the required things need for the function to execute successfully",$e="Add Function Output",je="Menu",Re="The output of the function",De="Agent",Ge="Is Owned By Agents",Ue="That would mean any agent/model could own this object.",Fe="User",Ve="Parameter Type",Be="Owned Resources",qe="Add after method",He="Adding an after method node, will allow you to append functions to execute after.",We="Add model item filter",Ye="Add model item filter for get functions",ze="Permissions",Xe="Permission Attributes",Qe="Check if permissions are for resources owned by source model.",Ke="Permission Actions",Je="Permission Value Type",Ze={Create:"Create",Get:"Read",GetAll:"Read All",Getall:"Read All",Delete:"Delete",Getbyowner:"Get by owner",Update:"Update"},et="Choice types",tt="Add Choice",rt="Add choice type",nt="Permission nodes describe the ability of connected models on downstream models",ot="Add permission nodes",it="Select",at="Validation Actions",st="Add validation item",lt="Add rule to validate user input.",pt="Use Validation",ut="Add validation type",ct="Create a new shared validation list",dt="Add",ft="Validation Types",ht="Validation Type",mt="Option Actions",yt="Add option",_t="Add a new option item",vt="Name",gt="Option Types",bt="Use custom option",Ct="Use options",Et="Create a new option list",Ot="Add option list description",Mt="Depends on",Nt="Has dependent property",kt="Use Extensions",St="Included in list",Tt="Is equal",At="Use equivalancy",It="Use equal",Lt="If value is equal, it will pass",wt="Excluded from list",xt="The agent's id will have to be excluded from the list to be accepted",Pt="The agent's id will have to be included in the list to be accepted.",$t="Extension Types",jt="Create an extension list",Rt="Extension list customize dropdowns/lists.",Dt="Extension List Actions",Gt="Add Extension",Ut="Extension(s)",Ft="Add extension node description",Vt="Extension Definition",Bt="Extensions",qt="Extension Config",Ht="Depends On",Wt="Use Id",Yt="Property",zt="Condition",Xt="Defines if a the property associated with this extension is visually dependent on the value of another property on the same object.",Qt="The property that the current property will be associated.",Kt="Matching Value",Jt="The value that the associated property will have to equal, to enable the current property",Zt="Function Types",er="Functions",tr="Add function",rr="Maestro Details",nr="Http Methods",or="Add Maestro",ir="Relative Http Route",ar="Don't include in controller",sr="Maestros",lr="Save",pr="Open",ur="Publish Files",cr="Scaffold",dr="Set Working Directory",fr="Mind Map",hr="Code View",mr="Parent to",yr="Is parent",_r="Is composite input",vr="User Model",gr="Many to many",br="Many to many item must exists",Cr="Many to Many model",Er="This property will be a quick access for many to many relationships.",Or="Has logical children",Mr="Logical children types",Nr="Logical niece types",kr="Children have references to this node, as some sort of logical parent.",Sr="Has logical nieces",Tr="Children have references to this node and others potentially as some sort of logical uncle/aunt. This is for many to many relationships.",Ar="Use Model as Type",Ir="Custom Function",Lr="Function can be constructed in an internal graph.",wr="Add New Section",xr="Sections",Pr="Adds a new section to the root graph.",$r="Enter sub graph name",jr="Red Quick Graph",Rr="Red Quick Sub Graph",Dr="Clear Pinned",Gr="Filter",Ur={Concept:"concept",Model:"model",Property:"model-property",ModelFilter:"model-filter",ScreenContainer:"screen-container",Screen:"screen",ScreenCollection:"screen-collection",ScreenItem:"screen-item",Attribute:"attribute-property",ChoiceList:"choice-list",Permission:"permission",PermissionDependency:"permission-dependency",Condition:"condition",ModelItemFilter:"model-item-filter",Enumeration:"enumeration",ValidationList:"validation-list",ValidationListItem:"validation-list-item",Validator:"validator",Executor:"executor",OptionList:"option-list",OptionListItem:"option-list-item",OptionCustom:"option-custom",ExtensionTypeList:"extension-type-list",ExtensionType:"extension-type",Function:"function",Method:"method",AfterEffect:"after-effect",Action:"action",Parameter:"parameter",FunctionOutput:"function-output",Controller:"controller",Maestro:"maestro",Services:"services",ReferenceNode:"referenceNode",ClassNode:"class-node"},Fr={[Ur.Condition]:!0,[Ur.ModelItemFilter]:!0},Vr={ChangeParameter:"change-parameter",ChangeResponse:"change-response",Constants:"constants",Permissions:"permissions-generated",Executors:"executors",ModelItemFilter:"model-item-filter",ModelReturn:"model-return",ModelGet:"model-get",ModelExceptions:"model-exceptions",StreamProcess:"stream-process",StreamProcessOrchestration:"stream-process-orchestration",ValidationRule:"validation-rule"},Br={RedQuickViews:"RedQuickViews"},qr=["Microsoft.VisualStudio.TestTools.UnitTesting","RedQuick.Storage","RedQuickCore.Worker","Moq","Autofac","RedQuickCore.Worker.Hosts","RedQuick.Configuration","Microsoft.Extensions.Configuration.Json"],Hr=["RedQuick.Data","RedQuick.Attributes","RedQuick.Interfaces","RedQuick.Validation","RedQuickCore.Validation.Rules","RedQuick.Interfaces.Arbiter","RedQuick.Configuration","RedQuick.Util","RedQuick.Interfaces","RedQuick.Interfaces.Data","RedQuick.UI","System","System.Collections","System.Collections.Generic","System.Linq","System.Net","System.Net.Http","System.Threading.Tasks"],Wr={Methods:"Methods",StreamTypes:"StreamType",FunctionName:"FunctionName"},Yr=(Ur.Model,"Error"),zr={[Ur.ReferenceNode]:!0,[Ur.PermissionDependency]:!0,[Ur.Condition]:!0},Xr={[Yr]:"#FF0000",[Ur.Concept]:"#DD4B39",[Ur.ModelItemFilter]:"#4ECDC4",[Ur.Model]:"#713E5A",[Ur.Property]:"#484349",[Ur.Screen]:"#3A405A",[Ur.Attribute]:"#414770",[Ur.ChoiceList]:"#457B9D",[Ur.ValidationList]:"#A8DADC",[Ur.ValidationListItem]:"#EA526F",[Ur.OptionList]:"#2EC4B6",[Ur.OptionListItem]:"#856A5D",[Ur.OptionCustom]:"#403F4C",[Ur.ExtensionTypeList]:"#2C2B3C",[Ur.ExtensionType]:"#1B2432",[Ur.Method]:"#FE5F55",[Ur.Permission]:"#383F51",[Ur.Function]:"#553D36",[Ur.Parameter]:"#684A52",[Ur.FunctionOutput]:"#857885",[Ur.Services]:"#59FFA0",[Ur.ClassNode]:"#C3BAAA",[Ur.Maestro]:"#780116",[Ur.Condition]:"#CAFE48",[Ur.Validator]:"#151522",[Ur.ModelFilter]:"#312313",[Ur.Executor]:"#2176FF",[Ur.ReferenceNode]:"#F7B538",[Ur.ScreenCollection]:"#A9DBB8",[Ur.ScreenItem]:"#020887",[Ur.ScreenContainer]:"#60B2E5"},Qr={External:"external",Internal:"internal",Core:"core"},Kr={IsExternal:"isExternal",FunctionGroup:"FunctionGroup"},Jr={Model:".Models",StreamProcess:".ActionStream",Executors:".Executors",Tests:".Tests",Extensions:".Extensions",Controllers:".Controllers",Validations:".Validations",Constants:".Constants",Permissions:".Permissions",Parameters:".Parameters",Interface:".Interface"},Zr={Enumeration:"Enumeration",ConditionType:"ConditionType",MatchReference:"MatchReference",MatchManyReferenceParameter:"MatchManyReferenceParameter",EnumerationReference:"EnumerationReference",AllowedExtensionValues:"AllowedExtensionValues",ServiceType:"ServiceType",DisallowedExtensionValues:"DisallowedExtensionValues",AllowedEnumValues:"AllowedEnumerationValue",DisallowedEnumValues:"DisallowedEnumValues",Condition:"Condition",ServiceTypeSettings:"ServiceTypeSettings",ValidatorModel:"ValidatorModel",ExecutorAgent:"ExecutorAgent",ExecutorFunction:"ExecutorFunction",ExecutorModel:"ExecutorModel",ExecutorModelOutput:"ExecutorModelOutput",ExecutorFunctionType:"ExecutorFunctionType",ValidatorFunction:"ValidatorFunction",UseEnumeration:"UseEnumeration",NameSpace:"namespace",FilterModel:"filtermodel",FilterAgent:"filteragent",Validator:"Validator",ModelItemFilter:"ModelItemFilter",Executor:"Executor",ValidatorAgent:"ValidatorAgent",Collapsed:"collapsed",UseExtension:"usextension",IncludedInList:"includedInList",Pinned:"Pinned",ExcludedFromList:"excludedInList",UseEqual:"UseEqual",IsEqualTo:"IsEqualTo",CodeUser:"codeUser",HttpRoute:"HttpRoute",HttpMethod:"HttpMethod",IsAgent:"isAgent",IsCompositeInput:"IsCompositeInput",IsParent:"isParent",IsUser:"IsUser",IsOwnedByAgents:"IsOwnedByAgents",UIUser:"uiUser",IsSharedResource:"isSharedResource",UIPermissions:"uiPermissions",IsOwned:"isOwned",UIName:"uiName",UIText:"text",IsReferenceList:"isReferenceList",UISingular:"uiSingular",UIChoice:"uiChoice",UIChoiceType:"uiChoiceType",UIChoiceNode:"uiChoiceNode",PermissionRequester:"permissions-requester",PermissionManyToMany:"permissions-many-to-many",MatchIds:"matchs-ids",ConnectionExists:"connection-exists",PermissionTarget:"permissions-target",UIDependsOn:"uiDependsOn",UseUIDependsOn:"UseuiDependsOn",UseUIOptions:"UseuiOptions",UIOptionType:"uiOptionType",UseCustomUIOption:"useCustomUIOption",UIOptionTypeCustom:"uiOptionTypeCustom",UIOption:"uiOption",UseUIExtensionList:"UseuiExtensionList",UIExtensionList:"uiExtensionList",UIExtension:"uiExtension",UIExtensionDefinition:"uiExtensionDefinition",MethodProps:"methodProperties",FilterPropreties:"filterproperties",UIValidationType:"uiValidationType",UseUIValidations:"UseuiValidations",NODEType:"nodeType",ReferenceType:"referenceType",UIAttributeType:"uiAttributeType",PermissionValueType:"PermissionValueType",UseModelAsType:"useModelAsType",IsDefaultProperty:"isDefaultProperty",HasLogicalChildren:"hasLogicalChildren",LogicalChildrenTypes:"logicalChildrenTypes",HasLogicalNieces:"hasLogicalNieces",LogicalNieceTypes:"logicalNieceTypes",ManyToManyNexus:"manyToManyNexux",ManyToManyNexusType:"manyToManyNexusType",ManyToManyNexusTypes:"manyToManyNexusTypes",MethodType:"MethodType",UIModelType:"uiModelType",UseScopeGraph:"UseScopeGraph",ScopeGraph:"scopedGraph",AfterMethod:"after-method",AfterMethodSetup:"after-method-setup",Groups:"groups",GroupParent:"groupParent",CodeName:"codeName",ValueName:"valueName",AgentName:"agentName",CodePropertyType:"codeProperty",FunctionType:"functionType",MethodFunctionValidation:"method-function-validation",NotIncludedInController:"not-included-in-controller",PermissionImpl:"permission-implementation",ClassConstructionInformation:"ClassConstructionInformation"};function en(e){return"string"==typeof e?e.split("").filter(e=>-1!=="abcdefghijklmnopqrstuvwxyzzz1234567890_".indexOf(e.toLowerCase())).join(""):e}const tn={[Zr.ServiceType]:[{chainProp:Zr.CodeName,chainFunc:en},{chainProp:Zr.AgentName,chainFunc:en},{chainProp:Zr.ValueName,chainFunc:en},{chainProp:Zr.UIName,chainFunc:en},{chainProp:Zr.UIText,chainFunc:en}],[Zr.UIText]:[{chainProp:Zr.CodeName,chainFunc:en},{chainProp:Zr.AgentName,chainFunc:en},{chainProp:Zr.ValueName,chainFunc:en},{chainProp:Zr.HttpRoute,chainFunc:e=>"string"==typeof e?e.split(" ").join("/").toLowerCase():e},{chainProp:Zr.UIName,chainFunc:e=>e}]},rn="abcdefghijklmnopqrstuvwxyz",nn=rn+"0123456789"+" ";function on(e){if(e)return isNaN(e)?(e=(e=`${e}`).split("").filter(e=>-1!==nn.indexOf(e.toLowerCase())).join(""),-1===rn.indexOf(e[0].toLowerCase())&&(e="_"+e),e.split(" ").join("_").toUpperCase()):`"${e}"`;throw"needs to have value"}const an={Remove:"remove"},sn={Choice:"choice",Executor:"executor",ExecutorItem:"executor-item",ExecutorProperty:"executor-property",ExecutorModel:"executor-model",Condition:"condtion",ModelItemFilter:"model-item-filter",AfterMethod:"after-method",Validation:"validation",ValidationItem:"validation-item",Validator:"validator",ValidatorProperty:"validator-property",ValidatorModel:"validator-model",ExecutorFunction:"executor-function",ValidatorFunction:"validator-function",ValidatorModelItem:"validator-model-item",ValidatorAgent:"validator-agent",Option:"option",OptionItem:"option-item",OptionCustom:"option-custom",DependsOn:"depends-on",ExtensionList:"extension-list",Extension:"extension",Enumeration:"enumeration",EnumerationReference:"enumeration-reference",LogicalChildren:"logical-children",LogicalNieces:"logical-nieces",ManyToManyLink:"ManyToManyLink",Permission:"permission",AppliedPermissionLink:"applied-permission",RequestorPermissionLink:"request-permission-link",ManyToManyPermissionLink:"many-to-many-permission-link",ExtensionDependencyLink:"extension-dependency-link",FunctionOperator:"function-operator",FunctionLink:"function-link",OnScreenLink:"screen-link",OnSuccessLink:"on-success-link",OnFailureLink:"on-failure-link",OnAction:"on-action",ChildLink:"child-link",OnItemSelection:"on-item-selection",FunctionVariable:"function-variable",PropertyLink:"property-link",ParentLink:"parent-link",FunctionConstraintLink:"function-constraint-link",ErrorLink:"error-link",RequiredClassLink:"required-class-link",ModelTypeLink:"model-type-link",AgentTypeLink:"agent-type-link",UserLink:"user-link",MaestroLink:"maestro-link",AttributeLink:"attribute-link",PermissionFunction:"permission-function",Exist:"exist",PermissionPropertyDependency:"permission-property-dependency",PermissionDependencyProperty:"permission-dependency-property",PermissionDependencyPropertyManyToManyLink:"permission-dependency-property-many-to-many",PermissionPropertyDependencyManyToManyLink:"permission-property-dependency-many-to-many"},ln={[sn.FunctionLink]:{type:sn.FunctionLink,stroke:Xr[Ur.Function]},[sn.ErrorLink]:{type:sn.ErrorLink,stroke:Xr[Yr]},[sn.OnScreenLink]:{type:sn.OnScreenLink,stroke:"#E1CE7A",strokeWidth:5},[sn.OnSuccessLink]:{type:sn.OnSuccessLink,stroke:"#A23B72",strokeWidth:5},[sn.OnFailureLink]:{type:sn.OnFailureLink,stroke:"#3B1F2B",strokeWidth:5},[sn.OnItemSelection]:{type:sn.OnItemSelection,stroke:"#2E86AB",strokeWidth:5},[sn.OnAction]:{type:sn.OnAction,stroke:"#A3320B",strokeWidth:5},[sn.ChildLink]:{type:sn.ChildLink,stroke:"#47A025",strokeWidth:5},[sn.FunctionConstraintLink]:{type:sn.FunctionConstraintLink,stroke:Xr[Ur.Function]},[sn.FunctionOperator]:{type:sn.FunctionOperator,stroke:Xr[Ur.Function]},[sn.PropertyLink]:{type:sn.PropertyLink,stroke:Xr[Ur.Property]},[sn.Choice]:{type:sn.Choice,stroke:Xr[Ur.ChoiceList]},[sn.Permission]:{type:sn.Permission,stroke:Xr[Ur.Permission]},[sn.AppliedPermissionLink]:{type:sn.AppliedPermissionLink,stroke:Xr[Ur.Permission]},[sn.Validation]:{type:sn.Validation,stroke:Xr[Ur.ValidationList]},[sn.Validator]:{type:sn.Validator,stroke:Xr[Ur.Validator]},[sn.Option]:{type:sn.Option,stroke:Xr[Ur.OptionList]},[sn.OptionCustom]:{type:sn.OptionCustom,stroke:Xr[Ur.OptionCustom]},[sn.DependsOn]:{type:sn.DependsOn,stroke:Xr[Ur.Property]},[sn.ExtensionList]:{type:sn.ExtensionList,stroke:Xr[Ur.ExtensionTypeList]},[sn.Extension]:{type:sn.Extension,stroke:Xr[Ur.ExtensionType]},[sn.ExtensionDependencyLink]:{type:sn.ExtensionDependencyLink,stroke:Xr[Ur.ExtensionTypeList]}},pn={TYPE:"type",CONSTRAINTS:"constraints",VALID_CONSTRAINTS:"valid-constraints",FUNCTION_ID:"function-id"},un={EnumerationLink:{type:sn.Enumeration},ModelItemFilter:{type:sn.ModelItemFilter},AfterMethod:{type:sn.AfterMethod},EnumerationReferenceLink:{type:sn.EnumerationReference},ConditionLink:{type:sn.Condition},LogicalChildren:{type:sn.LogicalChildren},LogicalNieces:{type:sn.LogicalNieces},ManyToManyLink:{type:sn.ManyToManyLink},PermissionFunctionLink:{type:sn.PermissionFunction},FunctionVariable:{type:sn.FunctionVariable,[pn.FUNCTION_ID]:null},PermissionDependencyPropertyLink:{type:sn.PermissionDependencyProperty},PermissionDependencyPropertyManyToManyLink:{type:sn.PermissionDependencyPropertyManyToManyLink},PermissionPropertyDependencyLink:{type:sn.PermissionPropertyDependency},PermissionPropertyDependencyManyToManyLink:{type:sn.PermissionPropertyDependencyManyToManyLink},AttributeLink:{type:sn.AttributeLink},ExistLink:{exist:sn.Exist},ModelTypeLink:{type:sn.ModelTypeLink},AgentTypeLink:{type:sn.AgentTypeLink},RequiredClassLink:{type:sn.RequiredClassLink},OnScreenLink:{type:sn.OnScreenLink},OnSuccessLink:{type:sn.OnSuccessLink},OnFailureLink:{type:sn.OnFailureLink},OnItemSelection:{type:sn.OnItemSelection},OnAction:{type:sn.OnAction},ChildLink:{type:sn.ChildLink},FunctionLink:{type:sn.FunctionLink},FunctionOperator:{type:sn.FunctionOperator},FunctionConstraintLink:{type:sn.FunctionConstraintLink},ChoiceLink:{type:sn.Choice},PermissionLink:{type:sn.Permission},AppliedPermissionLink:{type:sn.AppliedPermissionLink},RequestorPermissionLink:{type:sn.RequestorPermissionLink},ManyToManyPermissionLink:{type:sn.ManyToManyPermissionLink},ValdationLink:{type:sn.Validation},ValidationLinkItem:{type:sn.ValidationItem},ValidatorAgentLink:{type:sn.ValidatorAgent},ValidatorModelLink:{type:sn.ValidatorModel},ValidatorModelItemLink:{type:sn.ValidatorModelItem},ValidatorPropertyLink:{type:sn.ValidatorProperty},ExecutorLink:{type:sn.Executor},ExecutorLinkItem:{type:sn.ExecutorItem},ExecutorAgentLink:{type:sn.ValidatorAgent},ExecutorModelLink:{type:sn.ExecutorModel},ExecutorModelItemLink:{type:sn.ValidatorModelItem},ExecutorPropertyLink:{type:sn.ValidatorProperty},ValidatorFunctionLink:{type:sn.ValidatorFunction},ExecutorFunctionLink:{type:sn.ExecutorFunction},OptionLink:{type:sn.Option},OptionItemLink:{type:sn.OptionItem},OptionCustomLink:{type:sn.OptionCustom},DependsOnLink:{type:sn.DependsOn},ExtensionListLink:{type:sn.ExtensionList},ExtensionLink:{type:sn.Extension},ExtensionDependencyLink:{type:sn.ExtensionDependencyLink},PropertyLink:{type:sn.PropertyLink},ParentLink:{type:sn.ParentLink},UserLink:{type:sn.UserLink},MaestroLink:{type:sn.MaestroLink}};Object.keys(un).map(e=>{un[e]&&un[e].type&&(un[e][un[e].type]={})});const cn={Create:"Create",Get:"Get",GetAll:"GetAll",Update:"Update",Delete:"Delete"},dn={CVV:"cvv",AlphaNumericLike:"alphanumericlike",AlphaNumericPuncLike:"alphaNumericpunclike",AlphaOnly:"alphaonly",NumericOnly:"numericonly",Numeric:"numeric",Empty:"empty",AlphaOnlyWithSpaces:"alphaonlywithspaces",NotEmpty:"notempty",UrlEmpty:"url_empty",IsTrue:"is_true",IsFalse:"is_false",GreaterThan:"greater_than",GreaterThanOrEqualTo:"greater_than_equal_to",LessThan:"less_than",LessThanOrEqualTo:"less_than_equal_to",EqualTo:"equal_to",Any:"any",Url:"url",EmailEmpty:"email_empty",Credit:"credit",Email:"email",ExpirationMonth:"expirationMonth",BeforeNow:"beforenow",Year:"year",Debit:"debit",ExpirationYear:"expirationYear",PastDate:"pastdate",ZipEmpty:"zipempty",Zip:"zip",SocialSecurity:"socialsecurity",ListOfGuids:"listofguids",OneOf:"one-of"},fn={STRING:"STRING",LISTOFSTRINGS:"LISTOFSTRINGS",DATETIME:"DATETIME",INT:"INT",FLOAT:"FLOAT",DOUBLE:"DOUBLE",BOOLEAN:"BOOLEAN",EMAIL:"EMAIL",PHONENUMBER:"PHONENUMBER"},hn="\n",mn={CSHARP:"csharp"},yn={[mn.CSHARP]:{[fn.DATETIME]:"DateTime",[fn.STRING]:"string",[fn.LISTOFSTRINGS]:"IList<string>",[fn.INT]:"int",[fn.FLOAT]:"float",[fn.DOUBLE]:"double",[fn.BOOLEAN]:"bool",[fn.EMAIL]:"Email",[fn.PHONENUMBER]:"PhoneNumber"}},_n={[mn.CSHARP]:{[fn.EMAIL]:["RedQuick.Data","RedQuick.Attributes"],[fn.PHONENUMBER]:["RedQuick.Data","RedQuick.Attributes"]}},vn={value:{type:fn.DATETIME,nodeType:Ur.Property}},gn={value:{type:fn.STRING,nodeType:Ur.Property}},bn={value:{type:fn.LISTOFSTRINGS,nodeType:Ur.Property}};const Cn={[dn.ListOfGuids]:{types:[fn.LISTOFSTRINGS],vectors:{content:[dn.Any],length:!0},cases:{$true:function(e){return`new List<string> { "${ws()}"}`},long:function(){return`new List<string> { "${ws()}asdf" }`},$empty:function(){return"new List<string>()"}}},[dn.SocialSecurity]:{types:[fn.STRING],vectors:{content:[dn.AlphaNumericPuncLike],length:!0},cases:{$true:function(e){return`"${[].interpolate(0,9,e=>Math.floor(10*Math.random())).join("")}"`},long:function(){return`"${[].interpolate(0,12,e=>Math.floor(10*Math.random())).join("")}"`},short:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("")}"`},invalid:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("a")}"`},empty:function(){return`"${[].interpolate(0,0,e=>Math.floor(10*Math.random())).join("")}"`}}},[dn.Zip]:{types:[fn.STRING],vectors:{content:[dn.ZipEmpty],length:!0},cases:{$true:function(e){return`"${[].interpolate(0,5,e=>Math.floor(10*Math.random())).join("")}"`},long:function(){return`"${[].interpolate(0,12,e=>Math.floor(10*Math.random())).join("")}"`},short:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("")}"`},invalid:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("a")}"`},empty:function(){return`"${[].interpolate(0,0,e=>Math.floor(10*Math.random())).join("")}"`}}},[dn.ZipEmpty]:{types:[fn.STRING],vectors:{content:!0,length:!0},cases:{$true:function(){return`"${[].interpolate(0,5,e=>Math.floor(10*Math.random())).join("")}"`},long:function(){return`"${[].interpolate(0,12,e=>Math.floor(10*Math.random())).join("")}"`},short:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("")}"`},$empty:function(){return`"${[].interpolate(0,0,e=>Math.floor(10*Math.random())).join("")}"`},invalid:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("a")}"`},invalid2:function(){return`"${[].interpolate(0,5,e=>"a").join("")}"`}}},[dn.PastDate]:{types:[fn.DATETIME],vectors:{value:!0},cases:{$true:function(e){return"Date.UtcNow().AddDays(1)"},false:function(){return"Date.UtcNow().AddDays(-1)"}}},[dn.BeforeNow]:{types:[fn.STRING],vectors:{value:!0},cases:{$true:function(e){return"Date.UtcNow().AddDays(-1)"},false:function(){return"Date.UtcNow().AddDays(1)"}}},[dn.Email]:{types:[fn.STRING],vectors:{content:!0},cases:{$true:function(e){return'"asdf@asdf.com"'},false:function(){return'"asdf@asdfdd@asdf@.com"'},empty:function(){return'""'}}},[dn.EmailEmpty]:{types:[fn.STRING],vectors:{content:!0},cases:{$true:function(e){return'"asadf@asdf.com"'},false:function(){return'"asdf@afsdfdd@asdf@.com"'},$empty:function(){return'""'}}},[dn.Credit]:{types:[fn.STRING],vectors:{content:!0,length:!0},cases:{$true:function(){return`"${[].interpolate(0,16,e=>Math.floor(10*Math.random())).join("")}"`},long:function(){return`"${[].interpolate(0,23,e=>Math.floor(10*Math.random())).join("")}"`},short:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("")}"`},$empty:function(){return`"${[].interpolate(0,0,e=>Math.floor(10*Math.random())).join("")}"`},invalid:function(){return`"${[].interpolate(0,16,e=>Math.floor(10*Math.random())).join("a")}"`},invalid2:function(){return`"${[].interpolate(0,16,e=>"a").join("")}"`}}},[dn.Url]:{types:[fn.STRING],vectors:{content:[dn.UrlEmpty]},cases:{$true:function(e){return'"http://yahoo.com"'},false:function(){return'"asdf@afsdfdd@asdf@.com"'},empty:function(){return'""'}}},[dn.UrlEmpty]:{types:[fn.STRING],vectors:{content:[dn.Any]},cases:{$true:function(e){return'"http://yahoo.com"'},false:function(){return'"asdf@afsdfdd@asdf@.com"'},$empty:function(){return'""'}}},[dn.Empty]:{types:[fn.STRING],vectors:{content:[dn.Any],length:!0},cases:{false:function(){return'"asdf"'},$empty:function(){return'""'}}},[dn.NotEmpty]:{types:[fn.STRING],vectors:{content:[dn.Any],length:!0},cases:{$false:function(){return'"asdf"'},empty:function(){return'""'}}},[dn.NumericOnly]:{vectors:{content:[dn.Numeric]},types:[fn.STRING],cases:{$true:function(e){return'"1234"'},false:function(){return'"asdf@ afsdfdd@asdf@.com"'},empty:function(){return'""'}}},[dn.Numeric]:{vectors:{content:[dn.AlphaNumericPuncLike]},types:[fn.STRING],cases:{$true:function(e){return'"1234.34"'},false:function(){return'"12QW"'},empty:function(){return'""'}}},[dn.AlphaNumericPuncLike]:{vectors:{content:[dn.Any]},types:[fn.STRING],cases:{$true:function(e){return'"httas21df.!@#$ #$%^^&*^&*()aom"'},empty:function(){return'""'}}},[dn.AlphaNumericLike]:{vectors:{content:[dn.AlphaNumericPuncLike]},types:[fn.STRING],cases:{$true:function(e){return'"httas21dfaom"'},false:function(){return'"asdf@ afsdfdd@asdf@.com"'},$empty:function(){return'""'}}},[dn.AlphaOnly]:{types:[fn.STRING],vectors:{content:[dn.AlphaOnlyWithSpaces]},cases:{$true:function(e){return'"httasdfaom"'},false:function(){return'"asdf@ afsdfdd@asdf12f@.com"'},empty:function(){return'""'}}},[dn.AlphaOnlyWithSpaces]:{types:[fn.STRING],vectors:{content:[dn.AlphaNumericPuncLike]},cases:{$true:function(e){return'"httas dfaom"'},$false:function(){return'"asdf@ afsdfdd@asdf12f@.com"'},empty:function(){return'""'}}},[dn.IsTrue]:{types:[fn.BOOLEAN],vectors:{value:[dn.Any]},cases:{$true:function(){return"true"},false:function(){return"false"}}},[dn.IsFalse]:{types:[fn.BOOLEAN],vectors:{value:[dn.Any]},cases:{true:function(){return"true"},$false:function(){return"false"}}},[dn.GreaterThanOrEqualTo]:{types:[fn.DOUBLE,fn.FLOAT,fn.INT],vectors:{value:{[dn.GreaterThan]:function(e,t){},[dn.GreaterThanOrEqualTo]:function(e,t){},[dn.EqualTo]:function(e,t){},[dn.LessThan]:function(e,t){},[dn.LessThanOrEqualTo]:function(e,t){}}},cases:{$greater:function(){return" >= "},notgreater:function(){return" >= "}}},[dn.GreaterThan]:{types:[fn.DOUBLE,fn.FLOAT,fn.INT],vectors:{value:{[dn.GreaterThan]:function(e,t){},[dn.GreaterThanOrEqualTo]:function(e,t){},[dn.EqualTo]:function(e,t){},[dn.LessThan]:function(e,t){},[dn.LessThanOrEqualTo]:function(e,t){}}},cases:{$greater:function(){return" > "},notgreater:function(){return" > "}}},[dn.LessThan]:{types:[fn.DOUBLE,fn.FLOAT,fn.INT],vectors:{value:{[dn.GreaterThan]:function(e,t){},[dn.GreaterThanOrEqualTo]:function(e,t){},[dn.EqualTo]:function(e,t){},[dn.LessThan]:function(e,t){},[dn.LessThanOrEqualTo]:function(e,t){}}},cases:{$less:function(){return" < "},notless:function(){return" < "}}},[dn.EqualTo]:{types:[fn.DOUBLE,fn.FLOAT,fn.INT],vectors:{value:{[dn.GreaterThan]:function(e,t){},[dn.GreaterThanOrEqualTo]:function(e,t){},[dn.EqualTo]:function(e,t){},[dn.LessThan]:function(e,t){},[dn.LessThanOrEqualTo]:function(e,t){}}},cases:{$equal_to:function(){return" = "},not_equal:function(){return" = "}}}};Object.keys(Cn).map(e=>{Cn[e].id=e});const En={ModelReference:"model-reference",Copy:"copy",AgentReference:"agent-reference",ParentReference:"parent-reference",AddModelReference:"add-model-reference"},On={[En.ModelReference]:{code:{[mn.CSHARP]:"ModelReference"},arguments:{...gn,nodeType:Ur.Model,reference:{types:[Ur.Model]}}},[En.AgentReference]:{code:{[mn.CSHARP]:"AgentReference"},arguments:{...gn,nodeType:Ur.Model,reference:{types:[Ur.Model]}}},[En.ParentReference]:{code:{[mn.CSHARP]:"ParentReference"},arguments:{...gn,nodeType:Ur.Model,reference:{types:[Ur.Model]}}},[En.AddModelReference]:{code:{[mn.CSHARP]:"AddModelReference"},arguments:{...bn,nodeType:Ur.Model,method_reference:{reference:!0}}},[En.Copy]:{code:{[mn.CSHARP]:"copy"},arguments:{...gn}}};Object.keys(On).map(e=>{On[e].type=e});const Mn={EqualsAgent:"equals-agent",EqualsParent:"equals-parent",EqualsTrue:"equals-true",EqualsFalse:"equals-false",EqualsModelRef:"equals-model-ref",EqualsModelProperty:"equals-model-property"},Nn={[Mn.EqualsTrue]:{code:{[mn.CSHARP]:"EqualsTrue"},arguments:{...gn,type:fn.BOOLEAN}},[Mn.EqualsFalse]:{code:{[mn.CSHARP]:"EqualsFalse"},arguments:{...gn,type:fn.BOOLEAN}},[Mn.EqualsParent]:{code:{[mn.CSHARP]:"EqualsParent"},arguments:{...gn,type:fn.BOOLEAN}},[Mn.EqualsAgent]:{code:{[mn.CSHARP]:"EqualsAgent"},arguments:{...gn,type:fn.BOOLEAN}},[Mn.EqualsModelRef]:{code:{[mn.CSHARP]:"EqualsModelRef"},arguments:{...gn,functionvariables:!0}},[Mn.EqualsModelProperty]:{code:{[mn.CSHARP]:"EqualsModelProperty"},arguments:{...gn,modelproperty:!0}}};Object.keys(Nn).map(e=>{Nn[e].type=e});const kn={[dn.OneOf]:{code:{[mn.CSHARP]:"OneOfAttribute"},arguments:{...gn,nodeType:Ur.Enumeration,reference:{types:[Ur.Enumeration,Ur.ExtensionType]}}},[dn.SocialSecurity]:{code:{[mn.CSHARP]:"SocialSecurityAttribute"},arguments:{...gn}},[dn.Zip]:{code:{[mn.CSHARP]:"ZipAttribute"},arguments:{...gn}},[dn.ZipEmpty]:{code:{[mn.CSHARP]:"ZipEmptyAttribute"},arguments:{...gn}},[dn.PastDate]:{code:{[mn.CSHARP]:"PastDateAttribute"},arguments:{...vn}},[dn.BeforeNow]:{code:{[mn.CSHARP]:"BeforeNowAttribute"},arguments:{...vn}},[dn.Email]:{code:{[mn.CSHARP]:"EmailAttribute"},arguments:{...gn}},[dn.Credit]:{code:{[mn.CSHARP]:"CreditCardAttribute"},arguments:{...gn}},[dn.EmailEmpty]:{code:{[mn.CSHARP]:"EmailEmptyAttribute"},arguments:{...gn}},[dn.Url]:{code:{[mn.CSHARP]:"UrlAttribute"},arguments:{...gn}},[dn.UrlEmpty]:{code:{[mn.CSHARP]:"UrlEmptyAttribute"},arguments:{...gn}},[dn.AlphaNumericLike]:{code:{[mn.CSHARP]:"AlphaNumericLikeAttribute"},arguments:{...gn}},[dn.AlphaOnly]:{code:{[mn.CSHARP]:"AlphaOnlyAttribute"},arguments:{...gn}},[dn.AlphaOnlyWithSpaces]:{code:{[mn.CSHARP]:"NotEmptyAttribute"},arguments:{...gn}}};Object.keys(kn).map(e=>{kn[e].type=e});var Sn=r("fs"),Tn=r.n(Sn);const An={Create_ManyToMany_Agent_Value__IListChild:"Create/ManyToMany/Agent/Value => IList<Child>",Update_ManyToMany_Agent_Value__IListChild:"Update/ManyToMany/Agent/Value => IList<Child>",Get_ManyToMany_Agent_Value__IListChild:"Get/ManyToMany/Agent/Value => IList<Child>",Delete_ManyToMany_Agent_Value__IListChild:"Delete/ManyToMany/Agent/Value => IList<Child>",Create_Parent$Child_Agent_Value__IListChild:"Create/Parent-Child/Agent/Value => IList<Child>",Update_Parent$Child_Agent_Value__IListChild:"Update/Parent-Child/Agent/Value => IList<Child>",Get_Parent$Child_Agent_Value__IListChild:"Get/Parent-Child/Agent/Value => IList<Child>",Delete_Parent$Child_Agent_Value__IListChild:"Delete/Parent-Child/Agent/Value => IList<Child>",Create_Object_Agent_Value__IListObject:"Create/Object/Agent/Value => IList<Object>",Update_Object_Agent_Value__IListObject:"Update/Object/Agent/Value => IList<Object>",Get_Object_Agent_Value__IListObject:"Get/Object/Agent/Value => IList<Object>",Delete_Object_Agent_Value__IListObject:"Delete/Object/Agent/Value => IList<Object>",Delete_M2M_By_Reference:"Delete M2M by reference => list",Create_Parent_Child_Agent_Value__Child:"Create/Parent-Child/Agent/Value => Child",Update_Parent_Child_Agent_Value__Child:"Update/Parent-Child/Agent/Value => Child",Get_Parent_Child_Agent_Value__Child:"Get/Parent-Child/Agent/Value => Child",Delete_Parent_Child_Agent_Value__Child:"Delete/Parent-Child/Agent/Value => Child",Create_Object_Agent_Value__Object:"Create/Object/Agent/Value => Object",Update_Object_Agent_Value__Object:"Update/Object/Agent/Value => Object",Update_Object_Agent_Value__Object_With_Object:"Update/Object/with/Model/Agent/Value => Object",Get_Object_Agent_Value__Object:"Get/Object/Agent/Value => Object",Delete_Object_Agent_Value__Object:"Delete/Object/Agent/Value => Object",Create_Object_Agent_Many_to_Many_CompositeInput__Object:"Create/Object/Agent/Many to Many with Composite Input => Object",Create_ManyToMany_Object_With_Agent_And_Return_M2M_SET:"Create M2M Object with Agent and Return the updated M2M set",Create_Object__Object:"Create/Object => Object",Update_Object__Object:"Update/Object => Object",Delete_Object__Object:"Delete/Object => Object",Get_Object__Object:"Get/Object => Object",Can_Execute_Agent_Parent_In_Valid_List:"Can_Execute_Agent_Parent_In_Valid_List"},In={Model:"model",ModelOutput:"model_output",UpdateModel:"model_update",ReferenceClass:"reference_class",Reference:"reference",ModelProperty:"model-property",Bool:"bool",CanExecute:"can-execute",ModelDeterminingProperty:"model-determining-property",AgentDeterminingProperty:"agent-determining-property",Property:"property",Parent:"parent",AgentInstance:"agent_instance",Agent:"agent",AgentProperty:"agent-property",AgentType:"agent_type",User:"user",ManyToManyModel:"many_to_many",Method:"method",MethodType:"method_type",Permission:"permission",UserInstance:"user_instance",ModelFilter:"model_filter",Value:"value",CompositeInput:"composite-input",CompositeInputProperty:"composite-input-property"},Ln={IsAgent:"isAgent",IsUser:"isUser",IsTypeOf:"isTypeOf",IsParent:"isParent",IsChild:"isChild",IsList:"isList",IsSingleLink:"$single$link",IsModel:"isModel",IsFunction:"isFunction",IsProperty:"isProperty",IsEnumerable:"isEnumerable",IsInstanceVariable:"isInstanceVariable",IsInputVariable:"isInputVariable"},wn=(In.CanExecute,In.Parent,In.Model,In.Model,In.ModelDeterminingProperty,In.Model,In.Parent,In.AgentType,In.User,In.User,In.UserInstance,In.Model,In.Value,In.Model,In.AgentType,In.User,In.User,In.UserInstance,In.Model,In.Value,{[In.Model]:{key:In.Model,nodeTypes:[Ur.Model]},[In.ModelOutput]:{key:In.ModelOutput,nodeTypes:[Ur.Model]},[In.Agent]:{[Zr.IsAgent]:!0,key:In.Agent,nodeTypes:[Ur.Model]},[In.User]:{[Zr.IsUser]:!0,key:In.User,nodeTypes:[Ur.Model]},[In.Permission]:{key:In.Permission,nodeTypes:[Ur.Permission]},[In.ManyToManyModel]:{[Zr.ManyToManyNexus]:!0,key:In.ManyToManyModel,nodeTypes:[Ur.Model]},[In.ModelFilter]:{key:In.ModelFilter,nodeTypes:[Ur.ModelFilter]}}),xn={[In.Model]:{key:In.Model,nodeTypes:[Ur.Model]},[In.CompositeInput]:{key:In.CompositeInput,nodeTypes:[Ur.Model]},[In.Agent]:{[Zr.IsAgent]:!0,key:In.Agent,nodeTypes:[Ur.Model]},[In.User]:{[Zr.IsUser]:!0,key:In.User,nodeTypes:[Ur.Model]},[In.Permission]:{key:In.Permission,nodeTypes:[Ur.Permission]},[In.ModelFilter]:{key:In.ModelFilter,nodeTypes:[Ur.ModelFilter]}},Pn="Execute stream process",$n="Execute stream process update",jn={["Generate Many 2 Many from result and input"]:{template:"./app/templates/aftereffects/generate_m2m_from_result_and_input.tpl",template_call:"                    await {{function_name}}(agent, data, result);",templateKeys:{[In.Model]:{key:In.Model,nodeTypes:[Ur.Model]},[In.CompositeInput]:{key:In.CompositeInput,nodeTypes:[Ur.Model]},[In.CompositeInputProperty]:{key:In.CompositeInputProperty,nodeTypes:[Ur.Property],parent:In.CompositeInput},[In.Agent]:{[Zr.IsAgent]:!0,key:In.Agent,nodeTypes:[Ur.Model]},[In.ManyToManyModel]:{key:In.ManyToManyModel,nodeTypes:[Ur.Model]}}},[Pn]:{template:"./app/templates/aftereffects/execute_stream_process.tpl",template_call:"                    await {{function_name}}(agent, result);",update_with:"./app/templates/standard/update_model_property.tpl",stream_process_change_parameter:"./app/templates/stream_process/stream_process_change_class_extension_update_by_model.tpl",templateKeys:{[In.Model]:{key:In.Model,nodeTypes:[Ur.Model]},[In.ModelOutput]:{key:In.ModelOutput,nodeTypes:[Ur.Model]},[In.Agent]:{[Zr.IsAgent]:!0,key:In.Agent,nodeTypes:[Ur.Model]},[In.ManyToManyModel]:{key:In.ManyToManyModel,nodeTypes:[Ur.Model]},[In.Method]:{key:In.Method,useNodes:!0,nodeTypes:[Ur.Method]},[In.MethodType]:{key:In.MethodType,useMethodTypes:!0}}},[$n]:{template:"./app/templates/aftereffects/execute_stream_process_update.tpl",template_call:"\n            var reference = {{reference}};\n            var model = result;\n            await {{function_name}}(agent, reference, model);",stream_process_change_parameter:"./app/templates/stream_process/stream_process_change_class_extension_update_by_model.tpl",update_with:"./app/templates/standard/update_model_property.tpl",templateKeys:{[In.Model]:{key:In.Model,nodeTypes:[Ur.Model]},[In.ModelOutput]:{key:In.ModelOutput,nodeTypes:[Ur.Model]},[In.UpdateModel]:{key:In.UpdateModel,nodeTypes:[Ur.Model]},[In.ReferenceClass]:{key:In.ReferenceClass,nodeTypes:[Ur.Model]},[In.Reference]:{key:In.Reference,nodeTypes:[Ur.Model],useString:["agent","result","newData","data"].map(e=>`#${e}`)},[In.Agent]:{[Zr.IsAgent]:!0,key:In.Agent,nodeTypes:[Ur.Model]},[In.ManyToManyModel]:{key:In.ManyToManyModel,nodeTypes:[Ur.Model]},[In.Method]:{key:In.Method,useNodes:!0,nodeTypes:[Ur.Method]},[In.MethodType]:{key:In.MethodType,useMethodTypes:!0}}}},Rn={[In.User]:{[Zr.IsUser]:!0,key:In.User,nodeTypes:[Ur.Model]},[In.Model]:{key:In.Model,nodeTypes:[Ur.Model]},[In.Agent]:{[Zr.IsAgent]:!0,key:In.Agent,nodeTypes:[Ur.Model]},[In.Permission]:{key:In.Permission,nodeTypes:[Ur.Permission]},[In.ModelFilter]:{key:In.ModelFilter,nodeTypes:[Ur.ModelFilter]}},Dn={[In.Model]:{key:In.Model,nodeTypes:[Ur.Model]},[In.Parent]:{key:In.Parent,nodeTypes:[Ur.Model]},[In.Property]:{key:In.Property,nodeTypes:[Ur.Property]},[In.Agent]:{[Zr.IsAgent]:!0,key:In.Agent,nodeTypes:[Ur.Model]},[In.User]:{[Zr.IsUser]:!0,key:In.User,nodeTypes:[Ur.Model]},[In.Permission]:{key:In.Permission,nodeTypes:[Ur.Permission]},[In.ManyToManyModel]:{[Zr.ManyToManyNexus]:!0,key:In.ManyToManyModel,nodeTypes:[Ur.Model]},[In.ModelFilter]:{key:In.ModelFilter,nodeTypes:[Ur.ModelFilter]}},Gn={[In.Model]:{key:In.Model,nodeTypes:[Ur.Model]},[In.Parent]:{key:In.Parent,nodeTypes:[Ur.Model]},[In.Agent]:{[Zr.IsAgent]:!0,key:In.Agent,nodeTypes:[Ur.Model]},[In.User]:{[Zr.IsUser]:!0,key:In.User,nodeTypes:[Ur.Model]},[In.ManyToManyModel]:{[Zr.ManyToManyNexus]:!0,key:In.ManyToManyModel,nodeTypes:[Ur.Model]},[In.Permission]:{key:In.Permission,nodeTypes:[Ur.Permission]},[In.ModelFilter]:{key:In.ModelFilter,nodeTypes:[Ur.ModelFilter]}},Un={[Ln.IsTypeOf]:In.Model,[Ln.IsList]:!0},Fn={[Ln.IsTypeOf]:In.Model,[Ln.IsList]:!1},Vn={[Ln.IsTypeOf]:In.Bool},Bn={METHODS:"methods",PARAMETERS:"parameters",PARAMETERSCLASS:"Parameters",CHANGECLASS:"Change",RESPONSECLASS:"Response",STREAMPROCESS:"StreamProcess",DETERMINING_PROPERTY:"determining_property",PARENTS_ID_PROPERTY:"parentIdProperty",MODEL:"model",CONSTRUCTORS:"constructors",TEMPLATE:"template",INTERFACE:"interface",PARENT:"parent",PROPERTY:"property",METHOD:{CREATE:"Create",UPDATE:"Update",PROCESS:"Process"}},qn={CLASSES:"classes"},Hn={[qn.CLASSES]:{[Bn.PARAMETERSCLASS]:{[Bn.TEMPLATE]:Tn.a.readFileSync("./app/templates/stream_process/stream_process_parameter_class.tpl","utf8"),[Bn.CONSTRUCTORS]:Tn.a.readFileSync("./app/templates/stream_process/stream_process_parameter_class.tpl","utf8"),[Bn.MODEL]:In.Model,[Bn.METHODS]:{[Bn.METHOD.CREATE]:{[Bn.PARAMETERS]:[In.AgentType,In.Model]},[Bn.METHOD.UPDATE]:{[Bn.PARAMETERS]:[In.AgentType,In.Model]}}},[Bn.CHANGECLASS]:{[Bn.TEMPLATE]:Tn.a.readFileSync("./app/templates/stream_process/stream_process_change_class.tpl","utf8"),[Bn.CONSTRUCTORS]:Tn.a.readFileSync("./app/templates/stream_process/stream_process_change_class.tpl","utf8"),[Bn.MODEL]:In.Model,[Bn.METHODS]:{[Bn.METHOD.CREATE]:{[Bn.PARAMETERS]:[Bn.PARAMETERSCLASS]}}},[Bn.RESPONSECLASS]:{[Bn.MODEL]:In.Model,[Bn.METHODS]:{[Bn.METHOD.CREATE]:{[Bn.PARAMETERS]:[Bn.PARAMETERSCLASS]}}}},attachment_methods:{[Bn.STREAMPROCESS]:{[Bn.MODEL]:In.Model,[Bn.METHODS]:{[Bn.METHOD.PROCESS]:{[Bn.PARAMETERS]:[Bn.CHANGECLASS]}}}},propreties:{[Bn.DETERMINING_PROPERTY]:{[Bn.MODEL]:In.Model,[Bn.PROPERTY]:In.Property}}};function Wn(e){return`I${e}`}const Yn={POST:"HttpPost",GET:"HttpGet",DELETE:"HttpDelete",PATCH:"HttpPatch"},zn={model:"model",function_name:"function_name",user:"user",user_instance:"user_instance",value:"value",agent:"agent",agent_type:"agent_type"},Xn={[An.Create_Object__Object]:{title:"Create Object => Object",template:Tn.a.readFileSync("./app/templates/standard/create_model_agent_object.tpl","utf8"),interface:Tn.a.readFileSync("./app/templates/standard/create_model_agent_object_interface.tpl","utf8"),templates:{},constraints:{...Rn},output:{...Fn},isList:!1,method:cn.Create,template_keys:{...zn}},[An.Create_ManyToMany_Object_With_Agent_And_Return_M2M_SET]:{title:An.Create_ManyToMany_Object_With_Agent_And_Return_M2M_SET,template:Tn.a.readFileSync("./app/templates/standard/many_2_many/create_with_agent_and_return_m2m_set.tpl","utf8"),interface:Tn.a.readFileSync("./app/templates/standard/many_2_many/create_with_agent_and_return_m2m_set_interface.tpl","utf8"),filter:{params:[In.Model,In.Agent]},constraints:{...Rn},output:{...Fn},isList:!0,method:cn.Create,template_keys:{...zn}},[An.Create_Object_Agent_Many_to_Many_CompositeInput__Object]:{title:"Create Object by Agent M2M with Composite Input",template:Tn.a.readFileSync("./app/templates/standard/create_object_agent_many_to_many_compositeinput.tpl","utf8"),interface:Tn.a.readFileSync("./app/templates/standard/create_object_agent_many_to_many_compositeinput_interface.tpl","utf8"),constraints:{...xn},output:{...Fn},isList:!1,method:cn.Create,template_keys:{...zn}},[An.Create_Object_Agent_Value__IListObject]:{title:"Create Object by Agent => IList<Object>",template:Tn.a.readFileSync("./app/templates/standard/create_model_agent_listobject.tpl","utf8"),interface:Tn.a.readFileSync("./app/templates/standard/create_model_agent_listobject_interface.tpl","utf8"),constraints:{...wn},output:{...Un},isList:!0,method:cn.Create,template_keys:{...zn}},[An.Update_Object_Agent_Value__IListObject]:{title:"Update Object by Agent => IList<Object>",template:Tn.a.readFileSync("./app/templates/standard/update_model_agent_listobject.tpl","utf8"),interface:Tn.a.readFileSync("./app/templates/standard/update_model_agent_listobject_interface.tpl","utf8"),constraints:{...wn},output:{...Un},isList:!0,method:cn.Update,template_keys:{...zn}},[An.Update_Object_Agent_Value__Object]:{title:"Update Object by Agent",template:Tn.a.readFileSync("./app/templates/standard/update_model_agent_object.tpl","utf8"),interface:Tn.a.readFileSync("./app/templates/standard/update_model_agent_object_interface.tpl","utf8"),constraints:{...wn},output:{...Fn},isList:!1,method:cn.Update,template_keys:{...zn}},[An.Update_Object_Agent_Value__Object_With_Object]:{title:"Update Object by Agent with object",template:Tn.a.readFileSync("./app/templates/standard/update_model_agent_object_with_model.tpl","utf8"),interface:Tn.a.readFileSync("./app/templates/standard/update_model_agent_object_with_model_interface.tpl","utf8"),templates:{},constraints:{...wn,[In.UpdateModel]:{key:In.UpdateModel,nodeTypes:[Ur.Model]}},output:{...Fn},isList:!1,method:cn.Update,template_keys:{...zn}},[An.Delete_Object_Agent_Value__IListObject]:{title:"Delete Object by Agent => IList<Object>",template:Tn.a.readFileSync("./app/templates/standard/delete_model_agent_listobject.tpl","utf8"),interface:Tn.a.readFileSync("./app/templates/standard/delete_model_agent_listobject_interface.tpl","utf8"),constraints:{...wn},output:{...Un},isList:!0,method:cn.Delete,template_keys:{...zn}},[An.Delete_M2M_By_Reference]:{title:An.Delete_M2M_By_Reference,template:Tn.a.readFileSync("./app/templates/standard/delete_m2m_by_reference.tpl","utf8"),interface:Tn.a.readFileSync("./app/templates/standard/delete_m2m_by_reference_interface.tpl","utf8"),test:Tn.a.readFileSync("./app/templates/standard/delete_m2m_by_reference_test.tpl","utf8"),controller:Tn.a.readFileSync("./app/templates/standard/delete_m2m_by_reference_controller.tpl","utf8"),filter:{params:[In.Model,In.Agent]},permission:{params:[In.Model,In.Agent]},constraints:{...wn},output:{...Un},isList:!0,method:cn.Delete,template_keys:{...zn}},[An.Get_Object_Agent_Value__IListObject]:{title:"Get Object by Agent => IList<Object>",template:Tn.a.readFileSync("./app/templates/standard/get_model_agent_listobject.tpl","utf8"),interface:Tn.a.readFileSync("./app/templates/standard/get_model_agent_listobject_interface.tpl","utf8"),constraints:{...wn},output:{...Un},isList:!0,method:cn.GetAll,template_keys:{...zn}},[An.Create_Parent$Child_Agent_Value__IListChild]:{title:"Create Parent/Child => IList<Child>",template:Tn.a.readFileSync("./app/templates/create_agent_childparent_listchild.tpl","utf8"),interface:Tn.a.readFileSync("./app/templates/create_agent_childparent_listchild_interface.tpl","utf8"),constraints:{...Dn},output:{...Un},isList:!0,method:cn.Create,...Hn,template_keys:{...zn}},[An.Update_Parent$Child_Agent_Value__IListChild]:{title:"Update Parent/Child => IList<Child>",template:Tn.a.readFileSync("./app/templates/update_agent_childparent_listchild.tpl","utf8"),interface:Tn.a.readFileSync("./app/templates/update_agent_childparent_listchild_interface.tpl","utf8"),constraints:{...Dn},output:{...Un},isList:!0,method:cn.Update,...Hn,template_keys:{...zn}},[An.Get_Parent$Child_Agent_Value__IListChild]:{title:"Get Parent/Child => IList<Child>",template:Tn.a.readFileSync("./app/templates/get_agent_childparent_listchild.tpl","utf8"),interface:Tn.a.readFileSync("./app/templates/get_agent_childparent_listchild_interface.tpl","utf8"),constraints:{...Dn},output:{...Un},isList:!0,parentGet:!0,method:cn.GetAll,...Hn,template_keys:{...zn}},[An.Get_Object_Agent_Value__Object]:{title:"Get Object by Agent",template:Tn.a.readFileSync("./app/templates/standard/get_model_agent_object.tpl","utf8"),interface:Tn.a.readFileSync("./app/templates/standard/get_model_agent_object_interface.tpl","utf8"),constraints:{...Gn},output:{...Fn},isList:!1,method:cn.Get,template_keys:{...zn}},[An.Get_ManyToMany_Agent_Value__IListChild]:{title:"Get Many to Many => IList<Child>",template:Tn.a.readFileSync("./app/templates/standard/get_agent_manytomany_listchild.tpl","utf8"),interface:Tn.a.readFileSync("./app/templates/standard/get_agent_manytomany_listchild_interface.tpl","utf8"),constraints:{...Gn},output:{...Un},parentGet:!0,isList:!0,method:cn.GetAll,template_keys:{...zn}},[An.Create_ManyToMany_Agent_Value__IListChild]:{title:"Create Many to Many => IList<Child>",template:Tn.a.readFileSync("./app/templates/standard/create_agent_manytomany_listchild.tpl","utf8"),interface:Tn.a.readFileSync("./app/templates/standard/create_agent_manytomany_listchild_interface.tpl","utf8"),constraints:{...Gn},output:{...Un},isList:!0,method:cn.Create,...Hn,template_keys:{...zn}},[An.Update_ManyToMany_Agent_Value__IListChild]:{title:"Update Many to Many => IList<Child>",template:Tn.a.readFileSync("./app/templates/standard/update_agent_manytomany_listchild.tpl","utf8"),interface:Tn.a.readFileSync("./app/templates/standard/update_agent_manytomany_listchild_interface.tpl","utf8"),constraints:{...Gn},output:{...Un},isList:!0,method:cn.Update,...Hn,template_keys:{...zn}},[An.Can_Execute_Agent_Parent_In_Valid_List]:{title:"Can Execute Agent Parent In Valid List",template:Tn.a.readFileSync("./app/templates/can_execute/can_execute_childparent_valid_list.tpl","utf8"),constraints:{[In.AgentType]:{[Ln.IsAgent]:!0,[Ln.IsSingleLink]:!0,[Ln.IsModel]:!0,key:In.AgentType},[In.AgentDeterminingProperty]:{[Ln.IsChild]:In.AgentType,[Ln.IsSingleLink]:!0,[Ln.IsProperty]:!0,key:In.AgentDeterminingProperty},[In.Model]:{[Ln.IsSingleLink]:!0,[Ln.IsModel]:!0,key:In.Model},[In.ModelDeterminingProperty]:{[Ln.IsChild]:In.Model,[Ln.IsSingleLink]:!0,[Ln.IsProperty]:!0,[Ln.IsEnumerable]:!0,key:In.ModelDeterminingProperty},[In.AgentInstance]:{[Ln.IsTypeOf]:In.AgentType,[Ln.IsSingleLink]:!0,key:In.AgentInstance,[Ln.IsInstanceVariable]:!0,[Ln.IsInputVariable]:!0},[In.Value]:{[Ln.IsTypeOf]:In.Model,[Ln.IsSingleLink]:!0,key:In.Value,[Ln.IsInstanceVariable]:!0,[Ln.IsInputVariable]:!0}},output:{...Vn},[qn.CLASSES]:{},attachment_methods:{},propreties:{},template_keys:{...zn}}},Qn={stream_process_change_parameter:"stream_process_change_parameter",update_with:"update_with"},Kn={InEnumerable:"in-enumeration",InExtension:"in-extension",MatchReference:"match-reference",MatchManyReferenceParameter:"match-many-reference-parameter"},Jn={[Kn.MatchReference]:{$matching:!0,notmatching:!1},[Kn.MatchManyReferenceParameter]:{$matching:!0,notmatching:!1}},Zn={RefManyToMany:"refManyToMany",RefManyToManyProperty:"refManyToManyProperty",Ref1:"ref1",Ref2:"ref2",Ref1UseId:"ref1UseId",Ref2UseId:"ref2UseId",Ref1Property:"ref1Property",Ref2Property:"ref2Property"},eo={IsFalse:"is-false",IsTrue:"is-true"},to={[Kn.MatchReference]:{},[Kn.MatchManyReferenceParameter]:{},[Kn.InEnumerable]:{}};Object.keys(Xn).map(e=>{Xn[e].constraints&&(to[Kn.MatchReference].functions=to[Kn.MatchReference].functions||{},to[Kn.MatchReference].functions[e]={constraints:{...Xn[e].constraints}},to[Kn.MatchManyReferenceParameter].functions=to[Kn.MatchManyReferenceParameter].functions||{},to[Kn.MatchManyReferenceParameter].functions[e]={constraints:{...Xn[e].constraints}},to[Kn.InEnumerable].functions=to[Kn.InEnumerable].functions||{},to[Kn.InEnumerable].functions[e]={constraints:{...Xn[e].constraints}})});function ro(e,t){var r=new RegExp("({{)[A-Za-z0-9_.@ ,'|]*(}})","g").test(e);if(Object.keys(t).map(e=>{t[e+"#lower"]||(t[e+"#lower"]=`${t[e]}`.toLowerCase())}),r)for(var n in t){var o=new RegExp("({{)"+n+"(}})","g"),i=t[n];e=e.replace(o,null==i?"":i)}return e}function no(){return{id:ws(),version:{major:0,minor:0,build:0},workspace:"",title:jr,path:[],namespace:"",groups:[],groupLib:{},groupsNodes:{},nodesGroups:{},childGroups:{},parentGroup:{},referenceNodes:{},nodeLib:{},nodes:[],nodeLinks:{},nodeConnections:{},linkLib:{},links:[],graphs:{},classNodes:{},functionNodes:{},updated:null,visibleNodes:{},appConfig:{Logging:{IncludeScopes:!1,LogLevel:{Default:"Debug",System:"Information",Microsoft:"Information"}},AppSettings:{"Local-AuthorizationKey":"C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==","Local-EndPointUrl":"https://localhost:8081",use_local:"true",EndPointUrl:"",AuthorizationKey:"",DatabaseId:"red-db-001",AssemblyPrefixes:"Smash;RedQuick","Use-SingleCollection":"true","storage-key":"UseDevelopmentStorage=true","single-thread":!0,ConfirmEmailController:"Account",ConfirmEmailAction:"ConfirmEmail",HomeAction:"Index",HomeController:"Home",ResetPasswordAction:"ResetPassword",ResetPasswordController:"Account",SecurityKey:"ajskdflajsdfklas20klasdkfj9laksdjfl4aksdjf3kanvdlnaekf",Domain:"https://localhost:13424",TokenExpirationInMinutes:"250",DomainPort:"13424"}}}}const oo={NAMESPACE:"namespace",SERVER_SIDE_SETUP:"server_side_setup"};function io(e){return e.version.build++,e}function ao(e){return e.version.minor++,e}function so(e,t){var{scope:r}=t;return r&&r.length&&(console.log(r),r.map((t,r)=>{e=e.graphs[t]})),e}function lo(e,t){let r=hi(),n=Mo(e,r);return t&&t(r),n}function po(e,t){var{leaf:r,id:n}=t;let o=e.groupLib[n].leaves||[];return o=[...o,r].unique(e=>e),e.groupsNodes[n]=e.groupsNodes[n]||{},e.groupsNodes[n][r]=!0,e.groupsNodes={...e.groupsNodes},e.nodesGroups[r]=e.nodesGroups[r]||{},e.nodesGroups[r][n]=!0,e.nodesGroups={...e.nodesGroups},e.groupLib[n].leaves=o,e}function uo(e,t){let{groupId:r,id:n}=t,o=e.groupLib[n],i=o.groups||[];return o.groups=[...i,r].unique(e=>e),e.groupLib[n]=o,e.groupLib={...e.groupLib},e.childGroups[n]=e.childGroups[n]||{},e.childGroups[n][r]=!0,e.parentGroup[r]=e.parentGroup[r]||{},e.parentGroup[r][n]=!0,e}function co(e,t){let{groupId:r,id:n}=t,o=e.groupLib[n];return o.groups=[...o.groups.filter(e=>e!==r)],e.groupLib[n]={...o},e.childGroups&&(e.childGroups[n]&&(delete e.childGroups[n][r],Object.keys(e.childGroups[n]).length||delete e.childGroups[n]),e.parentGroup[r]&&(delete e.parentGroup[r][n],Object.keys(e.parentGroup[r]).length||delete e.childGroups[r])),e}function fo(e,t){var{id:r}=t;for(let t in e.groupsNodes[r])e.nodesGroups[t]&&(delete e.nodesGroups[t][r],0===Object.keys(e.nodesGroups[t]).length&&delete e.nodesGroups[t]);for(let t in e.childGroups[r])e.parentGroup[t]&&(delete e.parentGroup[t][r],0===Object.keys(e.parentGroup[t]).length&&delete e.parentGroup[t]);return e.groups=[...e.groups.filter(e=>e!==r)],delete e.groupLib[r],delete e.childGroups[r],delete e.groupsNodes[r],e}function ho(){return{properties:{}}}function mo(e,t){var{methods:r}=e;return r&&r[t]?r[t]:null}function yo(e,t,r,n){if(mo(e=e||function(e){let t={methods:{}};return t&&!t.methods[e]&&(t.methods[e]={}),t}(t),t)){let o=mo(e,t);r&&(o[r]=o[r]||{properties:{}},n&&o[r]&&(o[r].properties[n]=o[r].properties[n]||{validators:{}}))}return e}const _o=ho;function vo(e,t){return e.properties[t.id]=e.properties[t.id]||{validators:{}},t.validator&&(e.properties[t.id].validators[t.validator]=t.validatorArgs),e}function go(e,t){return delete e.properties[t.id],e}function bo(e,t){var{property:r,validator:n}=t;return e.properties[r].validators[n]}function Co(e){return e?e.properties:null}function Eo(e,t={}){let{id:r}=t,n=Xo(e,{exist:!0,id:r,direction:Zo,type:sn.Exist});return(e=function(e,t){let{id:r}=t,n=[];e.nodesGroups[r]&&(n=Object.keys(e.nodesGroups[r])).map(t=>{e=function(e,t){var{leaf:r,id:n}=t;let o=e.groupLib[n];if(o){let t=o.leaves||[];t=[...t.filter(e=>e!==r)],e.groupLib[n].leaves=t}return e.groupsNodes[n]&&(e.groupsNodes[n][r]&&delete e.groupsNodes[n][r],0===Object.keys(e.groupsNodes[n]).length&&(delete e.groupsNodes[n],e.groups=[...e.groups.filter(e=>e!==n)],delete e.groupLib[n]),e.groupsNodes={...e.groupsNodes}),e.nodesGroups[r]&&(e.nodesGroups[r][n]&&delete e.nodesGroups[r][n],0===Object.keys(e.nodesGroups[r]).length&&delete e.nodesGroups[r],e.nodesGroups={...e.nodesGroups}),e}(e,{leaf:r,id:t})});e.groupsNodes&&n.map(t=>{e.groupsNodes[t]&&(e.groupsNodes[t][r]&&delete e.groupsNodes[t][r],0===Object.keys(e.groupsNodes[t]).length&&delete e.groupsNodes[t]),e=function e(t,r){var{id:n,callback:o}=r;var i=!0;if(t.childGroups[n])for(var a in t.childGroups[n]){delete(t=e(t,{id:a,callback:e=>{e,i=i&&e}})).childGroups[n][a]}if(i){if((!t.groupLib[n]||!t.groupLib[n].leaves||!t.groupLib[n].leaves.length)&&(!t.groupLib[n]||!t.groupLib[n].groups||!t.groupLib[n].groups.length)&&(delete t.groupLib[n],t.groups=[...t.groups.filter(e=>e!==n)],delete t.childGroups[n],t.parentGroup[n])){for(var a in t.parentGroup[n])t=co(t,{groupId:n,id:a}),(t=e(t,{id:a})).childGroups[a]&&delete t.childGroups[a][n];delete t.parentGroup[n]}}else o&&o(!1);return t}(e,{id:t})});return e}(e=function(e,t){let{id:r}=t,n=function(e,t){return e.links.filter(r=>e.linkLib[r].source===t||e.linkLib[r].target===t)}(e,r);for(let t=0;t<n.length;t++){let r=n[t];e=ui(e,r)}return e}(e=io(e),t),t)).functionNodes&&e.functionNodes[r]&&(delete e.functionNodes[r],e.functionNodes={...e.functionNodes}),e.classNodes&&e.classNodes[r]&&(delete e.classNodes[r],e.classNodes={...e.classNodes}),delete e.nodeLib[r],e.nodeLib={...e.nodeLib},e.nodes=[...e.nodes.filter(e=>e!==r)],n&&n.map(t=>{e=Eo(e,{id:t.id})}),e}function Oo(e,t){return e.nodeLib[t.id]=t,e.nodeLib={...e.nodeLib},e.nodes=[...e.nodes,t.id],e=io(e={...e})}function Mo(e,t){return e.groupLib[t.id]=t,e.groupLib={...e.groupLib},e.groups=[...e.groups,t.id].unique(e=>e),e={...e}}const No=[{title:"Owner",type:fn.STRING},{title:"Id",type:fn.STRING},{title:"Created",type:fn.DATETIME},{title:"Updated",type:fn.DATETIME},{title:"Deleted",type:fn.BOOLEAN},{title:"Version",type:fn.STRING}].map(e=>(e.nodeType=Ur.Property,e));function ko(e,t,r,n){let{parent:o,linkProperties:i,groupProperties:a}=t,s=mi(r);if(t.node&&(!function(e,t){t.node&&Object.apply(e.properties,JSON.parse(JSON.stringify(t.node.properties)))}(s,t),r===Ur.ReferenceNode&&t.rootNode&&(t.rootNode.referenceNodes[e.id]={...t.rootNode.referenceNodes[e.id]||{},[s.id]:t.node.id})),e=Oo(e,s),o&&(e=Uo(e,{source:o,target:s.id,properties:i?i.properties:null})),t.links&&t.links.map(t=>{e=Uo(e,{source:s.id,target:t.target,properties:t.linkProperties?t.linkProperties.properties:null})}),e=ci(e,{id:s.id,prop:Zr.NODEType,value:r}),t.properties)for(var l in t.properties)e=ci(e,{id:s.id,prop:l,value:t.properties[l]});return a&&(e=function(e,t){var{id:r,groupProperties:n,parent:o}=t,i=null;if(function(e,t){return!(!e.nodeLib[t]||!Vi(e.nodeLib[t],Zr.Groups))}(e,o)){let t=Vi(e.nodeLib[o],Zr.Groups);i=function(e,t){return e.groupLib[t]}(e,t.group)}else{var i=hi(),a=Vi((e=po(e=ci(e=Mo(e,i),{id:o,value:{group:i.id},prop:Zr.Groups}),{leaf:o,id:i.id})).nodeLib[o],Zr.GroupParent);if(a&&e.groupLib[a]){var s=e.groupLib[a];if(s){var l=function e(t,r){var n=[];if(t.parentGroup[r])for(var o in t.parentGroup[r])n=[...n,...e(t,o)];return n}(e,s.id);e=uo(e,{id:s.id,groupId:i.id}),l.map(t=>{e=uo(e,{id:t,groupId:i.id})})}}}i&&(e=ci(e=po(e,{leaf:r,id:i.id}),{id:r,value:i.id,prop:Zr.GroupParent}));return e}(e,{id:s.id,groupProperties:a,parent:o})),n&&n(s),e}function So(e,t){return e&&e.nodeLib?e.nodeLib[t]:null}function To(e){let t=e.functionNodes;if(t)for(let o in t){let t=So(e,o);if(t){var r=Vi(t,Zr.FunctionType);if(r){var n=(void 0)[r];n&&(e=wo(e,{id:o,functionConstraints:n}))}}}return Ao(e,Ur.Validator).map(t=>{e=function(e,t){let r=Vi(t,Zr.Validator);if(r){Fo(e,{id:t.id});var n=Co(r);Object.keys(n).map(r=>{e.nodeLinks[r]&&e.nodeLinks[r][t.id]})}return e}(e,t)}),e}function Ao(e,t,r={}){var n=e;return n?(Array.isArray(t)||(t=[t]),n.nodes.filter(e=>n.nodeLib[e].properties&&-1!==t.indexOf(n.nodeLib[e].properties[Zr.NODEType])||!r.excludeRefs&&n.nodeLib[e].properties[Zr.ReferenceType]===t).map(e=>n.nodeLib[e])):[]}function Io(e,t){return`${t}${e}`}function Lo(e,t){var{id:r,constraintKey:n}=t;return function(e,t){var{id:r,key:n}=t;if(e.nodeConnections[r])return Object.keys(e.nodeConnections[r]).map(t=>{let r=e.linkLib[t];return r}).filter(e=>e&&e.source===r&&e.properties&&e.properties.constraints&&e.properties.constraints.key===n);return[]}(e,{id:r,key:n}).map(t=>e.nodeLib[t.target])}function wo(e,t){var{id:r,functionConstraints:n}=t;if(e.nodeConnections[r]){let t=e.nodeLib[r];Object.keys(e.nodeConnections[r]).map(r=>{let{properties:o}=e.linkLib[r],i=e.linkLib[r];if(o){let{constraints:r}=o;r&&Object.keys(In).map(o=>{let a=In[o],s=n.constraints[a];if(s&&i&&i.properties&&i.properties.constraints&&i.properties.constraints.key&&i.properties.constraints.key===s.key){let n=jo.meets(s,r,i,t,e);e=di(e,{id:i.id,prop:pn.VALID_CONSTRAINTS,value:!!n})}})}})}return e}function xo(e,t){let{id:r,value:n}=t,o=(void 0)[n];if(o&&o.constraints){e.nodeConnections[r]&&$o(e,{id:r}).map(t=>{if(!function(e,t){return!!Po(e,t)}(oa(t,pn.CONSTRAINTS),o.constraints)){let r=function(e,t){if(e&&e.linkLib&&e.linkLib[t]){let r=e.linkLib[t].target;return e.nodeLib[r]}return null}(e,t.id);r?e=Eo(e,{id:r.id}):console.warn("No nodes were removed as exepected")}});let t=null,n=null,s=null,l=e.nodeLib[r];var i=Vi(l,Zr.Groups);if(i)for(let t in i)e=fo(e,{id:i[t]});if(e.nodesGroups[r])for(let n in e.nodesGroups[r])switch(ia(e.groupLib[n],Kr.FunctionGroup)){case Qr.Core:t=e.groupLib[n]}t||(e=lo(e,r=>{t=r,e=fi(e,{id:r.id,prop:Kr.FunctionGroup,value:Qr.Core})})),n||(e=lo(e,t=>{n=t,e=fi(e,{id:t.id,prop:Kr.FunctionGroup,value:Qr.Internal})})),s||(e=lo(e,t=>{s=t,e=fi(e,{id:t.id,prop:Kr.FunctionGroup,value:Qr.External})})),e.groupsNodes[s.id]&&e.groupsNodes[s.id][r]||(e=po(e,{leaf:r,id:s.id})),e.childGroups[n.id]&&e.childGroups[n.id][s.id]||(e=uo(e,{groupId:n.id,id:s.id})),e.childGroups[t.id]&&e.childGroups[t.id][n.id]||(e=uo(e,{groupId:t.id,id:n.id}));var a=$o(e,{id:r}).map(e=>{return Po(oa(e,pn.CONSTRAINTS),o.constraints)});Object.keys(o.constraints).map(t=>{-1===a.indexOf(t)&&(e=ko(e,{parent:l.id,linkProperties:{properties:{type:sn.FunctionConstraintLink,constraints:{...o.constraints[t]}}}},Ur.Parameter,r=>{e=ci(e,{id:r.id,prop:Zr.UIText,value:t})}))}),$o(e,{id:l.id}).map(r=>{let i=e.nodeLib[r.target];var a=oa(r,pn.CONSTRAINTS);e=a&&a.key&&o.constraints[a.key]&&o.constraints[a.key][Ln.IsInputVariable]?po(e,{leaf:i.id,id:n.id}):po(e,{leaf:i.id,id:t.id})}),e.nodeConnections[r]&&Object.keys(e.nodeConnections[r]).map(t=>{let{properties:r}=e.linkLib[t],n=e.linkLib[t];if(r){let{constraints:t}=r;t&&Object.keys(In).map(r=>{let i=In[r],a=o.constraints[i];if(a&&n&&n.properties&&n.properties.constraints&&n.properties.constraints.key&&n.properties.constraints.key===a.key){let r=jo.meets(a,t,n,l,e);e=di(e,{id:n.id,prop:pn.VALID_CONSTRAINTS,value:!!r})}})}}),e=ci(e,{id:r,prop:Zr.Groups,value:{core:t.id,internal:n.id,external:s.id}})}return e}function Po(e,t){let r=JSON.stringify(e);return Object.keys(t).find(e=>JSON.stringify(t[e])===r)}function $o(e,t){let{id:r}=t;return e&&e.nodeConnections&&e.nodeConnections[r]?Object.keys(e.nodeConnections[r]).filter(t=>oa(e.linkLib[t],pn.TYPE)===sn.FunctionConstraintLink).map(t=>e.linkLib[t]):[]}const jo={meets:(e,t,r,n,o)=>{if(e){let t=o.nodeLib[r.target];return Fo(o,{id:t.id}).find(t=>Object.keys(e).find(r=>{let i=!0;if(!1!==i){switch(r){case Ln.IsAgent:t&&Vi(t,Zr.IsAgent)||(i=!1);break;case Ln.IsUser:t&&Vi(t,Zr.IsUser)||(i=!1);break;case Ln.IsTypeOf:if(!e[Ln.IsInputVariable])if(t){let a=Vi(t,Zr.NODEType),s=e[r],l=Ro(n.id,o,s);if(l.length){0===l.filter(e=>{return Vi(o.nodeLib[e.target],Zr.NODEType)!==a}).length&&(i=!1)}else i=!1}else i=!1;break;case Ln.IsChild:case Ln.IsParent:if(t){let a=e[r],s=Ro(n.id,o,a);if(s){0===s.filter(e=>{let r=o.nodeLib[e.target],n=Vo(o,{id:r.id});if(!n||!n.length)return!1;{let e=Go(o,{target:t.id,source:n[0].id});if(!e||oa(e,pn.TYPE)!==un.ParentLink.type)return!1}return!0}).length&&(i=!1)}else i=!1}else i=!1}return i}}))}return!1}};function Ro(e,t,r){return Object.keys(t.nodeConnections[e]).filter(r=>t.nodeConnections[e][r]===Jo).filter(e=>!!(e&&t.linkLib&&t.linkLib[e]&&t.linkLib[e].properties&&t.linkLib[e].properties.constraints&&t.linkLib[e].properties.constraints.key===r)&&t.linkLib[e]).map(e=>t.linkLib[e])}function Do(e,t,r){return e&&e.nodeConnections?Object.keys(e.nodeConnections[t]).filter(n=>!r||e.nodeConnections[t][n]===r).map(t=>e.linkLib[t]):[]}function Go(e,t){let{target:r,source:n}=t,o=e.links.find(t=>e.linkLib&&e.linkLib[t]&&e.linkLib[t].target===r&&e.linkLib[t].source===n);return o?e.linkLib[o]:null}function Uo(e,t){let{target:r,source:n,properties:o}=t;return ei(e,t,yi(r,n,o))}function Fo(e,t){return Vo(e,t)}function Vo(e,t){return Qo(e,{...t||{},direction:Jo})}function Bo(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}function qo(e,t){var r=Yo(e,t);return r&&r.length?r[0]:null}function Ho(e,t,r,n){let o=Vi(e,Zr.AfterMethodSetup)||{};return o[t]=o[t]||{},o[t]={...o[t],[r]:n},o}function Wo(e,t){return Ko(Ba(e),{id:t}).find(e=>Vi(e,Zr.NODEType)===Ur.Method)}function Yo(e,t){return zo(Va(e),t)}function zo(e,t,r){var{id:n,links:o}=t,i=[n],a=[];return o.map((t,r)=>{var n=[];i.map(i=>{let s=Xo(e,{id:i,...t});r===o.length-1?a=s:n=[...n,...s.map(e=>e.id)]}),n=n.unique(e=>e),i=n}),a.filter(e=>!r||-1!==r.indexOf(Vi(e,Zr.NODEType)))}function Xo(e,t){if(t){var{id:r,direction:n,type:o,exist:i}=t;if(e&&e.nodeConnections&&r){var a=e.nodeConnections[r];if(a)return Object.keys(a).filter(e=>a[e]).map(t=>{var r=e.linkLib[t]?n===Zo?e.linkLib[t].source:e.linkLib[t].target:null;return r?i&&e.linkLib[t].properties&&e.linkLib[t].properties.exist?e.nodeLib[r]:!o||e.linkLib[t].properties&&(e.linkLib[t].properties.type===o||e.linkLib[t].properties[o])?e.nodeLib[r]:null:(console.warn("Missing value in linkLib"),null)}).filter(e=>e)}}return[]}function Qo(e,t){if(t){var{id:r,direction:n,constraints:o}=t;if(e&&e.nodeConnections&&r){var i=e.nodeConnections[r];if(i)return Object.keys(i).filter(e=>i[e]===n).map(t=>{var r=e.linkLib[t]?n===Zo?e.linkLib[t].source:e.linkLib[t].target:null;if(!r)return console.warn("Missing value in linkLib"),null;if(o){let n=oa(e.linkLib[t],pn.CONSTRAINTS);return function(e,t){if(e===t)return!0;if(!e)return!1;if(!t)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}(o,n)?e.nodeLib[r]:null}return e.nodeLib[r]}).filter(e=>e)}}return[]}function Ko(e,t){if(t){var{id:r}=t;if(e&&e.nodeConnections&&r){var n=e.nodeConnections[r];if(n)return Object.keys(n).map(t=>{var n=e.linkLib[t]?e.linkLib[t].source!==r?e.linkLib[t].source:e.linkLib[t].target:null;return n?e.nodeLib[n]:(console.warn("Missing value in linkLib"),null)}).filter(e=>e)}}return[]}const Jo="SOURCE",Zo="TARGET";function ei(e,t,r){let{target:n,source:o}=t;if(n&&o&&n!==o){if(e.nodeLib[n]&&e.nodeLib[o]){if(function(e,t){return!e.links.some(r=>{let n=e.linkLib[r];return n.source===t.source&&n.target===t.target})}(e,{target:n,source:o}))e.linkLib[r.id]=r,e.linkLib={...e.linkLib},e.links=[...e.links,r.id],e.nodeConnections[r.source]={...e.nodeConnections[r.source]||{},[r.id]:Jo},e.nodeConnections[r.target]={...e.nodeConnections[r.target]||{},[r.id]:Zo},e.nodeLinks[r.source]={...e.nodeLinks[r.source]||{},[r.target]:e.nodeLinks[r.source]?(e.nodeLinks[r.source][r.target]||0)+1:1},e.nodeLinks[r.target]={...e.nodeLinks[r.target],[r.source]:e.nodeLinks[r.target]?(e.nodeLinks[r.target][r.source]||0)+1:1};else{var i=Go(e,{target:n,source:o});i&&(i.properties={...i.properties,...r.properties,type:i.properties.type})}e.nodeLinks={...e.nodeLinks},e={...e}}e=ao(e)}return e}function ti(e,t){let{target:r,source:n}=t;return e.links.find(t=>e.linkLib[t].source===n&&e.linkLib[t].target==r)}function ri(e,t,r){switch(r){case an.Remove:e=function(e,t){t&&t.properties&&t.properties.on&&t.properties.on[an.Remove]&&t.properties.on[an.Remove].map(r=>{r.function&&ni[r.function]&&(e=ni[r.function](e,t,r.function,r))});return e}(e,t)}return e}const ni={};function oi(e,t){ni[e]=t}function ii(e){let t=Vi(e,Zr.UIExtensionDefinition);if(t&&t.config)return t.config.isEnumeration}function ai(e){if(ii(e)){return Vi(e,Zr.UIExtensionDefinition).config.list}return null}function si(e){if(ii(e)){return Vi(e,Zr.UIExtensionDefinition).config.keyField}return null}function li(e,t){var{property:r,validator:n}=t;delete e.properties[r].validators[n]}function pi(e,t={}){var r={on:{}};switch(e){case an.Remove:r.on[e]=[{...t}]}return r}function ui(e,t,r={}){if(t&&r.linkType){let n=e.linkLib[t];if(n&&n.properties&&n.properties[r.linkType]&&delete n.properties[r.linkType],n&&Object.keys(n.properties).length>1)return{...e}}if(t){e.links=[...e.links.filter(e=>e!==t)];let r=e.linkLib[t];r.properties&&r.properties.on&&r.properties.on[an.Remove]&&(e=ri(e,r,an.Remove)),delete e.linkLib[t],e.linkLib={...e.linkLib},e.nodeLinks[r.source]={...e.nodeLinks[r.source],[r.target]:e.nodeLinks[r.source]?(e.nodeLinks[r.source][r.target]||0)-1:0},e.nodeLinks[r.source]&&!e.nodeLinks[r.source][r.target]&&(delete e.nodeLinks[r.source][r.target],0===Object.keys(e.nodeLinks[r.source]).length&&delete e.nodeLinks[r.source]),e.nodeLinks[r.target]={...e.nodeLinks[r.target],[r.source]:e.nodeLinks[r.target]?(e.nodeLinks[r.target][r.source]||0)-1:0},e.nodeLinks[r.target]&&!e.nodeLinks[r.target][r.source]&&(delete e.nodeLinks[r.target][r.source],0===Object.keys(e.nodeLinks[r.target]).length&&delete e.nodeLinks[r.target]),e.nodeConnections[r.source]&&e.nodeConnections[r.source][r.id]&&delete e.nodeConnections[r.source][r.id],0===Object.keys(e.nodeConnections[r.source]).length&&delete e.nodeConnections[r.source],e.nodeConnections[r.target]&&e.nodeConnections[r.target][r.id]&&delete e.nodeConnections[r.target][r.id],0===Object.keys(e.nodeConnections[r.target]).length&&delete e.nodeConnections[r.target],e=ao(e)}return{...e}}function ci(e,t){let{id:r,value:n,prop:o}=t,i={};if(r&&o&&e.nodeLib&&e.nodeLib[r]){if(tn[o]){tn[o].map(t=>{e.nodeLib[r].dirty[t.chainProp]||(i[t.chainProp]=t.chainFunc(n))})}e.nodeLib[r]={...e.nodeLib[r],dirty:{[o]:!0,...e.nodeLib[r].dirty||{}},properties:{...e.nodeLib[r].properties||{},[o]:n,...i}},o===Zr.NODEType&&n===Ur.Function?e.functionNodes={...e.functionNodes,[r]:!0}:e.functionNodes[r]&&o===Zr.NODEType&&(delete e.functionNodes[r],e.functionNodes={...e.functionNodes}),o===Zr.NODEType&&n===Ur.ClassNode?e.classNodes={...e.classNodes,[r]:!0}:e.classNodes[r]&&o===Zr.NODEType&&(delete e.classNodes[r],e.classNodes={...e.classNodes})}return e}function di(e,t){let{id:r,value:n,prop:o}=t;return r&&o&&e.linkLib&&e.linkLib[r]&&(e.linkLib[r]={...e.linkLib[r],properties:{...e.linkLib[r].properties||{},[o]:n}}),e}function fi(e,t){let{id:r,value:n,prop:o}=t;return r&&o&&e.groupLib&&e.groupLib[r]&&(e.groupLib[r]={...e.groupLib[r],properties:{...e.groupLib[r].properties||{},[o]:n}}),e}function hi(){return{id:ws(),leaves:[],groups:[],properties:{}}}function mi(e){return{id:ws(),dirty:{},properties:{text:e||ve}}}function yi(e,t,r){return r=r||{},{id:ws(),source:t,target:e,properties:r}}function _i(e){return{...JSON.parse(JSON.stringify(e))}}function vi(e,t,r={}){var n=[...Object.keys(e.groupsNodes[t])];for(var o in e.childGroups[t])r[o]||(r={...r,[o]:!0},n=[...n,...vi(e,o,r)]);return n}oi("OnRemoveValidationPropConnection",(e,t,r)=>{var{source:n,target:o}=t,i=So(e,n);return i&&i.properties&&go(Vi(i,Zr.Validator),{id:o}),e}),oi("OnRemoveExecutorPropConnection",(e,t,r)=>{var{source:n,target:o}=t,i=So(e,n);return i&&i.properties&&go(Vi(i,Zr.Executor),{id:o}),e}),oi("OnRemoveModelFilterPropConnection",(e,t,r)=>{var{source:n,target:o}=t,i=So(e,n);return i&&i.properties&&go(Vi(i,Zr.FilterModel),{id:o}),e}),oi("OnRemoveValidationItemPropConnection",(e,t,r,n)=>{var{source:o,target:i}=t,a=So(e,o),{property:s,validator:l}=n||{};let p=Vi(a,Zr.Validator);return a&&a.properties&&p.properties&&p.properties[s]&&p.properties[s].validators&&p.properties[s].validators[l]&&p.properties[s].validators[l].node===i&&li(p,{...n,id:i}),e}),oi("OnRemoveExecutorItemPropConnection",(e,t,r,n)=>{var{source:o,target:i}=t,a=So(e,o),{property:s,validator:l}=n||{};let p=Vi(a,Zr.Executor);return a&&a.properties&&p.properties&&p.properties[s]&&p.properties[s].validators&&p.properties[s].validators[l]&&p.properties[s].validators[l].node===i&&li(p,{...n,id:i}),e});const gi={[Ur.Model]:1,[Ur.Function]:1,[Ur.Method]:1,[Ur.Property]:4,[Ur.ValidationList]:5,[Ur.OptionList]:6,[Ur.Parameter]:4,[Ur.Permission]:4,[Ur.Attribute]:8,[Ur.ValidationList]:10,[Ur.ValidationListItem]:12,[Ur.ModelItemFilter]:13};function bi(e,t){let r=0;if(t.groupLib[e]){if(t.parentGroup[e]){let n=Object.keys(t.parentGroup[e])[0];n&&(r+=bi(n,t))}r+=1}return r}function Ci(e){let t=no();t.id=e.id;let r=(e=function(e){let t=no();return t.id=e.id,t.linkLib={...e.linkLib},t.nodesGroups={...e.nodesGroups},t.groupsNodes={...e.groupsNodes},t.groups=[...e.groups],t.groupLib={...e.groupLib},t.childGroups={...e.childGroups},t.parentGroup={...e.parentGroup},t.links=[...e.links.filter(r=>{var{target:n,source:o}=e.linkLib[r];return!(!e.visibleNodes[n]||!e.visibleNodes[o])||(delete t.linkLib[r],!1)})],Object.keys(e.nodesGroups).map(r=>{if(!e.visibleNodes[r]){let n=e.nodesGroups[r];for(let e in n)t.groupsNodes[e]={...t.groupsNodes[e]},delete t.groupsNodes[e][r],0===Object.keys(t.groupsNodes[e]).length&&delete t.groupsNodes[e];delete t.nodesGroups[r]}}),Object.keys(t.groupLib).sort((t,r)=>bi(r,e)-bi(t,e)).map(r=>{t.groupLib[r].leaves&&(t.groupLib[r]={...t.groupLib[r]},t.groupLib[r].leaves=[...t.groupLib[r].leaves.filter(t=>e.visibleNodes[t])],t.groupLib[r].groups=[...t.groupLib[r].groups.filter(e=>t.groupLib[e])],t.groupLib[r].leaves.length||t.groupLib[r].groups.length||(t.groups=[...t.groups.filter(e=>e!==r)],delete t.groupLib[r]))}),Object.keys(e.childGroups).map(e=>{if(t.groupsNodes[e])for(let r in t.childGroups[e])t.groupsNodes[r]||(t.childGroups[e]={...t.childGroups[e]},delete t.childGroups[e][r]);else delete t.childGroups[e]}),Object.keys(e.parentGroup).map(e=>{if(t.groupsNodes[e])for(let r in t.parentGroup[e])t.groupsNodes[r]||(t.parentGroup[e]={...t.parentGroup[e]},delete t.parentGroup[e][r]);else delete t.parentGroup[e]}),Object.keys(e.visibleNodes).map(r=>{t.nodeLib[r]=e.nodeLib[r],t.nodes.push(r),t.nodeConnections[r]={...e.nodeConnections[r]},t.nodeLinks[r]={...e.nodeLinks[r]},Object.keys(e.nodeLinks[r]||{}).map(e=>{t.linkLib[e]||(t.nodeLinks[r]={...t.nodeLinks[r]},delete t.nodeLinks[r][e])})}),t}(e=function(e){return e.visibleNodes={},e.nodes.map(t=>{Vi(So(e,t),Zr.Pinned)&&(e.visibleNodes[t]=!0)}),e.depth&&[].interpolate(0,e.depth,t=>{Object.keys(e.visibleNodes).map(t=>{for(let r in e.nodeLinks[t])e.visibleNodes[r]=!0})}),e}(e))).nodes.filter(t=>Vi(e.nodeLib[t],Zr.Collapsed)),n={};r.map(t=>{if(e.nodesGroups[t]){let o=gi[Vi(e.nodeLib[t],Zr.NODEType)]||1e3;var r=Object.keys(e.nodesGroups[t]).filter(r=>{return!vi(e,r).find(r=>{if(r===t)return!1;var n=Vi(e.nodeLib[r],Zr.NODEType);return!((gi[n]||1e3)>o)})}).sort((t,r)=>Object.keys(e.groupsNodes[r]).length-Object.keys(e.groupsNodes[t]).length);r.length&&(n[r[0]]=!0)}});let o=Object.keys(n).filter(t=>{for(var r in e.parentGroup[t])if(n[r])return!1;return!0}),i={};o.map(t=>{let r={},n=null,o=1e4,a=vi(e,t);for(var s in a.filter(t=>{var i=ia(e.nodeLib[t],Zr.NODEType);r[t]=!0,gi[i]<o&&(n=t,o=gi[i])}),delete r[n],r)r[s]=n;i={...i,...r}}),t.nodes=[...e.nodes.filter(e=>!i[e])],t.nodeLib={},t.nodes.map(r=>{t.nodeLib[r]=e.nodeLib[r]}),t.links=e.links.map(r=>{var n,{source:o,target:a}=e.linkLib[r];return(!i[o]||!i[a])&&(i[o]?((n=_i(e.linkLib[r])).source=i[o],n.id=`${n.source}${n.target}`,t.linkLib[`${n.source}${n.target}`]=n):i[a]?((n=_i(e.linkLib[r])).target=i[a],n.id=`${n.source}${n.target}`,t.linkLib[`${n.source}${n.target}`]=n):((n=_i(e.linkLib[r])).id=`${n.source}${n.target}`,t.linkLib[`${n.source}${n.target}`]=n),n.source!==n.target&&n.id)}).filter(e=>e);var a=e.groups.map((r,n)=>{let o=e.groupLib[r],i=hi();return i.id=`${o.id}`,o&&o.leaves&&o.leaves.map(e=>{t.nodeLib[e]&&i.leaves.push(e)}),i.leaves.length?(t.groupLib[i.id]=i,i.id):null}).filter(e=>e);return a.map(r=>{t.groupLib[r].groups=(e.groupLib[r].groups||[]).filter(e=>!!t.groupLib[e])}),t.groups=a,t}r("fs");const Ei="VISUAL",Oi="APPLICATION",Mi="GRAPHS",Ni="VISUAL_GRAPH",ki="DASHBOARD_MENU",Si="SELECTED_NODE_BB",Ti="SIDE_PANEL_EXTRA_WIDTH",Ai=Ur,Ii=Xr,Li=Zr,wi=un,xi={ROUTINGNUMBER:"ROUTINGNUMBER",CURRENCY:"CURRENCY",CARMAKE:"CARMAKE",SOCIALSECURITY:"SOCIALSECURITY",EMAIL:"EMAIL",PHONE:"PHONE",CARMODEL:"CARMODEL",CARYEAR:"CARYEAR",VIN:"VIN",LONGSTRING:"LONGSTRING",CREDITCARD:"CREDITCARD",LENGTH:"LENGTH",INCH:"INCH",DIMENSION:"DIMENSION",MONEY:"MONEY",COUNTRY:"COUNTRY",DEBIT:"DEBIT",MONTH:"MONTH",STATE:"STATE",CHOICE:"CHOICE",NUMBER:"NUMBER",SLIDER:"SLIDER",DATE:"DATE",TIME:"TIME",BOOLEAN:"BOOLEAN",ACCOUNTNUMBER:"ACCOUNTNUMBER",ADDRESS:"ADDRESS",COLLECTION:"COLLECTION",OBJECT:"OBJECT",RADIO:"RADIO",CHECKLIST:"CHECKLIST",STRING:"STRING",GEOLOCATION:"GEOLOCATION",YEAR:"YEAR"},Pi=fn,$i=dn,ji={CHOICELIST:"CHOICELIST",CAPITALIZE_FIRST_LETTER:"CAPITALIZE_FIRST_LETTER"},Ri="UI_UPDATE";function Di(e,t,r){return e&&e.uiReducer&&e.uiReducer[t]?e.uiReducer[t][r]:null}function Gi(e,t){return Di(e,Ei,t)}function Ui(e,t){var r=sa(e,Gi(e,ba));return r&&r.properties&&r.properties.nodeType===t}function Fi(e,t){return e&&e.properties&&e.properties[t]}function Vi(e,t){return e&&e.properties&&e.properties[t]}function Bi(e){return Vi(e,Li.IsAgent)}function qi(e){return qo(Ia(),e)}function Hi(e){return"string"==typeof e&&(e=So(Va(Ia()),e)),Vi(e,Li.CodeName)}function Wi(e){return[...Ji(e),...Zi(e)]}function Yi(e){return So(Va(Ia()),e)}function zi(e){return Xn[Xi(e)]}function Xi(e){return Vi(Wo(Aa(),e),Li.FunctionType)}function Qi(e){return Vi(Wo(Aa(),e),Li.MethodFunctionValidation)}function Ki(e){return function(e,t){return Ko(Ba(e),{id:t}).find(e=>Vi(e,Zr.NODEType)===Ur.Permission)}(Aa(),e)}function Ji(e){return Yo(Aa(),{id:e,links:[{type:sn.PropertyLink,direction:Jo}]})}function Zi(e){let t=So(Va(Ia()),e);return Vi(t,Li.HasLogicalChildren)?(Vi(t,Li.LogicalChildrenTypes)||[]).map(e=>{return So(Va(Aa()),e)}).filter(e=>e):[]}function ea(e){return Object.keys(e).map(t=>({value:t,title:`${Hi(e[t])} (${t})`}))}function ta(e,t){return Hi(So(e,t))}function ra(e,t,r){var n=Vi(t,Li.MethodProps);return n?So(e,n[r]||null):null}function na(e){if(!e)return[];let t=Aa();return Object.keys(e).map(r=>{return{title:`${Hi(So(Ba(t),e[r]))} (${r})`,value:r}})}function oa(e,t){return e&&e.properties&&e.properties[t]}function ia(e,t){return e&&e.properties&&e.properties[t]}function aa(e,t,r){return Gi(e,t)===r}function sa(e,t){var r=Va(e);return r&&r.nodeLib?r.nodeLib[t]:null}function la(e,t){return Di(e,Oi,t)}function pa(e){var t=Va(e);return t?Di(e,Ni,t.id):null}function ua(e,t,r){r(fa(Oi,t,e))}function ca(e,t){return Di(e,Mi,t)}function da(e,t){let r=Ci(e={...e,updated:Date.now()});r&&t(fa(Ni,r.id,r)),t(fa(Mi,e.id,e))}function fa(e,t,r){return{type:Ri,item:t,value:r,section:e}}function ha(e){return(t,r)=>{var n=r();t(fa(Ei,e,!Di(n,Ei,e)))}}function ma(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function ya(e,t){return(r,n)=>{n();r(fa(Ei,e,t))}}function _a(e,t){return(r,n)=>{n();r(fa(Oi,e,t))}}const va="SELECTED_LINK",ga="HOVERED_LINK",ba="SELECTED_NODE";function Ca(e){return(t,r)=>{t(fa(Ei,ba,e))}}function Ea(){return ha(ki)}function Oa(e){return"string"==typeof e&&(e=So(Va(Ia()),e)),e?e.properties&&e.properties.text||e.id:ve}function Ma(e){var t=Va(e);return t?[...t.nodes.map(e=>t.nodeLib[e])]:[]}function Na(e){switch(Vi(e,Li.NODEType)){case Ai.ReferenceNode:return!1;default:return!0}}function ka(e,t,r={}){var n=r.useRoot?Ba(e):Va(e);if(n)return Array.isArray(t)||(t=[t]),n.nodes.filter(e=>n.nodeLib[e].properties&&-1!==t.indexOf(n.nodeLib[e].properties[Li.NODEType])||!r.excludeRefs&&n.nodeLib[e].properties[Li.ReferenceType]===t).map(e=>n.nodeLib[e]);throw"no graph found"}function Sa(e,t){var r=Ba(e);return r?So(r,t):null}function Ta(e,t){var r=Va(e);return r?e=>{if(r.linkLib[e.id])return r.linkLib[e.id][t]}:()=>!1}let Aa;function Ia(){return Aa()}function La(){return(e,t)=>{Aa=t}}function wa(e){return So(Ba(Aa()),e)}function xa(e){return Vi(e,Li.FunctionType)}function Pa(e,t){return(Vi(e,Li.MethodProps)||{})[t]}function $a(e){return Vi(e,Li.MethodProps)||{}}function ja(e){return $a(Wo(Aa(),e))}function Ra(e,t){let r=ja(e);return r?r[t]:null}function Da(e){return Ga(e,"filter")}function Ga(e,t){var r=Wo(Aa(),e);let n=$a(r),o=Vi(r,Li.FunctionType);if(o){let e=Xn[o];if(e&&e[t]&&e[t].params&&n)return e[t].params.map(e=>{return{title:Oa(n[e]),value:e,paramClass:Hi(n[e]),paramName:e}})}return[]}function Ua(e){return Ga(e,"permission")}function Fa(e){return qi({id:e.id,links:[{type:sn.FunctionOperator,direction:Zo}]})}function Va(e){return za(e)}function Ba(e,t){var r=la(e,ts);return r?r=ca(e,r):t&&ua((r=no()).id,ts,t),r}function qa(e){var t,r=la(e,ts);if(r){return r=ca(e,r),(t=r)&&t.graphs?Object.keys(t.graphs||{}).map(e=>t.graphs[e]):[]}return null}function Ha(){return(e,t)=>{var r=Ba(t(),e);da(r=function(e){var t=no();return t.title=Rr,e.graphs[t.id]=t,e}(r),e)}}function Wa(e,t){return(r,n)=>{var o=Ba(n(),r);da(o={...o,[e]:t},r)}}function Ya(e){return(t,r)=>{var n=Ba(r(),t);n.appConfig.AppSettings.AssemblyPrefixes=["RedQuick",e].unique(e=>e).join(";"),da(n,t)}}function za(e,t){var r=la(e,ts);let n=la(e,rs)||[];return r?(r=ca(e,r),n.length&&(r=so(r,{scope:n}))):t&&ua((r=no()).id,ts,t),r}function Xa(e){var t,r,n=Ba(e);if(n){var o=la(e,rs);if(o&&o.length)return r=t=n,o.map(e=>{r=t.graphs[e]}),r}return null}const Qa="UPDATE_GRAPH_TITLE",Ka="NEW_NODE",Ja="REMOVE_NODE",Za="NEW_LINK",es="CHANGE_NODE_TEXT",ts="CURRENT_GRAPH",rs="GRAPH_SCOPE",ns="ADD_DEFAULT_PROPERTIES",os="CHANGE_NODE_PROPERTY",is="NEW_PROPERTY_NODE",as="NEW_PERMISSION_NODE",ss="NEW_ATTRIBUTE_NODE",ls="ADD_LINK_BETWEEN_NODES",ps="NEW_CONDITION_NODE",us="REMOVE_LINK_BETWEEN_NODES",cs="REMOVE_LINK",ds="NEW_CHOICE_ITEM_NODE",fs="NEW_PARAMETER_NODE",hs="NEW_FUNCTION_OUTPUT_NODE",ms="NEW_MODEL_ITEM_FILTER",ys="NEW_AFTER_METHOD",_s="NEW_VALIDATION_ITEM_NODE",vs="NEW_CHOICE_TYPE",gs="NEW_VALIDATION_TYPE",bs="NEW_OPTION_ITEM_NODE",Cs="NEW_OPTION_NODE",Es="NEW_CUSTOM_OPTION",Os="NEW_PERMISSION_PROPERTY_DEPENDENCY_NODE",Ms="NEW_EXTENSION_LIST_NODE",Ns="NEW_EXTENTION_NODE",ks="ADD_EXTENSION_DEFINITION_CONFIG_PROPERTY",Ss="APPLY_FUNCTION_CONSTRAINTS",Ts="ADD_NEW_REFERENCE_NODE;",As="SET_DEPTH";function Is(e,t){return(r,n)=>{var o=n();let i=null;var a=la(o,ts);let s=la(o,rs)||[];a?(i=a=ca(o,a),s.length&&(a=so(a,{scope:s}))):(ua((a=no()).id,ts,r),i=a);var l=e;Array.isArray(e)||(l=[{operation:e,options:t}]),l.filter(e=>e).map(e=>{let{operation:t,options:o}=e;switch(t){case As:a=function(e,t){var{depth:r}=t;return e.depth=r,e}(a,o);break;case Ka:a=function(e){return Oo(e,mi())}(a),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case Ja:a=Eo(a,o);break;case Qa:a=function(e,t){var{text:r}=t;return e.title=r,e}(a,o);break;case Za:a=Uo(a,o);break;case ls:a=function(e,t){let{target:r,source:n,properties:o}=t;if(r!==n)return ei(e,t,yi(r,n,o));return e}(a,o);break;case us:a=function(e,t){return ui(e,ti(e,t),t)}(a,o);break;case cs:a=function(e,t){return ui(e,e.linkLib[t.id])}(a,o);break;case es:a=ci(a,{...o,prop:"text"});break;case os:a=ci(a,o);break;case is:a=function(e,t){return ko(e,t,Ur.Property)}(a,o),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case ns:a=function(e,t){var r=zo(e,{id:t.parent,links:[{direction:Jo,type:sn.PropertyLink}]}).map(e=>Vi(e,Zr.UIText));return No.filter(e=>-1===r.indexOf(e.title)).map(r=>{e=ko(e,t,r.nodeType,t=>{e=ci(e,{id:t.id,prop:Zr.UIText,value:r.title}),e=ci(e,{id:t.id,prop:Zr.IsDefaultProperty,value:!0}),e=ci(e,{id:t.id,prop:Zr.UIAttributeType,value:r.type})})}),e}(a,o);break;case ss:a=ko(a,o,Ai.Attribute),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case ps:a=ko(a,o,Ai.Condition),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case ms:a=ko(a,o,Ai.ModelItemFilter),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case ys:a=ko(a,o,Ai.AfterEffect),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case gs:a=ko(a,o,Ai.ValidationList),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case Os:a=ko(a,o,Ai.PermissionDependency),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case vs:a=ko(a,o,Ai.ChoiceList),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case fs:a=ko(a,o,Ai.Parameter),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case hs:a=ko(a,o,Ai.FunctionOutput),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case as:a=ko(a,o,Ai.Permission),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case Cs:a=ko(a,o,Ai.OptionList),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case Es:a=ko(a,o,Ai.OptionCustom),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case Ts:a=ko(a,o,Ai.ReferenceNode),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case Ms:a=ko(a,o,Ai.ExtensionTypeList),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case _s:a=ko(a,o,Ai.ValidationListItem),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case Ns:a=ko(a,o,Ai.ExtensionType),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case bs:a=ko(a,o,Ai.OptionListItem),ya(ba,a.nodes[a.nodes.length-1])(r,n);break;case Ss:a=xo(a,o)}a=function(e){let t=e.functionNodes;if(t){let s=[];for(let l in t){var r=So(e,l);if(r){var n=Vi(r,Zr.FunctionType);if(n){var o=(void 0)[n];if(o&&o[qn.CLASSES]){let t=o[qn.CLASSES];if(t)for(let n in t){let o=t[n][Bn.MODEL];if(o){var i=Lo(e,{id:l,constraintKey:o}),a=[];i.map(t=>{var r=Fo(e,{id:t.id});a.push(...r)}),a.map(e=>{s.push({nodeId:e.id,functionNode:r.id,key:o,class:n})})}}}}}s=[...s.unique(e=>JSON.stringify(e))],Object.keys(e.classNodes).map(t=>{s.find(r=>Bo(Vi(e.nodeLib[t],Zr.ClassConstructionInformation),r))||(e=Eo(e,{id:t}))}),s.map(t=>{var r=Object.keys(e.classNodes).filter(r=>!!Bo(Vi(e.nodeLib[r],Zr.ClassConstructionInformation),t));if(0===r.length)e=ko(e,{parent:t.functionNode,linkProperties:{properties:{...un.RequiredClassLink}}},Ur.ClassNode,r=>{e=ci(e,{id:r.id,prop:Zr.UIText,value:Io(t.class,Vi(So(e,t.nodeId),Zr.CodeName))}),e=ci(e,{id:r.id,prop:Zr.ClassConstructionInformation,value:t})});else if(1===r.length){var n=e.nodeLib[r[0]];e=ci(e,{id:n.id,prop:Zr.UIText,value:Io(t.class,Vi(So(e,t.nodeId),Zr.CodeName))})}else console.error("There should never be more than one")})}}return e}(a=To(a))}),da(i=function(e){if(e&&e.referenceNodes)for(var t in e.referenceNodes)if(e.graphs&&e.graphs[t]){let o=e.graphs[t];for(let i in e.referenceNodes[t]){var r=e.nodeLib[e.referenceNodes[t][i]];if(r){var n=So(o,i);n&&(n.properties.text=r.properties.text,n.properties.referenceType=r.properties.nodeType)}}}return e}(i=s.length?function(e,t){var{scope:r,graph:n}=t;if(r&&r.length){var o=e;r.map((e,t)=>{t===r.length-1?o.graphs[e]=n:o=o.graphs[e]})}else e=n;return e}(i,{scope:s,graph:a}):a),r)}}const Ls={SelectedNode:"#f39c12"};function ws(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}(e=>{if(!e.relativeCompliment){e.relativeCompliment||Object.defineProperty(e,"relativeCompliment",{enumerable:!1,writable:!0,configurable:!0,value:function(e,t,r){var n=[];t=t||function(e,t){return e===t};for(var o=this.length;o--;)e.some(t.bind(null,this[o]))?r&&r.push(this[o]):n.push(this[o]);return n}})}e.intersection||Object.defineProperty(e,"intersection",{enumerable:!1,writable:!0,configurable:!0,value:function(e,t){var r=[];t=t||function(e,t){return e===t};for(var n=this.length;n--;)for(var o=e.length;o--;)if(t(e[o],this[n])){r.push(this[n]);break}return r}}),e.toNodeSelect||Object.defineProperty(e,"toNodeSelect",{enumerable:!1,writable:!0,configurable:!0,value:function(){return this.map(e=>({value:e.id,id:e.id,title:Oa(e)}))}}),e.unique||Object.defineProperty(e,"unique",{enumerable:!1,writable:!0,configurable:!0,value:function(e){var t=[],r=[];e=e||function(e){return e};for(var n=0;n<this.length;n++)-1===t.indexOf(e(this[n]))&&(t.push(e(this[n])),r.push(this[n]));return r}}),e.removeIndices||Object.defineProperty(e,"removeIndices",{enumerable:!1,writable:!0,configurable:!0,value:function(e){e=e.orderBy(function(e,t){return t-e});var t=this;return e.map(function(e){t.splice(e,1)}),t}}),e.interpolate||Object.defineProperty(e,"interpolate",{enumerable:!1,writable:!0,configurable:!0,value:function(e,t,r){r=r||function(e){return e};for(var n=e;n<t;n++)this instanceof Float32Array?this[n-e]=r(n):this.push(r(n,n-e));return this}}),e.orderBy||Object.defineProperty(e,"orderBy",{enumerable:!1,writable:!0,configurable:!0,value:function(e){return this.map(function(e){return e}).sort(e)}}),e.groupBy||Object.defineProperty(e,"groupBy",{enumerable:!1,writable:!0,configurable:!0,value:function(e){for(var t={},r=0;r<this.length;r++){var n=e(this[r]);t[n]=t[n]||[],t[n].push(this[r])}return t}}),e.subset||Object.defineProperty(e,"subset",{enumerable:!1,writable:!0,configurable:!0,value:function(e,t){t=Math.min(this.length,null==t?this.length:t),e=(e=Math.min(this.length,null==e?this.length:e))<0?0:e,t=t<0?0:t;for(var r=this instanceof Float32Array?new Float32Array(t-e):[],n=e;n<t;n++)this instanceof Float32Array?r[n-e]=this[n]:r.push(this[n]);return r}})})(Array.prototype);const xs={scaffold:{message:"scaffold-project",reply:"scaffold-project-reply"}};var Ps=r("path"),$s=r.n(Ps);const js="./app/templates/namespace.tpl";class Rs{static Generate(e){var{template:t,namespace:r,space:n,usings:o}=e;let i=Tn.a.readFileSync(js,"utf8");return i=ro(i,{namespace:r,space:n,imports:o?o.map(e=>`using ${e};`).unique(e=>e).join("\r\n"):null,body:t})}}const Ds="./app/templates/controller/controller.tpl",Gs="./app/templates/controller/controller_functions.tpl",Us="./app/templates/controller/controller_functions_get.tpl";class Fs{static Tabs(e){let t="";for(var r=0;r<e;r++)t+=Bs;return t}static Generate(e){var{state:t,key:r}=e;let n=Ba(t),o=n?n[oo.NAMESPACE]:null,i=ka(t,Ai.Controller),a=Tn.a.readFileSync(Ds,"utf8"),s=Tn.a.readFileSync(Gs,"utf8"),l=Tn.a.readFileSync(Us,"utf8"),p=Ba(t),u={};return i.map(e=>{let r=a,i="",c=`${Vi(e,Li.CodeName)}`,d=ka(t,Ai.Model).find(e=>Vi(e,Li.IsUser)),f=[];Xo(p,{id:e.id,type:sn.MaestroLink,direction:Jo}).map(t=>{let o=Xo(p,{id:t.id,type:sn.FunctionLink,direction:Jo}),a=Vi(t,Li.CodeName);(f=o).length&&f.filter(e=>!Vi(e,Li.NotIncludedInController)).map(t=>{var r=Xn[Vi(t,Li.FunctionType)];if(r){let o=r.controller||s,u="",c="",d="";if([cn.Get,cn.GetAll].some(e=>e===Vi(t,Li.MethodType))){o=l;let e="modelId";r.parentGet&&(e="parentId"),u=`string ${e}`,c=`/{${e}}`,d=`${e}`}Vi(t,Li.CodeName),Xo(p,{id:t.id,type:sn.FunctionConstraintLink,direction:Jo});let f=`${Vi(t,Li.CodeName)}`,h=`${Vi(t,Li.HttpMethod)}`,m=`${Vi(t,Li.HttpRoute)}`,y=Vi(t,Li.MethodProps);if(!y)return;let _=So(p,y.model),v=So(n,y[In.CompositeInput]),g="{controller_generator_missing_model}";_&&(g=Vi(_,Li.CodeName)||g,r.isList&&(g=`IList<${g}>`)),o=ro(o,{functionName:f,maestro_function:f,parameters:u,parameter_values:d,parameter_route:c,http_route:m||"{controller_generator_http_method",http_method:h||"{controller_generator_http_method",user_instance:e?Vi(e,Li.CodeUser):"{controller_generator_code_name}",output_type:g,maestro_interface:Wn(a),input_type:v||_?Hi(v||_):"{controller_generator_missing_model}"}),i+=Vs+o}}),r=ro(r,{codeName:c,"codeName#alllower":c.toLowerCase(),user_instance:e?Vi(e,Li.CodeUser):"{controller_generator_code_name}",user:d?Vi(d,Li.CodeName):"{controller_generator_code_name}",functions:i})});u[Vi(e,Li.CodeName)]={id:Vi(e,Li.CodeName),name:Vi(e,Li.CodeName),template:Rs.Generate({template:r,usings:[...Hr,`${o}${Jr.Model}`,"Microsoft.AspNetCore.Mvc"],namespace:o,space:Jr.Controllers})}}),u}}const Vs="\n",Bs="   ",qs="./app/templates/models/model.tpl",Hs="./app/templates/models/model_property.tpl",Ws="./app/templates/models/model_statics.tpl",Ys="./app/templates/models/model_attributes.tpl";class zs{static Generate(e){var{state:t,key:r}=e;let n=Ba(t),o=ka(t,Ur.Model),i={};return o.map(e=>{var r=zs.GenerateModel({graph:n,nodeId:e.id,state:t});i[r.id]=r}),i}static GenerateModel(e){var{state:t,graph:r,nodeId:n}=e,o=[],i={};let a=Ba(t),s=a?a[oo.NAMESPACE]:null;var l=So(r,n);if(!l)return null;i.model=Vi(l,Li.CodeName),i.base_model=Vi(l,Li.IsUser)?"RedUser":"DBaseData",i.account_enabling_func="",Vi(l,Li.IsUser)&&(i.account_enabling_func="\n            \n        public static User Create(RedExternalLoginViewModel model)\n        {\n            return new User\n            {\n                Email = model.Email,\n                UserName = model.UserName\n            };\n        }\n        public static User Create(RedRegisterViewModel model)\n        {\n            return new User\n            {\n                Email = model.Email,\n                UserName = model.UserName\n            };\n        }"),i.attributes="";var p=Xo(r,{id:l.id,type:sn.PropertyLink,direction:Jo});let u=Tn.a.readFileSync(Hs,"utf8"),c=Tn.a.readFileSync(Ys,"utf8"),d=Tn.a.readFileSync(Ws,"utf8"),f=Xo(r,{id:n,type:sn.ValidatorModel,direction:Zo}).map(e=>Vi(e,Li.CodeName)).map(e=>zs.tabs(1)+`[${e}]`+hn).join("");i.attributes=f;let h=[],m=p.filter(e=>!Vi(e,Li.IsDefaultProperty)).map(e=>{var t=Xo(r,{id:e.id,type:sn.AttributeLink,direction:Jo});let n=u,i=Vi(e,Li.UIAttributeType);_n[mn.CSHARP][i]&&o.push(..._n[mn.CSHARP][i],`${s}${Jr.Model}`,`${s}${Jr.Extensions}`);let a=yn[mn.CSHARP][i];Vi(e,Li.UIModelType)&&(a="string"),Vi(e,Li.UseModelAsType)&&Vi(e,Li.IsReferenceList)&&(a=`IList<${a}>`);let p={model:Vi(l,Li.CodeName),property_type:a,property:Vi(e,Li.CodeName),attributes:t.map(t=>{var n=Xo(r,{id:t.id,type:sn.Option,direction:Jo});let o=[];n.map(e=>{Xo(r,{id:e.id,type:sn.OptionItem,direction:Jo}).map(e=>{Vi(e,Li.UseCustomUIOption)?o.push(Vi(e,Li.UIOptionTypeCustom)):o.push(Vi(e,Li.UIOptionType))})}),o=o.unique().map(e=>`UIAttribute.${e}`);var i={};Object.keys(dn).map(e=>{i[dn[e]]=e});var a=[];Vi(t,Li.UseUIValidations)&&Xo(r,{id:t.id,type:sn.Validation,direction:Jo}).map(e=>{Xo(r,{id:e.id,type:sn.ValidationItem,direction:Jo}).map(e=>{a.push(`ValidationRules.${i[Vi(e,Li.UIValidationType)]}`)})});let s=null;Vi(t,Li.UIExtensionList)&&Xo(r,{id:t.id,type:sn.Extension,direction:Jo}).map(e=>{s=Vi(e,Li.CodeName)});let l=o&&o.length?ro("Options = new string[] { {{options_list}} },",{options_list:o.map(e=>`${e}`).join(", ")}):"",p=a&&a.length?ro("ValidationRules = new string[] { {{validation_list}} },",{validation_list:a.map(e=>`${e}`).join(", ")}):"",u=s?ro("ChoiceType = {{choice_type}}.Name,",{choice_type:s}):"",d={property:Vi(e,Li.CodeName),property_type:Vi(e,Li.UseModelAsType)?Vi(e,Li.UIModelType):Vi(e,Li.UIAttributeType),ui_title:Vi(e,Li.UIName),singular:Vi(e,Li.UISingular)?"true":"false",options:l,choice_type:u,validation_rules:p};return t&&t.uiValidationType,ro(c,d)}).filter(e=>e).join("\r\n")};return n=ro(n,p)});Vi(l,Li.HasLogicalChildren)&&Vi(l,Li.ManyToManyNexus)&&(Vi(l,Li.LogicalChildrenTypes)||[]).map(e=>{let r=So(Va(t),e),n={property_type:yn[mn.CSHARP][Pi.STRING],property:Vi(r,Li.CodeName),attributes:""};m.push(ro(u,n))});let y={model:Vi(l,Li.CodeName)};(h.push(ro(d,y)),Vi(l,Li.IsUser))&&ka(t,Ur.Model).filter(e=>e.id!==l.id&&Vi(e,Li.IsAgent)).map(e=>{let t=u;t=ro(t,{property_type:yn[mn.CSHARP][Pi.STRING],property:Vi(e,Li.CodeName),attributes:""}),m.push(t)});i.properties=m.join(""),i.staticFunctions=h.unique(e=>e).join("\n"),console.log(i.properties);let _=Tn.a.readFileSync(qs,"utf8");return _=ro(_,i),{id:Vi(l,Li.CodeName),name:Vi(l,Li.CodeName),template:Rs.Generate({template:_,usings:[...o,"RedQuickCore.Identity",`${s}${Jr.Validations}`,...Hr],namespace:s,space:Jr.Model})}}static tabs(e){let t="";for(var r=0;r<e;r++)t+="\t";return t}}const Xs="./app/templates/extensions/extensions.tpl",Qs="./app/templates/extensions/extension_properties.tpl",Ks="./app/templates/extensions/extension_new_instance.tpl",Js="./app/templates/extensions/extension_new_instance_properties.tpl",Zs="./app/templates/extensions/extension_new_instance_list.tpl",el="./app/templates/extensions/extension_new_instance_list_add.tpl",tl="./app/templates/extensions/extension_new_instance_dictionary.tpl",rl="./app/templates/extensions/extension_new_instance_dictionary_add.tpl",nl="./app/templates/extensions/create_new_list_instance.tpl",ol=6;class il{static Tabs(e){let t="";for(var r=0;r<e;r++)t+=ll;return t}static GetExtensionNodeValues(e){var t=Vi(e,Li.UIExtensionDefinition);if(t&&t.config&&t.config.isEnumeration)return t.config.list.map(e=>t.config.keyField?e[t.config.keyField]:e[Object.keys(e)[0]]);throw new Error("unhandled - getting extensions nodes not as an enumeration")}static CreateListInstanceTemplate(e){let{node:t,name:r}=e;return ro(Tn.a.readFileSync(nl,"utf8"),{name:r,model:Vi(t,Li.CodeName)})}static Generate(e){var{state:t,key:r}=e;let n=ka(t,Ai.ExtensionType),o=Ba(t),i=o?o[oo.NAMESPACE]:null,a=Tn.a.readFileSync(Xs,"utf8"),s=Tn.a.readFileSync(Qs,"utf8"),l=Tn.a.readFileSync(Ks,"utf8"),p=Tn.a.readFileSync(Js,"utf8"),u=Tn.a.readFileSync(Zs,"utf8"),c=Tn.a.readFileSync(el,"utf8"),d=Tn.a.readFileSync(tl,"utf8"),f=(Tn.a.readFileSync(rl,"utf8"),{});return n.map(e=>{let t=a,r="",n="";var o=[];let h=Vi(e,Li.UIExtensionDefinition);if(h){let t=Vi(e,Li.CodeName),{config:i,definition:a}=h;if(a&&(a={...a,Value:"string"},r=Object.keys(a).map(e=>{var r=s;return r=ro(r,{name:t,property:e,type:a[e]})}).join(""),i)){var m=[];let e="";if(i.isEnumeration)m=i.list.map((e,r)=>{let n;e={...e,Value:r+1};let i=Object.keys(e).map(t=>{let r=p;return r=ro(r,{property:t,value:on(e[t])}),isNaN(e[t])&&o.push({name:on(e[t]),value:`"${e[t]}"`}),r}).join(`,${al}`);return n=ro(n=l,{properties:sl+il.Tabs(ol)+i,model:t})});else{let r,n=Object.keys(i.dictionary).map(e=>{let t=p,r={...i.dictionary};return t=ro(t,{property:e,value:on(r[e])}),isNaN(r[e])&&o.push({name:on(r[e]),value:`"${r[e]}"`}),t}).join(`,${al}`);r=ro(r=l,{properties:sl+il.Tabs(ol)+n,model:t});let a=d;e=a=ro(a,{instance:e=r,model:t})}m=m.map(e=>{let t=c;return t=ro(t,{instance:e})}),n=ro(u,{addings:m.join(""),model:t})+sl+e}}t=ro(t,{name:Vi(e,Li.CodeName),properties:r,statics:n,constants:o.unique(e=>e).map(e=>sl+il.Tabs(3)+function(e){var{name:t,value:r}=e;return`public const string ${t} = ${r};`}(e)).join("")}),f[Vi(e,Li.CodeName)]={id:Vi(e,Li.CodeName),name:Vi(e,Li.CodeName),template:Rs.Generate({template:t,usings:[...Hr],namespace:i,space:Jr.Extensions})}}),f}}const al="\n                    ",sl="\n",ll="   ";r("util");const pl="./app/templates/permissions/tests/test_case.tpl",ul="./app/templates/tests/tests.tpl",cl="./app/templates/permissions/tests/test_case_property.tpl",dl="./app/templates/permissions/permissions_interface.tpl",fl="./app/templates/permissions/permissions_case.tpl",hl="./app/templates/permissions/permissions_case_enumeration.tpl",ml="./app/templates/permissions/permissions_case_included_in_list.tpl",yl="./app/templates/permissions/permissions_method.tpl",_l="./app/templates/permissions/permissions_arbiter_prop.tpl",vl="./app/templates/permissions/permissions_impl.tpl",gl="./app/templates/permissions/permissions_interface_methods.tpl",bl="./app/templates/permissions/match-many-reference-parameter.tpl",Cl="./app/templates/permissions/tests/many_to_many_constructor.tpl",El="./app/templates/permissions/match-reference.tpl";class Ol{static PermissionMatches(e,t,r){var n=Fa(e);if(n){switch(xa(n)){case An.Get_Parent$Child_Agent_Value__IListChild:case An.Get_ManyToMany_Agent_Value__IListChild:return Pa(n,In.Agent)===t.id&&Pa(n,In.Parent)===r.id;default:return Pa(n,In.Agent)===t.id&&(Pa(n,In.Model)===r.id||Pa(n,In.CompositeInput)===r.id)}}return!1}static createInstanceEnumerationListName(e,t,r,n="Enums"){return`list${n}${Vi(e,Li.CodeName)||e}${Vi(t,Li.CodeName)||t}${r}`}static _createConstantList(e,t){return t.map(t=>`${e}.${on(t)}`)}static _createEnumerationInstanceList(e,t,r){var n=Vi(e,Li.AllowedEnumValues)||[];let o=Vi(t,Li.CodeName);return n.map(e=>`${o}.${on(e)}`)}static _getNotAllowedConstances(e,t,r){var n=Vi(e,Li.DisallowedEnumValues)||[];let o=Vi(t,Li.CodeName);return n.map(e=>`${o}.${on(e)}`)}static createEnumerationInstanceList(e,t,r){return`var ${Ol.createInstanceEnumerationListName(e,t,r)} = new List<string> { ${Ol._createEnumerationInstanceList(e,t,r).map(e=>Ml+kl(5)+e).join()} ${Ml+kl(5)}};${Ml}`}static createStringList(e){var{name:t,constants_allowed:r,enumerationName:n}=e;return`var ${t} = new List<string> { ${(r=r.map(e=>`${n}.${on(e)}`)).map(e=>Ml+kl(5)+e).join()} ${Ml+kl(5)}};${Ml}`}static _createExtensionInstanceList(e,t,r,n="Enums"){var o=Vi(e,Li.AllowedExtensionValues)||[];let i=Vi(t,Li.CodeName);return o.map(e=>`${i}.${on(e)}`)}static _getNotAllowedExtectionConstances(e,t,r,n="Enums"){var o=Vi(e,Li.DisallowedExtensionValues)||[];let i=Vi(t,Li.CodeName);return o.map(e=>`${i}.${on(e)}`)}static createExtensionInstanceList(e,t,r,n="Enums"){return`var ${Ol.createInstanceEnumerationListName(e,t,r,"Extensions")} = new List<string> { ${Ol._createExtensionInstanceList(e,t,r,n).map(e=>Ml+kl(5)+e).join()} ${Ml+kl(5)}};${Ml}`}static IsRequestor(e,t,r){return!!Xo(e,{id:r.id,type:sn.RequestorPermissionLink}).find(e=>e.id===t.id)}static GetExtensionNodeValues(e,t,r,n,o){var i=Xo(e,{id:t.id,type:sn.PermissionPropertyDependency});let a=[];return i.map(t=>{let i=Xo(e,{id:t.id,type:sn.PermissionPropertyDependency})[0];if(!i)return;let s=Xo(e,{id:i.id,type:sn.PermissionDependencyProperty}),l=null;if(1!==s.length)return;l=s[0];var p=function(e,t){var{source:r,target:n,type:o}=t,i=Go(e,{source:r,target:n});return!!i&&oa(i,pn.TYPE)===o}(e,{target:l.id,source:n.id,type:sn.PropertyLink});let u=So(e,Vi(t,Li.Enumeration)),c=So(e,Vi(t,Li.UIExtension)),d=Vi(t,Li.UseEnumeration),f=Vi(t,Li.UseExtension);if(Vi(t,Li.IncludedInList)){let e=ro(Tn.a.readFileSync(ml,"utf8"),h={method:r,parent:`${Vi(n,Li.AgentName)||"agent"}`.toLowerCase(),parent_property:"Id",value:`${p?"value":"data"}`.toLowerCase(),value_property:Vi(i,Li.CodeName),model:"data",casename:Vi(t,Li.CodeName),extension:Vi(c,Li.CodeName),instance_list:""});a.push({variable:`can${h.method}${h.model}${h.casename}`,template:e})}if(d){let e=Tn.a.readFileSync(hl,"utf8"),n=Ol.createEnumerationInstanceList(t,u,r),s=Ol.createInstanceEnumerationListName(t,u,r);var h;let l=ro(e,h={method:r,value:`${p?"value":"data"}`.toLowerCase(),value_property:Vi(i,Li.CodeName),model:Vi(o,Li.CodeName),casename:Vi(t,Li.CodeName),"allowed-values-list":s,extension:Vi(c,Li.CodeName),instance_list:n});a.push({variable:`can${h.method}${h.model}${h.casename}`,template:l})}if(f){let e=Vi(c,Li.UIExtensionDefinition),n=Tn.a.readFileSync(fl,"utf8"),o=Ol.createExtensionInstanceList(t,c,r),s=Ol.createInstanceEnumerationListName(t,c,r,"Extensions"),l={method:r,value:"value",value_property:Vi(i,Li.CodeName),model:"data",casename:Vi(t,Li.CodeName),extension_propery_key:e&&e.config?e.config.keyField:null,extension_value_property:"Value","allowed-values-list":s,extension:Vi(c,Li.CodeName),instance_list:o},p=ro(n,l);a.push({variable:`can${l.method}${l.model}${l.casename}`,template:p})}}),a}static IsAppliedPermission(e,t,r){let n=Xo(e,{id:t.id,type:sn.AppliedPermissionLink});if(n&&n.length&&function(e,t){var{source:r,target:n}=t;return Object.values(e.linkLib).find(e=>e.source===r&&e.target===n)}(e,{source:n[0].id,target:r.id}))return!0;return!1}static GetTestExtensionNodeValues(e,t,r,n,o){var i=Xo(e,{id:t.id,type:sn.Condition});let a=[];return i.map(t=>{let n=Vi(t,Li.ConditionType);switch(n){case Kn.MatchReference:var o=Vi(t,Li.MatchReference);a.push({type:n,values:[Jn[Kn.MatchReference].$matching],neg:[Jn[Kn.MatchReference].notmatching],options:{...o}});break;case Kn.MatchManyReferenceParameter:o=Vi(t,Li.MatchManyReferenceParameter);a.push({type:n,values:[Jn[Kn.MatchManyReferenceParameter].$matching],neg:[Jn[Kn.MatchManyReferenceParameter].notmatching],options:{...o}});break;case Kn.InEnumerable:var i=Vi(t,Li.EnumerationReference),s=Ol.getReferencedNodeName(e,i,Li.Enumeration),l=Ol.getReference(i,Li.AllowedEnumValues),p=Ol.getReference(i,Li.DisallowedEnumValues);let u=Ol._createConstantList(s,l),c=Ol._createConstantList(s,p),d=Ol.createInstanceEnumerationListName(t,s,r),f=Ol.getReferencedNodeName(e,i,Zn.Ref1Property);a.push({type:n,name:d,ref:i[Zn.Ref1],property:f,values:u,neg:c,options:{...i}});break;case Kn.InExtension:let h=Vi(t,Li.UIExtensionDefinition),m=Ol._createExtensionInstanceList(t,extentionNode,r),y=Ol._getNotAllowedExtectionConstances(t,extentionNode,r),_=Ol.createInstanceEnumerationListName(t,extentionNode,r,"Extensions"),v=Vi(propertyNodeLinkedToByDependencyPermissionNode,Li.CodeName);a.push({type:n,name:_,property:v,values:m,neg:y,options:{...h}});break;default:throw"not handled [permissiongenerator]"}}),a}static getReferencedNodeName(e,t,r){return Vi(Ol.getReferencedValue(e,t,r),Li.CodeName)}static getReferencedValue(e,t,r){return So(e,t[r])}static getReference(e,t){return e[t]}static GenerateCases(e,t,r,n){var o=Va(e);let i=Tn.a.readFileSync(bl,"utf8"),a=Tn.a.readFileSync(El,"utf8"),s={};if(t)for(var l in cn){var p=Vi(t,Li.UIPermissions);if(p&&p[l]){let r=[],p=Yo(e,{id:t.id,links:[{type:sn.Condition,direction:Jo}]});p&&p.length&&p.map((s,p)=>{var u="variable_"+p;switch(Vi(s,Li.ConditionType)){case Kn.MatchReference:if(h=Vi(s,Li.MatchReference)){var c=So(o,h[Zn.Ref1]);let n=Yo(e,{id:t.id,links:[{type:sn.Condition,direction:Zo},{type:sn.FunctionOperator,direction:Zo}]}).find(e=>e);if(n){let e=Vi(n,Li.MethodProps);if(e){var d=h[Zn.Ref1UseId],f=h[Zn.Ref2UseId];r.push({template:ro(a,{variable:u,value_property:d?"Id":ta(o,h[Zn.Ref1Property]),data_property:f?"Id":ta(o,h[Zn.Ref2Property]),relationship:Vi(m,Li.CodeName),property:Vi(c,Li.CodeName)}),options:h,methodProps:e,sameInstance:!(!e[h[Zn.Ref1]]||!e[h[Zn.Ref2]]),variable:u})}}}break;case Kn.MatchManyReferenceParameter:var h;if(h=Vi(s,Li.MatchManyReferenceParameter)){c=So(o,h[Zn.RefManyToManyProperty]);let n=Yo(e,{id:t.id,links:[{type:sn.Condition,direction:Zo},{type:sn.FunctionOperator,direction:Zo}]}).find(e=>e);if(n){let e=Vi(n,Li.MethodProps);if(e){let t=[Zn.Ref1,Zn.Ref2];var m=So(o,e[h[Zn.RefManyToMany]]);let n=t.find(t=>h[t]===Bn.PARENT&&e.model&&e.model!==e.parent);r.push({arbiter:Vi(m,Li.CodeName),template:ro(i,{variable:u,data:n?Bn.PARENT:"data",relationship:Vi(m,Li.CodeName),property:Vi(c,Li.CodeName)}),methodProps:e,options:h,variable:u})}}}break;case Kn.InEnumerable:var y=Vi(s,Li.EnumerationReference);if(y){let e=y[Zn.Ref1],t=So(o,y[Li.Enumeration]);if(t){let i=Vi(s,Li.CodeName)||Vi(s,Li.NODEType),a=`${i}_valid_items`,p=Tn.a.readFileSync(hl,"utf8"),u=Ol.createStringList({name:a,constants_allowed:y[Li.AllowedEnumValues],enumerationName:Vi(t,Li.CodeName)}),c=So(o,y[Zn.Ref1Property]);var _={method:l,value:`${"model"!==e?"value":"data"}`.toLowerCase(),value_property:Vi(c,Li.CodeName),model:Vi(n,Li.CodeName)||Vi(n,Li.NODEType),casename:i,"allowed-values-list":a,instance_list:u};let d=ro(p,_);r.push({variable:`can${_.method}${_.model}${_.casename}`,template:d})}}}}),s[l]=r}}return s}static EnumerateCases(e){return Mu(e.map(e=>(e&&e.values?e.values.length:0)+(e&&e.neg?e.neg.length:0)))}static EnumeratePermissionCases(e,t,r,n,o){if(!(t&&r&&n&&o))return[];let i=Ol.GetTestExtensionNodeValues(e,t,r,n,o),a=Ol.EnumerateCases(i),s=Tn.a.readFileSync(cl,"utf8"),l=Vi(qi({id:t.id,links:[{type:sn.FunctionOperator,direction:Zo}]}),Li.MethodProps);return a.map(e=>{let t=[],r=[],n=[],o=!0;return e.map((e,a)=>{let p,u=i[a];switch(o=o&&u.values.length>e,u.type){case Kn.MatchManyReferenceParameter:if(u.options&&u.options[Zn.Ref1]&&u.options[Zn.Ref2]&&l&&l[u.options[Zn.Ref1]]&&l[u.options[Zn.Ref2]]&&u.options[Zn.Ref1]!==u.options[Zn.Ref2]){let e=u.options[Zn.Ref2];switch(u.options[Zn.Ref2]){case In.AgentType:throw"this should be agent now"}if(e){let n,i="Id";u.options[Zn.Ref1UseId]||(i=u.options[Zn.Ref1Property]);let a=u.options[Zn.Ref1];switch(a){case In.Agent:case In.Model:case In.Parent:n=ro(s,{model:a,property:`.${i}`,value:'"wrong"'}),t.push({props:o?"":n,type:u.type}),r.push({property:`.${i}`,value:`${e}.Id`});break;case In.AgentType:throw"This should be agent now";default:throw"this hasnt been defined yet"}}}break;case Kn.MatchReference:if(u.options&&u.options[Zn.Ref1]&&u.options[Zn.Ref2]&&u.options[Zn.Ref1]!==u.options[Zn.Ref2]){let e=u.options[Zn.Ref2],i=u.options;switch(u.options[Zn.Ref2]){case In.AgentType:throw"this should be agent now"}if(e){let a="Id";u.options[Zn.Ref1UseId]||(a=Hi(a=u.options[Zn.Ref1Property]));let p,c="Id";u.options[Zn.Ref2UseId]||(c=Hi(c=u.options[Zn.Ref2Property]));let d=u.options[Zn.Ref1];u.options[Zn.Ref2];switch(d){case In.Agent:case In.Model:case In.Parent:p=ro(s,{model:d,property:`.${a}`,value:o?`${e}.${c}`:'"wrong"'}),n.push(p),t.push({setup_cases:["asdf"],props:p,sameInstance:!(!l[i[Zn.Ref1]]||!l[i[Zn.Ref2]]),type:Kn.MatchReference}),r.push({props:{property:`.${a}`,value:`${e}.${c}`},type:d});break;case In.AgentType:throw"This should be agent now";default:throw"this hasnt been defined yet"}}}break;default:p="model"===u.ref;let i=u.values.length<=e?u.neg[e-u.values.length]:u.values[e],a=ro(s,{model:p?"model":"agent",property:`.${u.property}`,value:i});p?(t.push({props:a,type:In.Model}),r.push({props:{property:u.property,value:i},type:In.Model})):(t.push({props:a,type:In.Agent}),r.push({props:{property:u.property,value:i},type:In.Agent}))}}),{setup_cases:n,props:[...t],properties:[...r],resultSuccess:o}})}static GenerateTestCases(e,t,r,n,o){var i=Va(e);let a=null,s=null,l="",p="",u=Tn.a.readFileSync(pl,"utf8"),c=[],d=t?qi({id:t.id,links:[{type:sn.FunctionOperator,direction:Zo}]}):null;if(a=ra(i,d,In.Parent),s=ra(i,d,In.ManyToManyModel),Hi(a))switch(l=Tn.a.readFileSync("./app/templates/permissions/tests/many_to_many_register.tpl","utf8"),Vi(d,Li.FunctionType)){case An.Get_ManyToMany_Agent_Value__IListChild:u=Tn.a.readFileSync("./app/templates/permissions/tests/Get_ManyToMany_Agent_Value__IListChild.tpl","utf8"),l=n?ro(l,{ref1type:Hi(a),ref1:In.Parent,ref2type:Hi(n),ref2:In.Model}):"";break;case An.Create_Parent$Child_Agent_Value__IListChild:u=Tn.a.readFileSync("./app/templates/permissions/tests/Create_Parent$Child_Agent_Value__IListChild.tpl","utf8"),l=r?ro(l,{ref1type:Hi(a),ref1:In.Parent,ref2type:Hi(r),ref2:In.Agent}):"";break;case An.Get_Parent$Child_Agent_Value__IListChild:u=Tn.a.readFileSync("./app/templates/permissions/tests/Get_Parent$Child_Agent_Value__IListChild.tpl","utf8"),l=r?ro(l,{ref1type:Hi(a),ref1:In.Parent,ref2type:Hi(r),ref2:In.Agent}):"";break;default:l=""}switch(Vi(d,Li.FunctionType)){case An.Get_Object_Agent_Value__Object:l=Tn.a.readFileSync("./app/templates/permissions/tests/many_to_many_register.tpl","utf8"),n?(l=ro(l,{ref1type:Hi(s.properties.logicalChildrenTypes[0]),ref1:In.Agent,ref2type:Hi(s.properties.logicalChildrenTypes[1]),ref2:In.Model}),p=ro(Tn.a.readFileSync(Cl,"utf8"),{many_to_many:Hi(s)})):l=""}if(s||(l=""),d)for(var f in cn){var h=Vi(t,Li.UIPermissions);if(t&&h&&h[f]){let e=Vi(n,Li.CodeName);let h=Vi(t,Li.PermissionValueType),m=Vi(d,Li.MethodProps);h&&m&&(e=Hi(m[h]));let y=Ol.EnumeratePermissionCases(i,t,f,r,n);y=y.map((i,c)=>{var{props:d,resultSuccess:h,templates:m={},setup_cases:y=[]}=i;return ro(ro(u,{many_to_many_register:l}),{setup_cases:y.join(hn),set_agent_properties:d.filter(e=>e.type===In.Agent).map(e=>e.props).join(hn),set_model_properties:d.filter(e=>e.type===In.Model).map(e=>e.props).join(hn),set_parent_properties:d.filter(e=>e.type===In.Parent).map(e=>e.props).join(hn),set_match_reference_properties:d.filter(e=>e.type===Kn.MatchReference).map(e=>e.props).join(hn),set_match_many_reference_properties:d.filter(e=>e.type===Kn.MatchManyReferenceParameter).map(e=>e.props).join(hn),agent_type:Hi(r),parent_setup:"",many_to_many_constructor:p,model:e,many_to_many:Hi(s),many_to_many_arbiter_constructor:s?ro("var manyToManyArbiter = RedStrapper.Resolve<IRedArbiter<{{many_to_many}}>>();",{many_to_many:Hi(s)}):"",parent:Hi(a),parent_agent_are_the_same:h&&a&&r&&a.id&&r.id&&a.id===r.id?"parent = agent;":"",method:f,test:`_${Hi(r)}_${Hi(n)}_${f}_${c}_case${o}`,result:h?"true":"false",function_name:Hi(t)+f,...m})}),c=[...c,...y]}}return c}static Generate(e){var{state:t,key:r}=e;let n=ka(t,Ai.Model),o=ka(t,Ai.Permission),i=n.filter(e=>Vi(e,Li.IsAgent)),a=Ba(t),s=a?a[oo.NAMESPACE]:null,l=Tn.a.readFileSync(ul,"utf8"),p=Tn.a.readFileSync(dl,"utf8"),u=Tn.a.readFileSync(vl,"utf8"),c=Tn.a.readFileSync(gl,"utf8"),d=Tn.a.readFileSync(yl,"utf8"),f=Tn.a.readFileSync(_l,"utf8"),h={};return i.map(e=>{let r=u,i=p,a=l,m=[],y=[],_=[],v=[];n.map(r=>{let n=o.filter(t=>Ol.PermissionMatches(t,e,r));if(!n||!n.length)return;let i=[],a=[];n.map((n,o)=>{if(n){a.push(Vi(n,Li.CodeName));let s=Ol.GenerateCases(t,n,e,r),l=Ol.GenerateTestCases(t,n,e,r,o);i.push(s),_.push(...l)}}),i.map((t,o)=>{for(var i in t){let l=t[i],p="",u="";l.map(e=>{if(e&&e.arbiter&&v.push(e),e&&e.options&&e.methodProps){[Zn.Ref1,Zn.Ref2].map(t=>{if(e.methodProps[e.options[t]]){let n=Hi(e.methodProps[e.options[t]]);e.options[t]===Bn.PARENT&&e.methodProps.parent!==r.id&&(u=n),n&&v.push({arbiter:n})}})}}),p=u?`var parent = data.${u} != null ? (await arbiter${u}.Get<${u}>(data.${u})) : null;`:"var parent = data;";let f=Vi(r,Li.CodeName);var s=n[o];let h=Vi(s,Li.PermissionValueType);let _=Vi(s?qi({id:s.id,links:[{direction:Zo,type:sn.FunctionOperator}]}):null,Li.MethodProps);h&&_&&(f=Hi(_[h]));let g=d,b=c;g=ro(g,{model:f,value:"data",agent_type:Vi(e,Li.CodeName),function_name:a[o]+i,agent:"value",parent_setup:p,method:i,cases:l.map(e=>Ml+kl(4)+e.template).join(""),case_result:Ml+kl(4)+`result = ${l.map(e=>e.variable).join(" && ")};`}),b=ro(b,{model:f,function_name:a[o]+i,value:"data",agent_type:Vi(e,Li.CodeName),agent:"value",method:i}),y.push(b),m.push(g)}})}).join(Ml),v=v.map(e=>e.arbiter).unique(e=>e).map(e=>ro(f,{arbiter:e})).join(Ml),r=ro(r,{agent_type:Vi(e,Li.CodeName),arbiters:v,methods:m.unique().join(Ml+Ml)}),i=ro(i,{agent_type:Vi(e,Li.CodeName),methods:y.unique().join(Ml+Ml)}),h[Vi(e,Li.CodeName)]={name:`Permissions${Vi(e,Li.CodeName)}`,tname:`Permissions${Vi(e,Li.CodeName)}Tests`,iname:`IPermissions${Vi(e,Li.CodeName)}`,template:Rs.Generate({template:r,usings:[...Hr,`${s}${Jr.Extensions}`,`${s}${Jr.Model}`,`${s}${Jr.Interface}`,v&&v.length?`${s}${Jr.Controllers}`:null,`${s}${Jr.Constants}`].filter(e=>e),namespace:s,space:Jr.Permissions}),interface:Rs.Generate({template:i,usings:[...Hr,`${s}${Jr.Interface}`,`${s}${Jr.Model}`],namespace:s,space:Jr.Interface}),test:Rs.Generate({template:ro(a,{tests:_.join(hn),name:`Permissions${Vi(e,Li.CodeName)}`}),usings:[...Hr,...qr,`${s}${Jr.Interface}`,`${s}${Jr.Permissions}`,`${s}${Jr.Extensions}`,`${s}${Jr.Constants}`,`${s}${Jr.Model}`],namespace:s,space:Jr.Tests})}}),h}}const Ml="\n",Nl="   ";function kl(e){let t="";for(var r=0;r<e;r++)t+=Nl;return t}const Sl="./app/templates/validation/validation_class.tpl",Tl="./app/templates/validation/tests/validation.tpl",Al="./app/templates/tests/tests.tpl",Il="./app/templates/validation/validation_property.tpl";class Ll{static enumerateValidationTestVectors(e){var t=e.map(e=>Object.keys(e.values.cases).length);return Ll.enumerate(t)}static enumerate(e,t=0){var r=[];if(t<e.length)for(var n=0;n<e[t];n++){var o=Ll.enumerate(e,t+1),i=[n];o.length?o.map(e=>{r.push([...i,...e])}):r.push(i)}return r}static Tabs(e){let t="";for(var r=0;r<e;r++)t+="    ";return t}static GenerateValidationCases(e,t){var r=Vi(t,Li.ValidatorModel);let n=Co(Vi(t,Li.Validator));var o=[];return Object.keys(n).map(t=>{let r=So(e,t),i=n[t];return Object.keys(i.validators).map(t=>{let n=i.validators[t],a=So(e,n.node),s="";if(a)switch(Vi(a,Li.NODEType)){case Ai.ExtensionType:if(n&&n.extension){let e={"_ _":'"__ _ __"'};s=Object.keys(n.extension).map(t=>{if(n.extension[t])return e[`$${t}`]=`${Vi(a,Li.CodeName)}.${on(t)}`,e[`$${t}`]}).filter(e=>e),o.push({property:Vi(r,Li.CodeName),values:{cases:e,invalid:{"_ _":!0}}}),s=`new List<string> () {\n                ${s.join(", ")}\n            }`}break;case Ai.Enumeration:if(n&&n.enumeration){let t=Vi(So(e,n.node),Li.CodeName);s=Object.keys(n.enumeration).map(e=>{if(n.enumeration[e])return`${t}.${on(e)}`}).filter(e=>e),o.push({property:Vi(r,Li.CodeName),values:{cases:[...s],invalid:{"_ _":!0}}}),s=`new List<string> () {\n                    ${s.join(", ")}\n                }`}}Cn[n.type]&&o.push({property:Vi(r,Li.CodeName),values:Cn[n.type]})})}),Ll.enumerateValidationTestVectors(o).map((t,n)=>{let i=!0,a=[],s=t.map((t,n)=>{var s=Object.values(o[n].values.cases)[t],l=Object.keys(o[n].values.cases)[t];"function"==typeof s?s=s():o[n]&&o[n].values&&o[n].values.invalid&&!o[n].values.invalid[l]&&(l="$$"),i=i&&"$"===(l||[!1])[0];let p=Ll.Tabs(3)+`{{model}}.${o[n].property} = ${s};`;return a.push({set_properties:p,property:o[n].property,type:Vi(So(e,r),Li.CodeName)}),p}).join(hn);return{resultSuccess:i,propertyInformation:a,set_properties:s,type:Vi(So(e,r),Li.CodeName)}})}static Generate(e){var{state:t,key:r}=e;let n=Ba(t),o=n?n[oo.NAMESPACE]:null,i=Ba(t),a={},s=ka(t,Ai.Validator),l=Tn.a.readFileSync(Sl,"utf8"),p=Tn.a.readFileSync(Il,"utf8"),u=Tn.a.readFileSync(Tl,"utf8"),c=Tn.a.readFileSync(Al,"utf8");return s.map(e=>{Vi(e,Li.ValidatorAgent);var t=Vi(e,Li.ValidatorModel),r=So(i,t),n=Vi(e,Li.ValidatorFunction),s=So(i,n);let d=Co(Vi(e,Li.Validator));var f=[];let h=Object.keys(d).map(e=>{let t=So(i,e),r=d[e];return Object.keys(r.validators).map(e=>{let n=r.validators[e],o=So(i,n.node),a="";if(o)switch(Vi(o,Li.NODEType)){case Ai.ExtensionType:if(n&&n.extension){let e={"_ _":'"__ _ __"'};a=Object.keys(n.extension).map(t=>{if(n.extension[t])return e[`$${t}`]=`${Vi(o,Li.CodeName)}.${on(t)}`,e[`$${t}`]}).filter(e=>e),f.push({property:Vi(t,Li.CodeName),values:{cases:e,invalid:{"_ _":!0}}}),a=`new List<string> () {\n                ${a.join(", ")}\n            }`}break;case Ai.Enumeration:if(n&&n.enumeration){let e=Vi(So(i,n.node),Li.CodeName);a=Object.keys(n.enumeration).map(t=>{if(n.enumeration[t])return`${e}.${on(t)}`}).filter(e=>e),f.push({property:Vi(t,Li.CodeName),values:{cases:[...a],invalid:{"_ _":!0}}}),a=`new List<string> () {\n                    ${a.join(", ")}\n                }`}}return Cn[n.type]&&f.push({property:Vi(t,Li.CodeName),values:Cn[n.type]}),ro(p,{attribute_type:n.code[mn.CSHARP],attribute_type_arguments:a,model_property:`.${Vi(t,Li.CodeName)}`})+hn}).join("")}).join("");let m=Ll.enumerateValidationTestVectors(f).map((n,o)=>{let a=!0,s=n.map((e,t)=>{var r=Object.values(f[t].values.cases)[e],n=Object.keys(f[t].values.cases)[e];return"function"==typeof r?r=r():f[t]&&f[t].values&&f[t].values.invalid&&!f[t].values.invalid[n]&&(n="$$"),a=a&&"$"===(n||[!1])[0],Ll.Tabs(3)+`model.${f[t].property} = ${r};`}).join(hn);return ro(u,{model:Vi(r,Li.CodeName),test_name:`Test${o}`,attribute_parameters:"",expected_value:a?"true":"false",set_properties:s,attribute_type:`${Vi(e,Li.CodeName)}Attribute`,properties:h,type:Vi(So(i,t),Li.CodeName)})});var y=ro(l,{model:Vi(e,Li.CodeName),function_name:Vi(s,Li.CodeName),properties:h,type:Vi(So(i,t),Li.CodeName)}),_=ro(c,{name:Vi(e,Li.CodeName),tests:m.join(hn)});y=ro(l,{model:Vi(e,Li.CodeName),function_name:Vi(s,Li.CodeName),properties:h,type:Vi(So(i,t),Li.CodeName)}),a[Vi(e,Li.CodeName)]={id:Vi(e,Li.CodeName),name:`${Vi(e,Li.CodeName)}Attribute`,tname:`${Vi(e,Li.CodeName)}AttributeTests`,template:Rs.Generate({template:y,usings:[...Hr,`${o}${Jr.Model}`,`${o}${Jr.Extensions}`,`${o}${Jr.Constants}`],namespace:o,space:Jr.Validations}),test:Rs.Generate({template:_,usings:[...Hr,...qr,`${o}${Jr.Model}`,`${o}${Jr.Validations}`,`${o}${Jr.Extensions}`,`${o}${Jr.Constants}`],namespace:o,space:Jr.Tests})}}),a}}const wl="./app/templates/stream_process/stream_process_orchestration.tpl",xl="./app/templates/stream_process/stream_process_orchestration_root.tpl",Pl="./app/templates/stream_process/stream_process_orchestration_interface.tpl",$l="./app/templates/stream_process/stream_process_orchestration_agenttype_methods.tpl",jl="./app/templates/stream_process/agent_methods/update.tpl",Rl="./app/templates/stream_process/agent_methods/create.tpl",Dl="./app/templates/stream_process/agent_methods/delete.tpl",Gl="./app/templates/stream_process/stream_process_orchestration_agenttype_methods_interface.tpl",Ul="./app/templates/stream_process/stream_process_orchestration_selected_staged_changes.tpl",Fl="./app/templates/stream_process/tests/stream_process_execution_tests.tpl",Vl="./app/templates/stream_process/tests/create_model_tests.tpl",Bl="./app/templates/tests/tests.tpl";class ql{static GenerateStaticMethods(e){let t=Tn.a.readFileSync(Ul,"utf8");return e.map(e=>{let r=t,n=Vi(e,Li.CodeName);return ro(r,{model:n,"model#allupper":n.toUpperCase(),"model#lower":n.toLowerCase()})+Hl})}static GenerateAgentMethods(e,t){let r=ka(e,Ai.Model),n=ka(e,Ai.Method),o=[t],i=Tn.a.readFileSync($l,"utf8");r=r.filter(e=>n.find(r=>{var n=$a(r);return n[In.Agent]===t.id&&(n[In.Model]===e.id||n[In.CompositeInput]===e.id)}));let a=[],s=[],l=ka(e,Ai.Executor).filter(e=>Vi(e,Li.ExecutorAgent)===t.id);return o.map(e=>{r.filter(e=>l.find(t=>Vi(t,Li.ExecutorModel)===e.id)).map(t=>{s.push(Yl(4)+`await Process${Vi(t,Li.CodeName)}ChangesBy${Hi(e)}();`+Hl)})}),a.push(`       public async Task ProcessStagedChanges(Distribution distribution = null) {\n${s.join("")}\n        }\n`),l.map(t=>{let r=wa(Vi(t,Li.ExecutorAgent)),n=wa(Vi(t,Li.ExecutorModel)),o=wa(Vi(t,Li.ExecutorModelOutput)),s=Wo(e,t.id,sn.ExecutorFunction),l=$a(s),p=Yo(e,{id:s.id,links:[{type:sn.AfterMethod,direction:Jo}]}),u=[],c=[];p.map(e=>{var t=Vi(e,Li.AfterMethod),r=Vi(e,Li.AfterMethodSetup);if(jn[t]&&r&&r[t]){let{templateKeys:n,template_call:o,template:i}=jn[t],a=Tn.a.readFileSync(i,"utf8");Object.keys(n).map(e=>{if(r[t][e]){let i=r[t][e]||"";var n=i.startsWith("#")?i.split("#").join(""):Hi(l[i]||i)||i;a=ro(a,{[e]:n,[`${e}#lower`]:`${n}`.toLowerCase()}),o=ro(o,{[e]:n,[`${e}#lower`]:`${n}`.toLowerCase()})}}),a=ro(a,{function_name:Hi(e)}),o=ro(o,{function_name:Hi(e)}),u.push(o),c.push(a)}});let d="",f="",h="",m="",y="",_="",v={"model_output#lower":`${Hi(o,Li.CodeName)}`.toLowerCase(),model:Hi(n,Li.CodeName),"model#lower":Vi(n,Li.CodeName).toLowerCase(),agent_type:Vi(r,Li.CodeName),"agent_type#lower":Vi(r,Li.CodeName).toLowerCase(),update_method:d,create_method:y,delete_method:h,create_call:_,update_call:f,delete_call:m};u=u.unique().join(hn),Vi(t,Li.ExecutorFunctionType)===cn.Update&&Vi(t,Li.ExecutorAgent)===r.id&&Vi(t,Li.ExecutorModel)===n.id?(d=ro(Tn.a.readFileSync(jl,"utf8"),{...v,ae_calls:u}),f="case Methods.Update:\n                    await Update(change);\n                    break;"):Vi(t,Li.ExecutorFunctionType)===cn.Create&&Vi(t,Li.ExecutorAgent)===r.id&&Vi(t,Li.ExecutorModel)===n.id?(y=ro(Tn.a.readFileSync(Rl,"utf8"),{...v,ae_calls:u}),_="case Methods.Create:\n                    await Create(change);\n                    break;"):Vi(t,Li.ExecutorFunctionType)===cn.Delete&&Vi(t,Li.ExecutorAgent)===r.id&&Vi(t,Li.ExecutorModel)===n.id&&(h=ro(Tn.a.readFileSync(Dl,"utf8"),{...v,ae_calls:u}),m="\n                    case Methods.Delete:\n                        await Delete(change);\n                        break;");var g=ro(i,{...v,update_method:d,update_call:f,create_method:y,create_call:_,delete_method:h,delete_call:m,ae_functions:c.unique().join("")});a.push(g)}),a.join("")}static GenerateAgentInterfaceMethods(e,t){let r=ka(e,Ai.Model),n=ka(e,Ai.Method),o=Tn.a.readFileSync(Gl,"utf8");r=r.filter(e=>n.find(r=>{var n=$a(r);return n[In.Agent]===t.id&&(n[In.Model]===e.id||n[In.CompositeInput]===e.id)}));let i=[],a=ka(e,Ai.Executor).filter(e=>Vi(e,Li.ExecutorAgent)===t.id),s=[];return a.map(e=>{let t=wa(Vi(e,Li.ExecutorAgent)),r=wa(Vi(e,Li.ExecutorModel)),n=wa(Vi(e,Li.ExecutorModelOutput));Vi(e,Li.ExecutorFunctionType)&&s.push(ro("\n                Task {{method}}({{model}}ChangeBy{{agent_type}} change);\n",{method:Vi(e,Li.ExecutorFunctionType),model:Hi(r),agent_type:Hi(t)}));var a=ro(o,{model:Vi(r,Li.CodeName),model_output:Hi(n),"model#lower":Vi(r,Li.CodeName).toLowerCase(),agent_type:Vi(t,Li.CodeName),"agent_type#lower":Vi(t,Li.CodeName).toLowerCase(),update_method:"here interface ok"});i.push(...s),i.push(a)}),i.unique().join("")}static GenerateStrappers(e,t){let r=[];r.push(Yl(4)+"validator = RedStrapper.Resolve<IValidator>();"+Hl);var n=[t];return e.map(e=>{let t=Vi(e,Li.CodeName);r.push(Yl(4)+`${t.toLowerCase()}Arbiter = RedStrapper.Resolve<IRedArbiter<${t}>>();`+Hl),n.map(e=>{var n=Hi(e);r.push(Yl(4)+`${t.toLowerCase()}ChangeBy${n}Arbiter = RedStrapper.Resolve<IRedArbiter<${t}ChangeBy${n}>>();`+Hl)}),Vi(e,Li.IsAgent)&&(r.push(Yl(4)+`${t.toLowerCase()}ResponseArbiter = RedStrapper.Resolve<IRedArbiter<${t}Response>>();`+Hl),r.push(Yl(4)+`${t.toLowerCase()}Executor = RedStrapper.Resolve<I${t}Executor>();`+Hl))}),r.join("")}static GenerateStrappersInstances(e,t){let r=[];r.push(Yl(3)+"public IValidator validator;"+Hl);var n=[t];return e.map(e=>{let t=Vi(e,Li.CodeName);r.push(Yl(3)+`public IRedArbiter<${t}> ${t.toLowerCase()}Arbiter;`+Hl),n.map(e=>{var n=Hi(e);r.push(Yl(3)+`public IRedArbiter<${t}ChangeBy${n}> ${t.toLowerCase()}ChangeBy${n}Arbiter;`+Hl)}),Vi(e,Li.IsAgent)&&(r.push(Yl(3)+`public IRedArbiter<${t}Response> ${t.toLowerCase()}ResponseArbiter;`+Hl),r.push(Yl(3)+`public I${t}Executor ${t.toLowerCase()}Executor;`+Hl))}),r.join("")}static GenerateStreamOrchestrations(e){let t=[];return e.filter(e=>Vi(e,Li.IsAgent)).map(e=>{let r=Vi(e,Li.CodeName);t.push(Yl(4)+`${r.toLowerCase()}StreamProcessOrchestration = RedStrapper.Resolve<I${r}StreamProcessOrchestration>();`+Hl)}),t.join("")}static GenerateStreamOrchestrationInstances(e){let t=[];return e.filter(e=>Vi(e,Li.IsAgent)).map(e=>{let r=Vi(e,Li.CodeName);t.push(`public I${r}StreamProcessOrchestration ${r.toLowerCase()}StreamProcessOrchestration;`)}),t.map(e=>Yl(3)+e+Hl).join("")}static GenerateProcessTests(e){let t=Ba(e),r=ka(e,Ai.Method).filter(e=>![cn.Get,cn.GetAll].some(t=>t===Vi(e,Li.MethodType))),n="",o=Tn.a.readFileSync(Fl,"utf8"),i=Tn.a.readFileSync(Vl,"utf8"),a=ka(e,Ai.Model).filter(e=>{return Bi(e)}).map(e=>ro("           builder.RegisterType<{{agent_type}}StreamProcessOrchestration>().As<I{{agent_type}}StreamProcessOrchestration>();\n",{agent_type:Hi(e)})).join("");n=r.map((e,r)=>{let n=Vi(e,Li.MethodProps);Vi(e,Li.MethodType);if(n){var i=So(t,n[In.AgentType]),s=So(t,n[In.Model]);So(t,n[In.User]),So(t,n[In.Permission])}if(s&&i&&e)return ro(o,{model:Vi(s,Li.CodeName),agent_type:Vi(i,Li.CodeName),function_name:Vi(e,Li.CodeName),test_name:`${Vi(e,Li.CodeName)}Test`,stream_process_orchestration_mocks:a})}).filter(e=>e).join(hn);let s=[];return r.map((r,n)=>{let o=Vi(r,Li.MethodProps),a=Vi(r,Li.MethodType);if(o){var l=So(t,o[In.AgentType]),p=So(t,o[In.Model]),u=So(t,o[In.Permission]);if(t&&u&&a&&l&&p){let n=ql.GetFunctionValidators(e,r),a=null;n&&n.length&&(a=n.map(e=>({cases:Ll.GenerateValidationCases(t,e),isModel:Vi(e,Li.ValidatorModel)===o[In.Model]}))),a&&Mu(a.map(e=>e.cases.length)).map((e,t)=>{let n=a[0].cases[e[0]],o=a[1].cases[e[1]],u="",c="";a[1].isModel?(u=ro(o.set_properties,{model:"model"}),c=ro(n.set_properties,{model:"agent"})):(u=ro(o.set_properties,{model:"agent"}),c=ro(n.set_properties,{model:"model"})),s.push(ro(i,{model:Vi(p,Li.CodeName),agent_type:Vi(l,Li.CodeName),set_agent_propeties:u,set_model_properties:c,function_name:Vi(r,Li.CodeName),test_result:!(n.resultSuccess&&o.resultSuccess),test_name:`${Vi(r,Li.CodeName)}${t}Test`}))})}}}).join(hn),n+hn+s.join(hn)}static EnumerateFunctionValidators(e,t){let r=Ba(e),n=Vi(t,Li.MethodProps),o=ql.GetFunctionValidators(e,t),i=null;return o&&o.length&&(i=o.map(e=>({cases:Ll.GenerateValidationCases(r,e),isModel:Vi(e,Li.ValidatorModel)===n[In.Model]}))),Mu((i||[]).map(e=>e.cases.length)).map((e,t)=>{let r=i[0].cases[e[0]],n=i[1].cases[e[1]],o="",a="";return i[1].isModel?(o=ro(n.set_properties,{model:"model"}),a=ro(r.set_properties,{model:"agent"}),n.propertyInformation.map(e=>e.set_properties=ro(e.set_properties,{model:"model"})),r.propertyInformation.map(e=>e.set_properties=ro(e.set_properties,{model:"agent"})),{model:n,agent:r}):(o=ro(n.set_properties,{model:"agent"}),a=ro(r.set_properties,{model:"model"}),n.propertyInformation.map(e=>e.set_properties=ro(e.set_properties,{model:"agent"})),r.propertyInformation.map(e=>e.set_properties=ro(e.set_properties,{model:"model"})),{agent:n,model:r})})}static GetFunctionValidators(e,t){return ka(e,Ai.Validator).filter(e=>Vi(e,Li.ValidatorFunction)===t.id)}static Generate(e){var{state:t,key:r}=e;let n=Ba(t),o=n?n[oo.NAMESPACE]:null,i=Tn.a.readFileSync(xl,"utf8"),a=Tn.a.readFileSync(Bl,"utf8"),s=Tn.a.readFileSync(Pl,"utf8");let l=ka(t,Ai.Model),p=l.filter(e=>Vi(e,Li.IsAgent)),u={};p.map(e=>{var n=ql.GenerateAgent({state:t,key:r,agent:e});u={...u,...n}});let c=ql.GenerateStreamOrchestrations(l),d=ql.GenerateStreamOrchestrationInstances(l);i=ro(i,{agent_type_methods:`\n\n        public async Task ProcessStagedChanges(Distribution distribution = null) \n        {\n${p.map(e=>`await ${Hi(e).toLowerCase()}StreamProcessOrchestration.ProcessStagedChanges(distribution);`).map(e=>Yl(4)+e+Hl).join("")}\n        }\n        `,arbiters_strappers:c,arbiter_instances:d});let f=ro(a,{name:"StreamProcessOrchestration",tests:ql.GenerateProcessTests(t)});s=ro(s,{agent_type_methods:"",agent_type:""});let h={StreamProcessOrchestration:{id:"StreamProcessOrchestration",name:"StreamProcessOrchestration",iname:"IStreamProcessOrchestration",tname:"StreamProcessOrchestrationTests",template:Rs.Generate({template:i,usings:[...Hr,"System.Linq.Expressions",`${o}${Jr.Model}`,`${o}${Jr.Parameters}`,`${o}${Jr.Executors}`,`${o}${Jr.Interface}`,`${o}${Jr.Constants}`],namespace:o,space:Jr.StreamProcess}),interface:Rs.Generate({template:s,usings:[...Hr,`${o}${Jr.Model}`,`${o}${Jr.Parameters}`,`${o}${Jr.Interface}`,`${o}${Jr.Constants}`],namespace:o,space:Jr.StreamProcess}),test:Rs.Generate({template:f,usings:[...Hr,...qr,`${o}${Jr.Model}`,`${o}${Jr.Parameters}`,`${o}${Jr.Interface}`,`${o}${Jr.StreamProcess}`,`${o}${Jr.Executors}`,`${o}${Jr.Extensions}`,`${o}${Jr.Constants}`],namespace:o,space:Jr.Tests})}};return u={...u,...h}}static GenerateAgent(e){var{state:t,key:r,agent:n}=e;let o=ka(t,Ai.Model),i=Ba(t),a=i?i[oo.NAMESPACE]:null,s=Tn.a.readFileSync(wl,"utf8"),l=Tn.a.readFileSync(Pl,"utf8"),p=Tn.a.readFileSync(Bl,"utf8"),u=ql.GenerateAgentMethods(t,n),c=ql.GenerateAgentInterfaceMethods(t,n),d=ql.GenerateStaticMethods(o,n),f=ql.GenerateStrappers(o,n),h=ql.GenerateStrappersInstances(o,n);s=ro(s,{static_methods:d.join(""),agent_type_methods:u,agent_type:Hi(n),arbiters_strappers:f,arbiter_instances:h});let m=ql.GenerateProcessTests(t,n),y=ro(p,{name:`${Hi(n)}StreamProcessOrchestration`,agent_type:Hi(n),tests:m});return l=ro(l,{agent_type:Hi(n),agent_type_methods:c}),{[`${Hi(n)+"StreamProcessOrchestration"}`]:{id:"StreamProcessOrchestration",name:`${Hi(n)}StreamProcessOrchestration`,iname:`I${Hi(n)}StreamProcessOrchestration`,tname:`${Hi(n)}StreamProcessOrchestrationTests`,template:Rs.Generate({template:s,usings:[...Hr,"System.Linq.Expressions",`${a}${Jr.Model}`,`${a}${Jr.Parameters}`,`${a}${Jr.Executors}`,`${a}${Jr.Interface}`,`${a}${Jr.Constants}`],namespace:a,space:Jr.StreamProcess}),interface:Rs.Generate({template:l,usings:[...Hr,`${a}${Jr.Model}`,`${a}${Jr.Parameters}`,`${a}${Jr.Interface}`,`${a}${Jr.Constants}`],namespace:a,space:Jr.StreamProcess}),test:Rs.Generate({template:y,usings:[...Hr,...qr,`${a}${Jr.Model}`,`${a}${Jr.Parameters}`,`${a}${Jr.Interface}`,`${a}${Jr.StreamProcess}`,`${a}${Jr.Executors}`,`${a}${Jr.Extensions}`,`${a}${Jr.Constants}`],namespace:a,space:Jr.Tests})}}}}const Hl="\n",Wl="   ";function Yl(e){let t="";for(var r=0;r<e;r++)t+=Wl;return t}const zl="./app/templates/models/itemfilters/item_filter.tpl",Xl="./app/templates/models/itemfilters/filter_property_function_value.tpl",Ql="./app/templates/models/itemfilters/filter_property_function_value_equals.tpl";class Kl{static predicates(e,t={}){return e.map(e=>{let r=Vi(e,Li.FilterModel),n=[],o=Da(e.id);return o&&o.length?n=o.map(e=>`${e.paramName}`):r&&(Object.values(r.properties).map(e=>Object.values(e.validators).map(e=>{e&&e.type===Mn.EqualsModelRef&&(t[e.node]=!0,n.push(e.node))})),n=n.filter(e=>e).unique().sort()),ro(`${Hi(e)}.Filter({{predicate_parameters}})`,{predicate_parameters:n.join(", ")})})}static Generate(e){var{state:t,key:r}=e;let n=Ba(t),o=n?n[oo.NAMESPACE]:null,i=Ba(t),a={},s=Tn.a.readFileSync(zl,"utf8");ka(t,Ai.ModelFilter);return ka(t,Ai.ModelItemFilter).map(e=>{var r=Wo(t,e.id),n=null;r&&(n=$a(r));let l=Vi(e,Li.ModelItemFilter),p=Vi(e,Li.FilterModel),u=Da(e.id),c=[],d=[];if(p&&p.properties){let e=Tn.a.readFileSync(Xl,"utf8"),t=[];Object.keys(p.properties).map(e=>{let r=Hi(e);p.properties[e]&&Object.keys(p.properties[e].validators).map(o=>{let a=p.properties[e].validators[o],s="";Hi(o);if(a&&a.type)switch(a.type){case Mn.EqualsTrue:s="true";break;case Mn.EqualsFalse:s="false";break;case Mn.EqualsAgent:s=`agent.${r}`;break;case Mn.EqualsParent:s=`parent.${r}`;break;case Mn.EqualsModelRef:if(a.node){let e=So(i,n[a.node]);e&&d.push(`${Hi(e)} ${a.node}`),s=`${a.node}.Id`}break;case Mn.EqualsModelProperty:if(a.node&&a.nodeProperty){let e=So(i,n[a.node]);e&&d.push(`${Hi(e)} ${a.node}`),s=`${a.node}.${Hi(a.nodeProperty)}`}break;default:throw"not handled model item filter generation case"}let l=Tn.a.readFileSync(Ql,"utf8");t.push(ro(l,{property:r,value:s,function:"=="}))})}),d=d.filter(e=>e).unique().sort(),u&&u.length&&(d=u.map(e=>`${e.paramClass} ${e.paramName}`)),c.push(ro(e,{filter:t.join(""),model:Hi(l),parameters:d.join(", ")}))}let f=ro(s,{code_name:Vi(e,Li.CodeName),filter:c});a[Vi(e,Li.CodeName)]={id:Vi(e,Li.CodeName),name:`${Vi(e,Li.CodeName)}`,template:Rs.Generate({template:f,usings:[...Hr,`${o}${Jr.Model}`,`${o}${Jr.Interface}`,`${o}${Jr.Constants}`],namespace:o,space:Jr.Controllers})}}),a}}const Jl="./app/templates/maestro/maestro.tpl",Zl="./app/templates/maestro/imaestro.tpl",ep="./app/templates/tests/tests.tpl",tp="./app/templates/maestro/tests/maestro.tpl",rp="./app/templates/maestro/tests/maestro_same_agent_model.tpl",np="./app/templates/maestro/tests/get_agent_manytomany_listchild_interface.tpl",op="./app/templates/maestro/tests/maestro_get.tpl";class ip{static Tabs(e){let t="";for(var r=0;r<e;r++)t+=sp;return t}static Generate(e){var{state:t,key:r}=e;let n=Ba(t),o=n?n[oo.NAMESPACE]:null,i=ka(t,Ai.Maestro),a=Tn.a.readFileSync(Jl,"utf8"),s=Tn.a.readFileSync(Zl,"utf8"),l=Tn.a.readFileSync(ep,"utf8"),p=Tn.a.readFileSync(tp,"utf8"),u=Tn.a.readFileSync(rp,"utf8"),c=Tn.a.readFileSync(op,"utf8"),d=Ba(t),f=Va(t),h={};return i.map(e=>{let r=a,i="",m="",y=`${Vi(e,Li.CodeName)}`,_=[],v=Xo(d,{id:e.id,type:sn.FunctionLink,direction:Jo}),g=[],b=[],C=Vi(e,Li.CodeName),E=[];(_=v).length&&_.filter(e=>!Vi(e,Li.NotIncludedInController)).map(e=>{let r=Vi(e,Li.FunctionType);var o=Xn[r];if(o){let d=o.template,h=o.interface,y=(o.test,""),_="";o.parentGet&&(y="string");let v=`${Vi(e,Li.CodeName)}`,O=`${Vi(e,Li.HttpMethod)}`,M=`${Vi(e,Li.HttpRoute)}`,N=null,k=null,S=null,T=null,A=null,I=null,L=null,w="",x=null,P=null,$=Vi(e,Li.MethodProps),j="";if($){N=So(n,$[In.AgentType]||$[In.Agent]),x=So(n,$[In.Model]),k=So(n,$[In.User]),T=So(n,$[In.Permission]),A=So(n,$[In.ModelFilter]),I=So(n,$[In.CompositeInput]),L=So(n,$[In.ManyToManyModel]),P=Hi($[In.ModelOutput]),_=(S=So(n,$[In.Parent]))?Vi(S,Li.CodeName):"{missing parent name}",L=So(n,$[In.ManyToManyModel]);var a=Yo(t,{id:e.id,links:[{type:sn.ModelItemFilter,direction:Jo}]}),s={};j=(j=Kl.predicates(a,s)).length?j.join(", "):"",s.parent&&(w=`var parent = await arbiter${_}.Get<${_}>(model.${_});`)}let R=N?`${Vi(N,Li.CodeName)}`.toLowerCase():"{maestro_generator_mising_agentTypeNode}",D=x?Vi(x,Li.CodeName):"{maestro_generator_mising_model}",G=N?`${Vi(N,Li.CodeName)}`:"{maestro_generator_mising_agentTypeNode}",U=Vi(e,Li.MethodType),F=L?Vi(L,Li.CodeName):"{maestro_connection_type_missing}";S&&g.push(_);let V=function(e,t){return e&&t&&t.length?Ao(e,Ur.Model).filter(e=>Vi(e,Zr.ManyToManyNexus)).filter(e=>!(t||[]).some(t=>-1!==(Vi(e,Zr.ManyToManyNexusTypes)||[]).indexOf(t))):[]}(n,[!!x&&x.id,N?N.id:null].filter(e=>e))||[];g.push(...V.map(e=>Vi(e,Li.CodeName))),g.push(G,D),b.push({agent_type:G,model_type:D});let B="",q=!1;o.parentGet?(B=S?`${Vi(S,Li.CodeName)}`.toLowerCase():"{missing parent name}",N&&S&&(q=N.id===S.id)):B=x?`${Vi(x,Li.CodeName)}`.toLowerCase():"{maestro_generator_mising_model}";let H={function_name:v,agent_type:G,"agent_type#lower":`${G}`.toLowerCase(),parent_type:_,agent:R,"composite-input":Hi(I)||"",model_input:Hi(I)||D,value_type:y,value:B,parent_setup:w,model_output:P,model:D,connect_type:F,comma:j.length?",":"",predicates:j,maestro_function:v,filter_function:A?Vi(A,Li.CodeName):"{missing filter node}",user:k?Vi(k,Li.CodeName):"{maestro_generator_mising_user}",http_route:M||"{maestro_generator_http_method",http_method:O||"{maestro_generator_http_method",user_instance:k?`${Vi(k,Li.CodeName)}`.toLowerCase():"{maestro_generator_mising_userNode}",output_type:x?Hi(x):"{maestro_generator_missing_model}",maestro_interface:Wn(C),permission_function:T?Vi(T,Li.CodeName)+U:"{MISSING_PERMISSION_FUNCTION}",input_type:x?Hi(x):"{maestro_generator_missing_model}"};d=ro(d,H),h=ro(h,H),i+=ap+d,m+=ap+h;var l=Ol.EnumeratePermissionCases(f,T,U,N,x);let W=ql.EnumerateFunctionValidators(t,e);W&&l&&(W.map(e=>{l.map(t=>{let r={},n={};if(e&&e.agent&&t.agentProperties){var o=[...e.agent.propertyInformation.map(e=>e.set_properties),...t.properties.filter(e=>e.type===In.Agent).map(e=>e.props).map((r,n)=>-1===e.agent.propertyInformation.findIndex(e=>e.property===r.property)&&t.agentProps[n]).filter(e=>e)].join(hn);r.agent=o}if(e&&e.model&&t.itemProperties){o=[...e.model.propertyInformation.map(e=>e.set_properties),...t.filter(e=>e.type===In.Model).map(e=>e.props).map((r,n)=>-1===e.model.propertyInformation.findIndex(e=>e.property===r.property)&&t.itemProps[n]).filter(e=>e)].join(hn);r.model=o}if(e&&e.agent&&t.agentProperties){o=[...t.agentProperties.map((e,r)=>t.agentProps[r]),...e.agent.propertyInformation.map((r,n)=>-1===t.agentProperties.findIndex(e=>e.property===r.property)&&e.agent.propertyInformation[n].set_properties).filter(e=>e)].join(hn);n.agent=o}if(e&&e.model&&t.itemProperties){o=[...t.itemProperties.map((e,r)=>t.itemProps[r]),...e.model.propertyInformation.map((r,n)=>-1===t.itemProperties.findIndex(e=>e.property===r.property)&&e.model.propertyInformation[n].set_properties).filter(e=>e)].join(hn);n.model=o}E.push(n),E.push(r)})}),E=E.map((e,t)=>{let n=p;switch(o.method){case cn.Get:case cn.GetAll:n=c,q&&(n=u)}switch(r){case An.Get_ManyToMany_Agent_Value__IListChild:n=Tn.a.readFileSync(np,"utf8")}return o.test&&(n=o.test),ro(n,{agent:G,many_to_many:Vi(L,Li.CodeName),parent:Vi(S,Li.CodeName),set_many_to_many_properties:"//{not set yet}",value:x?`${Vi(x,Li.CodeName)}`.toLowerCase():"{maestro_generator_mising_model}",model:D,model_input:Hi(I)||D,function_name:v,maestro:C,set_agent_properties:e.agent,user:k?Vi(k,Li.CodeName):"{maestro_generator_mising_user}",set_model_properties:e.model,testname:`${v}Test${t}`})}))}}),g=g.unique(),b=b.unique(e=>`${e.agent_type}`);var O=g.map(e=>`IRedArbiter<${e}> _arbiter${e}`),M=b.map(e=>`IPermissions${e.agent_type} _${e.agent_type.toLowerCase()}Permissions`),N=g.map(e=>ap+ip.Tabs(4)+`arbiter${e} = _arbiter${e};`),k=b.map(e=>ap+ip.Tabs(4)+`${e.agent_type.toLowerCase()}Permissions = _${e.agent_type.toLowerCase()}Permissions;`),S=g.map(e=>ap+ip.Tabs(3)+`private readonly IRedArbiter<${e}> arbiter${e};`),T=b.map(e=>ap+ip.Tabs(3)+`private readonly IPermissions${e.agent_type} ${e.agent_type.toLowerCase()}Permissions;`);let A=ro(l,{name:y,tests:E.join(hn)});r=ro(r,{codeName:y,set_properties:[...N,...k].join(ap),properties:[...T,...S].join(" "),injected_services:[...O,...M].map((e,t)=>ap+ip.Tabs(7)+e).join(","),"codeName#alllower":y.toLowerCase(),functions:i});let I=ro(s,{codeName:y,set_properties:[...N,...k].join(ap),properties:[...T,...S].join(" "),injected_services:[...O,...M].map((e,t)=>ap+ip.Tabs(7)+e).join(","),"codeName#alllower":y.toLowerCase(),functions:m});h[Vi(e,Li.CodeName)]={id:Vi(e,Li.CodeName),name:Vi(e,Li.CodeName),iname:`I${Vi(e,Li.CodeName)}`,tname:`${Vi(e,Li.CodeName)}Tests`,template:Rs.Generate({template:r,usings:[...Hr,`${o}${Jr.Model}`,`${o}${Jr.Interface}`,`${o}${Jr.StreamProcess}`,`${o}${Jr.Constants}`,`${o}${Jr.Permissions}`,`${o}${Jr.Parameters}`],namespace:o,space:Jr.Controllers}),interface:Rs.Generate({template:I,usings:[...Hr,`${o}${Jr.Model}`,`${o}${Jr.Interface}`],namespace:o,space:Jr.Controllers}),test:Rs.Generate({template:A,usings:[...Hr,...qr,`${o}${Jr.Model}`,`${o}${Jr.Parameters}`,`${o}${Jr.Interface}`,`${o}${Jr.StreamProcess}`,`${o}${Jr.Permissions}`,`${o}${Jr.Controllers}`,`${o}${Jr.Executors}`,`${o}${Jr.Extensions}`,`${o}${Jr.Constants}`],namespace:o,space:Jr.Tests})}}),h}}const ap="\n",sp="   ",lp="./app/templates/tests/tests.tpl",pp="./app/templates/stream_process/stream_process_change_class_extention.tpl",up="./app/templates/stream_process/stream_process_change_class_constructor.tpl",cp="./app/templates/stream_process/tests/stream_process_change_class_constructor.tpl",dp="./app/templates/models/model_statics.tpl";class fp{static Tabs(e){let t="";for(var r=0;r<e;r++)t+=mp;return t}static Generate(e){var{state:t,key:r}=e;let n=ka(t,Ai.Model),o=ka(t,Ai.AfterEffect),i=n.filter(e=>Vi(e,Li.IsAgent)),a=Ba(t),s=a?a[oo.NAMESPACE]:null,l=Tn.a.readFileSync(lp,"utf8"),p=Tn.a.readFileSync(pp,"utf8"),u=Tn.a.readFileSync(up,"utf8"),c=Tn.a.readFileSync(cp,"utf8"),d={};return n.map(e=>{i.map(r=>{let n=p,i=l,a=[],f=[],h=[],m=Tn.a.readFileSync(dp,"utf8");o.filter(n=>{let o=Vi(n,Li.AfterMethod),i=Vi(n,Li.AfterMethodSetup);if(i&&o&&i[o][In.ModelOutput]){var a=Wo(t,n.id);if(a)return Pa(a,i[o][In.Agent])===r.id&&Pa(a,i[o][In.ModelOutput])==e.id}return!1}).filter(n=>{let o=Vi(n,Li.AfterMethod),i=Vi(n,Li.AfterMethodSetup);if(jn[o]&&jn[o]){let s=Wo(t,n.id),l=jn[o][Qn.stream_process_change_parameter];if(l){let t=Tn.a.readFileSync(l,"utf8");t=ro(t,{model:Hi(e),value:Vi(e,Li.ValueName)||"value",agent_type:Hi(r),model_update:Hi(Pa(s,i[o][In.UpdateModel])),agent:Vi(r,Li.AgentName)||"agent",change_type:`Methods.${i[o][In.MethodType]}`,method:i[o][In.MethodType]}),a.push(t)}let p=jn[o][Qn.update_with];if(p){let e=Tn.a.readFileSync(p,"utf8");e=ro(e,{model_update:Hi(Pa(s,i[o][In.UpdateModel]))}),h.push(e+hn)}}}),Object.values(cn).filter(e=>![cn.Get,cn.GetAll].some(t=>t==e)).map(t=>{let n=u;n=ro(n,{model:Hi(e),value:Vi(e,Li.ValueName)||"value",agent_type:Hi(r),agent:Vi(r,Li.AgentName)||"agent",change_type:`Methods.${t}`,method:t});let o=c;o=ro(o,{model:Hi(e),value:Vi(e,Li.ValueName)||"value",agent_type:Hi(r),agent:Vi(r,Li.AgentName)||"agent",change_type:`Methods.${t}`,method:t}),a.push(n),f.push(o)});let y={model:`${Vi(e,Li.CodeName)}ChangeBy${Vi(r,Li.CodeName)}`};a.push(ro(m,y)),n=ro(n,{model:Vi(e,Li.CodeName),agent_type:Vi(r,Li.CodeName),updates_with:h.unique().join(""),constructors:a.unique().join(hp)}),i=ro(i,{name:`${Vi(e,Li.CodeName)}ChangeBy${Vi(r,Li.CodeName)}`,tests:f.unique(e=>e).join("")});let _=`${Vi(e,Li.CodeName)}ChangeBy${Vi(r,Li.CodeName)}`;d[_]={id:_,name:_,tname:`${Vi(e,Li.CodeName)}ChangeBy${Vi(r,Li.CodeName)}Tests`,template:Rs.Generate({template:n,usings:[...Hr,`${s}${Jr.Constants}`,`${s}${Jr.Model}`],namespace:s,space:Jr.Parameters}),test:Rs.Generate({template:i,usings:[...Hr,...qr,`${s}${Jr.Constants}`,`${s}${Jr.Parameters}`,`${s}${Jr.Model}`],namespace:s,space:Jr.Tests})}})}),d}}const hp="\n",mp="   ",yp="./app/templates/constants.tpl";class _p{static Tabs(e){let t="";for(var r=0;r<e;r++)t+=gp;return t}static Generate(e){var{values:t=[],state:r}=e;let n=Ba(r),o=n?n[oo.NAMESPACE]:null,i=Tn.a.readFileSync(yp,"utf8"),a={};return t.map(e=>{let{model:t,name:r}=e,n=i;var s=Object.keys(t).map(e=>{let r=ro('public const string {{name}} = "{{value}}";',{name:e,value:t[e]});return _p.Tabs(3)+r}).join(vp);n=ro(n,{constants:s,constants_type:r}),a[r]={id:r,name:r,template:Rs.Generate({template:n,usings:[...Hr],namespace:o,space:Jr.Constants})}}),a}}const vp="\n",gp="   ",bp="./app/templates/tests/tests.tpl",Cp="./app/templates/stream_process/stream_process.tpl",Ep="./app/templates/stream_process/tests/stream_process.tpl",Op="./app/templates/stream_process/stream_process_function.tpl";class Mp{static GenerateStaticMethods(e){let t=e.filter(e=>Vi(e,Li.IsAgent)),r=Tn.a.readFileSync(Op,"utf8"),n=[];return t.map(t=>{e.map(e=>{let o=r,i=Vi(e,Li.CodeName),a=ro(o,{model:i,agent_type:Vi(t,Li.CodeName),"model#allupper":i.toUpperCase()});n.push(a+Np)})}),n}static GenerateStaticMethodTests(e){let t=e.filter(e=>Vi(e,Li.IsAgent)),r=Tn.a.readFileSync(Ep,"utf8"),n=[];return t.map(t=>{e.map(e=>{let o=r,i=Vi(e,Li.CodeName),a=ro(o,{model:i,agent_type:Vi(t,Li.CodeName),"model#allupper":i.toUpperCase()});n.push(a+Np)})}),n.unique(e=>e)}static Generate(e){var{state:t,key:r}=e;let n=ka(t,Ai.Model),o=Ba(t),i=o?o[oo.NAMESPACE]:null,a=Tn.a.readFileSync(Cp,"utf8"),s=Tn.a.readFileSync(bp,"utf8"),l=Mp.GenerateStaticMethods(n),p=Mp.GenerateStaticMethodTests(n);return a=ro(a,{static_methods:l.unique(e=>e).join("")}),s=ro(s,{tests:p.unique(e=>e).join(""),name:"StreamProcess"}),{StreamProcess:{id:"StreamProcess",name:"StreamProcess",template:Rs.Generate({template:a,usings:[...Hr,"System.Threading",`${i}${Jr.Constants}`,`${i}${Jr.Parameters}`,`${i}${Jr.Model}`],namespace:i,space:Jr.StreamProcess}),test:Rs.Generate({template:s,usings:[...Hr,...qr,"System.Threading",`${i}${Jr.Constants}`,`${i}${Jr.StreamProcess}`,`${i}${Jr.Parameters}`,`${i}${Jr.Model}`],namespace:i,space:Jr.Tests})}}}}const Np="\n",kp="./app/templates/stream_process/stream_process_response_class_extention.tpl",Sp="./app/templates/stream_process/stream_process_response_class_extention_constructor.tpl",Tp="./app/templates/stream_process/tests/stream_process_response_class_extention_constructor.tpl",Ap="./app/templates/stream_process/stream_process_response_class_extention_constructor_failed.tpl",Ip="./app/templates/tests/tests.tpl";class Lp{static Tabs(e){let t="";for(var r=0;r<e;r++)t+=xp;return t}static Generate(e){var{state:t,key:r}=e;let n=ka(t,Ai.Model),o=n.filter(e=>Vi(e,Li.IsAgent)),i=Ba(t),a=i?i[oo.NAMESPACE]:null,s=Tn.a.readFileSync(kp,"utf8"),l=Tn.a.readFileSync(Sp,"utf8"),p=Tn.a.readFileSync(Tp,"utf8"),u=Tn.a.readFileSync(Ap,"utf8"),c=Tn.a.readFileSync(Ip,"utf8"),d={};return o.map(e=>{let t=[],r=[],o=s,i=c;n.map(o=>{n.map(n=>{Object.values(cn).filter(e=>e!==cn.Get&&e!==cn.GetAll).map(i=>{let a=l,s=u,c=p,d=null,f="",h=`${Vi(o,Li.CodeName)}ChangeBy${Vi(e,Li.CodeName)}`;i===cn.Delete?(d=`${h} change, bool res`,f=`\n            var change = ${h}.Create();\n            var res = true;\n                            `):(d=`${h} change, ${Vi(n,Li.CodeName)} ${(Vi(n,Li.ValueName)||"").toLowerCase()}`,f=`\n            var change = ${h}.Create();\n            var res =  ${Vi(n,Li.CodeName)}.Create();\n            change.Response = "response";\n            change.ChangeType = "changeType";\n                            `);let m=`\n            ${i===cn.Delete?"":`\n            result.IdValue = ${(Vi(n,Li.ValueName)||"").toLowerCase()}.Id;`}\n            result.Response = change.Response;\n            result.ChangeType = change.ChangeType;\n            `,y=`\n            var response = ${Vi(e,Li.CodeName)}Response.${i}(change, res);\n`;a=ro(a,{model:Vi(n,Li.CodeName),value:Vi(n,Li.ValueName)||"value",agent_type:Vi(e,Li.CodeName),agent:Vi(e,Li.AgentName)||"agent",change_type:`Methods.${i} `,method:i,parameters:d,parameters_property:m}),c=ro(c,{model:Vi(n,Li.CodeName),model2:Vi(o,Li.CodeName),value:Vi(n,Li.ValueName)||"value",agent_type:Vi(e,Li.CodeName),agent:Vi(e,Li.AgentName)||"agent",change_type:`Methods.${i} `,method:i,assert:"\n            Assert.AreEqual(response.Response, change.Response);\n            Assert.AreEqual(response.ChangeType, change.ChangeType);\n",act:y,arrange:f,parameters:d,parameters_property:m}),s=ro(s,{model:Vi(n,Li.CodeName),value:Vi(n,Li.ValueName)||"value",agent_type:Vi(e,Li.CodeName),agent:Vi(e,Li.AgentName)||"agent",change_type:`Methods.${i} `,method:i,parameters:d,parameters_property:m}),r.some(e=>e===c)||r.push(c),-1===t.indexOf(a)&&t.push(a),-1===t.indexOf(s)&&t.push(s)})})}),o=ro(o,{model:Vi(e,Li.CodeName),constructors:t.join(wp),properties:""}),i=ro(i,{model:Vi(e,Li.CodeName),constructors:t.join(wp),name:`${Vi(e,Li.CodeName)}Response`,properties:"",tests:r.join(wp)}),d[Vi(e,Li.CodeName)]={id:Vi(e,Li.CodeName),name:`${Vi(e,Li.CodeName)}Response`,tname:`${Vi(e,Li.CodeName)}ResponseTests`,template:Rs.Generate({template:o,usings:[...Hr,`${a} ${Jr.Constants} `,`${a} ${Jr.Model} `],namespace:a,space:Jr.Parameters}),test:Rs.Generate({template:i,usings:[...Hr,...qr,`${a} ${Jr.Parameters} `,`${a} ${Jr.Constants} `,`${a} ${Jr.Model} `],namespace:a,space:Jr.Parameters})}}),d}}const wp="\n                ",xp="   ",Pp="./app/templates/executor/executor_class.tpl",$p="./app/templates/executor/executor_class_interface.tpl",jp="./app/templates/executor/create.tpl",Rp="./app/templates/executor/create_composite_input.tpl",Dp="./app/templates/executor/executor_entry_methods.tpl",Gp="./app/templates/executor/executor_entry_methods_interface.tpl",Up="./app/templates/executor/entry_method_case.tpl",Fp="./app/templates/executor/update.tpl",Vp="./app/templates/executor/get.tpl",Bp="./app/templates/tests/tests.tpl",qp="./app/templates/executor/executor_method_composite_input.tpl",Hp="./app/templates/executor/executor_methods.tpl",Wp="./app/templates/executor/executor_methods_interface.tpl";class Yp{static enumerateValidationTestVectors(e){var t=e.map(e=>Object.keys(e.values.cases).length);return Yp.EnumerateCases(t)}static EnumerateCases(e,t=0){return Mu(e,t)}static Tabs(e){let t="";for(var r=0;r<e;r++)t+="    ";return t}static Generate(e){var{state:t,key:r}=e;let n=Ba(t),o=n?n[oo.NAMESPACE]:null,i=Ba(t),a={},s=ka(t,Ai.Executor),l=Tn.a.readFileSync(Pp,"utf8"),p=Tn.a.readFileSync($p,"utf8"),u=Tn.a.readFileSync(Hp,"utf8"),c=Tn.a.readFileSync(qp,"utf8"),d=Tn.a.readFileSync(Wp,"utf8"),f=Tn.a.readFileSync(jp,"utf8"),h=Tn.a.readFileSync(Rp,"utf8"),m=Tn.a.readFileSync(Fp,"utf8"),y=Tn.a.readFileSync(Vp,"utf8"),_=Tn.a.readFileSync(Dp,"utf8"),v=Tn.a.readFileSync(Gp,"utf8"),g=Tn.a.readFileSync(Up,"utf8"),b=(Tn.a.readFileSync(Bp,"utf8"),{}),C={},E={},O=[];ka(t,Ai.Model).filter(e=>Vi(e,Li.IsAgent));ka(t,[Ai.Function,Ai.Method]).map(e=>{let t,r=$a(e);r&&r[In.CompositeInput]&&(t=Hi(r[In.CompositeInput]));let n=r[In.Agent],o=r[In.Model];O.push({agentId:n,agent:Hi(n),model:t||Hi(o),model_output:Hi(o),function:Hi(e),method:Vi(e,Li.MethodType)})}),s.map(e=>{var r=Vi(e,Li.ExecutorAgent),n=Vi(e,Li.ExecutorModel),o=Vi(e,Li.ExecutorModelOutput),a=So(i,o),s=So(i,n),l=So(i,r),p=Vi(e,Li.ExecutorFunction),_=So(i,p),v=Vi(e,Li.ExecutorFunctionType),g=So(i,p);let O=Co(Vi(e,Li.Executor));var M=[];let N=Vi(l,Li.CodeName)+Vi(s,Li.CodeName)+Vi(g,Li.MethodType);E[N]=E[N]||[],E[N].push({agent:Hi(l),model:Hi(s),model_output:Hi(a),functType:v,funct:Hi(_)});let k=$a(_),S=Object.keys(O||{}).map(r=>{let n=So(i,r),o=O[r];return Object.keys(o.validators).map(r=>{let a=o.validators[r],s=So(i,a.node),l="";if(s)switch(Vi(s,Li.NODEType)){case Ai.ExtensionType:if(a&&a.extension){let e={"_ _":'"_____"'};l=Object.keys(a.extension).map(t=>{if(a.extension[t])return e[`${t}`]=`${Vi(s,Li.CodeName)}.${on(t)}`,e[`${t}`]}).filter(e=>e),l=e.filter(e=>e).unique(e=>e).join(),M.push({property:Vi(n,Li.CodeName),values:{cases:e}}),l=`new List<string> () {\n                ${l}\n            }`}break;case Ai.Enumeration:}Cn[a.type]&&M.push({property:Vi(n,Li.CodeName),values:Cn[a.type]});let p="result{{model_property}} = data{{model_property}};",u={};switch(a.type){case En.AgentReference:p="result{{model_property}} = agent.Id;";break;case En.ParentReference:p="result{{model_property}} = data{{model_property}};";break;case En.Copy:break;case En.AddModelReference:p=Tn.a.readFileSync("app/templates/executor/snippets/add-model-reference.tpl","utf8");let{references:r}=a;if(r){let n=Wo(t,e.id);if(n){let e=$a(n);Object.keys(r).map(t=>{u[t]=Hi(e[r[t]])})}}break;default:throw"not handle [execution generator]"}var c=ro(p,{attribute_type:a.code[mn.CSHARP],attribute_type_arguments:l,model_property:`.${Vi(n,Li.CodeName)}`,...u});return Yp.Tabs(4)+c+hn}).unique(e=>e).join("")}).unique(e=>e).join(""),T="{{not-defined template}}",A=u;switch(v){case cn.Create:T=f,k[In.CompositeInput]&&(A=c,T=h);break;case cn.Update:T=m;break;case cn.Get:case cn.GetAll:T=y}var I=ro(T,{property_sets:S,model:`${Hi(s)}`,model_output:Hi(a)});let L=Hi(l);L=!!L&&`${L} agent`;let w=Hi(s);w=!!w&&`${w} data`;let x=!!L&&`${Vi(s,Li.CodeName)}ChangeBy${Vi(l,Li.CodeName)}`,P=[w,L,x=!!x&&`${x} change`].filter(e=>e).join(", ");I=ro(A,{model:Hi(s),model_output:Hi(a)||Hi(s),method_name:Hi(g),parameters:P,data:Hi(s),agent:Hi(l),change:`${Hi(s)}Change`,method_guts:I});var $=ro(d,{model:Hi(s),model_output:Hi(a)||Hi(s),method_name:Hi(g),parameters:P,data:Hi(s),agent:Hi(l),change:`${Hi(s)}Change`,method_guts:I});C[r]=C[r]||[],b[r]=b[r]||[],b[r].push(I),C[r].push($)});let M=O.map(e=>{var{agent:t,agentId:r,model:n,model_output:o,method:i}=e;let a=(E[t+n+e.method]||[]).map(t=>{var{agent:r,model:n,functType:o,funct:i}=t;return e.agent,ro(g,{agent:r,model:n,func_name:i})+hn}).unique(e=>e).join("");return{template:ro(_,{agent:t,model:n,cases:a,change:`${n}`,model_output:o||n,method:i})+hn,agent:r}}),N=O.map(e=>{var{agent:t,model:r,method:n,agentId:o,model_output:i}=e;return{template:ro(v,{agent:t,model:r,model_output:i||r,change:`${r}`,method:n})+hn,agent:o}});return Object.keys(b).map(e=>{var t=So(i,e);let r=ro(l,{model:Vi(t,Li.CodeName),methods:b[e].join(""),staticentry:M.unique(e=>e.template).filter(t=>t.agent===e).map(e=>e.template).join("")}),n=ro(p,{model:Vi(t,Li.CodeName),methods:C[e].unique(e=>e).join(""),staticentry:N.unique(e=>e.template).filter(t=>t.agent===e).map(e=>e.template).join("")});a[Vi(t,Li.CodeName)]={id:Vi(t,Li.CodeName),name:`${Vi(t,Li.CodeName)}Executor`,tname:`${Vi(t,Li.CodeName)}ExecutorTests`,iname:`I${Vi(t,Li.CodeName)}Executor`,template:Rs.Generate({template:r,usings:[...Hr,`${o}${Jr.Model}`,`${o}${Jr.Parameters}`,`${o}${Jr.Interface}`,`${o}${Jr.Constants}`],namespace:o,space:Jr.Executors}),interface:Rs.Generate({template:n,usings:[...Hr,`${o}${Jr.Model}`,`${o}${Jr.Parameters}`,`${o}${Jr.Constants}`],namespace:o,space:Jr.Interface})}}),a}}const zp="./app/templates/models/returns/returns_class.tpl",Xp="./app/templates/models/returns/returns_funcs.tpl";class Qp{static Generate(e){var{state:t,key:r}=e;let n=Ba(t),o=n?n[oo.NAMESPACE]:null,i=Ba(t),a={},s=Tn.a.readFileSync(zp,"utf8"),l=Tn.a.readFileSync(Xp,"utf8"),p=ka(t,Ai.ModelFilter);return ka(t,Ai.Model).filter(e=>Vi(e,Li.IsAgent)).map(e=>{var t=p.filter(t=>{var r=ja(t.id);if(r)return r[In.Agent]===e.id}).map(t=>{var r=ja(t.id);let o=So(n,r[In.ModelOutput]||r[In.Model]),a=Xo(i,{id:o.id,direction:Jo,type:sn.PropertyLink}).filter(e=>Vi(t,Li.FilterPropreties)?Vi(t,Li.FilterPropreties)[e.id]:"").map(e=>`           result.${Vi(e,Li.CodeName)} = model.${Vi(e,Li.CodeName)};`).join(hn);return ro(l,{function:Vi(t,Li.CodeName),agent:Vi(e,Li.CodeName),model:Vi(o,Li.CodeName),set_properties:a})}).join(hn);let r=ro(s,{agent:Vi(e,Li.CodeName),functions:t});a[Vi(e,Li.CodeName)]={id:Vi(e,Li.CodeName),name:`${Vi(e,Li.CodeName)}Return`,template:Rs.Generate({template:r,usings:[...Hr,`${o}${Jr.Model}`,`${o}${Jr.Interface}`,`${o}${Jr.Constants}`],namespace:o,space:Jr.Controllers})}}),a}}const Kp="./app/templates/models/exceptions/exceptions_class.tpl";class Jp{static Generate(e){var{state:t,key:r}=e;let n=Ba(t),o=n?n[oo.NAMESPACE]:null,i=(Ba(t),{}),a=Tn.a.readFileSync(Kp,"utf8");ka(t,Ai.ModelFilter);return ka(t,Ai.Model).filter(e=>Vi(e,Li.IsAgent)).map(e=>{let t=ro(a,{agent:Vi(e,Li.CodeName)});i[Vi(e,Li.CodeName)]={id:Vi(e,Li.CodeName),name:`${Vi(e,Li.CodeName)}Exceptions`,template:Rs.Generate({template:t,usings:[...Hr,`${o}${Jr.Model}`,`${o}${Jr.Interface}`,`${o}${Jr.Constants}`],namespace:o,space:Jr.Controllers})}}),i}}const Zp="./app/templates/models/gets/model_get_class.tpl",eu="./app/templates/models/gets/model_get_function.tpl",tu="./app/templates/models/gets/model_get_many_to_many_function.tpl",ru="./app/templates/models/gets/model_get_many_to_many_function_get_child.tpl";class nu{static enumerateValidationTestVectors(e){var t=e.map(e=>Object.keys(e.values.cases).length);return nu.EnumerateCases(t)}static EnumerateCases(e,t=0){return Mu(e,t)}static Tabs(e){let t="";for(var r=0;r<e;r++)t+="    ";return t}static Generate(e){var{state:t,key:r}=e;let n=Ba(t),o=n?n[oo.NAMESPACE]:null,i=Ba(t),a={},s=Tn.a.readFileSync(Zp,"utf8"),l=Tn.a.readFileSync(eu,"utf8"),p=Tn.a.readFileSync(tu,"utf8"),u=Tn.a.readFileSync(ru,"utf8"),c=ka(t,Ai.Model);return c.filter(e=>!Vi(e,Li.IsCompositeInput)).map(e=>{var t=c.filter(t=>t.id!==e.id).filter(t=>!(!Vi(e,Li.HasLogicalChildren)||!(Vi(e,Li.LogicalChildrenTypes)||[]).some(e=>e===t.id)||Vi(e,Li.ManyToManyNexus))).map(t=>ro(l,{item_property:Vi(t,Li.IsOwnedByAgents)?"Owner":Vi(e,Li.CodeName),agent_type:Vi(e,Li.CodeName),model:Vi(t,Li.CodeName)}));if(Vi(e,Li.ManyToManyNexus)){var r=Vi(e,Li.LogicalChildrenTypes)||[];if(r&&r.length){let n=r.map(e=>Vi(So(i,e),Li.CodeName)).unique(e=>e).length===r.length;r.map(r=>{t.push(ro(u,{model:Vi(So(i,r),Li.CodeName),many_to_many:Vi(e,Li.CodeName)}))}),Mu([].interpolate(0,r.length,function(){return r.length+1})).filter(e=>e.length===e.unique(e=>e).length).map(o=>{let a=o.subset(0,o.length).map((e,t)=>{if(r.length===e)return!1;let o=`x${t}`;return n&&(o=Vi(So(i,r[e]),Li.CodeName).toLowerCase()),ro(`{{_type}} ${o}`,{_type:Vi(So(i,r[e]),Li.CodeName)})}).filter(e=>e);a.length&&t.push(ro(p,{parameters:a.join(", "),query:o.subset(0,o.length).map((e,t)=>{if(r.length===e)return!1;let o=`x${t}`;return n&&(o=Vi(So(i,r[e]),Li.CodeName).toLowerCase()),ro(`item != null && ${o} != null && item.{{_type}} == ${o}.Id`,{_type:Vi(So(i,r[e]),Li.CodeName)})}).filter(e=>e).join(" && "),model:Vi(e,Li.CodeName)}))})}}let n=ro(s,{agent_type:Vi(e,Li.CodeName),functions:t.unique(e=>e).join(hn)});a[Vi(e,Li.CodeName)]={id:Vi(e,Li.CodeName),name:`${Vi(e,Li.CodeName)}Get`,template:Rs.Generate({template:n,usings:[...Hr,`${o}${Jr.Model}`,`${o}${Jr.Interface}`,`${o}${Jr.Constants}`],namespace:o,space:Jr.Controllers})}}),a}}class ou{static generate(e){var{state:t,type:r,key:n}=e;switch(r){case Ur.Controller:return Fs.Generate({state:t,key:n});case Ur.Model:return zs.Generate({state:t,key:n});case Ur.ExtensionType:return il.Generate({state:t,key:n});case Ur.Maestro:return ip.Generate({state:t,key:n});case Vr.ChangeParameter:return fp.Generate({state:t,key:n});case Vr.ChangeResponse:return Lp.Generate({state:t,key:n});case Vr.Constants:let e=ka(t,Ur.Model),o=ka(t,[Ur.Function,Ur.Method]),i=ka(t,Ur.Enumeration).map(e=>{var t=Vi(e,Zr.Enumeration),r={};return t.map(e=>{r[on(e)]=e}),{name:Vi(e,Zr.CodeName),model:r}}),a={};e.map(e=>{a[Vi(e,Zr.CodeName).toUpperCase()]=Vi(e,Zr.CodeName).toUpperCase()});let s={};return o.map(e=>{s[Vi(e,Zr.CodeName)]=Vi(e,Zr.CodeName).toUpperCase()}),_p.Generate({values:[{name:Wr.Methods,model:cn},{name:Wr.StreamTypes,model:a},{name:Wr.FunctionName,model:s},...i],state:t,key:n});case Vr.Permissions:return Ol.Generate({state:t,key:n});case Vr.StreamProcess:return Mp.Generate({state:t,key:n});case Vr.StreamProcessOrchestration:return ql.Generate({state:t,key:n});case Vr.ValidationRule:return Ll.Generate({state:t,key:n});case Vr.Executors:return Yp.Generate({state:t,key:n});case Vr.ModelGet:return nu.Generate({state:t,key:n});case Vr.ModelReturn:return Qp.Generate({state:t,key:n});case Vr.ModelExceptions:return Jp.Generate({state:t,key:n});case Vr.ModelItemFilter:return Kl.Generate({state:t,key:n})}}}const{ipcRenderer:iu}=r("electron"),au={};function su(e,t){var r=function(e,t){return{msg:e,body:t,id:ws()}}(e,t);au[r.id]={};let n=Promise.resolve().then(()=>new Promise((e,t)=>{au[r.id].resolve=e,au[r.id].fail=t}));return iu.send("message",JSON.stringify(r)),n}function lu(e={}){var{filesOnly:t}=e;return(e,r)=>{var n=r();let o=Ba(n),i=o.title.split(" ").join(".");(t?Promise.resolve():su(xs.scaffold.message,{solutionName:i,workspace:$s.a.join(o.workspace,o.title)})).then(e=>{console.log("Finished Scaffolding."),function(e,t,r){var n=[Ur.Controller,Ur.Model,Ur.ExtensionType,Ur.Maestro,...Object.values(Vr)];let o=Ba(r);n.map(n=>{var o=ou.generate({type:n,state:r});let i=uu[n];for(var a in $s.a.join(),o)pu($s.a.join(e,t+i)),Object(Sn.writeFileSync)($s.a.join(e,t+i,`${o[a].name}.cs`),o[a].template),o[a].interface&&(pu($s.a.join(e,t+".Interfaces")),Object(Sn.writeFileSync)($s.a.join(e,t+".Interfaces",`${o[a].iname||a}.cs`),o[a].interface)),o[a].test&&(pu($s.a.join(e,t+".Tests")),Object(Sn.writeFileSync)($s.a.join(e,t+".Tests",`${o[a].tname||a}.cs`),o[a].test))}),o&&(pu($s.a.join(e,t+".Tests")),Object(Sn.writeFileSync)($s.a.join(e,t+".Tests","appsettings.json"),JSON.stringify(o.appConfig,null,4)),pu($s.a.join(e,t+".Web")),Object(Sn.writeFileSync)($s.a.join(e,t+".Web","appsettings.json"),JSON.stringify(o.appConfig,null,4)))}($s.a.join(o.workspace,o.title),i,n)}).then(()=>{let e=o?o[oo.NAMESPACE]:null,t=o?o[oo.SERVER_SIDE_SETUP]:null,r=ka(n,Ur.Model).find(e=>Vi(e,Li.IsUser));if(t)return function e(t,r,n,o){let i=Tn.a.readdirSync(t);n=n||t;i.map(i=>{let a=$s.a.join(t,i);if(Tn.a.existsSync(a)&&Tn.a.lstatSync(a).isDirectory()){let s=t.substr(n.length);pu($s.a.join(o,s,i)),e(a,r,n,o)}else if(Tn.a.existsSync(a)){let e=Tn.a.readFileSync(a,"utf8"),s=t.substr(n.length);e=ro(e,r),Tn.a.writeFileSync($s.a.join(o,s,i),e,"utf8")}})}($s.a.join(`./app/templates/net_core_mvc/identity/${t}`),{model:Vi(r,Li.CodeName),namespace:e},null,$s.a.join($s.a.join(o.workspace,o.title),i+$s.a.join(".Web")))})}}function pu(e){Tn.a.existsSync(e)||console.log("doesnt exist : "+e),Tn.a.existsSync(e)||Tn.a.mkdirSync(e)}iu.on("message-reply",(e,t)=>{console.log(t);let r=JSON.parse(t);au[r.id]&&au[r.id].resolve(r.msg),delete au[r.id]});const uu={[Ur.Controller]:$s.a.join(".Web","Controllers"),[Ur.Model]:".Models",[Ur.ExtensionType]:".Models",[Ur.Maestro]:".Controllers",[Vr.ChangeParameter]:".Models",[Vr.ChangeResponse]:".Models",[Vr.ValidationRule]:".Models",[Vr.Executors]:".Controllers",[Vr.ModelGet]:".Controllers",[Vr.ModelReturn]:".Controllers",[Vr.ModelExceptions]:".Controllers",[Vr.Constants]:".Models",[Vr.Permissions]:".Controllers",[Vr.ModelItemFilter]:".Controllers",[Vr.StreamProcess]:".Controllers",[Vr.StreamProcessOrchestration]:".Controllers"};var cu=r("fs");const{ipcRenderer:du}=r("electron"),fu=r("electron").remote;var hu=fu.dialog;function mu(){return(e,t)=>{hu.showOpenDialog(fu.getCurrentWindow(),{filters:[{name:"Red Quick Builder",extensions:[vu]}],properties:["openFile"]},t=>{void 0!==t?(t.length&&Array.isArray(t)&&(t=t[0]),t.endsWith(_u)||(t=`${t}${_u}`),console.log(t),cu.readFile(t,{encoding:"utf8"},(t,r)=>{if(t)return console.error("An error ocurred updating the file"+t.message),void console.log(t);try{var n=JSON.parse(r);if(n)ua((n={...no(),...n}).id,ts,e),da(n,e)}catch(e){console.log(e)}console.warn("The file has been succesfully saved")})):console.log("You didn't save the file")})}}function yu(){return(e,t)=>{var r={...no()};ua(r.id,ts,e),da(r,e)}}du.on("save-graph-to-file-reply",(e,t)=>{console.log(t)});const _u=".rqb",vu="rqb";function gu(){return(e,t)=>{var r=Ba(t());if(r){var n=JSON.stringify(r);hu.showSaveDialog(fu.getCurrentWindow(),{filters:[{name:"Red Quick Builder",extensions:[vu]}]},e=>{void 0!==e?(e.endsWith(_u)||(e=`${e}${_u}`),console.log(e),cu.writeFile(e,n,e=>{if(e)return console.error("An error ocurred updating the file"+e.message),void console.log(e);console.warn("The file has been succesfully saved")})):console.log("You didn't save the file")})}}}function bu(){return(e,t)=>{var r=Ba(t());r&&hu.showOpenDialog(fu.getCurrentWindow(),{properties:["openDirectory"]},t=>{void 0!==t?(console.log(t),da(r=function(e,t){let{workspace:r}=t;return e.workspace=r,e}(r,{workspace:t[0]}),e)):console.log("You didn't save the file")})}}function Cu(e){return{state:e}}function Eu(e){return Object(_.bindActionCreators)({...n,...o,...i},e)}function Ou(e){return Object(d.connect)(Cu,Eu)(e)}function Mu(e,t=0){var r=[];if(t<e.length)for(var n=0;n<e[t];n++){var o=Mu(e,t+1),i=[n];o.length?o.map(e=>{r.push([...i,...e])}):r.push(i)}return r}var Nu;function ku(e,t,r,n){Nu||(Nu="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Nu,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}String.prototype.padding=function(e,t){var r=this.valueOf();if(Math.abs(e)<=r.length)return r;var n=Math.max(Math.abs(e)-this.length||0,0),o=Array(n+1).join(String(t||" ").charAt(0));return e<0?o+r:r+o},String.prototype.unCamelCase=function(){return(this||"").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b([A-Z]+)([A-Z])([a-z])/,"$1 $2$3").replace(/^./,function(e){return e.toUpperCase()}).trim()};var Su,Tu,Au,Iu=ku("a",{className:"logo"},void 0,ku("span",{className:"logo-mini"},void 0,ku("b",{},void 0,"R"),"QB"),ku("span",{className:"logo-lg"},void 0,ku("b",{},void 0,"Red"),"QuickBuilder"));class Lu extends l.Component{render(){return Iu}}class wu extends l.Component{render(){return function(e,t,r,n){Su||(Su="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Su,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("header",{className:"main-header"},void 0,this.props.children)}}class xu extends l.Component{render(){return function(e,t,r,n){Tu||(Tu="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Tu,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("nav",{className:"navbar navbar-static-top"},void 0,this.props.children)}}function Pu(e,t,r,n){Au||(Au="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Au,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var $u=Pu("span",{className:"sr-only"},void 0,"Toggle navigation");var ju,Ru,Du,Gu,Uu,Fu=Ou(class extends l.Component{render(){var e=this;return Pu("a",{onClick:()=>{e.props.toggleDashboardMinMax()},className:"sidebar-toggle","data-toggle":"push-menu",role:"button"},void 0,$u)}});function Vu(e,t,r,n){ju||(ju="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ju,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Bu extends l.Component{render(){return Vu("div",{className:"navbar-custom-menu"},void 0,Vu("ul",{className:"nav navbar-nav"},void 0,this.props.children))}}function qu(e,t,r,n){Ru||(Ru="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Ru,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Hu extends l.Component{relative(){return this.props.relative?"relative":""}render(){return qu("aside",{className:`main-sidebar ${this.relative()}`},void 0,qu("section",{className:"sidebar",style:{height:"auto"}},void 0,this.props.children))}}class Wu extends l.Component{render(){return function(e,t,r,n){Du||(Du="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Du,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("li",{className:"header",onClick:this.props.onClick},void 0,this.props.title)}}class Yu extends l.Component{render(){return function(e,t,r,n){Gu||(Gu="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Gu,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("ul",{className:"sidebar-menu tree"},void 0,this.props.children)}}function zu(e,t,r,n){Uu||(Uu="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Uu,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Xu,Qu,Ku,Ju,Zu,ec,tc,rc=zu("i",{className:"fa fa-angle-left pull-right"});class nc extends l.Component{active(){return this.props.active?"active":""}open(){return this.props.open?"menu-open":""}display(){return this.props.open,"block"}icon(){return this.props.icon||"fa fa-dashboard"}render(){return zu("li",{className:`treeview ${this.active()} ${this.open()}`},void 0,zu("a",{onClick:()=>{this.props.toggle&&this.props.toggle(),this.props.onClick&&this.props.onClick()}},void 0,this.props.hideIcon?null:zu("i",{className:`${this.icon()}`}),zu("span",{},void 0,this.props.title),this.props.hideArrow?null:zu("span",{className:"pull-right-container"},void 0,rc,this.props.right?this.props.right:null),!this.props.hideArrow&&this.props.right?null:zu("span",{className:"pull-right-container"},void 0,this.props.right?this.props.right:null)),zu("ul",{className:"treeview-menu",style:{display:this.display()}},void 0,this.props.children))}}class oc extends l.Component{render(){return function(e,t,r,n){Xu||(Xu="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Xu,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:"content-wrapper",style:{minHeight:"946px"}},void 0,this.props.children)}}class ic extends l.Component{open(){return this.props.open?"control-sidebar-open":""}extraWidth(){return this.props.extraWide?"extra-wide":""}render(){return function(e,t,r,n){Qu||(Qu="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Qu,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("aside",{className:`control-sidebar control-sidebar-dark ${this.open()} ${this.extraWidth()}`},void 0,this.props.children)}}class ac extends l.Component{render(){return function(e,t,r,n){Ku||(Ku="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Ku,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("ul",{className:"nav nav-tabs nav-justified control-sidebar-tabs"},void 0,this.props.children)}}function sc(e,t,r,n){Ju||(Ju="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Ju,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class lc extends l.Component{icon(){return this.props.icon||"fa fa-wrench"}active(){return this.props.active?"active":""}ariaExapanded(){return this.props.active?"true":"false"}render(){return sc("li",{className:this.active()},void 0,sc("a",{"data-toggle":"tab",onClick:()=>{this.props.onClick&&this.props.onClick()},"aria-expanded":this.ariaExapanded()},void 0,sc("i",{className:this.icon()})))}}function pc(e,t,r,n){Zu||(Zu="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Zu,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class uc extends l.Component{render(){return pc("ul",{className:"control-sidebar-menu"},void 0,this.props.children)}}class cc extends l.Component{icon(){return this.props.icon||"fa fa-birthday-cake"}render(){return pc("li",{},void 0,pc("a",{onClick:()=>{this.props.onClick&&this.props.onClick()}},void 0,pc("i",{className:`menu-icon ${this.icon()} bg-red`}),pc("div",{className:"menu-info"},void 0,pc("h4",{className:"control-sidebar-subheading"},void 0,this.props.title||""),pc("p",{},void 0,this.props.description||""))))}}class dc extends l.Component{render(){return pc("h3",{className:"control-sidebar-heading"},void 0,this.props.title)}}class fc extends l.Component{active(){return this.props.active?"active":""}render(){return function(e,t,r,n){ec||(ec="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ec,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:`tab-pane ${this.active()}`},void 0,this.props.active?this.props.children:null)}}function hc(){return(hc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}class mc extends l.Component{_class(){return this.props.sidebarform?"sidebar-form":""}render(){return p.a.createElement("form",hc({role:"form",className:this._class()},{style:this.props.style||{}}),this.props.children)}}function yc(e,t,r,n){tc||(tc="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:tc,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var _c,vc,gc=yc("i",{className:"fa fa-edit"});class bc extends l.Component{label(){return this.props.label||"{label}"}value(){return this.props.value||""}placeholder(){return this.props.placeholder||""}disabled(){return this.props.disabled?"disabled":""}render(){return yc("div",{className:this.props.inputgroup?"input-group":"form-group"},void 0,this.props.inputgroup?null:yc("label",{},void 0,this.label()),yc("input",{type:"text",disabled:this.disabled(),className:"form-control",value:this.value(),onChange:e=>{this.props.onChange&&this.props.onChange(e.target.value)},placeholder:this.placeholder()}),this.props.inputgroup?yc("span",{className:"input-group-btn"},void 0,yc("button",{type:"submit",onClick:()=>{this.props.onClick&&this.props.onClick()},name:"search",id:"search-btn",className:"btn btn-flat"},void 0,gc)):null)}}function Cc(e,t,r,n){_c||(_c="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:_c,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Ec extends l.Component{label(){return this.props.label||"{label}"}value(){return this.props.value||""}options(){return this.props.options?this.props.options.map((e,t)=>Cc("option",{value:e.value},`option-${t}`,e.title)):[]}disabled(){return this.props.disabled?"disabled":""}render(){return Cc("div",{className:"form-group"},void 0,Cc("label",{},void 0,this.label()),Cc("select",{className:"form-control",disabled:this.disabled(),onSelect:e=>{this.props.onChange&&this.props.onChange(e.target.value)},onChange:e=>{this.props.onChange&&this.props.onChange(e.target.value)},value:this.value()},void 0,Cc("option",{value:""},void 0,this.props.defaultSelectText||it),this.options()))}}function Oc(e,t,r,n){vc||(vc="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:vc,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Mc extends l.Component{label(){return this.props.label||"{label}"}value(){return this.props.value||""}title(){return this.props.title||""}render(){return Oc("div",{className:"form-group"},void 0,Oc("div",{className:"checkbox"},void 0,Oc("label",{title:this.title()},void 0,Oc("input",{type:"checkbox",checked:this.value(),onChange:e=>{this.props.onChange&&this.props.onChange(e.target.checked)}}),this.label())))}}var Nc=r("webcola");const kc={Facebook:"Facebook",Twitter:"Twitter",Google:"Google",Microsoft:"Microsoft"},Sc={[kc.Facebook]:{properties:{UseFacebook:{type:"boolean"},FacebookAppId:{type:"string"},FacebookAppSecret:{type:"string"}}},[kc.Microsoft]:{properties:{UseMicrosoftAccount:{type:"boolean"},MicrosoftClientId:{type:"string"},MicrosoftClientSecret:{type:"string"}}},[kc.Google]:{properties:{UseGoogle:{type:"boolean"},GoogleClientId:{type:"string"},GoogleClientSecret:{type:"string"}}},[kc.Twitter]:{properties:{UseTwitter:{type:"boolean"},TwitterConsumerKey:{type:"string"},TwitterConsumerSecret:{type:"string"}}}};var Tc;function Ac(e,t,r,n){Tc||(Tc="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Tc,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Ic,Lc,wc,xc,Pc,$c=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Services),r=sa(e,Gi(e,ba));let n=r?Vi(r,Zr.ServiceType):"",o=[];if(n){let e=Sc[n];e&&e.properties&&Object.keys(e.properties).map(t=>{var n=e.properties[t],i=Vi(r,Li.ServiceTypeSettings)||{};if(n&&n.type)switch(n.type){case"string":o.push(Ac(bc,{onChange:e=>{this.props.graphOperation(os,{prop:Li.ServiceTypeSettings,id:r.id,value:{...i,[t]:e}})},label:t.unCamelCase(),value:i[t]||""},`service-type${t}`));break;case"boolean":o.push(Ac(Mc,{onChange:e=>{this.props.graphOperation(os,{prop:Li.ServiceTypeSettings,id:r.id,value:{...i,[t]:e}})},label:t.unCamelCase(),value:i[t]||""},`service-type${t}`))}})}return Ac(fc,{active:t},void 0,Ac(mc,{},void 0,Ac(Ec,{label:R,options:Object.keys(kc).map(e=>({title:e,value:kc[e]})),onChange:e=>{this.props.graphOperation(os,{prop:Li.ServiceType,id:r.id,value:e})},value:n}),o))}});class jc extends l.Component{render(){return function(e,t,r,n){Ic||(Ic="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Ic,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("ul",{className:"tab-content"},void 0,this.props.children)}}function Rc(e,t,r,n){Lc||(Lc="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Lc,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Dc extends l.Component{icon(){return this.props.icon||"fa fa-gears"}title(){return this.props.title||""}render(){return Rc("li",{},void 0,Rc("a",{onClick:()=>{this.props.onClick&&this.props.onClick()},title:this.title(),"data-toggle":"control-sidebar"},void 0,Rc("i",{className:this.icon()})))}}function Gc(e,t,r,n){wc||(wc="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:wc,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Uc extends l.Component{label(){return this.props.label||"{label}"}value(){return this.props.value||""}title(){return this.props.title||"{title}"}primary(){return this.props.primary?"box-primary":""}backgroundColor(){return this.props.backgroundColor?this.props.backgroundColor:""}render(){var e={},t={};return this.props.maxheight&&(e.maxHeight=`${this.props.maxheight}px`,e.overflowY="scroll"),this.backgroundColor()&&(e.background=this.backgroundColor(),t.background=this.backgroundColor()),Gc("div",{className:`box ${this.primary()}`,style:{...t}},void 0,Gc("div",{className:"box-header with-border",style:{...t}},void 0,Gc("h3",{className:"box-title",style:{...t}},void 0,this.title())),Gc("div",{className:"box-body",style:{...t,...e}},void 0,this.props.children),Gc("div",{className:"box-footer",style:{...t}},void 0,this.props.footer))}}function Fc(e,t,r,n){xc||(xc="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:xc,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Vc extends l.Component{constructor(e){super(e),this.state={value:""}}render(){var{state:e}=this.props;return Fc(mc,{sidebarform:!0},void 0,Fc(bc,{onClick:()=>{this.props.onComplete&&(this.props.onComplete(this.state.value),this.setState({value:""}))},value:this.state.value,onChange:e=>{this.setState({value:e})},inputgroup:!0,placeholder:ue}))}}function Bc(e,t,r,n){Pc||(Pc="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Pc,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var qc=Bc("div",{},void 0,"reference"),Hc=Bc("div",{},void 0,"item"),Wc=Bc("div",{}),Yc=Bc("div",{},void 0,"reference");var zc,Xc=Ou(class extends l.Component{render(){var e,{state:t}=this.props,r=(Ui(t,Ai.Executor),Va(t)),n=sa(t,Gi(t,ba)),o=[];if(n&&Vi(n,Li.ExecutorModel))e=(l=Vi(n,Zr.Executor)).properties[this.props.property].validators[this.props.validator];else if(n&&Vi(n,Li.ModelItemFilter)){e=(l=Vi(n,Zr.FilterModel)).properties[this.props.property].validators[this.props.validator];var i=zo(r,{id:n.id,links:[{direction:Zo,type:sn.ModelItemFilter}]},[Ur.Method]);if(i&&i.length){var a=$a(i[0]);let e=Da(n.id);e&&e.length?o=e:a&&(o=Object.keys(a).map(e=>({title:e,value:e})))}}else(l=this.props.selectedValidator)&&(e=l.properties[this.props.property].validators[this.props.validator]),o=this.props.function_variables;if(e){if(e.arguments&&e.arguments.reference){var{types:s}=e.arguments.reference;if(s){let o=ka(t,s).filter(e=>Vi(e,Zr.NODEType)!==Ur.ExtensionType||ii(e));var l;let i=bo(l=Vi(n,Zr.Executor)||{properties:{}},{property:this.props.property,validator:this.props.validator}),a=[];if(i&&i.node){let e=So(r,i.node);switch(Vi(e,Zr.NODEType)){case Ur.Enumeration:a=(Vi(e,Zr.Enumeration)||[]).map(e=>Bc("div",{className:`external-event ${i.enumeration&&i.enumeration[e]?"bg-red":"bg-black"}`,style:{cursor:"pointer"},onClick:()=>{i.enumeration=i.enumeration||{},i.enumeration[e]=!i.enumeration[e],this.props.graphOperation(os,{id:n.id,prop:Zr.Executor,value:l})}},void 0," ",e));break;case Ur.ExtensionType:var p=ai(e),u=si(e);a=p.map(e=>Bc("div",{className:`external-event ${i.extension&&i.extension[e[u]]?"bg-red":"bg-black"}`,style:{cursor:"pointer"},onClick:()=>{i.extension=i.extension||{},i.extension[e[u]]=!i.extension[e[u]],this.props.graphOperation(os,{id:n.id,prop:Zr.Executor,value:l})}},void 0," ",e[u]))}}return Bc(mc,{},void 0,Bc(Ec,{options:o.map(e=>({title:Oa(e),value:e.id})),defaultSelectText:A,label:Yt,onChange:e=>{var t=n.id,r=Vi(n,Zr.Executor)||{properties:{}};let o=bo(r,{property:this.props.property,validator:this.props.validator}),i=o.node;o.node=e,this.props.onChange?this.props.onChange():(i&&this.props.graphOperation(us,{target:i,source:t}),this.props.graphOperation(os,{id:t,prop:Zr.Executor,value:r}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ExecutorModelItemLink,...pi(an.Remove,{property:this.props.property,validator:this.props.validator,function:"OnRemoveExecutorItemPropConnection",node:o.node})}}))},value:e?e.node:""}),a)}return qc}if(e.arguments&&e.arguments.method_reference)return this.getMethodReferenceItem(l,e);if(e.arguments&&e.arguments.functionvariables)return Bc(mc,{},void 0,Bc(Ec,{options:o,label:ee,onChange:e=>{var t=n.id,r=this.props.selectedValidator||Vi(n,Zr.FilterModel)||{properties:{}};let o=bo(r,{property:this.props.property,validator:this.props.validator});o.node,o.node=e,this.props.onChange?this.props.onChange():this.props.graphOperation(os,{id:t,prop:Zr.FilterModel,value:r})},value:e?e.node:""}));if(e.arguments&&e.arguments.modelproperty){let t=o||Da(n.id),r=e?e.node:"",i=e?e.nodeProperty:"",a=[];if(r){let e=Ra(this.props.adjacentNodeId||n.id,r);e&&(a=Wi(e).toNodeSelect())}return Bc(mc,{},void 0,Bc(Ec,{options:t,label:ee,onChange:e=>{var t=n.id,r=this.props.selectedValidator||Vi(n,Zr.FilterModel)||{properties:{}};bo(r,{property:this.props.property,validator:this.props.validator}).node=e,this.props.onChange?this.props.onChange():this.props.graphOperation(os,{id:t,prop:Zr.FilterModel,value:r})},value:r}),Bc(Ec,{options:a,label:Yt,onChange:e=>{var t=n.id,r=this.props.selectedValidator||Vi(n,Zr.FilterModel)||{properties:{}};bo(r,{property:this.props.property,validator:this.props.validator}).nodeProperty=e,this.props.onChange?this.props.onChange():this.props.graphOperation(os,{id:t,prop:Zr.FilterModel,value:r})},value:i}))}return Hc}return Wc}getMethodReferenceItem(e,t){var{state:r}=this.props,n=sa(r,Gi(r,ba));let o=$a(Wo(r,n.id,sn.ExecutorFunction));return t.arguments&&t.arguments.method_reference?Object.keys(t.arguments.method_reference).map(e=>{Vi(n,Zr.Executor);let r=ea(o);return Bc(mc,{},e,Bc(Ec,{options:r,defaultSelectText:A,label:Yt,onChange:t=>{var r=n.id,o=Vi(n,Zr.Executor)||{properties:{}};let i=bo(o,{property:this.props.property,validator:this.props.validator});i.references=i.references||{},i.references[e]=t,this.props.onChange?this.props.onChange():this.props.graphOperation(os,{id:r,prop:Zr.Executor,value:o})},value:t&&t.references?t.references[e]:""}),[])}):Yc}});function Qc(e,t,r,n){zc||(zc="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:zc,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Kc=Qc("div",{}),Jc=Qc("div",{});var Zc,ed=Ou(class extends l.Component{render(){var{state:e}=this.props;if(!Ui(e,this.props.nodeType))return Kc;var t=Va(e),r=sa(e,Gi(e,ba)),n=this.props.executor||this.props.validator||this.props.methodParamSetup;let o=this.props.ui,i=Jc;return o&&n&&n.properties&&(i=Object.keys(n.properties).map(i=>{let a=n.properties[i],s=`GenericPropertyMenu${i}-${r.id}`,l=Object.keys(a&&a.validators?a.validators:{}).map(t=>{let o=`${`${s}-selected-validation`}-inne-${t}-r`;return Qc(nc,{title:a.validators&&a.validators[t]&&a.validators[t].type?a.validators[t].type:t,open:Gi(e,o),active:Gi(e,o),toggle:()=>{this.props.toggleVisual(o)},icon:"fa fa-tag"},`${t}-v-v`,Qc(nc,{hideArrow:!0,title:O,icon:"fa fa-minus",onClick:()=>{r.id,delete n.properties[i].validators[t],this.props.onRemove&&this.props.onRemove()}}),Qc(Xc,{adjacentNodeId:this.props.adjacentNodeId,onChange:this.props.onChange,function_variables:this.props.function_variables,selectedValidator:n,node:r.id,property:i,validator:t}))}),p=Object.keys(o).filter(e=>!a||!a.validators||!a.validators[e]).reverse().map(e=>Qc(nc,{hideArrow:!0,title:e,icon:"fa fa-plus-square-o",onClick:()=>{r.id,vo(n,{id:i,validator:ws(),validatorArgs:{type:e,...o[e]}}),this.props.onAdd&&this.props.onAdd()}},`${e}-afjlskf-asfd`));return Qc(nc,{open:Gi(e,s),active:Gi(e,s),title:Oa(So(t,i)),toggle:()=>{this.props.toggleVisual(s)}},s,Qc(nc,{hideArrow:!0,title:g,icon:"fa fa-minus",onClick:()=>{let e=r.id;this.props.graphOperation(us,{target:i,source:e})}}),Qc(nc,{title:Q,icon:"fa  fa-list-ul",open:Gi(e,`${s}-selected-executions`),active:Gi(e,`${s}-selected-executions`),toggle:()=>{this.props.toggleVisual(`${s}-selected-executions`)}},void 0,l),Qc(nc,{title:C,icon:"fa fa-plus-circle",open:Gi(e,`${s}-selectexecution`),active:Gi(e,`${s}-selectexecution`),toggle:()=>{this.props.toggleVisual(`${s}-selectexecution`)}},void 0,p))}),i=Qc("div",{style:{position:"relative"}},void 0,Qc(Hu,{},void 0,Qc(ic,{},void 0,Qc(Yu,{},void 0,i))))),i}});function td(e,t,r,n){Zc||(Zc="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Zc,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var rd=td("div",{});var nd,od,id=Ou(class extends l.Component{render(){var{state:e}=this.props;return Ui(e,this.props.nodeType)?td(Hu,{relative:!0},void 0,td(ic,{},void 0,this.props.top?td(jc,{},void 0,this.props.top):null,td(Yu,{},void 0,td(Wu,{title:this.props.title}),td(Wu,{title:this.props.subTitle}),this.props.children))):rd}});function ad(e,t,r,n){nd||(nd="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:nd,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class sd extends l.Component{render(){return ad(fc,{active:this.props.active},void 0,(this.props.items||[]).map(e=>ad("div",{className:`external-event ${this.props.isSelected(e)?"bg-red":"bg-green"}`,style:{cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},onClick:()=>{this.props.onClick&&this.props.onClick(e)}},`allowed-${e.id}`," ",e.title)))}}function ld(e,t,r,n){od||(od="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:od,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var pd=ld("div",{}),ud=ld(Wu,{title:"Parameters"}),cd=ld(Wu,{title:"Parameter's properties"});var dd=Ou(class extends l.Component{render(){var{state:e}=this.props,t=(Ui(e,Ai.Condition),sa(e,Gi(e,ba))),r=Ki(t.id),n=r?zi(r.id):null;let o=ja(r.id);if(!(n&&n.permission&&n.permission.params&&n.permission.params.length))return pd;let i=Ua(r.id),a=(t.id,n.permission.params.map(e=>({title:`${Oa(o[e])} ${e}`,value:e,id:e}))),s=Xi(r.id),l=Vi(t,Zr.Condition),p=`${t.id} ${s}`,u=Gi(e,p),c=Gi(e,p)?`${p} ${u}`:null,d=Wi(o[u]).toNodeSelect(),f=ld(fc,{active:!0},void 0,ld(mc,{},void 0,ud,ld(sd,{active:!0,isSelected:t=>t&&Gi(e,p)===t.id,items:a,onClick:e=>{let r=yo(l,s,e.id);this.props.graphOperation(os,{prop:Li.Condition,id:t.id,value:r}),this.props.setVisual(p,e.id)}}),cd,c?ld(sd,{active:!0,isSelected:t=>t&&Gi(e,c)===t.id,items:d,onClick:r=>{let n=yo(l,s,Gi(e,p),r.id);this.props.graphOperation(os,{prop:Li.Condition,id:t.id,value:n}),this.props.setVisual(c,r.id)}}):null)),h=function(e,t,r,n){if(e=e||yo(e,t,r)){let n=mo(e,t);if(n&&n[r]&&n[r])return n[r]}return null}(l,s,Gi(e,p),Gi(e,c)),m=()=>{this.props.graphOperation(os,{prop:Li.Condition,id:t.id,value:l})};return ld(id,{title:"asdf",subTitle:"afaf",nodeType:Ur.Condition,top:f},void 0,ld(ed,{ui:Nn,function_variables:i,methodParamSetup:h,nodeType:Ur.Condition,onRemove:m,adjacentNodeId:r.id,onChange:m,onAdd:m}))}});const fd="GraphPropertiesMenu",hd="ApplicationMenu";var md={value:function(){}};function yd(){for(var e,t=0,r=arguments.length,n={};t<r;++t){if(!(e=arguments[t]+"")||e in n)throw new Error("illegal type: "+e);n[e]=[]}return new _d(n)}function _d(e){this._=e}function vd(e,t){for(var r,n=0,o=e.length;n<o;++n)if((r=e[n]).name===t)return r.value}function gd(e,t,r){for(var n=0,o=e.length;n<o;++n)if(e[n].name===t){e[n]=md,e=e.slice(0,n).concat(e.slice(n+1));break}return null!=r&&e.push({name:t,value:r}),e}_d.prototype=yd.prototype={constructor:_d,on:function(e,t){var r,n,o=this._,i=(n=o,(e+"").trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");if(r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),a=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(r=(e=i[a]).type)o[r]=gd(o[r],e.name,t);else if(null==t)for(r in o)o[r]=gd(o[r],e.name,null);return this}for(;++a<s;)if((r=(e=i[a]).type)&&(r=vd(o[r],e.name)))return r},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new _d(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var r,n,o=new Array(r),i=0;i<r;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,r=(n=this._[e]).length;i<r;++i)n[i].value.apply(t,o)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,i=n.length;o<i;++o)n[o].value.apply(t,r)}};var bd=yd,Cd="http://www.w3.org/1999/xhtml",Ed={svg:"http://www.w3.org/2000/svg",xhtml:Cd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Od=function(e){var t=e+="",r=t.indexOf(":");return r>=0&&"xmlns"!==(t=e.slice(0,r))&&(e=e.slice(r+1)),Ed.hasOwnProperty(t)?{space:Ed[t],local:e}:e};var Md=function(e){var t=Od(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Cd&&t.documentElement.namespaceURI===Cd?t.createElement(e):t.createElementNS(r,e)}})(t)},Nd=0;function kd(){this._="@"+(++Nd).toString(36)}kd.prototype=function(){return new kd}.prototype={constructor:kd,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var Sd=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var Td=document.documentElement;if(!Td.matches){var Ad=Td.webkitMatchesSelector||Td.msMatchesSelector||Td.mozMatchesSelector||Td.oMatchesSelector;Sd=function(e){return function(){return Ad.call(this,e)}}}}var Id=Sd,Ld={},wd=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Ld={mouseenter:"mouseover",mouseleave:"mouseout"}));function xd(e,t,r){return e=Pd(e,t,r),function(t){var r=t.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||e.call(this,t)}}function Pd(e,t,r){return function(n){var o=wd;wd=n;try{e.call(this,this.__data__,t,r)}finally{wd=o}}}function $d(e){return function(){var t=this.__on;if(t){for(var r,n=0,o=-1,i=t.length;n<i;++n)r=t[n],e.type&&r.type!==e.type||r.name!==e.name?t[++o]=r:this.removeEventListener(r.type,r.listener,r.capture);++o?t.length=o:delete this.__on}}}function jd(e,t,r){var n=Ld.hasOwnProperty(e.type)?xd:Pd;return function(o,i,a){var s,l=this.__on,p=n(t,i,a);if(l)for(var u=0,c=l.length;u<c;++u)if((s=l[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=p,s.capture=r),void(s.value=t);this.addEventListener(e.type,p,r),s={type:e.type,name:e.name,value:t,listener:p,capture:r},l?l.push(s):this.__on=[s]}}function Rd(){}var Dd=function(e){return null==e?Rd:function(){return this.querySelector(e)}};function Gd(){return[]}var Ud=function(e){return null==e?Gd:function(){return this.querySelectorAll(e)}},Fd=function(e){return new Array(e.length)};function Vd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Vd.prototype={constructor:Vd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Bd="$";function qd(e,t,r,n,o,i){for(var a,s=0,l=t.length,p=i.length;s<p;++s)(a=t[s])?(a.__data__=i[s],n[s]=a):r[s]=new Vd(e,i[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function Hd(e,t,r,n,o,i,a){var s,l,p,u={},c=t.length,d=i.length,f=new Array(c);for(s=0;s<c;++s)(l=t[s])&&(f[s]=p=Bd+a.call(l,l.__data__,s,t),p in u?o[s]=l:u[p]=l);for(s=0;s<d;++s)(l=u[p=Bd+a.call(e,i[s],s,i)])?(n[s]=l,l.__data__=i[s],u[p]=null):r[s]=new Vd(e,i[s]);for(s=0;s<c;++s)(l=t[s])&&u[f[s]]===l&&(o[s]=l)}function Wd(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var Yd=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function zd(e,t){return e.style.getPropertyValue(t)||Yd(e).getComputedStyle(e,null).getPropertyValue(t)}function Xd(e){return e.trim().split(/^|\s+/)}function Qd(e){return e.classList||new Kd(e)}function Kd(e){this._node=e,this._names=Xd(e.getAttribute("class")||"")}function Jd(e,t){for(var r=Qd(e),n=-1,o=t.length;++n<o;)r.add(t[n])}function Zd(e,t){for(var r=Qd(e),n=-1,o=t.length;++n<o;)r.remove(t[n])}Kd.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ef(){this.textContent=""}function tf(){this.innerHTML=""}function rf(){this.nextSibling&&this.parentNode.appendChild(this)}function nf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function of(){return null}function af(){var e=this.parentNode;e&&e.removeChild(this)}function sf(e,t,r){var n=Yd(e),o=n.CustomEvent;"function"==typeof o?o=new o(t,r):(o=n.document.createEvent("Event"),r?(o.initEvent(t,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}var lf=[null];function pf(e,t){this._groups=e,this._parents=t}function uf(){return new pf([[document.documentElement]],lf)}pf.prototype=uf.prototype={constructor:pf,select:function(e){"function"!=typeof e&&(e=Dd(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var i,a,s=t[o],l=s.length,p=n[o]=new Array(l),u=0;u<l;++u)(i=s[u])&&(a=e.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),p[u]=a);return new pf(n,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=Ud(e));for(var t=this._groups,r=t.length,n=[],o=[],i=0;i<r;++i)for(var a,s=t[i],l=s.length,p=0;p<l;++p)(a=s[p])&&(n.push(e.call(a,a.__data__,p,s)),o.push(a));return new pf(n,o)},filter:function(e){"function"!=typeof e&&(e=Id(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var i,a=t[o],s=a.length,l=n[o]=[],p=0;p<s;++p)(i=a[p])&&e.call(i,i.__data__,p,a)&&l.push(i);return new pf(n,this._parents)},data:function(e,t){if(!e)return h=new Array(this.size()),u=-1,this.each(function(e){h[++u]=e}),h;var r,n=t?Hd:qd,o=this._parents,i=this._groups;"function"!=typeof e&&(r=e,e=function(){return r});for(var a=i.length,s=new Array(a),l=new Array(a),p=new Array(a),u=0;u<a;++u){var c=o[u],d=i[u],f=d.length,h=e.call(c,c&&c.__data__,u,o),m=h.length,y=l[u]=new Array(m),_=s[u]=new Array(m);n(c,d,y,_,p[u]=new Array(f),h,t);for(var v,g,b=0,C=0;b<m;++b)if(v=y[b]){for(b>=C&&(C=b+1);!(g=_[C])&&++C<m;);v._next=g||null}}return(s=new pf(s,o))._enter=l,s._exit=p,s},enter:function(){return new pf(this._enter||this._groups.map(Fd),this._parents)},exit:function(){return new pf(this._exit||this._groups.map(Fd),this._parents)},merge:function(e){for(var t=this._groups,r=e._groups,n=t.length,o=r.length,i=Math.min(n,o),a=new Array(n),s=0;s<i;++s)for(var l,p=t[s],u=r[s],c=p.length,d=a[s]=new Array(c),f=0;f<c;++f)(l=p[f]||u[f])&&(d[f]=l);for(;s<n;++s)a[s]=t[s];return new pf(a,this._parents)},order:function(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n,o=e[t],i=o.length-1,a=o[i];--i>=0;)(n=o[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},sort:function(e){function t(t,r){return t&&r?e(t.__data__,r.__data__):!t-!r}e||(e=Wd);for(var r=this._groups,n=r.length,o=new Array(n),i=0;i<n;++i){for(var a,s=r[i],l=s.length,p=o[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(p[u]=a);p.sort(t)}return new pf(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,i=n.length;o<i;++o){var a=n[o];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var o,i=t[r],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var r=Od(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((null==t?r.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?r.local?function(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}:function(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttribute(e):this.setAttribute(e,r)}}:r.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(r,t))},style:function(e,t,r){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,r){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}:function(e,t,r){return function(){this.style.setProperty(e,t,r)}})(e,t,null==r?"":r)):zd(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var r=t.apply(this,arguments);null==r?delete this[e]:this[e]=r}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var r=Xd(e+"");if(arguments.length<2){for(var n=Qd(this.node()),o=-1,i=r.length;++o<i;)if(!n.contains(r[o]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?Jd:Zd)(this,e)}}:t?function(e){return function(){Jd(this,e)}}:function(e){return function(){Zd(this,e)}})(r,t))},text:function(e){return arguments.length?this.each(null==e?ef:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?tf:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(rf)},lower:function(){return this.each(nf)},append:function(e){var t="function"==typeof e?e:Md(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var r="function"==typeof e?e:Md(e),n=null==t?of:"function"==typeof t?t:Dd(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function(){return this.each(af)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,r){var n,o,i=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?jd:$d,null==r&&(r=!1),n=0;n<a;++n)this.each(s(i[n],t,r));return this}var s=this.node().__on;if(s)for(var l,p=0,u=s.length;p<u;++p)for(n=0,l=s[p];n<a;++n)if((o=i[n]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return sf(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return sf(this,e,t)}})(e,t))}};var cf=uf;function df(e,t,r,n,o,i,a,s,l,p){this.target=e,this.type=t,this.subject=r,this.identifier=n,this.active=o,this.x=i,this.y=a,this.dx=s,this.dy=l,this._=p}df.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var ff=function(e,t,r){e.prototype=t.prototype=r,r.constructor=e};function hf(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function mf(){}var yf="\\s*([+-]?\\d+)\\s*",_f="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",vf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gf=/^#([0-9a-f]{3})$/,bf=/^#([0-9a-f]{6})$/,Cf=new RegExp("^rgb\\("+[yf,yf,yf]+"\\)$"),Ef=new RegExp("^rgb\\("+[vf,vf,vf]+"\\)$"),Of=new RegExp("^rgba\\("+[yf,yf,yf,_f]+"\\)$"),Mf=new RegExp("^rgba\\("+[vf,vf,vf,_f]+"\\)$"),Nf=new RegExp("^hsl\\("+[_f,vf,vf]+"\\)$"),kf=new RegExp("^hsla\\("+[_f,vf,vf,_f]+"\\)$"),Sf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Tf(e){var t;return e=(e+"").trim().toLowerCase(),(t=gf.exec(e))?new xf((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=bf.exec(e))?Af(parseInt(t[1],16)):(t=Cf.exec(e))?new xf(t[1],t[2],t[3],1):(t=Ef.exec(e))?new xf(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Of.exec(e))?If(t[1],t[2],t[3],t[4]):(t=Mf.exec(e))?If(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Nf.exec(e))?Pf(t[1],t[2]/100,t[3]/100,1):(t=kf.exec(e))?Pf(t[1],t[2]/100,t[3]/100,t[4]):Sf.hasOwnProperty(e)?Af(Sf[e]):"transparent"===e?new xf(NaN,NaN,NaN,0):null}function Af(e){return new xf(e>>16&255,e>>8&255,255&e,1)}function If(e,t,r,n){return n<=0&&(e=t=r=NaN),new xf(e,t,r,n)}function Lf(e){return e instanceof mf||(e=Tf(e)),e?new xf((e=e.rgb()).r,e.g,e.b,e.opacity):new xf}function wf(e,t,r,n){return 1===arguments.length?Lf(e):new xf(e,t,r,null==n?1:n)}function xf(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function Pf(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new jf(e,t,r,n)}function $f(e,t,r,n){return 1===arguments.length?function(e){if(e instanceof jf)return new jf(e.h,e.s,e.l,e.opacity);if(e instanceof mf||(e=Tf(e)),!e)return new jf;if(e instanceof jf)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),i=Math.max(t,r,n),a=NaN,s=i-o,l=(i+o)/2;return s?(a=t===i?(r-n)/s+6*(r<n):r===i?(n-t)/s+2:(t-r)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new jf(a,s,l,e.opacity)}(e):new jf(e,t,r,null==n?1:n)}function jf(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function Rf(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}ff(mf,Tf,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),ff(xf,wf,hf(mf,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new xf(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new xf(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),ff(jf,$f,hf(mf,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new jf(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new jf(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new xf(Rf(e>=240?e-240:e+120,o,n),Rf(e,o,n),Rf(e<120?e+240:e-120,o,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Df=Math.PI/180,Gf=180/Math.PI,Uf=.95047,Ff=1,Vf=1.08883,Bf=4/29,qf=6/29,Hf=3*qf*qf,Wf=qf*qf*qf;function Yf(e){if(e instanceof Xf)return new Xf(e.l,e.a,e.b,e.opacity);if(e instanceof th){var t=e.h*Df;return new Xf(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof xf||(e=Lf(e));var r=Zf(e.r),n=Zf(e.g),o=Zf(e.b),i=Qf((.4124564*r+.3575761*n+.1804375*o)/Uf),a=Qf((.2126729*r+.7151522*n+.072175*o)/Ff);return new Xf(116*a-16,500*(i-a),200*(a-Qf((.0193339*r+.119192*n+.9503041*o)/Vf)),e.opacity)}function zf(e,t,r,n){return 1===arguments.length?Yf(e):new Xf(e,t,r,null==n?1:n)}function Xf(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}function Qf(e){return e>Wf?Math.pow(e,1/3):e/Hf+Bf}function Kf(e){return e>qf?e*e*e:Hf*(e-Bf)}function Jf(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Zf(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function eh(e,t,r,n){return 1===arguments.length?function(e){if(e instanceof th)return new th(e.h,e.c,e.l,e.opacity);e instanceof Xf||(e=Yf(e));var t=Math.atan2(e.b,e.a)*Gf;return new th(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new th(e,t,r,null==n?1:n)}function th(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}ff(Xf,zf,hf(mf,{brighter:function(e){return new Xf(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Xf(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return e=Ff*Kf(e),new xf(Jf(3.2404542*(t=Uf*Kf(t))-1.5371385*e-.4985314*(r=Vf*Kf(r))),Jf(-.969266*t+1.8760108*e+.041556*r),Jf(.0556434*t-.2040259*e+1.0572252*r),this.opacity)}})),ff(th,eh,hf(mf,{brighter:function(e){return new th(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new th(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return Yf(this).rgb()}}));var rh=-.14861,nh=1.78277,oh=-.29227,ih=-.90649,ah=1.97294,sh=ah*ih,lh=ah*nh,ph=nh*oh-ih*rh;function uh(e,t,r,n){return 1===arguments.length?function(e){if(e instanceof ch)return new ch(e.h,e.s,e.l,e.opacity);e instanceof xf||(e=Lf(e));var t=e.r/255,r=e.g/255,n=e.b/255,o=(ph*n+sh*t-lh*r)/(ph+sh-lh),i=n-o,a=(ah*(r-o)-oh*i)/ih,s=Math.sqrt(a*a+i*i)/(ah*o*(1-o)),l=s?Math.atan2(a,i)*Gf-120:NaN;return new ch(l<0?l+360:l,s,o,e.opacity)}(e):new ch(e,t,r,null==n?1:n)}function ch(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function dh(e,t,r,n,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*r+(1+3*e+3*i-3*a)*n+a*o)/6}ff(ch,uh,hf(mf,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new ch(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ch(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Df,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),o=Math.sin(e);return new xf(255*(t+r*(rh*n+nh*o)),255*(t+r*(oh*n+ih*o)),255*(t+r*(ah*n)),this.opacity)}}));var fh=function(e){return function(){return e}};function hh(e,t){return function(r){return e+r*t}}function mh(e,t){var r=t-e;return r?hh(e,r>180||r<-180?r-360*Math.round(r/360):r):fh(isNaN(e)?t:e)}function yh(e){return 1==(e=+e)?_h:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):fh(isNaN(t)?r:t)}}function _h(e,t){var r=t-e;return r?hh(e,r):fh(isNaN(e)?t:e)}var vh=function e(t){var r=yh(t);function n(e,t){var n=r((e=wf(e)).r,(t=wf(t)).r),o=r(e.g,t.g),i=r(e.b,t.b),a=_h(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return n.gamma=e,n}(1);function gh(e){return function(t){var r,n,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(r=0;r<o;++r)n=wf(t[r]),i[r]=n.r||0,a[r]=n.g||0,s[r]=n.b||0;return i=e(i),a=e(a),s=e(s),n.opacity=1,function(e){return n.r=i(e),n.g=a(e),n.b=s(e),n+""}}}gh(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),o=e[n],i=e[n+1],a=n>0?e[n-1]:2*o-i,s=n<t-1?e[n+2]:2*i-o;return dh((r-n/t)*t,a,o,i,s)}}),gh(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),o=e[(n+t-1)%t],i=e[n%t],a=e[(n+1)%t],s=e[(n+2)%t];return dh((r-n/t)*t,o,i,a,s)}});var bh=function(e,t){return t-=e=+e,function(r){return e+t*r}},Ch=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Eh=new RegExp(Ch.source,"g");var Oh,Mh,Nh,kh,Sh=function(e,t){var r,n,o,i=Ch.lastIndex=Eh.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(r=Ch.exec(e))&&(n=Eh.exec(t));)(o=n.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,l.push({i:a,x:bh(r,n)})),i=Eh.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})},Th=180/Math.PI,Ah={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Ih=function(e,t,r,n,o,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Th,skewX:Math.atan(l)*Th,scaleX:a,scaleY:s}};function Lh(e,t,r,n){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],l=[];return i=e(i),a=e(a),function(e,n,o,i,a,s){if(e!==o||n!==i){var l=a.push("translate(",null,t,null,r);s.push({i:l-4,x:bh(e,o)},{i:l-2,x:bh(n,i)})}else(o||i)&&a.push("translate("+o+t+i+r)}(i.translateX,i.translateY,a.translateX,a.translateY,s,l),function(e,t,r,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:r.push(o(r)+"rotate(",null,n)-2,x:bh(e,t)})):t&&r.push(o(r)+"rotate("+t+n)}(i.rotate,a.rotate,s,l),function(e,t,r,i){e!==t?i.push({i:r.push(o(r)+"skewX(",null,n)-2,x:bh(e,t)}):t&&r.push(o(r)+"skewX("+t+n)}(i.skewX,a.skewX,s,l),function(e,t,r,n,i,a){if(e!==r||t!==n){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:bh(e,r)},{i:s-2,x:bh(t,n)})}else 1===r&&1===n||i.push(o(i)+"scale("+r+","+n+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,l),i=a=null,function(e){for(var t,r=-1,n=l.length;++r<n;)s[(t=l[r]).i]=t.x(e);return s.join("")}}}var wh=Lh(function(e){return"none"===e?Ah:(Oh||(Oh=document.createElement("DIV"),Mh=document.documentElement,Nh=document.defaultView),Oh.style.transform=e,e=Nh.getComputedStyle(Mh.appendChild(Oh),null).getPropertyValue("transform"),Mh.removeChild(Oh),e=e.slice(7,-1).split(","),Ih(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),xh=Lh(function(e){return null==e?Ah:(kh||(kh=document.createElementNS("http://www.w3.org/2000/svg","g")),kh.setAttribute("transform",e),(e=kh.transform.baseVal.consolidate())?(e=e.matrix,Ih(e.a,e.b,e.c,e.d,e.e,e.f)):Ah)},", ",")",")");Math.SQRT2;function Ph(e){return function(t,r){var n=e((t=$f(t)).h,(r=$f(r)).h),o=_h(t.s,r.s),i=_h(t.l,r.l),a=_h(t.opacity,r.opacity);return function(e){return t.h=n(e),t.s=o(e),t.l=i(e),t.opacity=a(e),t+""}}}Ph(mh),Ph(_h);function $h(e){return function(t,r){var n=e((t=eh(t)).h,(r=eh(r)).h),o=_h(t.c,r.c),i=_h(t.l,r.l),a=_h(t.opacity,r.opacity);return function(e){return t.h=n(e),t.c=o(e),t.l=i(e),t.opacity=a(e),t+""}}}$h(mh),$h(_h);function jh(e){return function t(r){function n(t,n){var o=e((t=uh(t)).h,(n=uh(n)).h),i=_h(t.s,n.s),a=_h(t.l,n.l),s=_h(t.opacity,n.opacity);return function(e){return t.h=o(e),t.s=i(e),t.l=a(Math.pow(e,r)),t.opacity=s(e),t+""}}return r=+r,n.gamma=t,n}(1)}jh(mh),jh(_h);var Rh,Dh,Gh=0,Uh=0,Fh=0,Vh=1e3,Bh=0,qh=0,Hh=0,Wh="object"==typeof performance&&performance.now?performance:Date,Yh="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function zh(){return qh||(Yh(Xh),qh=Wh.now()+Hh)}function Xh(){qh=0}function Qh(){this._call=this._time=this._next=null}function Kh(e,t,r){var n=new Qh;return n.restart(e,t,r),n}function Jh(){qh=(Bh=Wh.now())+Hh,Gh=Uh=0;try{!function(){zh(),++Gh;for(var e,t=Rh;t;)(e=qh-t._time)>=0&&t._call.call(null,e),t=t._next;--Gh}()}finally{Gh=0,function(){var e,t,r=Rh,n=1/0;for(;r;)r._call?(n>r._time&&(n=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:Rh=t);Dh=e,em(n)}(),qh=0}}function Zh(){var e=Wh.now(),t=e-Bh;t>Vh&&(Hh-=t,Bh=e)}function em(e){Gh||(Uh&&(Uh=clearTimeout(Uh)),e-qh>24?(e<1/0&&(Uh=setTimeout(Jh,e-Wh.now()-Hh)),Fh&&(Fh=clearInterval(Fh))):(Fh||(Bh=Wh.now(),Fh=setInterval(Zh,Vh)),Gh=1,Yh(Jh)))}Qh.prototype=Kh.prototype={constructor:Qh,restart:function(e,t,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?zh():+r)+(null==t?0:+t),this._next||Dh===this||(Dh?Dh._next=this:Rh=this,Dh=this),this._call=e,this._time=r,em()},stop:function(){this._call&&(this._call=null,this._time=1/0,em())}};var tm=function(e,t,r){var n=new Qh;return t=null==t?0:+t,n.restart(function(r){n.stop(),e(r+t)},t,r),n},rm=bd("start","end","interrupt"),nm=[],om=0,im=1,am=2,sm=3,lm=4,pm=5,um=6,cm=function(e,t,r,n,o,i){var a=e.__transition;if(a){if(r in a)return}else e.__transition={};!function(e,t,r){var n,o=e.__transition;function i(l){var p,u,c,d;if(r.state!==im)return s();for(p in o)if((d=o[p]).name===r.name){if(d.state===sm)return tm(i);d.state===lm?(d.state=um,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete o[p]):+p<t&&(d.state=um,d.timer.stop(),delete o[p])}if(tm(function(){r.state===sm&&(r.state=lm,r.timer.restart(a,r.delay,r.time),a(l))}),r.state=am,r.on.call("start",e,e.__data__,r.index,r.group),r.state===am){for(r.state=sm,n=new Array(c=r.tween.length),p=0,u=-1;p<c;++p)(d=r.tween[p].value.call(e,e.__data__,r.index,r.group))&&(n[++u]=d);n.length=u+1}}function a(t){for(var o=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(s),r.state=pm,1),i=-1,a=n.length;++i<a;)n[i].call(null,o);r.state===pm&&(r.on.call("end",e,e.__data__,r.index,r.group),s())}function s(){for(var n in r.state=um,r.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=r,r.timer=Kh(function(e){r.state=im,r.timer.restart(i,r.delay,r.time),r.delay<=e&&i(e-r.delay)},0,r.time)}(e,r,{name:t,index:n,group:o,on:rm,tween:nm,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:om})};function dm(e,t){var r=hm(e,t);if(r.state>om)throw new Error("too late; already scheduled");return r}function fm(e,t){var r=hm(e,t);if(r.state>am)throw new Error("too late; already started");return r}function hm(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}var mm=function(e,t){var r,n,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(r=i[o]).name===t?(n=r.state>am&&r.state<pm,r.state=um,r.timer.stop(),n&&r.on.call("interrupt",e,e.__data__,r.index,r.group),delete i[o]):a=!1;a&&delete e.__transition}};function ym(e,t,r){var n=e._id;return e.each(function(){var e=fm(this,n);(e.value||(e.value={}))[t]=r.apply(this,arguments)}),function(e){return hm(e,n).value[t]}}var _m=function(e,t){var r;return("number"==typeof t?bh:t instanceof Tf?vh:(r=Tf(t))?(t=r,vh):Sh)(e,t)};var vm=cf.prototype.constructor;var gm=0;function bm(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Cm(){return++gm}var Em=cf.prototype;bm.prototype=function(e){return cf().transition(e)}.prototype={constructor:bm,select:function(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=Dd(e));for(var n=this._groups,o=n.length,i=new Array(o),a=0;a<o;++a)for(var s,l,p=n[a],u=p.length,c=i[a]=new Array(u),d=0;d<u;++d)(s=p[d])&&(l=e.call(s,s.__data__,d,p))&&("__data__"in s&&(l.__data__=s.__data__),c[d]=l,cm(c[d],t,r,d,c,hm(s,r)));return new bm(i,this._parents,t,r)},selectAll:function(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=Ud(e));for(var n=this._groups,o=n.length,i=[],a=[],s=0;s<o;++s)for(var l,p=n[s],u=p.length,c=0;c<u;++c)if(l=p[c]){for(var d,f=e.call(l,l.__data__,c,p),h=hm(l,r),m=0,y=f.length;m<y;++m)(d=f[m])&&cm(d,t,r,m,f,h);i.push(f),a.push(l)}return new bm(i,a,t,r)},filter:function(e){"function"!=typeof e&&(e=Id(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var i,a=t[o],s=a.length,l=n[o]=[],p=0;p<s;++p)(i=a[p])&&e.call(i,i.__data__,p,a)&&l.push(i);return new bm(n,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,o=r.length,i=Math.min(n,o),a=new Array(n),s=0;s<i;++s)for(var l,p=t[s],u=r[s],c=p.length,d=a[s]=new Array(c),f=0;f<c;++f)(l=p[f]||u[f])&&(d[f]=l);for(;s<n;++s)a[s]=t[s];return new bm(a,this._parents,this._name,this._id)},selection:function(){return new vm(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,r=Cm(),n=this._groups,o=n.length,i=0;i<o;++i)for(var a,s=n[i],l=s.length,p=0;p<l;++p)if(a=s[p]){var u=hm(a,t);cm(a,e,r,p,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new bm(n,this._parents,e,r)},call:Em.call,nodes:Em.nodes,node:Em.node,size:Em.size,empty:Em.empty,each:Em.each,on:function(e,t){var r=this._id;return arguments.length<2?hm(this.node(),r).on.on(e):this.each(function(e,t,r){var n,o,i=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?dm:fm;return function(){var a=i(this,e),s=a.on;s!==n&&(o=(n=s).copy()).on(t,r),a.on=o}}(r,e,t))},attr:function(e,t){var r=Od(e),n="transform"===r?xh:_m;return this.attrTween(e,"function"==typeof t?(r.local?function(e,t,r){var n,o,i;return function(){var a,s=r(this);if(null!=s)return(a=this.getAttributeNS(e.space,e.local))===s?null:a===n&&s===o?i:i=t(n=a,o=s);this.removeAttributeNS(e.space,e.local)}}:function(e,t,r){var n,o,i;return function(){var a,s=r(this);if(null!=s)return(a=this.getAttribute(e))===s?null:a===n&&s===o?i:i=t(n=a,o=s);this.removeAttribute(e)}})(r,n,ym(this,"attr."+e,t)):null==t?(r.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(r):(r.local?function(e,t,r){var n,o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===r?null:i===n?o:o=t(n=i,r)}}:function(e,t,r){var n,o;return function(){var i=this.getAttribute(e);return i===r?null:i===n?o:o=t(n=i,r)}})(r,n,t+""))},attrTween:function(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;var n=Od(e);return this.tween(r,(n.local?function(e,t){function r(){var r=this,n=t.apply(r,arguments);return n&&function(t){r.setAttributeNS(e.space,e.local,n(t))}}return r._value=t,r}:function(e,t){function r(){var r=this,n=t.apply(r,arguments);return n&&function(t){r.setAttribute(e,n(t))}}return r._value=t,r})(n,t))},style:function(e,t,r){var n="transform"==(e+="")?wh:_m;return null==t?this.styleTween(e,function(e,t){var r,n,o;return function(){var i=zd(this,e),a=(this.style.removeProperty(e),zd(this,e));return i===a?null:i===r&&a===n?o:o=t(r=i,n=a)}}(e,n)).on("end.style."+e,function(e){return function(){this.style.removeProperty(e)}}(e)):this.styleTween(e,"function"==typeof t?function(e,t,r){var n,o,i;return function(){var a=zd(this,e),s=r(this);return null==s&&(this.style.removeProperty(e),s=zd(this,e)),a===s?null:a===n&&s===o?i:i=t(n=a,o=s)}}(e,n,ym(this,"style."+e,t)):function(e,t,r){var n,o;return function(){var i=zd(this,e);return i===r?null:i===n?o:o=t(n=i,r)}}(e,n,t+""),r)},styleTween:function(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(e,t,r){function n(){var n=this,o=t.apply(n,arguments);return o&&function(t){n.style.setProperty(e,o(t),r)}}return n._value=t,n}(e,t,null==r?"":r))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(ym(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n,o=hm(this.node(),r).tween,i=0,a=o.length;i<a;++i)if((n=o[i]).name===e)return n.value;return null}return this.each((null==t?function(e,t){var r,n;return function(){var o=fm(this,e),i=o.tween;if(i!==r)for(var a=0,s=(n=r=i).length;a<s;++a)if(n[a].name===t){(n=n.slice()).splice(a,1);break}o.tween=n}}:function(e,t,r){var n,o;if("function"!=typeof r)throw new Error;return function(){var i=fm(this,e),a=i.tween;if(a!==n){o=(n=a).slice();for(var s={name:t,value:r},l=0,p=o.length;l<p;++l)if(o[l].name===t){o[l]=s;break}l===p&&o.push(s)}i.tween=o}})(r,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){dm(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){dm(this,e).delay=t}})(t,e)):hm(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){fm(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){fm(this,e).duration=t}})(t,e)):hm(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){fm(this,e).ease=t}}(t,e)):hm(this.node(),t).ease}};(function e(t){function r(e){return Math.pow(e,t)}return t=+t,r.exponent=e,r})(3),function e(t){function r(e){return 1-Math.pow(1-e,t)}return t=+t,r.exponent=e,r}(3),function e(t){function r(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,r.exponent=e,r}(3),Math.PI;(function e(t){function r(e){return e*e*((t+1)*e-t)}return t=+t,r.overshoot=e,r})(1.70158),function e(t){function r(e){return--e*e*((t+1)*e+t)+1}return t=+t,r.overshoot=e,r}(1.70158),function e(t){function r(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,r.overshoot=e,r}(1.70158);var Om=2*Math.PI,Mm=(function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=Om);function o(e){return t*Math.pow(2,10*--e)*Math.sin((n-e)/r)}return o.amplitude=function(t){return e(t,r*Om)},o.period=function(r){return e(t,r)},o}(1,.3),function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=Om);function o(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+n)/r)}return o.amplitude=function(t){return e(t,r*Om)},o.period=function(r){return e(t,r)},o}(1,.3),function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=Om);function o(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((n-e)/r):2-t*Math.pow(2,-10*e)*Math.sin((n+e)/r))/2}return o.amplitude=function(t){return e(t,r*Om)},o.period=function(r){return e(t,r)},o}(1,.3),{time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}});function Nm(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))return Mm.time=zh(),Mm;return r}cf.prototype.interrupt=function(e){return this.each(function(){mm(this,e)})},cf.prototype.transition=function(e){var t,r;e instanceof bm?(t=e._id,e=e._name):(t=Cm(),(r=Mm).time=zh(),e=null==e?null:e+"");for(var n=this._groups,o=n.length,i=0;i<o;++i)for(var a,s=n[i],l=s.length,p=0;p<l;++p)(a=s[p])&&cm(a,e,t,p,s,r||Nm(a,t));return new bm(n,this._parents,e,t)};function km(e,t,r){this.k=e,this.x=t,this.y=r}km.prototype={constructor:km,scale:function(e){return 1===e?this:new km(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new km(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new km(1,0,0);km.prototype;var Sm,Tm=r("d3");const Am=20;class Im extends l.Component{constructor(){super(),this.textSize={},this.mapScale=1,this.mapTranslate={x:0,y:0},this.state={id:`id-${Date.now()}`,graph:{nodes:[].map(e=>(e.id=e.name,e)),links:[],groups:[]}},this.draw=this.draw.bind(this),this.mouseDown=this.mouseDown.bind(this),this.mouseUp=this.mouseUp.bind(this),this.mouseMove=this.mouseMove.bind(this)}componentDidMount(){this.draw(),window.addEventListener("resize",this.draw),window.addEventListener("mousemove",this.mouseMove),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("mousedown",this.mouseDown)}mouseDown(e){this.mouseStartEvent=e}mouseUp(e){this.mouseStartEvent=null,this.mouseMoved=null}mouseMove(e){this.mouseStartEvent&&(this.mouseMoveEvt=e,this.mouseMoved={x:e.clientX-this.mouseStartEvent.clientX,y:e.clientY-this.mouseStartEvent.clientY})}componentWillUnmount(){window.removeEventListener("resize",this.draw),window.removeEventListener("mousemove",this.mouseMove),window.removeEventListener("mousedown",this.mouseUp),window.removeEventListener("mouseup",this.mouseDown);var e=document.querySelector(`#${this.state.id}`);e&&(e.innerHTML="")}calculateNodeTextSize(e,t){var r=document.querySelector("#secret-div-space");return r||((r=document.createElement("div")).id="secret-div-space",r.setAttribute("id","secret-div-space"),r.style.visibility="hidden",r.style.position="absolute",r.classList.add("label"),r.style.whiteSpace="normal",r.style.maxWidth=(e||"").split(" ").length>1?"200px":"300px",r.style.top="-10000px",r.style.padding=2*t+"px",document.querySelector(`#${this.state.id}`).appendChild(r)),r.innerHTML=e,r.getBoundingClientRect()}draw(){var e=this,t=document.querySelector(`#${this.state.id}`);t.innerHTML="";var r=t.getBoundingClientRect(),n=Nc.d3adaptor(Tm),o=r.width-10,i=r.height-10,a=Tm.scaleOrdinal(Tm.schemeCategory10),s=6,l=12;n.linkDistance(this.props.linkDistance||280).avoidOverlaps(!0).handleDisconnected(!1).size([o,i]);var p=function(){var t=Tm.select(`#${e.state.id}`).append("svg").attr("width",o).attr("height",i).attr("pointer-events","all");t.append("svg:defs").append("svg:marker").attr("id","end-arrow").attr("viewBox","0 -5 10 10").attr("refX",5).attr("markerWidth",3).attr("markerHeight",3).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5L2,0").attr("stroke-width","0px").attr("fill",function(e){return e&&e.properties&&e.properties.type&&ln[e.properties.type]&&ln[e.properties.type].stroke?ln[e.properties.type].stroke:"#555"});var r=t.append("g");function n(){var{x:t=0,y:n=0}=e.mouseMoved||{};r.attr("transform",`scale(${e.mapScale||1}) translate(${e.mapTranslate.x+t}, ${e.mapTranslate.y+n})`)}return t.on("wheel",function(t){e.mapScale+=Tm.event.wheelDelta/(e.props.zoomFactor||5e3),n()}),t.on("mousemove",function(t,r){e.panning&&n()}),t.on("mousedown",function(t){e.panning=!0}),t.on("mouseup",function(t){e.panning=!1,e.mouseMoved&&e.mapTranslate&&(e.mapTranslate={x:e.mapTranslate.x+e.mouseMoved.x,y:e.mapTranslate.y+e.mouseMoved.y})}),n(),r}();var u=this.state.graph;u.nodes.forEach(function(t){var r=e.calculateNodeTextSize(_(t),l);t.width=Math.max(Am,r.width),t.height=Math.max(Am,r.height)}),u.groups.forEach(function(e){e.padding=l}),n.nodes(u.nodes).groups(u.groups).links(u.links).on("tick",function(){e.$_nodes&&e.$_nodes.each(function(t){var r=e.calculateNodeTextSize(_(t),l);t.width=Math.max(Am,r.width),t.height=Math.max(Am,r.height),t.innerBounds=t.bounds.inflate(-s)});e.$_nodes&&e.$_nodes.attr("width",function(e){return e.width}).attr("height",function(e){return e.height}).attr("x",function(e){return e.x-e.width/2}).attr("y",function(e){return e.y-e.height/2});c.attr("x",function(e){return e.bounds.x}).attr("y",function(e){return e.bounds.y}).attr("width",function(e){return e.bounds.width()}).attr("height",function(e){return e.bounds.height()}),f.each(function(e){e.route=Nc.makeEdgeBetween(v(e.source),v(e.target,-Math.PI/2),5)}),f.attr("x1",function(e){return e.route.sourceIntersection.x}).attr("y1",function(e){return e.route.sourceIntersection.y}).attr("x2",function(e){return e.route.arrowStart.x}).attr("y2",function(e){return e.route.arrowStart.y}),m.attr("transform",function(e){var t=e.y-e.height/2,r=e.x-e.width/2;return`translate(${r},${t})`}),h.attr("x",function(e){return e.x-e.width/2}).attr("y",function(e){var t=this.querySelector("div"),r=t?t.getBoundingClientRect().height:0;return e.y+r/2-e.height+l/2}),y.text(function(e){return _(e)})});var c=p.selectAll(".group").data(u.groups).enter().append("rect").attr("rx",8).attr("ry",8).attr("class","group").style("fill",function(e,t){return a(t)}).call(n.drag),d=p.selectAll(".node");this.$node=d,this.buildNode(u,n,a);var f=p.selectAll(".link").data(u.links).enter().append("line").attr("class","link").style("stroke",function(e){return e.selected?"#ff0000":e&&e.properties&&e.properties.type===sn.FunctionConstraintLink&&!e.properties[pn.VALID_CONSTRAINTS]?ln[sn.ErrorLink].stroke:e&&e.properties&&e.properties.type&&ln[e.properties.type]&&ln[e.properties.type].stroke?ln[e.properties.type].stroke:"#555"}).style("stroke-dasharray",function(e){return e&&e.properties&&e.properties.type===sn.FunctionConstraintLink&&!e.properties[pn.VALID_CONSTRAINTS]?"5,5":""}).style("d",function(e){return e&&e.properties&&e.properties.type===sn.FunctionConstraintLink&&!e.properties[pn.VALID_CONSTRAINTS]?"M5 20 l215 0":""}).style("stroke-width",function(e){return e&&e.properties&&e.properties.type&&ln[e.properties.type]&&ln[e.properties.type].strokeWidth?ln[e.properties.type].strokeWidth:Math.sqrt(e.value)});f.on("click",(t,r,n)=>{e.props.onLinkClick&&t&&e.props.onLinkClick({id:t.id,source:t.source.id,target:t.target.id},n[r].getBoundingClientRect())}),f.on("mouseover",(t,r,n)=>{e.props.onLinkHover&&t&&e.props.onLinkHover({id:t.id,source:t.source.id,target:t.target.id},n[r].getBoundingClientRect())});var h=p.selectAll(".label").data(u.nodes).enter().append("foreignObject").attr("class","label");h.on("click",(t,r,n)=>{e.props.onNodeClick&&t&&t.id&&e.props.onNodeClick(t.id,n[r].getBoundingClientRect())});var m=p.selectAll(".features").data(u.nodes).enter().append("g").attr("class","features");m.append("rect").attr("width",function(e){return e.selected?5:0}).attr("height",function(e){return e.height-10}).attr("x",3).attr("y",5).attr("rx",5).attr("ry",5).style("fill",function(t){return t.selected&&e.props.selectedColor?e.props.selectedColor:a(u.groups.length)});var y=h.append("xhtml:div").style("width",e=>`${e.width-l/2}px`).style("white-space","normal").style("text-align","start").style("height",e=>`${e.height-l/2}px`).text(function(e){return`${_(e)}`}).call(n.drag);function _(e){return e&&e.properties&&e.properties.text||e.name}function v(e,t=Math.PI/2){var{innerBounds:r,x:n,y:o}=e,i=r.y-r.Y,a=r.x-r.X;return Object.assign(r,{x:1+r.x,y:i?a/i*1+r.y:r.y,X:1+r.X,Y:i?a/i*1+r.Y:r.Y})}this.$force=n,this.setState({$node:d,$color:a}),n.start()}buildNode(e,t,r){var n=this,o=this.$node.data(t.nodes(),e=>e.id||e.name),i=o.enter().append("rect").attr("class","node").attr("width",function(e){return e.width}).attr("height",function(e){return e.height}).attr("rx",5).attr("ry",5).style("fill",function(t){return t&&t.properties&&t.properties.nodeType&&Ii[t.properties.nodeType]?Ii[t.properties.nodeType]:r(e.groups.length)}).on("click",(e,t,r)=>{n.props.onNodeClick&&e&&n.props.onNodeClick(e.id,r[t].getBoundingClientRect())}).call(t.drag);o.exit().remove(),this.$_nodes=i}applyNodeVisualData(e){return e.width=40,e.height=40,e.name=e.id,e}componentWillReceiveProps(e,t){if(e.graph){var{graph:r}=e,n=!0;if(this.$force.stop(),r.nodes&&this.state&&this.state.graph&&this.state.graph.nodes){var o=this.state.graph.nodes.relativeCompliment(r.nodes,(e,t)=>e.id===t).map(e=>this.state.graph.nodes.indexOf(e));this.state.graph.nodes.removeIndices(o),r.nodes.relativeCompliment(this.state.graph.nodes,(e,t)=>e===t.id).map(e=>{this.state.graph.nodes.push(this.applyNodeVisualData(function(e){return{...e}}(r.nodeLib[e])))}),e.selectedNodes&&this.state.graph.nodes.map(t=>{t.selected=!!e.selectedNodes.find(e=>e==t.id)}),this.state.graph.nodes.map(e=>{var t=r.nodeLib[e.id];t&&t.properties&&(e.properties={...t.properties})}),n=!0}if(r.links&&this.state&&this.state.graph&&this.state.graph.links){let t=this.state.graph.links.relativeCompliment(r.links,(e,t)=>e.id===t).map(e=>this.state.graph.links.indexOf(e));this.state.graph.links.removeIndices(t),r.links.relativeCompliment(this.state.graph.links,(e,t)=>e===t.id).map(e=>{this.state.graph.links.push(function(e,t){return{...e,source:t.findIndex(t=>t.id===e.source),target:t.findIndex(t=>t.id===e.target)}}(r.linkLib[e],this.state.graph.nodes))}),e.selectedLinks&&this.state.graph.links.map(t=>{t.selected=!!e.selectedLinks.find(e=>e.id===t.id)}),this.state.graph.links.map(e=>{let t=r.linkLib[e.id];t&&t.properties&&(e.properties={...t.properties})}),n=!0}if(r.groups&&this.state&&this.state.graph&&this.state.graph.groups){let e=r.groups.filter(e=>r.groupLib[e].leaves||r.groupLib[e].groups),t=this.state.graph.groups.relativeCompliment(e,(e,t)=>e.id===t).map(e=>this.state.graph.groups.indexOf(e));this.state.graph.groups.removeIndices(t),e.relativeCompliment(this.state.graph.groups,(e,t)=>e===t.id).filter(e=>r.groupLib[e]&&(r.groupLib[e].leaves||r.groupLib[e].groups)).map(e=>{this.state.graph.groups.push(function(e,t,r){let n={...e};return delete n.leaves,delete n.groups,n}(r.groupLib[e],this.state.graph.nodes))}),e.forEach(e=>{!function(e,t,r,n){t&&(t.leaves&&t.leaves.length?(e.leaves=e.leaves||[],e.leaves.length=0,e.leaves.push(...t.leaves.map(e=>n.findIndex(t=>t.id===e)))):delete e.leaves,t.groups&&t.groups.length?(e.groups=e.groups||[],e.groups.length=0,e.groups.push(...t.groups.map(e=>r.findIndex(t=>t.id===e)))):delete e.groups)}(this.state.graph.groups.find(t=>t.id===e),r.groupLib[e],this.state.graph.groups,this.state.graph.nodes)})}n&&this.draw()}}shouldComponentUpdate(){return!1}render(){return function(e,t,r,n){Sm||(Sm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Sm,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{id:this.state.id,className:"mindmap",style:{minHeight:946}})}}var Lm;function wm(e,t,r,n){Lm||(Lm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Lm,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var xm,Pm=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Model),r=sa(e,Gi(e,ba)),n=Vi(r,Li.IsAgent),o=Vi(r,Li.IsParent),i=Vi(r,Li.ManyToManyNexus),a=ka(e,Ai.Permission).map(e=>({value:e.id,title:Oa(e)}));return wm(fc,{active:t},void 0,r?wm(mc,{},void 0,wm(Mc,{label:De,value:r.properties?r.properties[Li.IsAgent]:"",onChange:e=>{this.props.graphOperation(os,{prop:Li.IsAgent,id:r.id,value:e})}}),n?wm(Ec,{label:vr,options:ka(e,Ai.Model).map(e=>({value:e.id,title:Oa(e)})),onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.UIUser],source:t,linkType:wi.UserLink.type}),this.props.graphOperation(os,{prop:Li.UIUser,id:t,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.UserLink}})},value:r.properties?r.properties[Li.UIUser]:""}):null,wm(Mc,{label:Fe,value:r.properties?r.properties[Li.IsUser]:"",onChange:e=>{this.props.graphOperation(os,{prop:Li.IsUser,id:r.id,value:e})}}),wm(Mc,{label:Ge,title:Ue,value:r.properties?r.properties[Li.IsOwnedByAgents]:"",onChange:e=>{this.props.graphOperation(os,{prop:Li.IsOwnedByAgents,id:r.id,value:e})}}),wm(Mc,{label:gr,title:Er,value:Vi(r,Li.ManyToManyNexus),onChange:e=>{this.props.graphOperation([{operation:os,options:{prop:Li.ManyToManyNexus,id:r.id,value:e}}])}}),wm(Mc,{label:_r,value:Vi(r,Li.IsCompositeInput),onChange:e=>{this.props.graphOperation(os,{prop:Li.IsCompositeInput,id:r.id,value:e})}}),i?wm(Ec,{options:ka(e,Ur.Model).map(e=>({value:e.id,title:Oa(e)})),label:Cr,onChange:e=>{let t=r.id;var n=Vi(r,Li.ManyToManyNexusTypes)||[];this.props.graphOperation([{operation:os,options:{prop:Li.ManyToManyNexusTypes,id:r.id,value:[...n,e].unique(e=>e)}},{operation:ls,options:{target:e,source:t,properties:{...wi.ManyToManyLink}}}])},value:""}):null,wm(sd,{active:!0,isSelected:e=>{var t=Vi(r,Li.ManyToManyNexusTypes)||[];return e&&t.some(t=>t===e.id)},items:(Vi(r,Li.ManyToManyNexusTypes)||[]).map(t=>{let r=So(Va(e),t);if(r)return{title:Oa(r),id:r.id}}),onClick:e=>{let t=r.id;var n=Vi(r,Li.ManyToManyNexusTypes)||[],o=n;o=n.some(t=>e.id===t)?[...o.filter(t=>t!==e.id)].unique(e=>e):[...o,e.id].unique(e=>e),this.props.graphOperation([{operation:os,options:{prop:Li.ManyToManyNexusTypes,id:r.id,value:o}},{operation:us,options:{target:e.id,source:t,linkType:wi.ManyToManyLink.type}}])}})):null,wm(dc,{title:ne}),wm(uc,{},void 0,wm(cc,{onClick:()=>{this.props.graphOperation(ns,{parent:Gi(e,ba),groupProperties:{},linkProperties:{properties:{...wi.PropertyLink}}})},icon:"fa fa-puzzle-piece",title:ie,description:oe}),wm(cc,{onClick:()=>{this.props.graphOperation(is,{parent:Gi(e,ba),groupProperties:{},linkProperties:{properties:{...wi.PropertyLink}}})},icon:"fa fa-puzzle-piece",title:ae,description:de})),n?wm(Ec,{label:ze,options:a,onChange:e=>{var t=r.id;this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.PermissionLink}})},value:r.properties?r.properties[Li.UIPermissions]:""}):null,r?wm(mc,{},void 0,wm(Mc,{label:yr,value:r.properties?r.properties[Li.IsParent]:"",onChange:e=>{this.props.graphOperation(os,{prop:Li.IsParent,id:r.id,value:e})}})):null,o?wm(Ec,{label:mr,options:ka(e,Ai.Model).map(e=>({value:e.id,title:Oa(e)})),onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.UIChoiceNode],source:t,linkType:wi.ParentLink.type}),this.props.graphOperation(os,{prop:Li.UIChoiceNode,id:t,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ParentLink}})},value:r.properties?r.properties[Li.UIChoiceNode]:""}):null,wm(uc,{},void 0,n?wm(cc,{onClick:()=>{this.props.graphOperation(as,{parent:Gi(e,ba),linkProperties:{properties:{...wi.PermissionLink}}})},icon:"fa fa-puzzle-piece",title:ot,description:nt}):null))}});function $m(e,t,r,n){xm||(xm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:xm,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var jm,Rm=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Function),r=sa(e,Gi(e,ba)),n=ka(e,Ai.Model).filter(e=>Vi(e,Li.IsAgent)).map(e=>({value:e.id,title:Oa(e)})),o=Object.keys(Xn).map(e=>({title:Xn[e].title||e,value:e}));return $m(fc,{active:t},void 0,r?$m(Ec,{label:Oe,options:n,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.UIExtension],source:t}),this.props.graphOperation(os,{prop:Li.UIExtension,id:r.id,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.FunctionOperator}})},value:r.properties?r.properties[Li.UIPermissions]:""}):null,r?$m(Mc,{label:Ir,title:Lr,value:r.properties?r.properties[Li.UseScopeGraph]:"",onChange:e=>{this.props.graphOperation(os,{prop:Li.UseScopeGraph,id:r.id,value:e})}}):null,r&&!r.properties[Li.UseScopeGraph]?$m(Ec,{label:Zt,options:o,onChange:e=>{this.props.graphOperation(os,{prop:Li.FunctionType,id:r.id,value:e}),this.props.graphOperation(Ss,{id:r.id,value:e})},value:r.properties?r.properties[Li.FunctionType]:""}):null,r?$m(Ec,{label:te,options:Object.keys(cn).map(e=>({title:e,value:cn[e]})),onChange:e=>{this.props.graphOperation(os,{prop:Li.MethodType,id:r.id,value:e})},value:r.properties?r.properties[Li.MethodType]:""}):null,r?$m(Ec,{label:nr,options:Object.keys(Yn).map(e=>({title:e,value:Yn[e]})),onChange:e=>{this.props.graphOperation(os,{id:r.id,value:e,prop:Zr.HttpMethod})},value:Vi(r,Zr.HttpMethod)}):null,r?$m(bc,{label:ir,value:Vi(r,Zr.HttpRoute),onChange:e=>{this.props.graphOperation(os,{id:r.id,value:e,prop:Zr.HttpRoute})}}):null,$m(uc,{},void 0,r&&r.properties[Li.UseScopeGraph]?$m(cc,{onClick:()=>{this.props.graphOperation([{operation:void 0},{options:{id:r.id}}])},icon:"fa fa-puzzle-piece",title:Ir,description:Lr}):null,r?$m(cc,{onClick:()=>{this.props.graphOperation(fs,{parent:Gi(e,ba)})},icon:"fa fa-puzzle-piece",title:xe,description:Pe}):null,r?$m(cc,{onClick:()=>{this.props.graphOperation(hs,{parent:Gi(e,ba)})},icon:"fa fa-puzzle-piece",title:$e,description:Re}):null))}});function Dm(e,t,r,n){jm||(jm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:jm,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Gm,Um=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Property),r=sa(e,Gi(e,ba));if(r)var n=r&&r.properties&&r.properties[Li.UseUIDependsOn],o=Vi(r,Li.UseModelAsType),i=Vi(r,Li.ManyToManyNexus),a=ka(e,Ai.Property).filter(e=>e.id!==r.id).map(e=>({value:e.id,title:Oa(e)}));return Dm(fc,{active:t},void 0,r?Dm(mc,{},void 0,Dm(Mc,{label:Nt,value:r.properties?r.properties[Li.UseUIDependsOn]:"",onChange:e=>{this.props.graphOperation(os,{prop:Li.UseUIDependsOn,id:r.id,value:e})}}),n?Dm(Ec,{label:Mt,options:a,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.UIDependsOn],source:t}),this.props.graphOperation(os,{prop:Li.UIDependsOn,id:t,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.DependsOnLink}})},value:r.properties?r.properties[Li.UIDependsOn]:""}):null):null,r?Dm(mc,{},void 0,Dm(bc,{label:me,value:r.properties?r.properties[Li.UIName]:"",onChange:e=>{this.props.graphOperation(os,{prop:Li.UIName,id:r.id,value:e})}})):null,r?Dm(mc,{},void 0,Dm(Mc,{label:gr,title:Er,value:Vi(r,Li.ManyToManyNexus),onChange:e=>{var t=r.id;this.props.graphOperation([e?null:{operation:us,options:{target:r.properties[Li.ManyToManyNexusType],source:t}},{operation:os,options:{prop:Li.ManyToManyNexus,id:r.id,value:e}},e&&r.properties[Li.ManyToManyNexusType]?{operation:ls,options:{target:r.properties[Li.ManyToManyNexusType],source:t,properties:{...wi.ManyToManyLink}}}:null].filter(e=>e))}}),i?Dm(Ec,{options:ka(e,Ur.Model).filter(e=>Vi(e,Zr.ManyToManyNexus)).map(e=>({value:e.id,title:Oa(e)})),label:gr,onChange:e=>{var t=r.id;this.props.graphOperation([{operation:us,options:{target:r.properties[Li.ManyToManyNexusType],source:t}},{operation:os,options:{prop:Li.ManyToManyNexusType,id:r.id,value:e}},{operation:ls,options:{target:e,source:t,properties:{...wi.ManyToManyLink}}}])},value:Vi(r,Li.ManyToManyNexusType)}):null,Dm(Mc,{label:Ar,value:r.properties?r.properties[Li.UseModelAsType]:"",onChange:e=>{var t=r.id;this.props.graphOperation([e?null:{operation:us,options:{target:r.properties[Li.UIModelType],source:t}},{operation:os,options:{prop:Li.UseModelAsType,id:r.id,value:e}},e&&r.properties[Li.UIModelType]?{operation:ls,options:{target:r.properties[Li.UIModelType],source:t,properties:{...wi.ModelTypeLink}}}:null])}}),o?null:Dm(Ec,{options:Object.keys(Pi).sort((e,t)=>e.localeCompare(t)).map(e=>({value:Pi[e],title:e})),label:ge,onChange:e=>{this.props.graphOperation(os,{prop:Li.UIAttributeType,id:r.id,value:e})},value:r.properties?r.properties[Li.UIAttributeType]:""}),o?Dm(Ec,{options:ka(e,Ur.Model).map(e=>({value:e.id,title:Oa(e)})),label:be,onChange:e=>{var t=r.id;this.props.graphOperation([{operation:us,options:{target:r.properties[Li.UIModelType],source:t}},{operation:os,options:{prop:Li.UIModelType,id:r.id,value:e}},{operation:ls,options:{target:e,source:t,properties:{...wi.ModelTypeLink}}}])},value:r.properties?r.properties[Li.UIModelType]:""}):null,o?Dm(Mc,{label:Ee,value:r.properties?r.properties[Li.IsReferenceList]:"",onChange:e=>{this.props.graphOperation(os,{prop:Li.IsReferenceList,id:r.id,value:e})}}):null):null,Dm(dc,{title:ne}),Dm(uc,{},void 0,Dm(cc,{onClick:()=>{this.props.graphOperation(ss,{parent:Gi(e,ba),groupProperties:{},linkProperties:{properties:{...un.AttributeLink}}})},icon:"fa fa-puzzle-piece",title:fe,description:he})))}});function Fm(e,t,r,n){Gm||(Gm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Gm,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Vm,Bm=Ou(class extends l.Component{getControls(){var{state:e}=this.props,t=sa(e,Gi(e,ba));let r=[],n=Vi(t,Li.AfterMethod);r.push(Fm(Ec,{label:M,options:Object.keys(jn).map(e=>({value:e,title:e})),onChange:e=>{var r=t.id;this.props.graphOperation(os,{prop:Li.AfterMethod,id:r,value:e})},value:Vi(t,Li.AfterMethod)}));let o=$a(Wo(e,t.id));if(n&&jn[n]){let{templateKeys:i}=jn[n];i&&Object.values(i).map(i=>{let{key:a,nodeTypes:s,parent:l,useNodes:p,useMethodTypes:u,useString:c}=i,d=Vi(t,Li.AfterMethodSetup);if(l||p||u||c)if(d&&d[n]&&d[n][l]){if(o[d[n][l]]){let i=wa(o[d[n][l]]);if(i){let o=Yo(e,{id:i.id,links:[{type:sn.PropertyLink,direction:Jo}]});r.push(Fm(Ec,{label:a,options:o.toNodeSelect(),onChange:e=>{var r=Ho(t,n,a,e);this.props.graphOperation(os,{prop:Li.AfterMethodSetup,id:t.id,value:r})},value:d&&d[n]&&d[n][a]?d[n][a]:null}))}}}else{let o=ka(e,s),i=[];p?i=o.toNodeSelect():u?i=Object.keys(cn).map(e=>({title:e,value:cn[e]})):c&&(i=Object.values(c).map(e=>({title:e,value:e}))),r.push(Fm(Ec,{label:a,options:i,onChange:e=>{var r=Ho(t,n,a,e);this.props.graphOperation(os,{prop:Li.AfterMethodSetup,id:t.id,value:r})},value:d&&d[n]&&d[n][a]?d[n][a]:null}))}else r.push(Fm(Ec,{label:a,options:ea(o),onChange:e=>{var r=Ho(t,n,a,e);this.props.graphOperation(os,{prop:Li.AfterMethodSetup,id:t.id,value:r})},value:d&&d[n]&&d[n][a]?d[n][a]:null}))})}return r}render(){var{state:e}=this.props,t=Ui(e,Ai.AfterEffect),r=sa(e,Gi(e,ba));let n=t?this.getControls():[];return Fm(fc,{active:t},void 0,r?Fm(mc,{},void 0,n):null)}});function qm(e,t,r,n){Vm||(Vm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Vm,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Hm,Wm=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Attribute),r=sa(e,Gi(e,ba)),n=ka(e,Ai.ChoiceList).map(e=>({value:e.id,title:Oa(e)})),o=ka(e,Ai.ValidationList).map(e=>({value:e.id,title:Oa(e)})),i=r&&r.properties&&r.properties[Li.UIAttributeType]==xi.CHOICE,a=Fi(r,Li.UseUIValidations),s=Fi(r,Li.UseUIOptions),l=Fi(r,Li.UseUIExtensionList),p=ka(e,Ai.OptionList).map(e=>({value:e.id,title:Oa(e)})),u=ka(e,Ai.ExtensionType).map(e=>({value:e.id,title:Oa(e)}));return qm(fc,{active:t},void 0,r?qm(mc,{},void 0,qm(bc,{label:me,title:ye,value:r.properties?r.properties[Li.UIName]:"",onChange:e=>{this.props.graphOperation(os,{prop:Li.UIName,id:r.id,value:e})}}),qm(Ec,{options:Object.keys(xi).sort((e,t)=>e.localeCompare(t)).map(e=>({value:xi[e],title:e})),label:ge,onChange:e=>{this.props.graphOperation(os,{prop:Li.UIAttributeType,id:r.id,value:e})},value:r.properties?r.properties[Li.UIAttributeType]:""}),i?qm(Ec,{label:et,options:n,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.UIChoiceType],source:t}),this.props.graphOperation(os,{prop:Li.UIChoiceType,id:t,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ChoiceLink}})},value:r.properties?r.properties[Li.UIChoiceType]:""}):null,i?qm(uc,{},void 0,qm(cc,{onClick:()=>{this.props.graphOperation(vs,{})},icon:"fa fa-puzzle-piece",title:tt,description:rt})):null,qm(Mc,{label:_e,value:r.properties?r.properties[Li.UISingular]:"",onChange:e=>{this.props.graphOperation(os,{prop:Li.UISingular,id:r.id,value:e})}}),qm(Mc,{label:pt,value:r.properties?r.properties[Li.UseUIValidations]:"",onChange:e=>{this.props.graphOperation(os,{prop:Li.UseUIValidations,id:r.id,value:e})}}),a?qm(Ec,{label:ft,options:o,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.UIValidationType],source:t}),this.props.graphOperation(os,{prop:Li.UIValidationType,id:t,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ValdationLink}})},value:r.properties?r.properties[Li.UIValidationType]:""}):null,a?qm(uc,{},void 0,qm(cc,{onClick:()=>{this.props.graphOperation(gs,{})},icon:"fa fa-puzzle-piece",title:ut,description:ct})):null,qm(Mc,{label:Ct,value:r.properties?r.properties[Li.UseUIOptions]:"",onChange:e=>{this.props.graphOperation(os,{prop:Li.UseUIOptions,id:r.id,value:e})}}),s?qm(Ec,{label:gt,options:p,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.UIOptionType],source:t}),this.props.graphOperation(os,{prop:Li.UIOptionType,id:t,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.OptionLink}})},value:r.properties?r.properties[Li.UIOptionType]:""}):null,s?qm(uc,{},void 0,qm(cc,{onClick:()=>{this.props.graphOperation(Cs,{})},icon:"fa fa-puzzle-piece",title:Et,description:Ot})):null,qm(Mc,{label:kt,value:r.properties?r.properties[Li.UseUIExtensionList]:"",onChange:e=>{this.props.graphOperation(os,{prop:Li.UseUIExtensionList,id:r.id,value:e})}}),l?qm(Ec,{label:$t,options:u,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.UIExtensionList],source:t}),this.props.graphOperation(os,{prop:Li.UIExtensionList,id:t,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ExtensionLink}})},value:r.properties?r.properties[Li.UIExtensionList]:""}):null,l?qm(uc,{},void 0,qm(cc,{onClick:()=>{this.props.graphOperation(Ms,{})},icon:"fa fa-puzzle-piece",title:jt,description:Rt})):null):null)}});function Ym(e,t,r,n){Hm||(Hm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Hm,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var zm=Ym("div",{});var Xm;Ou(class extends l.Component{constructor(e){super(e),this.state={}}render(){let e=this.props.nodeProperty,t=this.props.node;if(!t)return zm;this.props.linkType;let r=this.props.items,{state:n}=this.props;return Ym(sd,{active:!0,isSelected:r=>{var n=Vi(t,e)||[];if(n&&n.some)return r&&n.some(e=>e===r.id)},items:r,onClick:e=>{this.props.removeLink&&this.props.graphOperation(us,{target:e.value,source:t.id}),this.props.removeNode&&this.props.graphOperation(Ja,{id:e.value})}})}});function Qm(e,t,r,n){Xm||(Xm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Xm,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Km,Jm=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Condition);return Ua(sa(e,Gi(e,ba)).id),Qm(fc,{active:t},void 0,Qm(dc,{title:ne}))}});function Zm(e,t,r,n){Km||(Km="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Km,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var ey,ty,ry=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.ChoiceList),r=Vi(sa(e,Gi(e,ba)),Li.UIExtensionDefinition);return Zm(fc,{active:t},void 0,Zm("ul",{},void 0,r?Object.keys(r.definition).map((e,t)=>Zm("li",{},`clist${e}-${t}`,e)):null))}});class ny extends l.Component{icon(){return this.props.icon||"fa fa-circle-o"}render(){return function(e,t,r,n){ey||(ey="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ey,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("li",{},void 0,this.props.title,this.props.children)}}function oy(e,t,r,n){ty||(ty="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ty,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var iy,ay=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.ModelFilter),r=sa(e,Gi(e,ba));let n=ka(e,Ur.Model).map(e=>({title:Oa(e),value:e.id})),o=ka(e,Ur.Model).filter(e=>Vi(e,Zr.IsAgent)).map(e=>({title:Oa(e),value:e.id}));var i=r?oy(Ec,{label:L,options:n,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:Vi(r,Zr.FilterModel),source:t}),this.props.graphOperation(os,{prop:Zr.FilterModel,id:r.id,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ModelTypeLink}})},value:Vi(r,Zr.FilterModel)}):null,a=r?oy(Ec,{label:K,options:o,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:Vi(r,Zr.FilterAgent),source:t}),this.props.graphOperation(os,{prop:Zr.FilterAgent,id:r.id,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.AgentTypeLink}})},value:Vi(r,Zr.FilterAgent)}):null;return oy(fc,{active:t},void 0,r?oy(mc,{},void 0,i,a):null)}});function sy(e,t,r,n){iy||(iy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:iy,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var ly,py=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.ValidationList);return sy(fc,{active:t},void 0,sy(dc,{title:at}),sy(uc,{},void 0,sy(cc,{onClick:()=>{this.props.graphOperation(_s,{parent:Gi(e,ba),groupProperties:{},linkProperties:{properties:{...wi.ValidationLinkItem}}})},icon:"fa fa-puzzle-piece",title:st,description:lt})))}});function uy(e,t,r,n){ly||(ly="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ly,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var cy,dy=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.ValidationListItem),r=sa(e,Gi(e,ba));return uy(fc,{active:t},void 0,r?uy(mc,{},void 0,uy(Ec,{options:Object.keys($i).sort((e,t)=>e.localeCompare(t)).map(e=>({value:$i[e],title:e})),label:ht,onChange:e=>{this.props.graphOperation(os,{prop:Li.UIValidationType,id:r.id,value:e})},value:r.properties?r.properties[Li.UIValidationType]:""})):null)}});function fy(e,t,r,n){cy||(cy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:cy,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var hy,my=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Validator),r=sa(e,Gi(e,ba)),n=ka(e,Ai.Model).map(e=>({title:Oa(e),value:e.id})),o=ka(e,[Ai.MethodF,Ai.Function]).map(e=>({title:Oa(e),value:e.id})),i=ka(e,Ai.Model).filter(e=>Vi(e,Zr.IsAgent)).map(e=>({title:Oa(e),value:e.id}));return fy(fc,{active:t},void 0,r?fy(mc,{},void 0,fy(Ec,{options:n,label:L,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.ValidatorModel],source:t}),this.props.graphOperation(os,{prop:Li.ValidatorModel,id:r.id,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ValidatorModelLink}})},value:r.properties?r.properties[Li.ValidatorModel]:""}),fy(Ec,{options:i,label:K,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.ValidatorAgent],source:t}),this.props.graphOperation(os,{prop:Li.ValidatorAgent,id:r.id,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ValidatorAgentLink}})},value:r.properties?r.properties[Li.ValidatorAgent]:""}),fy(Ec,{options:o,label:er,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.ValidatorFunction],source:t}),this.props.graphOperation(os,{prop:Li.ValidatorFunction,id:r.id,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ValidatorFunctionLink}})},value:r.properties?r.properties[Li.ValidatorFunction]:""})):null)}});function yy(e,t,r,n){hy||(hy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:hy,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var _y,vy=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.OptionList);return yy(fc,{active:t},void 0,yy(dc,{title:mt}),yy(uc,{},void 0,yy(cc,{onClick:()=>{this.props.graphOperation(bs,{parent:Gi(e,ba),groupProperties:{},linkProperties:{properties:{...wi.OptionItemLink}}})},icon:"fa fa-puzzle-piece",title:yt,description:_t})))}});function gy(e,t,r,n){_y||(_y="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:_y,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var by,Cy=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Executor),r=Va(e),n=sa(e,Gi(e,ba));if(n&&Vi(n,Li.ExecutorModel)){var o=Xo(r,{id:Vi(n,Li.ExecutorModel),direction:Jo,type:sn.PropertyLink}).map(e=>({title:Oa(e),value:e.id}));Vi(n,Zr.Executor)}return gy(fc,{active:t},void 0,n?gy(mc,{},void 0,gy(Ec,{options:o,defaultSelectText:J,label:Yt,onChange:e=>{var t=n.id;let r=Vi(n,Zr.Executor)||_o();r=vo(r,{id:e}),this.props.graphOperation(os,{id:t,prop:Zr.Executor,value:r}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ExecutorModelLink,...pi(an.Remove,{function:"OnRemoveExecutorPropConnection"})}})},value:n.properties?n.properties[Li.ExecutorModel]:""})):null)}});function Ey(e,t,r,n){by||(by="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:by,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Oy,My=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Condition),r=sa(e,Gi(e,ba)),n=Vi(r,Li.ConditionType),o=Va(e),i=r?Yo(e,{id:r.id,links:[{type:sn.Condition,direction:Zo},{type:sn.FunctionOperator,direction:Zo}]}):[];let a=[],s=[];Vi(r,Zr.MatchReference);var l=[],p=i.map(e=>Vi(e,Zr.FunctionType)).filter(e=>e);if(to[n]&&to[n].functions&&p&&1===p.length){let{constraints:t}=to[n].functions[p[0]];if(t){let n=Vi(i[0],Zr.MethodProps);if(l=Object.keys(t).filter(e=>-1!==t[e].nodeTypes.indexOf(Ur.Model)).map(e=>n&&n[e]?{title:`${Vi(So(o,n[e]),Zr.UIText)||e}(${e})`,value:e}:{title:e,value:e}),n){var u=Vi(r,Zr.MatchReference)||{};u.ref2&&(a=this.getProperties(n,u,e,"ref2")),u.ref1&&(s=this.getProperties(n,u,e,"ref1"))}}}return Ey(fc,{active:t},void 0,Ey(bc,{label:T,value:Vi(r,Zr.UIText),onChange:e=>{this.props.graphOperation(es,{id:r.id,value:e})}}),Ey(Ec,{label:x,options:Object.keys(Kn).map(e=>({title:e,value:Kn[e]})),onChange:e=>{this.props.graphOperation(os,{prop:Li.ConditionType,id:r.id,value:e})},value:n}),this.getMatchManyReferenceProperty({conditionType:n,model_options:l,currentNode:r,methods:i}),this.getEnumeration({conditionType:n,graph:o,model_options:l,currentNode:r,methods:i}),this.getMatchReferenceProperty({conditionType:n,model_options:l,currentNode:r,methods:i,graph:o}))}getProperties(e,t,r,n="ref2"){let o=e[t[n]],i=[],a=Ji(o),s=Yi(o);a&&(i=a.toNodeSelect());let l=Zi(s.id);return i=[...i,...l.toNodeSelect()]}getEnumeration(e){var{conditionType:t,model_options:r,graph:n,currentNode:o,methods:i}=e,{state:a}=this.props,s=Vi(o,Zr.EnumerationReference)||{};if(t!==Kn.InEnumerable)return[];let l=Vi(i?i[0]:null,Zr.MethodProps);var p=[],u=Yo(a,{id:o.id,links:[{type:sn.Condition,direction:Zo}]})[0];(s=Vi(o,Zr.EnumerationReference)||{ref1:GetNodeProp(u,Li.PermissionRequester)}).ref2&&this.getProperties(l,s,a,"ref2"),s.ref1&&(p=this.getProperties(l,s,a,"ref1")),s[Zn.RefManyToMany]&&this.getProperties(l,s,a,"refManyToMany");var c=s&&s[Li.Enumeration]?s[Li.Enumeration]:"",d=s&&s[Li.AllowedEnumValues]?s[Li.AllowedEnumValues]:[],f=[];if(c){var h=So(n,c);if(h){var m=Vi(h,Zr.Enumeration)||[];d=d.intersection(m),f=m.relativeCompliment(d)}}let y={...s};var _=ka(a,Ai.Enumeration).toNodeSelect();return[Ey(Ec,{label:P,options:r,onChange:e=>{s.ref1=e,this.props.graphOperation(os,{prop:Li.EnumerationReference,id:o.id,value:s})},value:y.ref1}),Ey(Ec,{label:Yt,options:p,onChange:e=>{s.ref1Property=e,this.props.graphOperation(os,{prop:Li.EnumerationReference,id:o.id,value:s})},value:y.ref1Property}),o?Ey(Ec,{label:ue,options:_,onChange:e=>{var t=o.id;let r=s[Li.Enumeration]||"";s[Li.Enumeration]=e,this.props.graphOperation(us,{target:r,source:t,linkType:wi.EnumerationReferenceLink.type}),this.props.graphOperation(os,{prop:Li.EnumerationReference,id:t,value:s}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.EnumerationReferenceLink}})},value:s[Li.Enumeration]||""},`${o.id}-enum`):null,Ey(dc,{title:re},`${o.id}-allowed-enum-title`),d&&d.length?d.map(e=>Ey("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{var t=m.relativeCompliment([...d].filter(t=>t!==e));s[Li.AllowedEnumValues]=[...d].filter(t=>t!==e),s[Li.DisallowedEnumValues]=t,this.props.graphOperation(os,{prop:Li.EnumerationReference,id:o.id,value:s})}},`allowed-${e}`," ",e)):null,Ey(dc,{title:Z},`${o.id}-disalloweditem-title`),f&&f.length?f.map(e=>Ey("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{var t=m.relativeCompliment([...d,e].unique());s[Li.AllowedEnumValues]=[...d,e].unique(),s[Li.DisallowedEnumValues]=t,this.props.graphOperation(os,{prop:Li.EnumerationReference,id:o.id,value:s})}},`disallowed-${e}`," ",e)):null]}getMatchManyReferenceProperty(e){var{conditionType:t,model_options:r,currentNode:n,methods:o}=e,{state:i}=this.props,a=Vi(n,Zr.MatchManyReferenceParameter)||{};let s=Vi(o?o[0]:null,Zr.MethodProps);var l=[],p=[],u=[];(a=Vi(n,Zr.MatchManyReferenceParameter)||{}).ref2&&(p=this.getProperties(s,a,i,"ref2")),a.ref1&&(l=this.getProperties(s,a,i,"ref1")),a[Zn.RefManyToMany]&&(u=this.getProperties(s,a,i,"refManyToMany"));let c={...a};return[t==Kn.MatchManyReferenceParameter?Ey(Ec,{label:P,options:r,onChange:e=>{a.ref1=e,this.props.graphOperation(os,{prop:Li.MatchManyReferenceParameter,id:n.id,value:a})},value:c.ref1}):null,c.ref1&&t==Kn.MatchManyReferenceParameter?Ey(Mc,{label:Wt,value:c.ref1UseId,onChange:e=>{a.ref1UseId=e,this.props.graphOperation(os,{prop:Li.MatchManyReferenceParameter,id:n.id,value:a})}}):null,c.ref1&&!a.ref1UseId&&t==Kn.MatchManyReferenceParameter?Ey(Ec,{label:Yt,options:l,onChange:e=>{a.ref1Property=e,this.props.graphOperation(os,{prop:Li.MatchManyReferenceParameter,id:n.id,value:a})},value:c.ref1Property}):null,t==Kn.MatchManyReferenceParameter?Ey(Ec,{label:P,options:r,onChange:e=>{a.ref2=e,this.props.graphOperation(os,{prop:Li.MatchManyReferenceParameter,id:n.id,value:a})},value:c.ref2}):null,c.ref2&&t==Kn.MatchManyReferenceParameter?Ey(Mc,{label:Wt,value:c.ref2UseId,onChange:e=>{a.ref2UseId=e,this.props.graphOperation(os,{prop:Li.MatchManyReferenceParameter,id:n.id,value:a})}}):null,c.ref2&&!a.ref2UseId&&t==Kn.MatchManyReferenceParameter?Ey(Ec,{label:Yt,options:p,onChange:e=>{a.ref2Property=e,this.props.graphOperation(os,{prop:Li.MatchManyReferenceParameter,id:n.id,value:a})},value:c.ref2Property}):null,c.ref1&&c.ref2&&t==Kn.MatchManyReferenceParameter?Ey(Ec,{label:gr,options:r,onChange:e=>{a[Zn.RefManyToMany]=e,this.props.graphOperation(os,{prop:Li.MatchManyReferenceParameter,id:n.id,value:a})},value:c[Zn.RefManyToMany]}):null,c.ref2&&t==Kn.MatchManyReferenceParameter?Ey(Mc,{label:br,value:c.refManyToManyExists,onChange:e=>{a.refManyToManyExists=e,this.props.graphOperation(os,{prop:Li.MatchManyReferenceParameter,id:n.id,value:a})}}):null,c.ref1&&c.ref2&&t==Kn.MatchManyReferenceParameter?Ey(Ec,{label:Yt,options:u,onChange:e=>{a.refManyToManyProperty=e,this.props.graphOperation(os,{prop:Li.MatchManyReferenceParameter,id:n.id,value:a})},value:c.refManyToManyProperty}):null,c.refManyToManyProperty&&c.ref1&&c.ref2&&t==Kn.MatchManyReferenceParameter?Ey(Ec,{title:zt,label:zt,options:[...Object.keys(eo)].map(e=>({title:e,value:e})),value:c.refManyToManyCondition,onChange:e=>{a.refManyToManyCondition=e,this.props.graphOperation(os,{prop:Li.MatchManyReferenceParameter,id:n.id,value:a})}}):null].filter(e=>e).map((e,t)=>e)}getMatchReferenceProperty(e){var{conditionType:t,model_options:r,currentNode:n,methods:o}=e;if(t!==Kn.MatchReference)return null;var{state:i}=this.props,a=Vi(n,Zr.MatchReference)||{};let s=Vi(o?o[0]:null,Zr.MethodProps);var l=[],p=[],u=Li.MatchReference;a.ref2&&(p=this.getProperties(s,a,i,"ref2")),a.ref1&&(l=this.getProperties(s,a,i,"ref1")),a[Zn.RefManyToMany]&&this.getProperties(s,a,i,"refManyToMany");let c={...a};return[Ey(Ec,{label:P,options:r,onChange:e=>{var t=Vi(n,Zr.MatchReference)||{};t.ref1=e,this.props.graphOperation(os,{prop:u,id:n.id,value:t})},value:c.ref1}),c.ref1?Ey(Mc,{label:Wt,value:c.ref1UseId,onChange:e=>{var t=Vi(n,Zr.MatchReference)||{};t.ref1UseId=e,this.props.graphOperation(os,{prop:u,id:n.id,value:t})}}):null,c.ref1&&!a.ref1UseId?Ey(Ec,{label:Yt,options:l,onChange:e=>{var t=Vi(n,Zr.MatchReference)||{};t[Zn.Ref1Property]=e,this.props.graphOperation(os,{prop:u,id:n.id,value:t})},value:c.ref1Property}):null,Ey(Ec,{label:P,options:r,onChange:e=>{var t=Vi(n,Zr.MatchReference)||{};t.ref2=e,this.props.graphOperation(os,{prop:u,id:n.id,value:t})},value:c.ref2}),c.ref2?Ey(Mc,{label:Wt,value:c.ref2UseId,onChange:e=>{var t=Vi(n,Zr.MatchReference)||{};t.ref2UseId=e,this.props.graphOperation(os,{prop:u,id:n.id,value:t})}}):null,c.ref2&&!a.ref2UseId?Ey(Ec,{label:Yt,options:p,onChange:e=>{var t=Vi(n,Zr.MatchReference)||{};t.ref2Property=e,this.props.graphOperation(os,{prop:u,id:n.id,value:t})},value:c.ref2Property}):null].filter(e=>e)}});function Ny(e,t,r,n){Oy||(Oy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Oy,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var ky,Sy=Ou(class extends l.Component{mustBeModel(e){for(var{state:t}=this.props,r=Do(Va(t),e.id,Zo),n=0;n<r.length;n++){var o=oa(r[n],pn.CONSTRAINTS);if(o&&o[Ln.IsModel])return!0}return!1}mustBeProperty(e){for(var{state:t}=this.props,r=Do(Va(t),e.id,Zo),n=0;n<r.length;n++){var o=oa(r[n],pn.CONSTRAINTS);if(o&&o[Ln.IsProperty])return!0}return!1}mustBeFunction(e){for(var{state:t}=this.props,r=Do(Va(t),e.id,Zo),n=0;n<r.length;n++){var o=oa(r[n],pn.CONSTRAINTS);if(o&&o[Ln.IsFunction])return!0}return!1}render(){var e,t,{state:r}=this.props,n=Ui(r,Ai.Parameter),o=sa(r,Gi(r,ba)),i=[],a=[];return o&&n&&(e=Va(r),t={id:o.id},i=Qo(e,{...t||{},direction:Zo}),this.mustBeModel(o)?a=ka(r,Ai.Model).map(e=>({value:e.id,title:Oa(e)})):this.mustBeProperty(o)?a=ka(r,Ai.Property).map(e=>({value:e.id,title:Oa(e)})):this.mustBeFunction(o)&&(a=ka(r,Ai.Function).map(e=>({value:e.id,title:Oa(e)})))),Ny(fc,{active:n},void 0,o&&0===i.length?Ny(Ec,{label:Ve,options:Object.keys(Pi).sort((e,t)=>e.localeCompare(t)).map(e=>({value:Pi[e],title:e})),onChange:e=>{o.id,this.props.graphOperation(os,{prop:Li.CodePropertyType,id:o.id,value:e})},value:o.properties?o.properties[Li.CodePropertyType]:""}):null,o?Ny(Ec,{label:et,options:a,onChange:e=>{var t=o.id;this.props.graphOperation(us,{target:o.properties[Li.UIChoiceNode],source:t}),this.props.graphOperation(os,{prop:Li.UIChoiceNode,id:t,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ChoiceLink}})},value:o.properties?o.properties[Li.UIChoiceNode]:""}):null)}});function Ty(e,t,r,n){ky||(ky="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ky,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Ay,Iy=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.OptionListItem),r=sa(e,Gi(e,ba)),n=r&&r.properties&&r.properties[Li.UseCustomUIOption],o=ka(e,Ai.OptionCustom).map(e=>({value:e.id,title:Oa(e)}));return Ty(fc,{active:t},void 0,r?Ty(mc,{},void 0,Ty(Mc,{label:bt,value:r.properties?r.properties[Li.UseCustomUIOption]:"",onChange:e=>{this.props.graphOperation(os,{prop:Li.UseCustomUIOption,id:r.id,value:e})}}),Ty(Ec,n?{options:o,label:gt,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.UIOptionTypeCustom],source:t}),this.props.graphOperation(os,{prop:Li.UIOptionTypeCustom,id:r.id,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.OptionCustomLink}})},value:r.properties?r.properties[Li.UIOptionTypeCustom]:""}:{options:Object.keys(ji).sort((e,t)=>e.localeCompare(t)).map(e=>({value:ji[e],title:e})),label:gt,onChange:e=>{this.props.graphOperation(os,{prop:Li.UIOptionType,id:r.id,value:e})},value:r.properties?r.properties[Li.UIOptionType]:""}),n?Ty(uc,{},void 0,Ty(cc,{onClick:()=>{this.props.graphOperation(Es,{})},icon:"fa fa-puzzle-piece",title:Et,description:Ot})):null):null)}});function Ly(e,t,r,n){Ay||(Ay="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Ay,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var wy=Ly("div",{}),xy=Ly("div",{});var Py,$y=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,this.props.nodeType||Ai.Executor);if(!t)return wy;var r,n=Va(e),o=sa(e,Gi(e,ba));t&&o&&Vi(o,this.props.modelKey||Li.ExecutorModel)&&(r=Vi(o,this.props.nodeProp||Zr.Executor));let i=this.props.ui||On,a=xy;return r&&r.properties&&(a=Object.keys(r.properties).map(t=>{let a=r.properties[t],s=`ExecutorPropertyActivityMenu${t}-${o.id}`,l=Object.keys(a&&a.validators?a.validators:{}).map(r=>{let n=`${`${s}-selected-validation`}-inne-${r}-r`;return Ly(nc,{title:a.validators&&a.validators[r]&&a.validators[r].type?a.validators[r].type:r,open:Gi(e,n),active:Gi(e,n),toggle:()=>{this.props.toggleVisual(n)},icon:"fa fa-tag"},`${r}-v-v`,Ly(nc,{hideArrow:!0,title:O,icon:"fa fa-minus",onClick:()=>{let e=o.id,n=Vi(o,this.props.nodeProp||Zr.Executor)||{properties:{}};delete n.properties[t].validators[r],this.props.graphOperation(os,{id:e,prop:this.props.nodeProp||Zr.Executor,value:n})}}),Ly(Xc,{node:o.id,property:t,validator:r}))}),p=Object.keys(i).filter(e=>!a||!a.validators||!a.validators[e]).reverse().map(e=>Ly(nc,{hideArrow:!0,title:e,icon:"fa fa-plus-square-o",onClick:()=>{let r=o.id;var n=Vi(o,this.props.nodeProp||Zr.Executor)||{properties:{}};n=vo(n,{id:t,validator:ws(),validatorArgs:{type:e,...i[e]}}),this.props.graphOperation(os,{id:r,prop:this.props.nodeProp||Zr.Executor,value:n})}},`${e}-afjlskf-asfd`));return Ly(nc,{open:Gi(e,s),active:Gi(e,s),title:Oa(So(n,t)),toggle:()=>{this.props.toggleVisual(s)}},s,Ly(nc,{hideArrow:!0,title:g,icon:"fa fa-minus",onClick:()=>{let e=o.id;this.props.graphOperation(us,{target:t,source:e})}}),Ly(nc,{title:Q,icon:"fa  fa-list-ul",open:Gi(e,`${s}-selected-executions`),active:Gi(e,`${s}-selected-executions`),toggle:()=>{this.props.toggleVisual(`${s}-selected-executions`)}},void 0,l),Ly(nc,{title:C,icon:"fa fa-plus-circle",open:Gi(e,`${s}-selectexecution`),active:Gi(e,`${s}-selectexecution`),toggle:()=>{this.props.toggleVisual(`${s}-selectexecution`)}},void 0,p))}),a=Ly("div",{style:{position:"relative"}},void 0,Ly(Hu,{},void 0,Ly(ic,{},void 0,Ly(Yu,{},void 0,a))))),a}});function jy(e,t,r,n){Py||(Py="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Py,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Ry,Dy=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Executor),r=sa(e,Gi(e,ba)),n=ka(e,Ai.Model).map(e=>({title:Oa(e),value:e.id})),o=ka(e,[Ai.Function,Ai.Method]).map(e=>({title:Oa(e),value:e.id})),i=ka(e,Ai.Model).filter(e=>Vi(e,Zr.IsAgent)).map(e=>({title:Oa(e),value:e.id}));return jy(fc,{active:t},void 0,r?jy(mc,{},void 0,jy(Ec,{options:Object.keys(cn).map(e=>({title:e,value:e})),label:te,onChange:e=>{this.props.graphOperation(os,{prop:Li.ExecutorFunctionType,id:r.id,value:e})},value:r.properties?r.properties[Li.ExecutorFunctionType]:""}),jy(Ec,{options:n,label:L,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.ExecutorModel],source:t}),this.props.graphOperation(os,{prop:Li.ExecutorModel,id:r.id,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ExecutorModelLink}})},value:r.properties?r.properties[Li.ExecutorModel]:""}),jy(Ec,{options:n,label:w,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.ExecutorModelOutput],source:t}),this.props.graphOperation(os,{prop:Li.ExecutorModelOutput,id:r.id,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ExecutorModelLink}})},value:Vi(r,Li.ExecutorModelOutput)}),jy(Ec,{options:i,label:K,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.ExecutorAgent],source:t}),this.props.graphOperation(os,{prop:Li.ExecutorAgent,id:r.id,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ExecutorAgentLink}})},value:r.properties?r.properties[Li.ExecutorAgent]:""}),jy(Ec,{options:o,label:er,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.ExecutorFunction],source:t}),this.props.graphOperation(os,{prop:Li.ExecutorFunction,id:r.id,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ExecutorFunctionLink}})},value:r.properties?r.properties[Li.ExecutorFunction]:""})):null)}});function Gy(e,t,r,n){Ry||(Ry="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Ry,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Uy,Fy=Ou(class extends l.Component{render(){var e,{state:t}=this.props,r=Ui(t,Ai.Validator),n=Va(t),o=sa(t,Gi(t,ba));if(o&&Vi(o,Li.ValidatorModel)){var i=Xo(n,{id:Vi(o,Li.ValidatorModel),direction:Jo,type:sn.PropertyLink}).map(e=>({title:Oa(e),value:e.id}));e=Vi(o,Zr.Validator)}let a=[];return e&&e.properties&&(a=Object.keys(e.properties).map(e=>{let r=`ValidatorPropertyMenu${e}-${o.id}`;return Gy(nc,{open:Gi(t,r),active:Gi(t,r),title:Oa(So(n,e)),toggle:()=>{this.props.toggleVisual(r)}},r)}),a=Gy("div",{style:{position:"relative"}},void 0,Gy(Hu,{},void 0,Gy(ic,{},void 0,Gy(Yu,{},void 0,a))))),Gy(fc,{active:r},void 0,o?Gy(mc,{},void 0,Gy(Ec,{options:i,defaultSelectText:J,label:Yt,onChange:e=>{var t=o.id,r=Vi(o,Zr.Validator)||{properties:{}};r=vo(r,{id:e}),this.props.graphOperation(os,{id:t,prop:Zr.Validator,value:r}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ValidatorModelLink,...pi(an.Remove,{function:"OnRemoveValidationPropConnection"})}})},value:o.properties?o.properties[Li.ValidatorModel]:""})):null)}});function Vy(e,t,r,n){Uy||(Uy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Uy,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var By=Vy("div",{},void 0,"reference"),qy=Vy("div",{},void 0,"item"),Hy=Vy("div",{});var Wy,Yy=Ou(class extends l.Component{render(){var e,{state:t}=this.props,r=(Ui(t,Ai.Validator),Va(t)),n=sa(t,Gi(t,ba));if(n&&Vi(n,Li.ValidatorModel)&&(e=(i=Vi(n,Zr.Validator)).properties[this.props.property].validators[this.props.validator]),e){if(e.arguments&&e.arguments.reference){var{types:o}=e.arguments.reference;if(o){let l=ka(t,o).filter(e=>Vi(e,Zr.NODEType)!==Ur.ExtensionType||ii(e));var i;let p=bo(i=Vi(n,Zr.Validator)||{properties:{}},{property:this.props.property,validator:this.props.validator}),u=[];if(p&&p.node){let e=So(r,p.node);switch(Vi(e,Zr.NODEType)){case Ur.Enumeration:u=(Vi(e,Zr.Enumeration)||[]).map(e=>Vy("div",{className:`external-event ${p.enumeration&&p.enumeration[e]?"bg-red":"bg-black"}`,style:{cursor:"pointer"},onClick:()=>{p.enumeration=p.enumeration||{},p.enumeration[e]=!p.enumeration[e],this.props.graphOperation(os,{id:n.id,prop:Zr.Validator,value:i})}},void 0," ",e));break;case Ur.ExtensionType:var a=ai(e),s=si(e);u=a.map(e=>Vy("div",{className:`external-event ${p.extension&&p.extension[e[s]]?"bg-red":"bg-black"}`,style:{cursor:"pointer"},onClick:()=>{p.extension=p.extension||{},p.extension[e[s]]=!p.extension[e[s]],this.props.graphOperation(os,{id:n.id,prop:Zr.Validator,value:i})}},void 0," ",e[s]))}}return Vy(mc,{},void 0,Vy(Ec,{options:l.map(e=>({title:Oa(e),value:e.id})),defaultSelectText:A,label:Yt,onChange:e=>{var t=n.id,r=Vi(n,Zr.Validator)||{properties:{}};let o=bo(r,{property:this.props.property,validator:this.props.validator}),i=o.node;o.node=e,i&&this.props.graphOperation(us,{target:i,source:t}),this.props.graphOperation(os,{id:t,prop:Zr.Validator,value:r}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ValidatorModelItemLink,...pi(an.Remove,{property:this.props.property,validator:this.props.validator,function:"OnRemoveValidationItemPropConnection",node:o.node})}})},value:e?e.node:""}),u)}return By}return qy}return Hy}});function zy(e,t,r,n){Wy||(Wy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Wy,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Xy=zy("div",{});var Qy,Ky=Ou(class extends l.Component{render(){var e,{state:t}=this.props,r=Ui(t,Ai.Validator),n=Va(t),o=sa(t,Gi(t,ba));r&&o&&Vi(o,Li.ValidatorModel)&&(e=Vi(o,Zr.Validator));let i=Xy;return e&&e.properties&&(i=Object.keys(e.properties).map(r=>{let i=e.properties[r],a=`ValidatorPropertyActivityMenu${r}-${o.id}`,s=Object.keys(i&&i.validators?i.validators:{}).map(e=>{let n=`${`${a}-selected-validation`}-inne-${e}-r`;return zy(nc,{title:i.validators&&i.validators[e]&&i.validators[e].type?i.validators[e].type:e,open:Gi(t,n),active:Gi(t,n),toggle:()=>{this.props.toggleVisual(n)},icon:"fa fa-tag"},`${e}-v-v`,zy(nc,{hideArrow:!0,title:O,icon:"fa fa-minus",onClick:()=>{let t=o.id,n=Vi(o,Zr.Validator)||{properties:{}};delete n.properties[r].validators[e],this.props.graphOperation(os,{id:t,prop:Zr.Validator,value:n})}}),zy(Yy,{node:o.id,property:r,validator:e}))}),l=Object.keys(kn).filter(e=>!i||!i.validators||!i.validators[e]).reverse().map(e=>zy(nc,{hideArrow:!0,title:e,icon:"fa fa-plus-square-o",onClick:()=>{let t=o.id;var n=Vi(o,Zr.Validator)||{properties:{}};n=vo(n,{id:r,validator:(void 0)(),validatorArgs:{type:e,...kn[e]}}),this.props.graphOperation(os,{id:t,prop:Zr.Validator,value:n})}},`${e}-afjlskf-asfd`));return zy(nc,{open:Gi(t,a),active:Gi(t,a),title:Oa(So(n,r)),toggle:()=>{this.props.toggleVisual(a)}},a,zy(nc,{hideArrow:!0,title:v,icon:"fa fa-minus",onClick:()=>{let e=o.id;this.props.graphOperation(us,{target:r,source:e})}}),zy(nc,{title:E,icon:"fa  fa-list-ul",open:Gi(t,`${a}-selected-validations`),active:Gi(t,`${a}-selected-validations`),toggle:()=>{this.props.toggleVisual(`${a}-selected-validations`)}},void 0,s),zy(nc,{title:b,icon:"fa fa-plus-circle",open:Gi(t,`${a}-selectvalidation`),active:Gi(t,`${a}-selectvalidation`),toggle:()=>{this.props.toggleVisual(`${a}-selectvalidation`)}},void 0,l))}),i=zy("div",{style:{position:"relative"}},void 0,zy(Hu,{},void 0,zy(ic,{},void 0,zy(Yu,{},void 0,i))))),i}});function Jy(e,t,r,n){Qy||(Qy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Qy,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Zy,e_=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.ExtensionTypeList),r=sa(e,Gi(e,ba)),n=ka(e,Ai.ExtensionType).map(e=>({value:e.id,title:Oa(e)}));return Jy(fc,{active:t},void 0,r?Jy(mc,{},void 0,Jy(Ec,{options:n,label:Ut,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.UIExtension],source:t}),this.props.graphOperation(os,{prop:Li.UIExtension,id:r.id,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ExtensionLink}})},value:r.properties?r.properties[Li.UIExtension]:""})):null,Jy(dc,{title:Dt}),Jy(uc,{},void 0,Jy(cc,{onClick:()=>{this.props.graphOperation(Ns,{})},icon:"fa fa-puzzle-piece",title:Gt,description:Ft})))}});function t_(e,t,r,n){Zy||(Zy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Zy,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var r_,n_=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Permission),r=sa(e,Gi(e,ba)),n=(Vi(r,Li.IsAgent),r?{...cn,...r.properties[Li.UIPermissions]||{}}:null),o=(ka(e,Ai.Model).map(e=>({value:e.id,title:Oa(e)})),Va(e)),i=o&&r&&r.properties?r.properties[Li.PermissionTarget]:"",a=o&&r&&r.properties?r.properties[Li.PermissionRequester]:"",s=null;i&&(s=Xo(o,{id:i,direction:Jo,type:sn.PropertyLink}))&&(s=s.map(e=>({value:e.id,title:Oa(e)}))),a&&Xo(o,{id:a,direction:Jo,type:sn.PropertyLink}).map(e=>({value:e.id,title:Oa(e)}));let l=na(Vi(r?qo(e,{id:r.id,links:[{direction:Zo,type:sn.FunctionOperator}]}):null,Zr.MethodProps));return t_(fc,{active:t},void 0,t_(dc,{title:Xe}),r?t_(Mc,{title:Qe,label:Be,value:r.properties[Li.IsOwned],onChange:e=>{this.props.graphOperation(os,{prop:Li.IsOwned,id:r.id,value:e})}}):null,t_(dc,{title:Ke}),n?t_(mc,{},void 0,Object.keys(n).map(e=>t_(Mc,{label:Ze[e],value:n[e],onChange:t=>{n[e]=t,this.props.graphOperation(os,{prop:Li.UIPermissions,id:r.id,value:{...n}})}},`permissions-${e}`))):null,l&&l.length?t_(Ec,{options:l,label:Je,onChange:e=>{this.props.graphOperation(os,{prop:Li.PermissionValueType,id:r.id,value:e})},value:Vi(r,Li.PermissionValueType)}):null,t_("button",{type:"submit",className:"btn btn-primary",onClick:()=>{this.props.graphOperation(ps,{parent:Gi(e,ba),groupProperties:{},linkProperties:{properties:{...un.ConditionLink}}})}},void 0,k))}});function o_(e,t,r,n){r_||(r_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:r_,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var i_,a_=Ou(class extends l.Component{render(){var{state:e}=this.props,t=!!(la(e,rs)||[]).length,r=(ka(e,Ur.Model,{useRoot:!0})||[]).map(e=>({title:Oa(e),value:e.id}));return o_(fc,{active:t},void 0,o_(mc,{},void 0,o_(Ec,{label:Ce,options:r,onChange:t=>{var r=Sa(e,t);this.props.graphOperation([{operation:Ts,options:{node:r,rootNode:Ba(e)}}])},value:""})))}});function s_(e,t,r,n){i_||(i_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:i_,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var l_=s_("div",{}),p_=s_("span",{className:"hamburger hamburger-1"}),u_=s_("span",{className:"hamburger hamburger-2"}),c_=s_("span",{className:"hamburger hamburger-3"});class d_ extends l.Component{constructor(e){super(e),this.state={id:ma()}}icon(){return this.props.icon||"fa fa-gears"}menuItems(){var e=[],{menuItems:t}=this.props;return t&&t.map((t,r)=>{t.onClick&&t.icon&&e.push(s_("a",{title:t.title,className:"menu-item",onClick:t.onClick,style:{pointerEvents:"all"}},`goo-menu-${this.state.id}-icon-index-${r}`," ",s_("i",{className:t.icon})," "))}),e}render(){if(!this.props.visible)return l_;var e=this.menuItems();return s_("div",{className:"goo-menu container",style:{position:"fixed",transition:"all 200ms",top:this.props.top||0,left:this.props.left||0}},void 0,s_("nav",{className:"menu",style:{pointerEvents:"none"}},void 0,s_("input",{type:"checkbox",onChange:()=>{this.props.onToggle&&this.props.onToggle()},checked:this.props.open,style:{pointerEvents:"all"},href:"#",className:"menu-open",id:`${this.state.id}`}),s_("label",{className:"menu-open-button",htmlFor:`${this.state.id}`,style:{pointerEvents:"all"}},void 0,p_,u_,c_),e))}}var f_,h_=s_("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1"},void 0,s_("defs",{},void 0,s_("filter",{id:"shadowed-goo"},void 0,s_("feGaussianBlur",{in:"SourceGraphic",result:"blur",stdDeviation:"10"}),s_("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7",result:"goo"}),s_("feGaussianBlur",{in:"goo",stdDeviation:"3",result:"shadow"}),s_("feColorMatrix",{in:"shadow",mode:"matrix",values:"0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 -0.2",result:"shadow"}),s_("feOffset",{in:"shadow",dx:"1",dy:"1",result:"shadow"}),s_("feComposite",{in2:"shadow",in:"goo",result:"goo"}),s_("feComposite",{in2:"goo",in:"SourceGraphic",result:"mix"})),s_("filter",{id:"goo"},void 0,s_("feGaussianBlur",{in:"SourceGraphic",result:"blur",stdDeviation:"10"}),s_("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7",result:"goo"}),s_("feComposite",{in2:"goo",in:"SourceGraphic",result:"mix"}))));class m_ extends l.Component{render(){return s_("div",{style:{display:"none"}},void 0,h_)}}function y_(e,t,r,n){f_||(f_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:f_,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var __,v_=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.ChoiceList),r=Vi(sa(e,Gi(e,ba)),Li.UIExtensionDefinition);return y_(fc,{active:t},void 0,y_("ul",{},void 0,r?Object.keys(r.definition).map((e,t)=>y_("li",{},`clist${e}-${t}`,e)):null))}});function g_(e,t,r,n){__||(__="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:__,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var b_,C_,E_,O_,M_,N_,k_,S_=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.ModelFilter),r=sa(e,Gi(e,ba));ka(e,Ur.Model).map(e=>({title:Oa(e),value:e.id}));var n=Va(e);let o=[];return r&&(o=(Xo(n,{id:Vi(r,Zr.FilterModel),direction:Jo,type:sn.PropertyLink})||[]).map(e=>g_(Mc,{label:Oa(e),value:Vi(r,Li.FilterPropreties)?Vi(r,Li.FilterPropreties)[e.id]:"",onChange:t=>{let n=Vi(r,Li.FilterPropreties)||{};n[e.id]=t,this.props.graphOperation(os,{prop:Li.FilterPropreties,id:r.id,value:n})}},`checkbox-${e.id}`))),g_(fc,{active:t},void 0,r?g_(mc,{},void 0,o):null)}});function T_(e,t,r,n){b_||(b_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:b_,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class A_ extends l.Component{min(){return this.props.min||"1"}max(){return this.props.max||"100"}value(){return this.props.value||""}render(){return T_("div",{className:"slidecontainer"},void 0,T_("input",{type:"range",min:this.min(),onChange:e=>{this.props.onChange&&!isNaN(e.target.value)&&this.props.onChange(parseFloat(e.target.value))},max:this.max(),value:this.value(),className:"slider"}))}}function I_(){return(I_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function L_(e,t,r,n){C_||(C_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:C_,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class w_ extends l.Component{menuType(){return"messages-menu"}open(){return this.props.open?"open":""}ariaExpanded(){return this.props.open?"true":"false"}icon(){return this.props.icon||"fa fa-envelope-o"}label(){return null}usermode(){return this.props.usermode}usermenu(){return this.props.usermode?"user user-menu":""}userbody(){return this.props.usermode?"user user-body":""}userheader(){return this.props.usermode,"header"}render(){var e={};return this.props.width&&(e.style={width:this.props.width}),L_("li",{className:`dropdown ${this.usermenu()} ${this.menuType()} ${this.open()}`},void 0,L_("a",{className:"dropdown-toggle","data-toggle":"dropdown","aria-expanded":this.ariaExpanded(),onClick:()=>{this.props.onClick&&this.props.onClick()}},void 0,L_("i",{className:this.icon()}),this.label()),p.a.createElement("ul",I_({className:"dropdown-menu"},e),this.props.headerText?L_("li",{className:this.userheader()},void 0,this.props.headerText):null,this.props.header?L_("li",{className:this.userheader()},void 0,this.props.header):null,this.usermode()?L_("li",{className:this.userbody()},void 0,L_("div",{className:"row"},void 0,this.props.children)):L_("li",{className:this.userbody()},void 0,L_("ul",{className:"menu"},void 0,this.props.children)),this.props.footer?this.props.footer:null))}}class x_ extends l.Component{active(){return this.props.active?"active":""}render(){return function(e,t,r,n){E_||(E_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:E_,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:"tab-content"},void 0,this.props.children)}}class P_ extends l.Component{active(){return this.props.active?"active":""}title(){return this.props.title||this.props.children||"{title}"}render(){return function(e,t,r,n){O_||(O_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:O_,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("li",{className:"user-footer"},void 0,this.props.children)}}class $_ extends l.Component{render(){return function(e,t,r,n){M_||(M_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:M_,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:"nav-tabs-custom"},void 0,this.props.children)}}function j_(e,t,r,n){N_||(N_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:N_,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class R_ extends l.Component{render(){var e=this,t=e.props.dataFunc||(e=>e||""),r=(e.props.data||[]).map((r,n)=>j_("tr",{},`${n}-row`,(e.props.columns||[]).map((e,o)=>j_("td",{},`${o}-${n}-cell`,t(r[e.value],e.value,n))),(e.props.columnButtons||[]).map((e,t)=>j_("td",{},`${t}-${n}-cell-btn`,e(r,n))))),n=(e.props.columns||[]).map((e,t)=>j_("th",{},`col-${t}`,e.title));(e.props.columnButtons||[]).map((e,t)=>{n.push(j_("th",{},`${t}-cell-header`))});var o={};return o.style={maxHeight:this.props.maxHeight||500,overflowY:"auto"},p.a.createElement("div",o,j_("table",{className:"table table-bordered"},void 0,j_("tbody",{},void 0,j_("tr",{},void 0,n),r)))}}function D_(e,t,r,n){k_||(k_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:k_,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var G_=D_("i",{className:"fa fa-pencil-square"}),U_=D_("i",{className:"fa fa-book"}),F_=D_("i",{className:"fa fa-balance-scale"}),V_=D_("i",{className:"fa fa-trash"}),B_=D_("i",{className:"fa fa-anchor"});var q_,H_=Ou(class extends l.Component{constructor(e){super(e),this.state={property:""}}form(){var{state:e}=this.props,t=Ui(e,Ai.ExtensionType)||Ui(e,Ai.ChoiceList),r=sa(e,Gi(e,ba));return t&&Vi(r,Li.UIExtensionDefinition),null}editKey(e){return`${e}-edit`}tabKey(e){return`${e}-tabkey`}footer(){var{state:e}=this.props,t=Ui(e,Ai.ExtensionType)||Ui(e,Ai.ChoiceList),r=sa(e,Gi(e,ba));if(t&&r){var n=Vi(r,Li.UIExtensionDefinition),o=n&&n.config.isEnumeration?D_("div",{className:"pull-right"},void 0,D_("button",{type:"submit",className:"btn btn-primary",onClick:()=>{n.config.list=[...n.config.list,{}],this.props.graphOperation(os,{prop:Li.UIExtensionDefinition,id:r.id,value:{...n}})}},void 0,dt)):null,i=r?this.tabKey(r.id):null,a=D_("div",{className:"pull-left"},void 0,D_("div",{className:"btn-group"},void 0,D_("button",{onClick:()=>this.props.setVisual(i,Vt),type:"button",title:Vt,className:"btn btn-default btn-flat"},void 0,G_),D_("button",{onClick:()=>this.props.setVisual(i,qt),type:"button",title:qt,className:"btn btn-default btn-flat"},void 0,U_),D_("button",{onClick:()=>{n||(n={config:{isEnumeration:!1,dictionary:{},list:[]},definition:{}}),this.props.setVisual(i,Ht),this.props.graphOperation(os,{prop:Li.UIExtensionDefinition,id:r.id,value:n})},type:"button",title:Ht,className:"btn btn-default btn-flat"},void 0,F_)),D_("div",{className:"btn-group"},void 0,aa(e,i,Vt)?D_("button",{onClick:()=>{this.state.property&&(n||(n={config:{isEnumeration:!1,dictionary:{},list:[]},definition:{}}),n.definition[this.state.property]="string",this.props.graphOperation(os,{prop:Li.UIExtensionDefinition,id:r.id,value:n}),this.setState({property:""}))},type:"button",className:"btn btn-default btn-flat"},void 0,dt):null));return D_(P_,{},void 0,a,o)}return null}render(){var{state:e}=this.props,t=sa(e,Gi(e,ba)),r=(this.form(),this.footer()),n=t?this.tabKey(t.id):null,o=Vi(t,Li.UIExtensionDefinition),i=t?ka(e,Ai.Property).map(e=>({value:e.id,title:Oa(e)})):[];return D_(fc,{active:Ui(e,Ai.ExtensionType)},void 0,aa(e,n,Ht)?null:D_(mc,{},void 0,o?D_(Mc,{label:Me,value:o.config.isEnumeration,onChange:e=>{o.config.isEnumeration=e,this.props.graphOperation(os,{prop:Li.UIExtensionDefinition,id:t.id,value:{...o,config:{...o.config}}})}}):null,D_(bc,{value:this.state.property,label:Yt,onChange:e=>{this.setState({property:e})}})),o&&aa(e,n,qt)?D_(R_,{columns:Object.keys(o.definition).map(e=>({title:e,value:e})),dataFunc:(e,r,n)=>D_(bc,{label:Ne,value:e,onChange:e=>{o.config.isEnumeration?o.config&&o.config.list&&o.config.list[n]&&(o.config.list[n][r]=e):o.config&&o.config.dictionary&&(o.config.dictionary[r]=e),this.props.graphOperation(os,{prop:Li.UIExtensionDefinition,id:t.id,value:{...o,config:{...o.config,dictionary:{...o.config.dictionary},list:[...o.config.list]}}})}}),columnButtons:o.config.isEnumeration?[(e,r)=>D_("div",{className:"pull-right"},void 0,D_("button",{onClick:()=>{o.config.isEnumeration&&(o.config&&o.config.list&&o.config.list[r]&&(o.config.list=[...o.config.list.filter((e,t)=>t!==r)]),this.props.graphOperation(os,{prop:Li.UIExtensionDefinition,id:t.id,value:{...o}}))},className:"btn btn-block btn-default"},void 0,V_))]:[],data:o.config.isEnumeration?o.config.list.map(e=>({...e})):[{...o.config.dictionary}]}):null,o&&aa(e,n,Vt)?D_(R_,{columns:[{title:vt,value:"name"}],columnButtons:[e=>D_("div",{className:"pull-right"},void 0,D_("div",{class:"btn-group"},void 0,D_("button",{title:le,onClick:()=>{o.config={...o.config,keyField:e.name},this.props.graphOperation(os,{prop:Li.UIExtensionDefinition,id:t.id,value:{...o}})},className:`btn   ${e.name===o.config.keyField?"btn-success":"btn-default"}`},void 0,B_),D_("button",{onClick:()=>{delete o.definition[e.name],o.definition={...o.definition},this.props.graphOperation(os,{prop:Li.UIExtensionDefinition,id:t.id,value:{...o}})},className:"btn btn-default"},void 0,"x")))],data:Object.keys(o.definition).map(e=>({name:e}))}):null,o&&aa(e,n,Ht)?D_(mc,{},void 0,D_(Mc,{label:Ht,title:Xt,value:o.definition.dependsOn,onChange:e=>{o.definition.dependsOn=e,this.props.graphOperation(os,{prop:Li.UIExtensionDefinition,id:t.id,value:{...o,definition:{...o.definition}}})}}),D_(Ec,{label:Mt,title:Qt,options:i,value:o.definition.property,onChange:e=>{o.definition.property=e;var r=t.id;this.props.graphOperation(us,{target:t.properties[Li.UIChoiceType],source:r}),this.props.graphOperation(os,{prop:Li.UIChoiceType,id:r,value:e}),this.props.graphOperation(ls,{target:e,source:r,properties:{...wi.ExtensionDependencyLink}}),this.props.graphOperation(os,{prop:Li.UIExtensionDefinition,id:t.id,value:{...o,definition:{...o.definition}}})}}),D_(bc,{label:Kt,title:Jt,value:o.definition.match,onChange:e=>{o.definition.match=e,this.props.graphOperation(os,{prop:Li.UIExtensionDefinition,id:t.id,value:{...o,definition:{...o.definition}}})}})):null,r)}});function W_(e,t,r,n){q_||(q_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:q_,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Y_,z_=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Method),r=sa(e,Gi(e,ba)),n=(ka(e,Ai.Model).filter(e=>Vi(e,Li.IsAgent)).map(e=>({value:e.id,title:Oa(e)})),ka(e,Ai.Permission).map(e=>({value:e.id,title:Oa(e)})),Object.keys(Xn).map(e=>({title:Xn[e].title||e,value:e})));return W_(fc,{active:t},void 0,r&&!r.properties[Li.UseScopeGraph]?W_(Ec,{label:Zt,options:n,onChange:e=>{this.props.graphOperation(os,{prop:Li.FunctionType,id:r.id,value:e})},value:r.properties?r.properties[Li.FunctionType]:""}):null,r?W_(Ec,{label:te,options:Object.keys(cn).map(e=>({title:e,value:cn[e]})),onChange:e=>{this.props.graphOperation(os,{prop:Li.MethodType,id:r.id,value:e})},value:r.properties?r.properties[Li.MethodType]:""}):null,r?W_(Ec,{label:nr,options:Object.keys(Yn).map(e=>({title:e,value:Yn[e]})),onChange:e=>{this.props.graphOperation(os,{id:r.id,value:e,prop:Zr.HttpMethod})},value:Vi(r,Zr.HttpMethod)}):null,r?W_(bc,{label:ir,value:Vi(r,Zr.HttpRoute),onChange:e=>{this.props.graphOperation(os,{id:r.id,value:e,prop:Zr.HttpRoute})}}):null,r?W_(Mc,{label:ar,onChange:e=>{this.props.graphOperation(os,{prop:Li.NotIncludedInController,id:r.id,value:e})},value:Vi(r,Li.NotIncludedInController)}):null,W_(uc,{},void 0,r&&r.properties[Li.UseScopeGraph]?W_(cc,{onClick:()=>{this.props.graphOperation([{operation:void 0},{options:{id:r.id}}])},icon:"fa fa-puzzle-piece",title:Ir,description:Lr}):null,r?W_(cc,{onClick:()=>{this.props.graphOperation(ms,{parent:Gi(e,ba),groupProperties:{},linkProperties:{properties:{...un.ModelItemFilter}}})},icon:"fa fa-puzzle-piece",title:We,description:Ye}):null,r?W_(cc,{onClick:()=>{this.props.graphOperation(ys,{parent:Gi(e,ba),groupProperties:{},linkProperties:{properties:{...un.AfterMethod}},properties:{[Zr.UIText]:`${Vi(r,Zr.UIText)} After Effect`}})},icon:"fa fa-puzzle-piece",title:qe,description:He}):null))}});function X_(e,t,r,n){Y_||(Y_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Y_,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Q_,K_,J_=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Method),r=(Va(e),sa(e,Gi(e,ba))),n=Vi(r,Zr.FunctionType);let o=Xn[n],i=[];return o&&o.constraints&&(i=Object.values(o.constraints).map(t=>{let n=ka(e,t.nodeTypes).filter(e=>!Object.keys(t).filter(e=>"key"!=e&&"nodeTypes"!==e).find(r=>Vi(e,r)!==t[r])).map(e=>({title:Oa(e),value:e.id}));return X_(Ec,{label:t.key,options:n,onChange:e=>{var n=r.id;let o=Vi(r,Zr.MethodProps)||{},i=o[t.key];o[t.key]=e,this.props.graphOperation(us,{target:i,source:n,linkType:wi.FunctionOperator.type}),this.props.graphOperation(os,{prop:Li.MethodProps,id:r.id,value:o}),this.props.graphOperation(ls,{target:e,source:n,properties:{...wi.FunctionOperator}})},value:Vi(r,Zr.MethodProps)?Vi(r,Zr.MethodProps)[t.key]:""},t.key)})),X_(fc,{active:t},void 0,r?X_(mc,{},void 0,i):null)}});function Z_(e,t,r,n){Q_||(Q_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Q_,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class ev extends l.Component{icon(){return this.props.icon||"fa fa-circle-o"}render(){return Z_("li",{},void 0,Z_("a",{onClick:()=>{this.props.onClick&&this.props.onClick()}},void 0,Z_("i",{className:this.icon()}),this.props.title,this.props.right?Z_("span",{class:"pull-right-container"},void 0,this.props.right):null),this.props.children)}}function tv(e,t,r,n){K_||(K_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:K_,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const rv="MAESTRO_DETAILS_MENU";var nv=tv("div",{});var ov,iv=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Maestro),r=sa(e,Gi(e,ba)),n=r?Fo(Va(e),{id:r.id}):[];return t?tv(nc,{open:Gi(e,rv),active:Gi(e,rv),title:rr,toggle:()=>{this.props.toggleVisual(rv)}},void 0,n.map((e,t)=>tv(ev,{title:`${Oa(e)}`,onClick:()=>{var t=r.id;this.props.graphOperation(us,{target:e.id,source:t})}},`tree-view-item-maestro-details${t}`))):nv}});function av(e,t,r,n){ov||(ov="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ov,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const sv="NODE_MANAGEMENT_MENU",lv="NODE_MANAGEMENT";var pv,uv=Ou(class extends l.Component{constructor(e){super(e),this.state={filter:""}}toFilterString(e){return`${Vi(e,Zr.CodeName)} ${e.id} ${Vi(e,Zr.UIText)} ${Vi(e,Zr.NODEType)}`.toLowerCase()}render(){let{state:e}=this.props;var t=Va(e);let r=(this.state.filter||"").toLowerCase(),n=Ma(e).filter(e=>!!r&&-1!==this.toFilterString(e).indexOf(r)).groupBy(e=>Vi(e,Zr.NODEType)),o=[];return o=Object.keys(n).filter(e=>n[e].length).map((t,r)=>{let o=`NodeManagement-${t}`,i=n[t].map((e,n)=>av(nc,{hideArrow:!0,title:Vi(e,Zr.UIText),icon:Vi(e,Zr.Pinned)?"fa fa-check-circle-o":"fa fa-circle-o",toggle:()=>{this.props.graphOperation(os,{prop:Li.Pinned,id:e.id,value:!Vi(e,Zr.Pinned)})}},`node-${t}-${r}-${n}`));return av(nc,{title:t,icon:"fa fa-dot-circle-o",open:Gi(e,o),active:Gi(e,o),right:av("span",{className:"label label-primary "},void 0,n[t].length),toggle:()=>{this.props.toggleVisual(o)}},`node-${t}-${r}`,i)}),av(nc,{title:`${I} ${t?Object.keys(t.visibleNodes||{}).length:""}`,icon:"fa fa-object-group",open:Gi(e,lv),active:Gi(e,lv),onClick:()=>{this.props.toggleVisual(lv)}},void 0,av(nc,{icon:"fa fa-dot-circle-o",title:je,open:Gi(e,sv),active:Gi(e,sv),onClick:()=>{this.props.toggleVisual(sv)}},void 0,av(nc,{hideArrow:!0,title:Dr,icon:"fa fa-times",onClick:()=>{this.props.graphOperation(Ma(e).filter(e=>Vi(e,Zr.Pinned)).map(e=>({operation:os,options:{prop:Li.Pinned,id:e.id,value:!1}})))}})),av(mc,{sidebarform:!0},void 0,av(bc,{value:this.state.filter,onChange:e=>{this.setState({filter:e})},inputgroup:!0,placeholder:Gr})),o)}});function cv(e,t,r,n){pv||(pv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:pv,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var dv,fv=Ou(class extends l.Component{render(){var{state:e}=this.props,t=sa(e,Gi(e,ba)),r=!Fr[Vi(t,Li.NODEType)];return cv(fc,{active:r},void 0,t?cv(mc,{},void 0,cv(bc,{label:Se,disabled:!Na(t),value:t.properties?t.properties[Li.CodeName]:"",onChange:e=>{this.props.graphOperation(os,{prop:Li.CodeName,id:t.id,value:e})}}),cv(bc,{label:Te,disabled:!Na(t),value:t.properties?t.properties[Li.ValueName]:"",onChange:e=>{this.props.graphOperation(os,{prop:Li.ValueName,id:t.id,value:e})}}),cv(bc,{label:Ae,disabled:!Na(t),value:t.properties?t.properties[Li.AgentName]:"",onChange:e=>{this.props.graphOperation(os,{prop:Li.AgentName,id:t.id,value:e})}})):null)}});function hv(e,t,r,n){dv||(dv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:dv,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var mv,yv=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.ModelItemFilter),r=[],n=Va(e),o=sa(e,Gi(e,ba));if(o){var i=qo(e,{id:o.id,links:[{direction:Zo,type:sn.ModelItemFilter}]}),a=null,s=$a(i);if(s)switch(xa(i)){case An.Get_ManyToMany_Agent_Value__IListChild:a=So(n,s[In.ManyToManyModel]);break;case An.Create_Object_Agent_Value__IListObject:case An.Get_Parent$Child_Agent_Value__IListChild:case An.Create_Parent$Child_Agent_Value__IListChild:case An.Create_Parent_Child_Agent_Value__Child:default:a=So(n,s[In.ModelOutput]||s[In.Model])}a&&(r=[...Wi(a.id).toNodeSelect()])}return hv(fc,{active:t},void 0,o?hv(mc,{},void 0,hv(bc,{label:T,value:Vi(o,Zr.UIText),onChange:e=>{this.props.graphOperation(es,{id:o.id,value:e})}}),hv(bc,{label:A,value:Vi(o,Zr.NODEType),disabled:!0}),hv(Ec,{options:r,defaultSelectText:J,label:Yt,onChange:e=>{var t=o.id;let r=Vi(o,Zr.FilterModel)||_o();r=vo(r,{id:e}),this.props.graphOperation([{operation:os,options:{id:t,prop:Zr.FilterModel,value:r}},{operation:os,options:{id:t,prop:Zr.ModelItemFilter,value:a.id}}]),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ModelItemFilter,...pi(an.Remove,{function:"OnRemoveModelFilterPropConnection"})}})},value:""})):null)}});function _v(e,t,r,n){mv||(mv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:mv,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var vv=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Model),r=sa(e,Gi(e,ba)),n=Vi(r,Li.HasLogicalChildren),o=Vi(r,Li.HasLogicalNieces);return _v(fc,{active:t},void 0,r?_v(mc,{},void 0,_v(Mc,{label:Or,title:kr,value:Vi(r,Li.HasLogicalChildren),onChange:e=>{this.props.graphOperation([{operation:os,options:{prop:Li.HasLogicalChildren,id:r.id,value:e}}])}}),n?_v(Ec,{options:ka(e,Ur.Model).map(e=>({value:e.id,title:Oa(e)})),label:Mr,onChange:e=>{let t=r.id;var n=Vi(r,Li.LogicalChildrenTypes)||[];this.props.graphOperation([{operation:os,options:{prop:Li.LogicalChildrenTypes,id:r.id,value:[...n,e].unique(e=>e)}},{operation:ls,options:{target:e,source:t,properties:{...wi.LogicalChildren}}}])},value:""}):null,n?_v(sd,{active:!0,isSelected:e=>{var t=Vi(r,Li.LogicalChildrenTypes)||[];return e&&t.some(t=>t===e.id)},items:(Vi(r,Li.LogicalChildrenTypes)||[]).map(t=>{let r=So(Va(e),t);if(r)return{title:Oa(r),id:r.id}}),onClick:e=>{let t=r.id;var n=Vi(r,Li.LogicalChildrenTypes)||[],o=n;o=n.some(t=>e.id===t)?[...o.filter(t=>t!==e.id)].unique(e=>e):[...o,e.id].unique(e=>e),this.props.graphOperation([{operation:os,options:{prop:Li.LogicalChildrenTypes,id:r.id,value:o}},{operation:us,options:{target:e.id,source:t,properties:{...wi.LogicalChildren}}}])}}):null,_v(Mc,{label:Sr,title:Tr,value:Vi(r,Li.HasLogicalNieces),onChange:e=>{this.props.graphOperation([{operation:os,options:{prop:Li.HasLogicalNieces,id:r.id,value:e}}])}}),o?_v(Ec,{options:ka(e,Ur.Model).map(e=>({value:e.id,title:Oa(e)})),label:Nr,onChange:e=>{let t=r.id;var n=Vi(r,Li.LogicalNieceTypes)||[];this.props.graphOperation([{operation:os,options:{prop:Li.LogicalNieceTypes,id:r.id,value:[...n,e].unique(e=>e)}},{operation:ls,options:{target:e,source:t,properties:{...wi.LogicalNieces}}}])},value:""}):null,o?_v(sd,{active:!0,isSelected:e=>{var t=Vi(r,Li.LogicalNieceTypes)||[];return e&&t.some(t=>t===e.id)},items:(Vi(r,Li.LogicalNieceTypes)||[]).map(t=>{let r=So(Va(e),t);if(r)return{title:Oa(r),id:r.id}}),onClick:e=>{let t=r.id;var n=Vi(r,Li.LogicalNieceTypes)||[],o=n;o=n.some(t=>e.id===t)?[...o.filter(t=>t!==e.id)].unique(e=>e):[...o,e.id].unique(e=>e),this.props.graphOperation([{operation:os,options:{prop:Li.LogicalNieceTypes,id:r.id,value:o}},{operation:us,options:{target:e.id,source:t,properties:{...wi.LogicalNieces}}}])}}):null):null)}});var gv;function bv(e,t,r,n){gv||(gv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:gv,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Cv=bv("div",{});var Ev,Ov=Ou(class extends l.Component{constructor(e){super(e),this.state={filter:""}}toFilterString(e){return`${Vi(e,Zr.CodeName)} ${e.id} ${Vi(e,Zr.UIText)} ${Vi(e,Zr.NODEType)}`.toLowerCase()}render(){let{state:e}=this.props;var t=Va(e);return t?bv(Uc,{title:$},void 0,bv(mc,{},void 0,bv(Ec,{label:M,options:[].interpolate(0,7,e=>({title:"Depth  "+e,value:e})),onChange:e=>{this.props.graphOperation([{operation:As,options:{depth:e}}])},value:t.depth}))):Cv}});function Mv(e,t,r,n){Ev||(Ev="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Ev,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Nv,kv=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Maestro),r=sa(e,Gi(e,ba)),n=Va(e),o=ka(e,[Ai.Function,Ai.Method]).map(e=>({title:Oa(e),value:e.id}));return Mv(fc,{active:t},void 0,r?Mv(Ec,{label:er,options:o,defaultSelectText:tr,onChange:e=>{let t=r.id;this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.FunctionLink}}),Fo(n,{id:e,constraints:{[Ln.IsInputVariable]:!0}}).map(r=>{this.props.graphOperation(ls,{source:r.id,target:t,properties:{...wi.FunctionVariable,[pn.FUNCTION_ID]:e}})})},value:""}):null)}});function Sv(e,t,r,n){Nv||(Nv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Nv,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const Tv="CONTROLLER_DETAILS_MENU";var Av=Sv("div",{});var Iv,Lv=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Maestro),r=sa(e,Gi(e,ba)),n=r?Fo(Va(e),{id:r.id}):[];return t?Sv(nc,{open:Gi(e,Tv),active:Gi(e,Tv),title:rr,toggle:()=>{this.props.toggleVisual(Tv)}},void 0,n.map((e,t)=>Sv(ev,{title:`${Oa(e)}`,onClick:()=>{var t=r.id;this.props.graphOperation(us,{target:e.id,source:t})}},`tree-view-item-controller-details${t}`))):Av}});function wv(e,t,r,n){Iv||(Iv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Iv,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var xv,Pv=Ou(class extends l.Component{render(){var{state:e}=this.props,t=sa(e,Gi(e,ba)),r=Ui(e,Ai.Controller),n=(Va(e),ka(e,Ai.Maestro).map(e=>({title:Oa(e),value:e.id})));return wv(fc,{active:r},void 0,t?wv(Ec,{label:sr,options:n,defaultSelectText:or,onChange:e=>{let r=t.id;this.props.graphOperation(ls,{target:e,source:r,properties:{...wi.MaestroLink}})},value:""}):null,t?wv(bc,{label:ce,value:Vi(t,Zr.CodeUser),onChange:e=>{this.props.graphOperation(os,{id:t.id,value:e,prop:Zr.CodeUser})}}):null)}});function $v(e,t,r,n){xv||(xv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:xv,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var jv,Rv,Dv=Ou(class extends l.Component{getTargetNodes(e,t){let r=[];return t&&((r=Xo(e,{id:t.id,direction:Jo,type:sn.PermissionDependencyPropertyManyToManyLink})).length||(r=Xo(e,{id:t.id,direction:Jo,type:sn.PermissionDependencyProperty}))),r}render(){var{state:e}=this.props,t=Ui(e,Ai.PermissionDependency),r=sa(e,Gi(e,ba)),n=(Vi(r,Li.IsAgent),ka(e,Ai.Enumeration).map(e=>({value:e.id,title:Oa(e)}))),o=ka(e,Ai.ExtensionType).map(e=>({value:e.id,title:Oa(e)})),i=Va(e),a=r&&r.properties?r.properties[Li.UIExtension]:"",s=(r&&r.properties?r.properties[Li.AllowedExtensionValues]:[])||[],l=[];if(a){var p=So(i,a);if(p){var u=Vi(p,Li.UIExtensionDefinition);if(u&&u.config&&u.config.isEnumeration){var c=u.config.list.map(e=>e[u.config.keyField||Object.keys(e)[0]]);s=s.intersection(c),l=c.relativeCompliment(s)}}}var d=r&&r.properties?r.properties[Li.Enumeration]:"",f=(r&&r.properties?r.properties[Li.AllowedEnumValues]:[])||[],h=[];if(d){var m=So(i,d);if(m){var y=Vi(m,Zr.Enumeration)||[];f=f.intersection(y),h=y.relativeCompliment(f)}}let _=this.getTargetNodes(i,r),v=null,g=null;return _.length&&(v=Vi(g=_[0],Li.UIAttributeType)),$v(fc,{active:t},void 0,$v(dc,{title:se}),r&&g&&v==Pi.BOOLEAN?$v(Mc,{title:At,label:It,value:r.properties[Li.UseEqual],onChange:e=>{this.props.graphOperation(os,{prop:Li.UseEqual,id:r.id,value:e})}}):null,r&&g&&v==Pi.BOOLEAN&&Vi(r,Li.UseEqual)?$v(Ec,{title:Lt,label:Tt,options:["true","false"].map(e=>({title:e,value:e})),value:r.properties[Li.IsEqualTo],onChange:e=>{this.props.graphOperation(os,{prop:Li.IsEqualTo,id:r.id,value:e})}}):null,r&&g&&v==Pi.LISTOFSTRINGS?$v(Mc,{title:Pt,label:St,value:r.properties[Li.IncludedInList],onChange:e=>{this.props.graphOperation(os,{prop:Li.IncludedInList,id:r.id,value:e})}}):null,r&&g&&v==Pi.LISTOFSTRINGS?$v(Mc,{title:xt,label:wt,value:r.properties[Li.ExcludedFromList],onChange:e=>{this.props.graphOperation(os,{prop:Li.ExcludedFromList,id:r.id,value:e})}}):null,r&&g&&v==Pi.STRING?$v(Mc,{title:pe,label:pe,value:r.properties[Li.UseEnumeration],onChange:e=>{this.props.graphOperation(os,{prop:Li.UseEnumeration,id:r.id,value:e})}}):null,r&&g&&v==Pi.STRING?$v(Mc,{title:kt,label:kt,value:r.properties[Li.UseExtension],onChange:e=>{this.props.graphOperation(os,{prop:Li.UseExtension,id:r.id,value:e})}}):null,r&&g&&v==Pi.STRING&&r.properties[Li.UseExtension]?$v(dc,{title:re}):null,t&&s&&s.length&&r&&r.properties[Li.UseExtension]?s.map(e=>$v("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{this.props.graphOperation(os,{prop:Li.AllowedExtensionValues,id:r.id,value:[...s].filter(t=>t!==e)}),this.props.graphOperation(os,{prop:Li.DisallowedExtensionValues,id:r.id,value:c.relativeCompliment([...s].filter(t=>t!==e))})}},`ext_allowed-${e}`," ",e)):null,r&&g&&v==Pi.STRING&&r.properties[Li.UseExtension]?$v(dc,{title:Z}):null,t&&l&&l.length&&r&&r.properties[Li.UseExtension]?l.map(e=>$v("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{this.props.graphOperation(os,{prop:Li.AllowedExtensionValues,id:r.id,value:[...s,e].unique()}),this.props.graphOperation(os,{prop:Li.DisallowedExtensionValues,id:r.id,value:c.relativeCompliment([...s,e].unique())})}},`ext_disallowed-${e}`," ",e)):null,r&&g&&v==Pi.STRING&&r.properties[Li.UseExtension]?$v(Ec,{label:Bt,options:o,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.UIExtension],source:t,linkType:wi.ExtensionLink.type}),this.props.graphOperation(os,{prop:Li.UIExtension,id:t,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.ExtensionLink}})},value:r.properties?r.properties[Li.UIExtension]:""}):null,r&&g&&v==Pi.STRING&&r.properties[Li.UseEnumeration]?$v(Ec,{label:ue,options:n,onChange:e=>{var t=r.id;this.props.graphOperation(us,{target:r.properties[Li.Enumeration],source:t,linkType:wi.EnumerationLink.type}),this.props.graphOperation(os,{prop:Li.Enumeration,id:t,value:e}),this.props.graphOperation(ls,{target:e,source:t,properties:{...wi.EnumerationLink}})},value:r.properties?r.properties[Li.Enumeration]:""}):null,r&&g&&v==Pi.STRING&&r.properties[Li.UseEnumeration]?$v(dc,{title:re}):null,t&&f&&f.length&&r&&r.properties[Li.UseEnumeration]?f.map(e=>$v("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{var t=y.relativeCompliment([...f].filter(t=>t!==e));this.props.graphOperation(os,{prop:Li.AllowedEnumValues,id:r.id,value:[...f].filter(t=>t!==e)}),this.props.graphOperation(os,{prop:Li.DisallowedEnumValues,id:r.id,value:t})}},`allowed-${e}`," ",e)):null,r&&g&&v==Pi.STRING&&r.properties[Li.UseEnumeration]?$v(dc,{title:Z}):null,t&&h&&h.length&&r&&r.properties[Li.UseEnumeration]?h.map(e=>$v("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{var t=y.relativeCompliment([...f,e].unique());this.props.graphOperation(os,{prop:Li.AllowedEnumValues,id:r.id,value:[...f,e].unique()}),this.props.graphOperation(os,{prop:Li.DisallowedEnumValues,id:r.id,value:t})}},`disallowed-${e}`," ",e)):null)}});function Gv(e,t,r,n){jv||(jv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:jv,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Uv extends l.Component{icon(){return this.props.icon||"fa fa-envelope-o"}render(){return Gv("li",{},void 0,Gv("a",{onClick:()=>{this.props.onClick&&this.props.onClick()}},void 0,Gv("div",{className:"pull-left"},void 0,Gv("i",{style:{fontSize:34},className:this.icon()})),Gv("h4",{},void 0,this.props.title),Gv("p",{},void 0,this.props.description)))}}function Fv(e,t,r,n){Rv||(Rv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Rv,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const Vv="GRAPH_MENU";var Bv,qv=Ou(class extends l.Component{render(){var{state:e}=this.props;return Fv(w_,{icon:"fa fa-cart-plus",open:Gi(e,Vv),onClick:()=>{this.props.toggleVisual(Vv)}},void 0,Fv(Uv,{icon:"fa fa-plus",title:wr,onClick:()=>{this.props.addNewSubGraph()},description:Pr}))}});function Hv(e,t,r,n){Bv||(Bv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Bv,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const Wv="SECTION_LIST";var Yv,zv=Ou(class extends l.Component{render(){let e=this,{state:t}=e.props,r=[],n=qa(t),o=Ba(t);n&&n.map(t=>{r.push(Hv(ev,{title:t.title||ve,right:Hv("span",{className:"label label-primary pull-right"},void 0,t.nodes.length),onClick:()=>{e.props.setApplication(rs,[t.id])}},t.id))});let i=r;return o&&(i=Hv(nc,{hideIcon:!0,right:Hv("span",{className:"label label-primary pull-right"},void 0,o.nodes.length),title:o.title||ve,hideArrow:!0,open:!0,active:!0,onClick:()=>{e.props.setApplication(rs,null)}},void 0,r)),Hv(nc,{title:xr,icon:"fa fa-cart-plus",open:Gi(t,Wv),active:Gi(t,Wv),onClick:()=>{this.props.toggleVisual(Wv)}},void 0,i)}});function Xv(e,t,r,n){Yv||(Yv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Yv,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Qv,Kv=Ou(class extends l.Component{render(){var{state:e}=this.props,t=Ui(e,Ai.Enumeration),r=sa(e,Gi(e,ba)),n=Vi(r,Zr.Enumeration)||[];return Xv(fc,{active:t},void 0,Xv(Vc,{onComplete:e=>{if(e){var t=Vi(r,Zr.Enumeration)||[];this.props.graphOperation(os,{prop:Li.Enumeration,id:r.id,value:[...t,e].unique()})}}}),t&&n&&n.length?n.map(e=>Xv("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{this.props.graphOperation(os,{prop:Li.Enumeration,id:r.id,value:[...n].filter(t=>t!==e)})}},void 0," ",e)):null)}});function Jv(e,t,r,n){Qv||(Qv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Qv,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Zv,eg=Ou(class extends l.Component{render(){var{state:e}=this.props,t=za(e);return Jv(mc,{sidebarform:!0},void 0,Jv(bc,{value:t?t.title:"",onChange:e=>{this.props.graphOperation(Qa,{text:e})},inputgroup:!0,placeholder:$r}))}});function tg(e,t,r,n){Zv||(Zv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Zv,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class rg extends l.Component{active(){return!!this.props.active}render(){let e=this.active();return tg("div",{style:{position:"relative",width:"100%"}},void 0,tg("div",{style:{position:"absolute",width:"100%",transition:"all 1s",pointerEvents:e?"all":"none",top:e?0:"-1000px",backgroundColor:"#dd4b39d2"}},void 0,this.props.children))}}var ng,og,ig,ag=r("react-syntax-highlighter"),sg=r.n(ag),lg={hljs:{display:"block",overflowX:"auto",padding:"0.5em",color:"#000",background:"#f8f8ff"},"hljs-comment":{color:"#408080",fontStyle:"italic"},"hljs-quote":{color:"#408080",fontStyle:"italic"},"hljs-keyword":{color:"#954121"},"hljs-selector-tag":{color:"#954121"},"hljs-literal":{color:"#954121"},"hljs-subst":{color:"#954121"},"hljs-number":{color:"#40a070"},"hljs-string":{color:"#219161"},"hljs-doctag":{color:"#219161"},"hljs-selector-id":{color:"#19469d"},"hljs-selector-class":{color:"#19469d"},"hljs-section":{color:"#19469d"},"hljs-type":{color:"#19469d"},"hljs-params":{color:"#00f"},"hljs-title":{color:"#458",fontWeight:"bold"},"hljs-tag":{color:"#000080",fontWeight:"normal"},"hljs-name":{color:"#000080",fontWeight:"normal"},"hljs-attribute":{color:"#000080",fontWeight:"normal"},"hljs-variable":{color:"#008080"},"hljs-template-variable":{color:"#008080"},"hljs-regexp":{color:"#b68"},"hljs-link":{color:"#b68"},"hljs-symbol":{color:"#990073"},"hljs-bullet":{color:"#990073"},"hljs-built_in":{color:"#0086b3"},"hljs-builtin-name":{color:"#0086b3"},"hljs-meta":{color:"#999",fontWeight:"bold"},"hljs-deletion":{background:"#fdd"},"hljs-addition":{background:"#dfd"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}};function pg(e,t,r,n){ng||(ng="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ng,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class ug extends l.Component{active(){return this.props.active?"active":""}title(){return this.props.title||this.props.children||"{title}"}render(){return pg("li",{className:this.active()},void 0,pg("a",{"data-toggle":"tab",onClick:()=>{this.props.onClick&&this.props.onClick()},"aria-expanded":"true"},void 0,this.title()))}}class cg extends l.Component{render(){return function(e,t,r,n){og||(og="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:og,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("ul",{className:"nav nav-tabs"},void 0,this.props.children)}}function dg(e,t,r,n){ig||(ig="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ig,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const fg="MODEL_CODE",hg="CODE_VIEW_TAB";var mg,yg=Ou(class extends l.Component{constructor(e){super(e),this.state={}}active(){return!!this.props.active}render(){var{state:e}=this.props;let t=this.active(),r="",n=(Gi(e,fg),Ba(e)),o=n?n[oo.NAMESPACE]:null,i=n?n[oo.SERVER_SIDE_SETUP]:null,a=null;if(e&&n&&t){var s=Gi(e,hg),l=this.state[Gi(e,hg)],p=ou.generate({type:s,key:l,state:e});a=p,p&&p[l]&&(r=p[l].template)}var u=[Ur.Controller,Ur.Model,Ur.ExtensionType,Ur.Maestro,...Object.values(Vr)];Gi(e,hg);let c=[];return a&&Object.keys(a).map(e=>{c.push({id:e,title:a[e].name,value:a[e].name})}),dg(rg,{active:t},void 0,dg("section",{className:"content"},void 0,dg("div",{className:"row"},void 0,dg("div",{className:"col-md-2"},void 0,dg(Uc,{primary:!0,title:G},void 0,dg(bc,{onChange:e=>{this.props.setRootGraph(oo.NAMESPACE,e),this.props.setAppsettingsAssemblyPrefixes(e)},label:U,value:o}),dg(Ec,{label:N,options:Object.keys(Br).map(e=>({title:e,value:Br[e]})),onChange:e=>{this.props.setRootGraph(oo.SERVER_SIDE_SETUP,e)},value:i})),dg(Uc,{primary:!0,title:D},void 0,dg(sd,{active:!0,isSelected:t=>t&&this.state[Gi(e,hg)]===t.id,items:c,onClick:t=>{this.setState({[Gi(e,hg)]:t.id})}}))),dg("div",{className:"col-md-10"},void 0,dg($_,{},void 0,dg(cg,{},void 0,u?u.map(t=>dg(ug,{active:aa(e,hg,t),title:t,onClick:()=>{this.props.setVisual(hg,t)}},t)):null)),dg(x_,{},void 0,dg(fc,{active:Gi(e,hg)},void 0,dg(Uc,{title:Le,primary:!0,maxheight:700},void 0,r?dg(sg.a,{language:"csharp",style:lg},void 0,r):null)))))))}});function _g(e,t,r,n){mg||(mg="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:mg,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const vg="side-panel-open",gg="NODE_MENU",bg="CONNECTING_NODE",Cg="LINK_DISTANCE",Eg="MAIN_CONTENT",Og="MIND_MAP",Mg="CODE_VIEW";var Ng=_g(m_,{}),kg=_g(Lu,{}),Sg=_g(Fu,{}),Tg=_g(qv,{}),Ag=_g(eg,{}),Ig=_g(ny,{},void 0,_g(Ov,{})),Lg=_g(zv,{}),wg=_g(uv,{}),xg=_g(iv,{}),Pg=_g(Lv,{}),$g=_g(v_,{}),jg=_g(My,{}),Rg=_g(dd,{}),Dg=_g(jc,{},void 0,_g(Pv,{}),_g(yv,{}),_g(fv,{}),_g(Rm,{}),_g(z_,{}),_g(Wm,{}),_g(Sy,{}),_g(Pm,{}),_g(my,{}),_g(Dy,{}),_g(Um,{}),_g(dy,{}),_g(ry,{}),_g(kv,{}),_g(py,{}),_g(vy,{}),_g(e_,{}),_g(Iy,{}),_g(n_,{}),_g(H_,{}),_g(ay,{}),_g(Dv,{}),_g(Bm,{}),_g(Kv,{}),_g($c,{})),Gg=_g(jc,{},void 0,_g(Fy,{}),_g(a_,{}),_g(Cy,{}),_g(vv,{}),_g(J_,{}),_g(Jm,{}),_g(S_,{})),Ug=_g(Ky,{}),Fg=_g($y,{});const Vg="SELECTED_TAB",Bg="DEFAULT_TAB",qg="PARAMETER_TAB",Hg="SCOPE_TAB";var Wg,Yg,zg=Ou(class extends l.Component{componentDidMount(){this.props.setState()}minified(){var{state:e}=this.props;return Di(e,Ei,ki)?"sidebar-collapse":""}nodeSelectionMenuItems(){var e=[],{state:t}=this.props;if(Gi(t,ba)){switch(Vi(sa(t,Gi(t,ba)),Zr.NODEType)){case Ur.Method:case Ur.Action:e.push({onClick:()=>{this.props.setVisual(bg,un.OnScreenLink)},icon:"fa fa-download",title:q},{onClick:()=>{this.props.setVisual(bg,un.OnSuccessLink)},icon:"fa  fa-trophy",title:X},{onClick:()=>{this.props.setVisual(bg,un.OnItemSelection)},icon:"fa  fa-tasks",title:z},{onClick:()=>{this.props.setVisual(bg,un.OnAction)},icon:"fa  fa-tasks",title:Y},{onClick:()=>{this.props.setVisual(bg,un.OnFailureLink)},icon:"fa  fa-frown-o",title:W});break;case Ur.ScreenItem:case Ur.ScreenCollection:case Ur.ScreenContainer:case Ur.Screen:e.push({onClick:()=>{this.props.setVisual(bg,un.ChildLink)},icon:"fa  fa-share-alt",title:H})}e.push({onClick:()=>{this.props.setVisual(bg,!0)},icon:"fa fa-link",title:B})}return e}render(){var{state:e}=this.props,t=Gi(e,Si),r=0,n=0;t&&(r=t.right,n=t.top);var o=this.nodeSelectionMenuItems(),i=sa(e,Gi(e,ba));let a=Va(e),s=Ba(e),l=pa(e),p=Gi(e,Eg),u="0.0.0",c=null;s&&(u=`${s.version.major}.${s.version.minor}.${s.version.build}`,c=s.workspace);let d=null;return Gi(e,ga)&&(d=function(e,t){var r=ti(e,t);return r?e.linkLib[r]:null}(s,Gi(e,ga))),_g("div",{className:`skin-red sidebar-mini skin-red ${this.minified()}`,style:{height:"auto",minHeight:"100vh"}},void 0,_g("div",{className:"wrapper",style:{height:"100vh"}},void 0,Ng,_g(d_,{visible:Gi(e,ba),left:r-20,open:Gi(e,gg),onToggle:()=>{this.props.toggleVisual(gg)},top:n+30,menuItems:o}),_g("div",{"data-tid":"container"},void 0,_g(wu,{},void 0,kg,_g(xu,{},void 0,Sg,_g(Bu,{},void 0,Gi(e,va)?_g(Dc,{icon:"fa fa-minus-square",onClick:()=>{this.props.graphOperation(us,Gi(e,va)),this.props.setVisual(va,null)}}):null,Tg,_g(Dc,{icon:"fa fa-plus",onClick:()=>{this.props.graphOperation(Ka),this.props.setVisual(vg,!0),this.props.setVisual(Vg,Bg)}}),_g(Dc,{icon:"fa fa-minus",onClick:()=>{this.props.graphOperation(Ja,{id:Gi(e,ba)}),this.props.setVisual(vg,!1),this.props.setVisual(Vg,Bg)}}),_g(Dc,{onClick:()=>{this.props.toggleVisual("side-panel-open")}})))),_g(Hu,{},void 0,_g(Yu,{},void 0,_g(Wu,{title:we,onClick:()=>{this.props.toggleVisual("MAIN_NAV")}}),Gi(e,"MAIN_NAV")?_g(nc,{active:p===Og||!p,hideArrow:!0,title:fr,icon:"fa fa-map",onClick:()=>{this.props.setVisual(Eg,Og)}}):null,Gi(e,"MAIN_NAV")?_g(nc,{active:p===Mg,hideArrow:!0,title:hr,icon:"fa fa-code",onClick:()=>{this.props.setVisual(Eg,Mg)}}):null,d&&d.properties?_g(Wu,{title:d.properties.type}):null,_g(Wu,{title:Ie}),_g(nc,{open:Gi(e,hd),active:Gi(e,hd),title:ke,toggle:()=>{this.props.toggleVisual(hd)}},void 0,_g(nc,{hideArrow:!0,title:j,icon:"fa fa-plus",onClick:()=>{this.props.newRedQuickBuilderGraph()}}),_g(nc,{hideArrow:!0,title:pr,icon:"fa fa-folder-open",onClick:()=>{this.props.openRedQuickBuilderGraph()}}),_g(nc,{hideArrow:!0,title:lr,icon:"fa fa-save",onClick:()=>{this.props.saveGraphToFile()}}),_g(nc,{hideArrow:!0,title:cr,icon:"fa fa-cog",onClick:()=>{confirm("Are you sure you want to scaffold the project")&&this.props.scaffoldProject()}}),_g(nc,{hideArrow:!0,title:ur,icon:"fa fa-cog",onClick:()=>{this.props.scaffoldProject({filesOnly:!0})}}),_g(nc,{hideArrow:!0,title:dr,icon:"fa fa-folder-open",onClick:()=>{this.props.setWorkingDirectory()}}),_g(nc,{title:u,hideArrow:!0}),c?_g(nc,{hideArrow:!0,title:c,icon:"fa fa-cog"}):null,Ag),_g(nc,{open:Gi(e,fd),active:Gi(e,fd),title:S,toggle:()=>{this.props.toggleVisual(fd)}},void 0,_g(ny,{},void 0,_g(A_,{min:30,max:500,onChange:e=>{this.props.setVisual(Cg,e)},value:Gi(e,Cg)})),Ig),Lg,wg,xg,Pg)),_g(oc,{},void 0,_g(yg,{active:Gi(e,Eg)===Mg}),_g(Im,{linkDistance:Gi(e,Cg),onNodeClick:(t,r)=>{if(Gi(e,bg)){let r=Gi(e,ba);console.log(`selectedId:${r} => nodeId:${t}`);let n=Gi(e,bg);!0===n?this.props.graphOperation(Za,{target:t,source:r}):this.props.graphOperation(Za,{target:t,source:r,properties:n}),this.props.setVisual(bg,!1),this.props.setVisual(ba,null)}else-1===[Gi(e,ba)].indexOf(t)?(this.props.SelectedNode(t),this.props.setVisual(Si,r),this.props.setVisual(vg,!0)):this.props.SelectedNode(null)},onLinkClick:(e,t)=>{console.log(`link id : ${e}`),this.props.setVisual(va,e),this.props.setVisual(ga,e)},selectedColor:Ls.SelectedNode,selectedLinks:[Gi(e,va)].filter(e=>e),selectedNodes:[Gi(e,ba)].filter(e=>e),graph:l||a})),_g(ic,{open:Gi(e,vg),extraWide:Ui(e,Ai.ExtensionType)},void 0,_g(ac,{},void 0,_g(lc,{icon:"fa fa-cog",active:aa(e,Vg,Bg),onClick:()=>{this.props.setVisual(Vg,Bg)}}),_g(lc,{active:aa(e,Vg,qg),onClick:()=>{this.props.setVisual(Vg,qg)}}),_g(lc,{active:aa(e,Vg,Hg),onClick:()=>{this.props.setVisual(Vg,Hg)}})),aa(e,Vg,Bg)?_g(jc,{},void 0,i&&!Fr[Vi(i,Zr.NODEType)]?_g(mc,{},void 0,_g(bc,{label:T,value:i.properties?i.properties.text:"",onChange:e=>{this.props.graphOperation(es,{id:i.id,value:e})}}),zr[i.properties?Vi(i,Li.NODEType):null]?null:_g(Ec,{disabled:!Na(i),label:A,options:Object.keys(Ai).filter(e=>!zr[Ai[e]]).sort((e,t)=>e.localeCompare(t)).map(e=>({value:Ai[e],title:e})),onChange:e=>{this.props.graphOperation(os,{prop:Li.NODEType,id:i.id,value:e})},value:i.properties?Vi(i,Li.NODEType):null}),_g(Mc,{label:V,value:Vi(i,Li.Collapsed),onChange:e=>{this.props.graphOperation(os,{prop:Li.Collapsed,id:i.id,value:e})}}),_g(Mc,{label:F,value:Vi(i,Li.Pinned),onChange:e=>{this.props.graphOperation(os,{prop:Li.Pinned,id:i.id,value:e})}})):null,$g,jg):null,aa(e,Vg,qg)?Rg:null,aa(e,Vg,qg)?Dg:null,aa(e,Vg,Hg)?Gg:null,aa(e,Vg,Hg)?Ug:null,aa(e,Vg,Hg)?Fg:null,aa(e,Vg,Hg)?_g($y,{ui:Nn,modelKey:Zr.ModelItemFilter,nodeType:Ur.ModelItemFilter,nodeProp:Zr.FilterModel}):null,aa(e,Vg,Hg)?_g($y,{ui:Nn,modelKey:Zr.Condition,nodeType:Ur.Condition,nodeProp:Zr.Condition}):null))))}});function Xg(e,t,r,n){Wg||(Wg="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Wg,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function Qg(e,t,r,n){Yg||(Yg="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Yg,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Kg=Qg(()=>Xg(y,{},void 0,Xg(h.Switch,{},void 0,Xg(h.Route,{path:m.HOME,component:zg}))),{});var Jg=r("redux-thunk"),Zg=r.n(Jg),eb=r("history");r("./node_modules/redux-logger/dist/redux-logger.js");const tb="INCREMENT_COUNTER",rb="DECREMENT_COUNTER";function nb(){return{type:tb}}function ob(){return{type:rb}}function ib(){return(e,t)=>{const{counter:r}=t();r%2!=0&&e(nb())}}function ab(e=1e3){return t=>{setTimeout(()=>{t(nb())},e)}}function sb(e=0,t){switch(t.type){case tb:return e+1;case rb:return e-1;default:return e}}function lb(e,t){switch(e=e||{},t.type){case Ri:return function(e,t){var r={...e};return r[t.section]={...r[t.section]||{}},r[t.section][t.item]=t.value,r}(e,t);default:return e}}function pb(e){return Object(_.combineReducers)({router:Object(f.connectRouter)(e),counter:sb,uiReducer:lb})}const ub=Object(eb.createHashHistory)();pb(ub);const cb=Object(eb.createHashHistory)(),db=pb(cb),fb=Object(f.routerMiddleware)(cb),hb=Object(_.applyMiddleware)(Zg.a,fb);const mb={configureStore:function(e){return Object(_.createStore)(db,e,hb)},history:cb},{configureStore:yb}=mb,{history:_b}=mb;var vb;r("./app/app.global.css");function gb(e,t,r,n){vb||(vb="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:vb,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const bb=yb();Object(u.render)(gb(c.AppContainer,{},void 0,gb(class extends l.Component{render(){const{store:e,history:t}=this.props;return Qg(d.Provider,{store:e},void 0,Qg(f.ConnectedRouter,{history:t},void 0,Kg))}},{store:bb,history:_b})),document.getElementById("root"))},"./node_modules/connected-react-router/lib/ConnectedRouter.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r("react"),a=c(i),s=c(r("./node_modules/prop-types/index.js")),l=r("react-redux"),p=r("react-router"),u=r("./node_modules/connected-react-router/lib/actions.js");function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.getIn,r=e.toJS,n=function(e){function n(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));i.inTimeTravelling=!1,i.unsubscribe=o.store.subscribe(function(){var n=r(t(o.store.getState(),["router","location"])),a=n.pathname,s=n.search,l=n.hash,p=e.history.location,u=p.pathname,c=p.search,d=p.hash;u===a&&c===s&&d===l||(i.inTimeTravelling=!0,e.history.push({pathname:a,search:s,hash:l}))});var a=function(t,r){i.inTimeTravelling?i.inTimeTravelling=!1:e.onLocationChanged(t,r)};return i.unlisten=e.history.listen(a),a(e.history.location,e.history.action),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,C("Component")),o(n,[{key:"componentWillUnmount",value:function(){this.unlisten(),this.unsubscribe()}},{key:"render",value:function(){var e=this.props,t=e.history,r=e.children;return C("React").createElement(C("Router"),{history:t},r)}}]),n}();n.contextTypes={store:C("PropTypes").shape({getState:C("PropTypes").func.isRequired,subscribe:C("PropTypes").func.isRequired}).isRequired},n.propTypes={history:C("PropTypes").shape({action:C("PropTypes").string.isRequired,listen:C("PropTypes").func.isRequired,location:C("PropTypes").object.isRequired,push:C("PropTypes").func.isRequired}).isRequired,location:C("PropTypes").oneOfType([C("PropTypes").object,C("PropTypes").string]).isRequired,action:C("PropTypes").string.isRequired,basename:C("PropTypes").string,children:C("PropTypes").oneOfType([C("PropTypes").func,C("PropTypes").node]),onLocationChanged:C("PropTypes").func.isRequired};return C("connect")(function(e){return{action:t(e,["router","action"]),location:t(e,["router","location"])}},function(e){return{onLocationChanged:function(t,r){return e(C("onLocationChanged")(t,r))}}})(n)};function f(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=C("createConnectedRouter");var h,m=null;function y(){if(null===m){var e=f();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),m=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return m}function _(){var e=f();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function v(){var e=y(),t=_(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(h=f()).__rewire_reset_all__||(h.__rewire_reset_all__=function(){h.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var g="__INTENTIONAL_UNDEFINED__",b={};function C(e){var t=v();if(void 0===t[e])return function(e){switch(e){case"Component":return i.Component;case"PropTypes":return s.default;case"onLocationChanged":return u.onLocationChanged;case"connect":return l.connect;case"createConnectedRouter":return d;case"React":return a.default;case"Router":return p.Router}return}(e);var r=t[e];return r===g?void 0:r}function E(e,t){var r=v();if("object"!==(void 0===e?"undefined":n(e)))return r[e]=void 0===t?g:t,function(){O(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function O(e){var t=v();delete t[e],0==Object.keys(t).length&&delete _()[y]}function M(e){var t=v(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(b,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",C),e("__GetDependency__",C),e("__Rewire__",E),e("__set__",E),e("__reset__",O),e("__ResetDependency__",O),e("__with__",M)}();var N=void 0===d?"undefined":n(d);function k(e,t){Object.defineProperty(d,e,{value:t,enumerable:!1,configurable:!0})}"object"!==N&&"function"!==N||!Object.isExtensible(d)||(k("__get__",C),k("__GetDependency__",C),k("__Rewire__",E),k("__set__",E),k("__reset__",O),k("__ResetDependency__",O),k("__with__",M),k("__RewireAPI__",b)),t.__get__=C,t.__GetDependency__=C,t.__Rewire__=E,t.__set__=E,t.__ResetDependency__=O,t.__RewireAPI__=b},"./node_modules/connected-react-router/lib/actions.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=t.LOCATION_CHANGE="@@router/LOCATION_CHANGE",i=(t.onLocationChanged=function(e,t){return{type:b("LOCATION_CHANGE"),payload:{location:e,action:t}}},t.CALL_HISTORY_METHOD="@@router/CALL_HISTORY_METHOD"),a=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return{type:b("CALL_HISTORY_METHOD"),payload:{method:e,args:r}}}},s=t.push=b("updateLocation")("push"),l=t.replace=b("updateLocation")("replace"),p=t.go=b("updateLocation")("go"),u=t.goBack=b("updateLocation")("goBack"),c=t.goForward=b("updateLocation")("goForward");t.routerActions={push:b("push"),replace:b("replace"),go:b("go"),goBack:b("goBack"),goForward:b("goForward")};function d(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}var f,h=null;function m(){if(null===h){var e=d();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),h=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return h}function y(){var e=d();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _(){var e=m(),t=y(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(f=d()).__rewire_reset_all__||(f.__rewire_reset_all__=function(){f.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var v="__INTENTIONAL_UNDEFINED__",g={};function b(e){var t=_();if(void 0===t[e])return function(e){switch(e){case"LOCATION_CHANGE":return o;case"CALL_HISTORY_METHOD":return i;case"updateLocation":return a;case"push":return s;case"replace":return l;case"go":return p;case"goBack":return u;case"goForward":return c}return}(e);var r=t[e];return r===v?void 0:r}function C(e,t){var r=_();if("object"!==(void 0===e?"undefined":n(e)))return r[e]=void 0===t?v:t,function(){E(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function E(e){var t=_();delete t[e],0==Object.keys(t).length&&delete y()[m]}function O(e){var t=_(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(g,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",b),e("__GetDependency__",b),e("__Rewire__",C),e("__set__",C),e("__reset__",E),e("__ResetDependency__",E),e("__with__",O)}(),t.__get__=b,t.__GetDependency__=b,t.__Rewire__=C,t.__set__=C,t.__ResetDependency__=E,t.__RewireAPI__=g,t.default=g},"./node_modules/connected-react-router/lib/createAll.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r("./node_modules/connected-react-router/lib/actions.js")),a=u(r("./node_modules/connected-react-router/lib/ConnectedRouter.js")),s=u(r("./node_modules/connected-react-router/lib/reducer.js")),l=u(r("./node_modules/connected-react-router/lib/middleware.js")),p=u(r("./node_modules/connected-react-router/lib/selectors.js"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return o({},b("actions"),b("createSelectors")(e),{ConnectedRouter:b("createConnectedRouter")(e),connectRouter:b("createConnectRouter")(e),routerMiddleware:b("routerMiddleware")})};function d(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=b("createAll");var f,h=null;function m(){if(null===h){var e=d();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),h=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return h}function y(){var e=d();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _(){var e=m(),t=y(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(f=d()).__rewire_reset_all__||(f.__rewire_reset_all__=function(){f.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var v="__INTENTIONAL_UNDEFINED__",g={};function b(e){var t=_();if(void 0===t[e])return function(e){switch(e){case"actions":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter(function(e){return"__get__"!==e&&"__set__"!==e&&"__reset__"!==e&&"__with__"!==e&&"__GetDependency__"!==e&&"__Rewire__"!==e&&"__ResetDependency__"!==e&&"__RewireAPI__"!==e}).reduce(function(t,r){return t[r]=e[r],t},{})}(i);case"createSelectors":return p.default;case"createConnectedRouter":return a.default;case"createConnectRouter":return s.default;case"routerMiddleware":return l.default;case"createAll":return c}return}(e);var r=t[e];return r===v?void 0:r}function C(e,t){var r=_();if("object"!==(void 0===e?"undefined":n(e)))return r[e]=void 0===t?v:t,function(){E(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function E(e){var t=_();delete t[e],0==Object.keys(t).length&&delete y()[m]}function O(e){var t=_(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(g,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",b),e("__GetDependency__",b),e("__Rewire__",C),e("__set__",C),e("__reset__",E),e("__ResetDependency__",E),e("__with__",O)}();var M=void 0===c?"undefined":n(c);function N(e,t){Object.defineProperty(c,e,{value:t,enumerable:!1,configurable:!0})}"object"!==M&&"function"!==M||!Object.isExtensible(c)||(N("__get__",b),N("__GetDependency__",b),N("__Rewire__",C),N("__set__",C),N("__reset__",E),N("__ResetDependency__",E),N("__with__",O),N("__RewireAPI__",g)),t.__get__=b,t.__GetDependency__=b,t.__Rewire__=C,t.__set__=C,t.__ResetDependency__=E,t.__RewireAPI__=g},"./node_modules/connected-react-router/lib/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=t.createMatchSelector=t.getAction=t.getLocation=t.routerMiddleware=t.connectRouter=t.ConnectedRouter=t.routerActions=t.goForward=t.goBack=t.go=t.replace=t.push=t.CALL_HISTORY_METHOD=t.LOCATION_CHANGE=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=a(r("./node_modules/connected-react-router/lib/createAll.js")),i=a(r("./node_modules/connected-react-router/lib/structure/plain/index.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=I("createAll")(I("plainStructure")),l=s.LOCATION_CHANGE,p=s.CALL_HISTORY_METHOD,u=s.push,c=s.replace,d=s.go,f=s.goBack,h=s.goForward,m=s.routerActions,y=s.ConnectedRouter,_=s.connectRouter,v=s.routerMiddleware,g=s.getLocation,b=s.getAction,C=s.createMatchSelector;function E(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.LOCATION_CHANGE=l,t.CALL_HISTORY_METHOD=p,t.push=u,t.replace=c,t.go=d,t.goBack=f,t.goForward=h,t.routerActions=m,t.ConnectedRouter=y,t.connectRouter=_,t.routerMiddleware=v,t.getLocation=g,t.getAction=b,t.createMatchSelector=C;var O,M=null;function N(){if(null===M){var e=E();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),M=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return M}function k(){var e=E();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function S(){var e=N(),t=k(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(O=E()).__rewire_reset_all__||(O.__rewire_reset_all__=function(){O.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var T="__INTENTIONAL_UNDEFINED__",A={};function I(e){var t=S();if(void 0===t[e])return function(e){switch(e){case"createAll":return o.default;case"plainStructure":return i.default}return}(e);var r=t[e];return r===T?void 0:r}function L(e,t){var r=S();if("object"!==(void 0===e?"undefined":n(e)))return r[e]=void 0===t?T:t,function(){w(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function w(e){var t=S();delete t[e],0==Object.keys(t).length&&delete k()[N]}function x(e){var t=S(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(A,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",I),e("__GetDependency__",I),e("__Rewire__",L),e("__set__",L),e("__reset__",w),e("__ResetDependency__",w),e("__with__",x)}(),t.__get__=I,t.__GetDependency__=I,t.__Rewire__=L,t.__set__=L,t.__ResetDependency__=w,t.__RewireAPI__=A,t.default=A},"./node_modules/connected-react-router/lib/middleware.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r("./node_modules/connected-react-router/lib/actions.js");var i=function(e){return function(t){return function(t){return function(r){if(r.type!==h("CALL_HISTORY_METHOD"))return t(r);var n=r.payload,o=n.method,i=n.args;e[o].apply(e,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(i))}}}};function a(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=h("routerMiddleware");var s,l=null;function p(){if(null===l){var e=a();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),l=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return l}function u(){var e=a();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function c(){var e=p(),t=u(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(s=a()).__rewire_reset_all__||(s.__rewire_reset_all__=function(){s.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var d="__INTENTIONAL_UNDEFINED__",f={};function h(e){var t=c();if(void 0===t[e])return function(e){switch(e){case"CALL_HISTORY_METHOD":return o.CALL_HISTORY_METHOD;case"routerMiddleware":return i}return}(e);var r=t[e];return r===d?void 0:r}function m(e,t){var r=c();if("object"!==(void 0===e?"undefined":n(e)))return r[e]=void 0===t?d:t,function(){y(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function y(e){var t=c();delete t[e],0==Object.keys(t).length&&delete u()[p]}function _(e){var t=c(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(f,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",h),e("__GetDependency__",h),e("__Rewire__",m),e("__set__",m),e("__reset__",y),e("__ResetDependency__",y),e("__with__",_)}();var v=void 0===i?"undefined":n(i);function g(e,t){Object.defineProperty(i,e,{value:t,enumerable:!1,configurable:!0})}"object"!==v&&"function"!==v||!Object.isExtensible(i)||(g("__get__",h),g("__GetDependency__",h),g("__Rewire__",m),g("__set__",m),g("__reset__",y),g("__ResetDependency__",y),g("__with__",_),g("__RewireAPI__",f)),t.__get__=h,t.__GetDependency__=h,t.__Rewire__=m,t.__set__=m,t.__ResetDependency__=y,t.__RewireAPI__=f},"./node_modules/connected-react-router/lib/reducer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r("./node_modules/connected-react-router/lib/actions.js"),i=function(e){var t=e.fromJS,r=e.merge;return function(e){var n=t({location:e.location,action:e.action});return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.type,i=t.payload;return o===h("LOCATION_CHANGE")?r(e,i):e}}};function a(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=h("createConnectRouter");var s,l=null;function p(){if(null===l){var e=a();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),l=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return l}function u(){var e=a();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function c(){var e=p(),t=u(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(s=a()).__rewire_reset_all__||(s.__rewire_reset_all__=function(){s.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var d="__INTENTIONAL_UNDEFINED__",f={};function h(e){var t=c();if(void 0===t[e])return function(e){switch(e){case"LOCATION_CHANGE":return o.LOCATION_CHANGE;case"createConnectRouter":return i}return}(e);var r=t[e];return r===d?void 0:r}function m(e,t){var r=c();if("object"!==(void 0===e?"undefined":n(e)))return r[e]=void 0===t?d:t,function(){y(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function y(e){var t=c();delete t[e],0==Object.keys(t).length&&delete u()[p]}function _(e){var t=c(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(f,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",h),e("__GetDependency__",h),e("__Rewire__",m),e("__set__",m),e("__reset__",y),e("__ResetDependency__",y),e("__with__",_)}();var v=void 0===i?"undefined":n(i);function g(e,t){Object.defineProperty(i,e,{value:t,enumerable:!1,configurable:!0})}"object"!==v&&"function"!==v||!Object.isExtensible(i)||(g("__get__",h),g("__GetDependency__",h),g("__Rewire__",m),g("__set__",m),g("__reset__",y),g("__ResetDependency__",y),g("__with__",_),g("__RewireAPI__",f)),t.__get__=h,t.__GetDependency__=h,t.__Rewire__=m,t.__set__=m,t.__ResetDependency__=y,t.__RewireAPI__=f},"./node_modules/connected-react-router/lib/selectors.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r("react-router"),i=function(e){var t=e.getIn,r=e.toJS,n=function(e){return r(t(e,["router","location"]))};return{getLocation:n,getAction:function(e){return r(t(e,["router","action"]))},createMatchSelector:function(e){var t=null,r=null;return function(o){var i=(n(o)||{}).pathname;if(i===t)return r;t=i;var a=h("matchPath")(i,e);return a&&r&&a.url===r.url||(r=a),r}}}};function a(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=h("createSelectors");var s,l=null;function p(){if(null===l){var e=a();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),l=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return l}function u(){var e=a();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function c(){var e=p(),t=u(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(s=a()).__rewire_reset_all__||(s.__rewire_reset_all__=function(){s.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var d="__INTENTIONAL_UNDEFINED__",f={};function h(e){var t=c();if(void 0===t[e])return function(e){switch(e){case"matchPath":return o.matchPath;case"createSelectors":return i}return}(e);var r=t[e];return r===d?void 0:r}function m(e,t){var r=c();if("object"!==(void 0===e?"undefined":n(e)))return r[e]=void 0===t?d:t,function(){y(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function y(e){var t=c();delete t[e],0==Object.keys(t).length&&delete u()[p]}function _(e){var t=c(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(f,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",h),e("__GetDependency__",h),e("__Rewire__",m),e("__set__",m),e("__reset__",y),e("__ResetDependency__",y),e("__with__",_)}();var v=void 0===i?"undefined":n(i);function g(e,t){Object.defineProperty(i,e,{value:t,enumerable:!1,configurable:!0})}"object"!==v&&"function"!==v||!Object.isExtensible(i)||(g("__get__",h),g("__GetDependency__",h),g("__Rewire__",m),g("__set__",m),g("__reset__",y),g("__ResetDependency__",y),g("__with__",_),g("__RewireAPI__",f)),t.__get__=h,t.__GetDependency__=h,t.__Rewire__=m,t.__set__=m,t.__ResetDependency__=y,t.__RewireAPI__=f},"./node_modules/connected-react-router/lib/structure/plain/getIn.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(!e)return e;var r=t.length;if(r){for(var n=e,o=0;o<r&&n;++o)n=n[t[o]];return n}};function i(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=f("getIn");var a,s=null;function l(){if(null===s){var e=i();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),s=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return s}function p(){var e=i();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function u(){var e=l(),t=p(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(a=i()).__rewire_reset_all__||(a.__rewire_reset_all__=function(){a.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var c="__INTENTIONAL_UNDEFINED__",d={};function f(e){var t=u();if(void 0===t[e])return function(e){switch(e){case"getIn":return o}return}(e);var r=t[e];return r===c?void 0:r}function h(e,t){var r=u();if("object"!==(void 0===e?"undefined":n(e)))return r[e]=void 0===t?c:t,function(){m(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function m(e){var t=u();delete t[e],0==Object.keys(t).length&&delete p()[l]}function y(e){var t=u(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(d,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",f),e("__GetDependency__",f),e("__Rewire__",h),e("__set__",h),e("__reset__",m),e("__ResetDependency__",m),e("__with__",y)}();var _=void 0===o?"undefined":n(o);function v(e,t){Object.defineProperty(o,e,{value:t,enumerable:!1,configurable:!0})}"object"!==_&&"function"!==_||!Object.isExtensible(o)||(v("__get__",f),v("__GetDependency__",f),v("__Rewire__",h),v("__set__",h),v("__reset__",m),v("__ResetDependency__",m),v("__with__",y),v("__RewireAPI__",d)),t.__get__=f,t.__GetDependency__=f,t.__Rewire__=h,t.__set__=h,t.__ResetDependency__=m,t.__RewireAPI__=d},"./node_modules/connected-react-router/lib/structure/plain/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r("./node_modules/connected-react-router/lib/structure/plain/getIn.js"),s=(n=a)&&n.__esModule?n:{default:n};var l={fromJS:function(e){return e},getIn:_("getIn"),merge:function(e,t){return i({},e,t)},toJS:function(e){return e}};function p(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=_("structure");var u,c=null;function d(){if(null===c){var e=p();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),c=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return c}function f(){var e=p();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function h(){var e=d(),t=f(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(u=p()).__rewire_reset_all__||(u.__rewire_reset_all__=function(){u.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var m="__INTENTIONAL_UNDEFINED__",y={};function _(e){var t=h();if(void 0===t[e])return function(e){switch(e){case"getIn":return s.default;case"structure":return l}return}(e);var r=t[e];return r===m?void 0:r}function v(e,t){var r=h();if("object"!==(void 0===e?"undefined":o(e)))return r[e]=void 0===t?m:t,function(){g(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function g(e){var t=h();delete t[e],0==Object.keys(t).length&&delete f()[d]}function b(e){var t=h(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(y,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",_),e("__GetDependency__",_),e("__Rewire__",v),e("__set__",v),e("__reset__",g),e("__ResetDependency__",g),e("__with__",b)}();var C=void 0===l?"undefined":o(l);function E(e,t){Object.defineProperty(l,e,{value:t,enumerable:!1,configurable:!0})}"object"!==C&&"function"!==C||!Object.isExtensible(l)||(E("__get__",_),E("__GetDependency__",_),E("__Rewire__",v),E("__set__",v),E("__reset__",g),E("__ResetDependency__",g),E("__with__",b),E("__RewireAPI__",y)),t.__get__=_,t.__GetDependency__=_,t.__Rewire__=v,t.__set__=v,t.__ResetDependency__=g,t.__RewireAPI__=y},"./node_modules/core-js/modules/_a-function.js":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"./node_modules/core-js/modules/_add-to-unscopables.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_wks.js")("unscopables"),o=Array.prototype;null==o[n]&&r("./node_modules/core-js/modules/_hide.js")(o,n,{}),e.exports=function(e){o[n][e]=!0}},"./node_modules/core-js/modules/_an-object.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_is-object.js");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},"./node_modules/core-js/modules/_array-includes.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_to-iobject.js"),o=r("./node_modules/core-js/modules/_to-length.js"),i=r("./node_modules/core-js/modules/_to-absolute-index.js");e.exports=function(e){return function(t,r,a){var s,l=n(t),p=o(l.length),u=i(a,p);if(e&&r!=r){for(;p>u;)if((s=l[u++])!=s)return!0}else for(;p>u;u++)if((e||u in l)&&l[u]===r)return e||u||0;return!e&&-1}}},"./node_modules/core-js/modules/_bind.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_a-function.js"),o=r("./node_modules/core-js/modules/_is-object.js"),i=r("./node_modules/core-js/modules/_invoke.js"),a=[].slice,s={};e.exports=Function.bind||function(e){var t=n(this),r=a.call(arguments,1),l=function(){var n=r.concat(a.call(arguments));return this instanceof l?function(e,t,r){if(!(t in s)){for(var n=[],o=0;o<t;o++)n[o]="a["+o+"]";s[t]=Function("F,a","return new F("+n.join(",")+")")}return s[t](e,r)}(t,n.length,n):i(t,n,e)};return o(t.prototype)&&(l.prototype=t.prototype),l}},"./node_modules/core-js/modules/_cof.js":function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},"./node_modules/core-js/modules/_core.js":function(e,t){var r=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=r)},"./node_modules/core-js/modules/_ctx.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_a-function.js");e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},"./node_modules/core-js/modules/_defined.js":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},"./node_modules/core-js/modules/_descriptors.js":function(e,t,r){e.exports=!r("./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_dom-create.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_is-object.js"),o=r("./node_modules/core-js/modules/_global.js").document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},"./node_modules/core-js/modules/_enum-bug-keys.js":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"./node_modules/core-js/modules/_export.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_global.js"),o=r("./node_modules/core-js/modules/_core.js"),i=r("./node_modules/core-js/modules/_hide.js"),a=r("./node_modules/core-js/modules/_redefine.js"),s=r("./node_modules/core-js/modules/_ctx.js"),l=function(e,t,r){var p,u,c,d,f=e&l.F,h=e&l.G,m=e&l.S,y=e&l.P,_=e&l.B,v=h?n:m?n[t]||(n[t]={}):(n[t]||{}).prototype,g=h?o:o[t]||(o[t]={}),b=g.prototype||(g.prototype={});for(p in h&&(r=t),r)c=((u=!f&&v&&void 0!==v[p])?v:r)[p],d=_&&u?s(c,n):y&&"function"==typeof c?s(Function.call,c):c,v&&a(v,p,c,e&l.U),g[p]!=c&&i(g,p,d),y&&b[p]!=c&&(b[p]=c)};n.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},"./node_modules/core-js/modules/_fails.js":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/modules/_function-to-string.js":function(e,t,r){e.exports=r("./node_modules/core-js/modules/_shared.js")("native-function-to-string",Function.toString)},"./node_modules/core-js/modules/_global.js":function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},"./node_modules/core-js/modules/_has.js":function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},"./node_modules/core-js/modules/_hide.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_object-dp.js"),o=r("./node_modules/core-js/modules/_property-desc.js");e.exports=r("./node_modules/core-js/modules/_descriptors.js")?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},"./node_modules/core-js/modules/_html.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_global.js").document;e.exports=n&&n.documentElement},"./node_modules/core-js/modules/_ie8-dom-define.js":function(e,t,r){e.exports=!r("./node_modules/core-js/modules/_descriptors.js")&&!r("./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty(r("./node_modules/core-js/modules/_dom-create.js")("div"),"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_invoke.js":function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},"./node_modules/core-js/modules/_iobject.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_cof.js");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},"./node_modules/core-js/modules/_is-object.js":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/core-js/modules/_iter-create.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_object-create.js"),o=r("./node_modules/core-js/modules/_property-desc.js"),i=r("./node_modules/core-js/modules/_set-to-string-tag.js"),a={};r("./node_modules/core-js/modules/_hide.js")(a,r("./node_modules/core-js/modules/_wks.js")("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)}),i(e,t+" Iterator")}},"./node_modules/core-js/modules/_iter-define.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_library.js"),o=r("./node_modules/core-js/modules/_export.js"),i=r("./node_modules/core-js/modules/_redefine.js"),a=r("./node_modules/core-js/modules/_hide.js"),s=r("./node_modules/core-js/modules/_iterators.js"),l=r("./node_modules/core-js/modules/_iter-create.js"),p=r("./node_modules/core-js/modules/_set-to-string-tag.js"),u=r("./node_modules/core-js/modules/_object-gpo.js"),c=r("./node_modules/core-js/modules/_wks.js")("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,r,h,m,y,_){l(r,t,h);var v,g,b,C=function(e){if(!d&&e in N)return N[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},E=t+" Iterator",O="values"==m,M=!1,N=e.prototype,k=N[c]||N["@@iterator"]||m&&N[m],S=k||C(m),T=m?O?C("entries"):S:void 0,A="Array"==t&&N.entries||k;if(A&&(b=u(A.call(new e)))!==Object.prototype&&b.next&&(p(b,E,!0),n||"function"==typeof b[c]||a(b,c,f)),O&&k&&"values"!==k.name&&(M=!0,S=function(){return k.call(this)}),n&&!_||!d&&!M&&N[c]||a(N,c,S),s[t]=S,s[E]=f,m)if(v={values:O?S:C("values"),keys:y?S:C("keys"),entries:T},_)for(g in v)g in N||i(N,g,v[g]);else o(o.P+o.F*(d||M),t,v);return v}},"./node_modules/core-js/modules/_iter-step.js":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},"./node_modules/core-js/modules/_iterators.js":function(e,t){e.exports={}},"./node_modules/core-js/modules/_library.js":function(e,t){e.exports=!1},"./node_modules/core-js/modules/_object-create.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_an-object.js"),o=r("./node_modules/core-js/modules/_object-dps.js"),i=r("./node_modules/core-js/modules/_enum-bug-keys.js"),a=r("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO"),s=function(){},l=function(){var e,t=r("./node_modules/core-js/modules/_dom-create.js")("iframe"),n=i.length;for(t.style.display="none",r("./node_modules/core-js/modules/_html.js").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[i[n]];return l()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=l(),void 0===t?r:o(r,t)}},"./node_modules/core-js/modules/_object-dp.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_an-object.js"),o=r("./node_modules/core-js/modules/_ie8-dom-define.js"),i=r("./node_modules/core-js/modules/_to-primitive.js"),a=Object.defineProperty;t.f=r("./node_modules/core-js/modules/_descriptors.js")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},"./node_modules/core-js/modules/_object-dps.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_object-dp.js"),o=r("./node_modules/core-js/modules/_an-object.js"),i=r("./node_modules/core-js/modules/_object-keys.js");e.exports=r("./node_modules/core-js/modules/_descriptors.js")?Object.defineProperties:function(e,t){o(e);for(var r,a=i(t),s=a.length,l=0;s>l;)n.f(e,r=a[l++],t[r]);return e}},"./node_modules/core-js/modules/_object-gpo.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_has.js"),o=r("./node_modules/core-js/modules/_to-object.js"),i=r("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},"./node_modules/core-js/modules/_object-keys-internal.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_has.js"),o=r("./node_modules/core-js/modules/_to-iobject.js"),i=r("./node_modules/core-js/modules/_array-includes.js")(!1),a=r("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO");e.exports=function(e,t){var r,s=o(e),l=0,p=[];for(r in s)r!=a&&n(s,r)&&p.push(r);for(;t.length>l;)n(s,r=t[l++])&&(~i(p,r)||p.push(r));return p}},"./node_modules/core-js/modules/_object-keys.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_object-keys-internal.js"),o=r("./node_modules/core-js/modules/_enum-bug-keys.js");e.exports=Object.keys||function(e){return n(e,o)}},"./node_modules/core-js/modules/_property-desc.js":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js/modules/_redefine.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_global.js"),o=r("./node_modules/core-js/modules/_hide.js"),i=r("./node_modules/core-js/modules/_has.js"),a=r("./node_modules/core-js/modules/_uid.js")("src"),s=r("./node_modules/core-js/modules/_function-to-string.js"),l=(""+s).split("toString");r("./node_modules/core-js/modules/_core.js").inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var p="function"==typeof r;p&&(i(r,"name")||o(r,"name",t)),e[t]!==r&&(p&&(i(r,a)||o(r,a,e[t]?""+e[t]:l.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:o(e,t,r):(delete e[t],o(e,t,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},"./node_modules/core-js/modules/_set-to-string-tag.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_object-dp.js").f,o=r("./node_modules/core-js/modules/_has.js"),i=r("./node_modules/core-js/modules/_wks.js")("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},"./node_modules/core-js/modules/_shared-key.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_shared.js")("keys"),o=r("./node_modules/core-js/modules/_uid.js");e.exports=function(e){return n[e]||(n[e]=o(e))}},"./node_modules/core-js/modules/_shared.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_core.js"),o=r("./node_modules/core-js/modules/_global.js"),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r("./node_modules/core-js/modules/_library.js")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/modules/_to-absolute-index.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_to-integer.js"),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?o(e+t,0):i(e,t)}},"./node_modules/core-js/modules/_to-integer.js":function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},"./node_modules/core-js/modules/_to-iobject.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_iobject.js"),o=r("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return n(o(e))}},"./node_modules/core-js/modules/_to-length.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_to-integer.js"),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},"./node_modules/core-js/modules/_to-object.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return Object(n(e))}},"./node_modules/core-js/modules/_to-primitive.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_is-object.js");e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/modules/_uid.js":function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},"./node_modules/core-js/modules/_wks.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_shared.js")("wks"),o=r("./node_modules/core-js/modules/_uid.js"),i=r("./node_modules/core-js/modules/_global.js").Symbol,a="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=n},"./node_modules/core-js/modules/es6.array.iterator.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_add-to-unscopables.js"),o=r("./node_modules/core-js/modules/_iter-step.js"),i=r("./node_modules/core-js/modules/_iterators.js"),a=r("./node_modules/core-js/modules/_to-iobject.js");e.exports=r("./node_modules/core-js/modules/_iter-define.js")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},"./node_modules/core-js/modules/es6.function.bind.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_export.js");n(n.P,"Function",{bind:r("./node_modules/core-js/modules/_bind.js")})},"./node_modules/core-js/modules/web.dom.iterable.js":function(e,t,r){for(var n=r("./node_modules/core-js/modules/es6.array.iterator.js"),o=r("./node_modules/core-js/modules/_object-keys.js"),i=r("./node_modules/core-js/modules/_redefine.js"),a=r("./node_modules/core-js/modules/_global.js"),s=r("./node_modules/core-js/modules/_hide.js"),l=r("./node_modules/core-js/modules/_iterators.js"),p=r("./node_modules/core-js/modules/_wks.js"),u=p("iterator"),c=p("toStringTag"),d=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(f),m=0;m<h.length;m++){var y,_=h[m],v=f[_],g=a[_],b=g&&g.prototype;if(b&&(b[u]||s(b,u,d),b[c]||s(b,c,_),l[_]=d,v))for(y in n)b[y]||i(b,y,n[y],!0)}},"./node_modules/prop-types/factoryWithThrowingShims.js":function(e,t,r){"use strict";var n=r("./node_modules/prop-types/lib/ReactPropTypesSecret.js");function o(){}e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=o,r.PropTypes=r,r}},"./node_modules/prop-types/index.js":function(e,t,r){e.exports=r("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/redux-logger/dist/redux-logger.js":function(e,t,r){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function n(e,t,r){n.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function i(e,t){i.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function a(e,t,r){a.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:r,enumerable:!0})}function s(e,t,r){var n=e.slice((r||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function l(e){var t=void 0===e?"undefined":E(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function p(e,t,r,u,c,d,f){f=f||[];var h=(c=c||[]).slice(0);if(void 0!==d){if(u){if("function"==typeof u&&u(h,d))return;if("object"===(void 0===u?"undefined":E(u))){if(u.prefilter&&u.prefilter(h,d))return;if(u.normalize){var m=u.normalize(h,d,e,t);m&&(e=m[0],t=m[1])}}}h.push(d)}"regexp"===l(e)&&"regexp"===l(t)&&(e=e.toString(),t=t.toString());var y=void 0===e?"undefined":E(e),_=void 0===t?"undefined":E(t),v="undefined"!==y||f&&f[f.length-1].lhs&&f[f.length-1].lhs.hasOwnProperty(d),g="undefined"!==_||f&&f[f.length-1].rhs&&f[f.length-1].rhs.hasOwnProperty(d);if(!v&&g)r(new o(h,t));else if(!g&&v)r(new i(h,e));else if(l(e)!==l(t))r(new n(h,e,t));else if("date"===l(e)&&e-t!=0)r(new n(h,e,t));else if("object"===y&&null!==e&&null!==t)if(f.filter(function(t){return t.lhs===e}).length)e!==t&&r(new n(h,e,t));else{if(f.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?r(new a(h,b,new i(void 0,e[b]))):p(e[b],t[b],r,u,h,b,f);for(;b<t.length;)r(new a(h,b,new o(void 0,t[b++])))}else{var C=Object.keys(e),O=Object.keys(t);C.forEach(function(n,o){var i=O.indexOf(n);i>=0?(p(e[n],t[n],r,u,h,n,f),O=s(O,i)):p(e[n],void 0,r,u,h,n,f)}),O.forEach(function(e){p(void 0,t[e],r,u,h,e,f)})}f.length=f.length-1}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||r(new n(h,e,t)))}function u(e,t,r,n){return n=n||[],p(e,t,function(e){e&&n.push(e)},r),n.length?n:void 0}function c(e,t,r){if(e&&t&&r&&r.kind){for(var n=e,o=-1,i=r.path?r.path.length-1:0;++o<i;)void 0===n[r.path[o]]&&(n[r.path[o]]="number"==typeof r.path[o]?[]:{}),n=n[r.path[o]];switch(r.kind){case"A":!function e(t,r,n){if(n.path&&n.path.length){var o,i=t[r],a=n.path.length-1;for(o=0;o<a;o++)i=i[n.path[o]];switch(n.kind){case"A":e(i[n.path[o]],n.index,n.item);break;case"D":delete i[n.path[o]];break;case"E":case"N":i[n.path[o]]=n.rhs}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":t=s(t,r);break;case"E":case"N":t[r]=n.rhs}return t}(r.path?n[r.path[o]]:n,r.index,r.item);break;case"D":delete n[r.path[o]];break;case"E":case"N":n[r.path[o]]=r.rhs}}}function d(e){return"color: "+N[e].color+"; font-weight: bold"}function f(e,t,r,n){var o=u(e,t);try{n?r.groupCollapsed("diff"):r.group("diff")}catch(e){r.log("diff")}o?o.forEach(function(e){var t=e.kind,n=function(e){var t=e.kind,r=e.path,n=e.lhs,o=e.rhs,i=e.index,a=e.item;switch(t){case"E":return[r.join("."),n,"→",o];case"N":return[r.join("."),o];case"D":return[r.join(".")];case"A":return[r.join(".")+"["+i+"]",a];default:return[]}}(e);r.log.apply(r,["%c "+N[t].text,d(t)].concat(O(n)))}):r.log("—— no diff ——");try{r.groupEnd()}catch(e){r.log("—— diff end —— ")}}function h(e,t,r,n){switch(void 0===e?"undefined":E(e)){case"object":return"function"==typeof e[n]?e[n].apply(e,O(r)):e[n];case"function":return e(t);default:return e}}function m(e,t){var r=t.logger,n=t.actionTransformer,o=t.titleFormatter,i=void 0===o?function(e){var t=e.timestamp,r=e.duration;return function(e,n,o){var i=["action"];return i.push("%c"+String(e.type)),t&&i.push("%c@ "+n),r&&i.push("%c(in "+o.toFixed(2)+" ms)"),i.join(" ")}}(t):o,a=t.collapsed,s=t.colors,l=t.level,p=t.diff,u=void 0===t.titleFormatter;e.forEach(function(o,c){var d=o.started,m=o.startedTime,y=o.action,_=o.prevState,v=o.error,g=o.took,C=o.nextState,E=e[c+1];E&&(C=E.prevState,g=E.started-d);var O=n(y),M="function"==typeof a?a(function(){return C},y,o):a,N=b(m),k=s.title?"color: "+s.title(O)+";":"",S=["color: gray; font-weight: lighter;"];S.push(k),t.timestamp&&S.push("color: gray; font-weight: lighter;"),t.duration&&S.push("color: gray; font-weight: lighter;");var T=i(O,N,g);try{M?s.title&&u?r.groupCollapsed.apply(r,["%c "+T].concat(S)):r.groupCollapsed(T):s.title&&u?r.group.apply(r,["%c "+T].concat(S)):r.group(T)}catch(e){r.log(T)}var A=h(l,O,[_],"prevState"),I=h(l,O,[O],"action"),L=h(l,O,[v,_],"error"),w=h(l,O,[C],"nextState");if(A)if(s.prevState){var x="color: "+s.prevState(_)+"; font-weight: bold";r[A]("%c prev state",x,_)}else r[A]("prev state",_);if(I)if(s.action){var P="color: "+s.action(O)+"; font-weight: bold";r[I]("%c action    ",P,O)}else r[I]("action    ",O);if(v&&L)if(s.error){var $="color: "+s.error(v,_)+"; font-weight: bold;";r[L]("%c error     ",$,v)}else r[L]("error     ",v);if(w)if(s.nextState){var j="color: "+s.nextState(C)+"; font-weight: bold";r[w]("%c next state",j,C)}else r[w]("next state",C);p&&f(_,C,r,M);try{r.groupEnd()}catch(e){r.log("—— log end ——")}})}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},k,e),r=t.logger,n=t.stateTransformer,o=t.errorTransformer,i=t.predicate,a=t.logErrors,s=t.diffPredicate;if(void 0===r)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var l=[];return function(e){var r=e.getState;return function(e){return function(p){if("function"==typeof i&&!i(r,p))return e(p);var u={};l.push(u),u.started=C.now(),u.startedTime=new Date,u.prevState=n(r()),u.action=p;var c=void 0;if(a)try{c=e(p)}catch(e){u.error=o(e)}else c=e(p);u.took=C.now()-u.started,u.nextState=n(r());var d=t.diff&&"function"==typeof s?s(r,p):t.diff;if(m(l,Object.assign({},t,{diff:d})),l.length=0,u.error)throw u.error;return c}}}}var _,v,g=function(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e},b=function(e){return g(e.getHours(),2)+":"+g(e.getMinutes(),2)+":"+g(e.getSeconds(),2)+"."+g(e.getMilliseconds(),3)},C="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},M=[];_="object"===("undefined"==typeof global?"undefined":E(global))&&global?global:"undefined"!=typeof window?window:{},(v=_.DeepDiff)&&M.push(function(){void 0!==v&&_.DeepDiff===u&&(_.DeepDiff=v,v=void 0)}),t(n,r),t(o,r),t(i,r),t(a,r),Object.defineProperties(u,{diff:{value:u,enumerable:!0},observableDiff:{value:p,enumerable:!0},applyDiff:{value:function(e,t,r){e&&t&&p(e,t,function(n){r&&!r(e,t,n)||c(e,t,n)})},enumerable:!0},applyChange:{value:c,enumerable:!0},revertChange:{value:function(e,t,r){if(e&&t&&r&&r.kind){var n,o,i=e;for(o=r.path.length-1,n=0;n<o;n++)void 0===i[r.path[n]]&&(i[r.path[n]]={}),i=i[r.path[n]];switch(r.kind){case"A":!function e(t,r,n){if(n.path&&n.path.length){var o,i=t[r],a=n.path.length-1;for(o=0;o<a;o++)i=i[n.path[o]];switch(n.kind){case"A":e(i[n.path[o]],n.index,n.item);break;case"D":case"E":i[n.path[o]]=n.lhs;break;case"N":delete i[n.path[o]]}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":case"E":t[r]=n.lhs;break;case"N":t=s(t,r)}return t}(i[r.path[n]],r.index,r.item);break;case"D":case"E":i[r.path[n]]=r.lhs;break;case"N":delete i[r.path[n]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==v},enumerable:!0},noConflict:{value:function(){return M&&(M.forEach(function(e){e()}),M=null),u},enumerable:!0}});var N={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},k={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,r=e.getState;return"function"==typeof t||"function"==typeof r?y()({dispatch:t,getState:r}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=k,e.createLogger=y,e.logger=S,e.default=S,Object.defineProperty(e,"__esModule",{value:!0})}(t)},d3:function(e,t){e.exports=require("d3")},electron:function(e,t){e.exports=require("electron")},fs:function(e,t){e.exports=require("fs")},history:function(e,t){e.exports=require("history")},path:function(e,t){e.exports=require("path")},react:function(e,t){e.exports=require("react")},"react-dom":function(e,t){e.exports=require("react-dom")},"react-hot-loader":function(e,t){e.exports=require("react-hot-loader")},"react-redux":function(e,t){e.exports=require("react-redux")},"react-router":function(e,t){e.exports=require("react-router")},"react-router-dom":function(e,t){e.exports=require("react-router-dom")},"react-syntax-highlighter":function(e,t){e.exports=require("react-syntax-highlighter")},redux:function(e,t){e.exports=require("redux")},"redux-thunk":function(e,t){e.exports=require("redux-thunk")},util:function(e,t){e.exports=require("util")},webcola:function(e,t){e.exports=require("webcola")}});
//# sourceMappingURL=renderer.prod.js.map