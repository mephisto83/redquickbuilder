module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="./dist/",r(r.s="./app/index.js")}({"./app/app.global.css":function(e,t,r){},"./app/constants/routes.json":function(e){e.exports={HOME:"/",COUNTER:"/counter"}},"./app/index.js":function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"VISUAL",function(){return Qa}),r.d(n,"APPLICATION",function(){return Za}),r.d(n,"GRAPHS",function(){return es}),r.d(n,"VISUAL_GRAPH",function(){return ts}),r.d(n,"DASHBOARD_MENU",function(){return rs}),r.d(n,"SELECTED_NODE_BB",function(){return ns}),r.d(n,"SIDE_PANEL_EXTRA_WIDTH",function(){return os}),r.d(n,"NodeTypes",function(){return is}),r.d(n,"NodeTypeColors",function(){return as}),r.d(n,"NodeProperties",function(){return ss}),r.d(n,"LinkProperties",function(){return ls}),r.d(n,"NodeAttributePropertyTypes",function(){return ps}),r.d(n,"NodePropertyTypes",function(){return us}),r.d(n,"ValidationRules",function(){return ds}),r.d(n,"OptionsTypes",function(){return cs}),r.d(n,"UI_UPDATE",function(){return fs}),r.d(n,"GetC",function(){return ms}),r.d(n,"generateDataSeed",function(){return hs}),r.d(n,"generateDataSeeds",function(){return vs}),r.d(n,"Visual",function(){return _s}),r.d(n,"IsCurrentNodeA",function(){return gs}),r.d(n,"Use",function(){return bs}),r.d(n,"GetManyToManyNodes",function(){return Cs}),r.d(n,"GetNodeProp",function(){return Es}),r.d(n,"GetGroupProp",function(){return Os}),r.d(n,"GetConditionNodes",function(){return ks}),r.d(n,"IsAgent",function(){return Ns}),r.d(n,"GetLinkChainItem",function(){return Ms}),r.d(n,"GetCodeName",function(){return Ts}),r.d(n,"GetJSCodeName",function(){return Ss}),r.d(n,"GetModelPropertyChildren",function(){return Ps}),r.d(n,"GetMethodParameters",function(){return As}),r.d(n,"GetNodeById",function(){return Is}),r.d(n,"GetChildComponentAncestors",function(){return Ls}),r.d(n,"GetMethodDefinition",function(){return $s}),r.d(n,"GetMethodFunctionType",function(){return ws}),r.d(n,"GetMethodFunctionValidation",function(){return xs}),r.d(n,"GetPermissionNode",function(){return js}),r.d(n,"GetValidationNode",function(){return Rs}),r.d(n,"GetDataSourceNode",function(){return Ds}),r.d(n,"GetModelItemFilter",function(){return Gs}),r.d(n,"GetPermissionsConditions",function(){return Fs}),r.d(n,"GetValidationsConditions",function(){return Us}),r.d(n,"GetModelItemConditions",function(){return Vs}),r.d(n,"GetConditionSetup",function(){return Bs}),r.d(n,"GetDataChainEntryNodes",function(){return Hs}),r.d(n,"GenerateChainFunction",function(){return qs}),r.d(n,"GenerateSetProcess",function(){return Ws}),r.d(n,"GetSubscribes",function(){return Ys}),r.d(n,"GenerateArgs",function(){return zs}),r.d(n,"GetLastChainLink",function(){return Js}),r.d(n,"GenerateObservable",function(){return Xs}),r.d(n,"GetDataChainArgs",function(){return Ks}),r.d(n,"GenerateChainFunctions",function(){return Qs}),r.d(n,"GetDataChainNext",function(){return Zs}),r.d(n,"GetDataChainNextId",function(){return el}),r.d(n,"GetDataChainParts",function(){return tl}),r.d(n,"GetNodesInGroup",function(){return rl}),r.d(n,"GetDataChainFrom",function(){return nl}),r.d(n,"getGroup",function(){return ol}),r.d(n,"hasGroup",function(){return il}),r.d(n,"IsEndOfDataChain",function(){return al}),r.d(n,"GenerateDataChainMethod",function(){return sl}),r.d(n,"GetPermissionsSortedByAgent",function(){return ll}),r.d(n,"GetValidationsSortedByAgent",function(){return pl}),r.d(n,"GetNodesSortedByAgent",function(){return ul}),r.d(n,"GetArbitersForNodeType",function(){return dl}),r.d(n,"GetAgentNodes",function(){return cl}),r.d(n,"GetUsers",function(){return fl}),r.d(n,"GetArbitersForPermissions",function(){return ml}),r.d(n,"GetArbitersForValidations",function(){return hl}),r.d(n,"GetNameSpace",function(){return yl}),r.d(n,"GetArbiterPropertyDefinitions",function(){return vl}),r.d(n,"GetArbiterPropertyImplementations",function(){return _l}),r.d(n,"GetCombinedCondition",function(){return gl}),r.d(n,"GetConditionsClauses",function(){return bl}),r.d(n,"safeFormatTemplateProperty",function(){return Cl}),r.d(n,"GetConditionClause",function(){return El}),r.d(n,"GetConnectionClause",function(){return Ol}),r.d(n,"GetSelectedConditionSetup",function(){return kl}),r.d(n,"_getPermissionsConditions",function(){return Nl}),r.d(n,"_getValidationConditions",function(){return Ml}),r.d(n,"_getConditions",function(){return Tl}),r.d(n,"GetComponentNodes",function(){return Sl}),r.d(n,"GetComponentNodeProperties",function(){return Pl}),r.d(n,"GetConnectedScreenOptions",function(){return Al}),r.d(n,"GetModelPropertyNodes",function(){return Il}),r.d(n,"GetLogicalChildren",function(){return Ll}),r.d(n,"GetMethodNodeSelectOptions",function(){return $l}),r.d(n,"GetNodeCode",function(){return wl}),r.d(n,"GetMethodPropNode",function(){return xl}),r.d(n,"GetMethodOptions",function(){return jl}),r.d(n,"GetLinkProperty",function(){return Rl}),r.d(n,"GetGroupProperty",function(){return Dl}),r.d(n,"VisualEq",function(){return Gl}),r.d(n,"Node",function(){return Fl}),r.d(n,"ModelNotConnectedToFunction",function(){return Ul}),r.d(n,"Application",function(){return Vl}),r.d(n,"GetVisualGraph",function(){return Bl}),r.d(n,"SaveApplication",function(){return Hl}),r.d(n,"Graphs",function(){return ql}),r.d(n,"SaveGraph",function(){return Wl}),r.d(n,"UIC",function(){return Yl}),r.d(n,"toggleVisual",function(){return zl}),r.d(n,"GUID",function(){return Jl}),r.d(n,"setVisual",function(){return Xl}),r.d(n,"setApplication",function(){return Kl}),r.d(n,"SELECTED_LINK",function(){return Ql}),r.d(n,"HOVERED_LINK",function(){return Zl}),r.d(n,"SELECTED_NODE",function(){return ep}),r.d(n,"CONTEXT_MENU_VISIBLE",function(){return tp}),r.d(n,"CONTEXT_MENU_MODE",function(){return rp}),r.d(n,"SelectedNode",function(){return np}),r.d(n,"toggleDashboardMinMax",function(){return op}),r.d(n,"GetNodeTitle",function(){return ip}),r.d(n,"GetNodes",function(){return ap}),r.d(n,"CanChangeType",function(){return sp}),r.d(n,"GetScreenNodes",function(){return lp}),r.d(n,"GetModelNodes",function(){return pp}),r.d(n,"GetConfigurationNodes",function(){return up}),r.d(n,"GetMaestroNode",function(){return dp}),r.d(n,"GetControllerNode",function(){return cp}),r.d(n,"HasCurrentGraph",function(){return fp}),r.d(n,"NodesByType",function(){return mp}),r.d(n,"GetNodeFromRoot",function(){return hp}),r.d(n,"NodesConnectedTo",function(){return yp}),r.d(n,"GetState",function(){return gp}),r.d(n,"GetDispatchFunc",function(){return bp}),r.d(n,"GetStateFunc",function(){return Cp}),r.d(n,"setTestGetState",function(){return Ep}),r.d(n,"setState",function(){return Op}),r.d(n,"clearPinned",function(){return kp}),r.d(n,"removeCurrentNode",function(){return Np}),r.d(n,"togglePinned",function(){return Mp}),r.d(n,"GetGraphNode",function(){return Tp}),r.d(n,"GetFunctionType",function(){return Sp}),r.d(n,"GetMethodNode",function(){return Pp}),r.d(n,"GetMethodNodeProp",function(){return Ap}),r.d(n,"GetMethodProps",function(){return Ip}),r.d(n,"GetMethodsProperties",function(){return Lp}),r.d(n,"GetMethodsProperty",function(){return $p}),r.d(n,"GetMethodFilterParameters",function(){return wp}),r.d(n,"GetMethodFilterMetaParameters",function(){return xp}),r.d(n,"GetMethodPermissionParameters",function(){return Rp}),r.d(n,"GetMethodValidationParameters",function(){return Dp}),r.d(n,"GetPermissionMethod",function(){return Gp}),r.d(n,"GetNodesMethod",function(){return Fp}),r.d(n,"GetCurrentGraph",function(){return Up}),r.d(n,"GetRootGraph",function(){return Vp}),r.d(n,"GetSubGraphs",function(){return Bp}),r.d(n,"addNewSubGraph",function(){return Hp}),r.d(n,"setRootGraph",function(){return qp}),r.d(n,"setAppsettingsAssemblyPrefixes",function(){return Wp}),r.d(n,"GetCurrentScopedGraph",function(){return Yp}),r.d(n,"SELECTED_TAB",function(){return zp}),r.d(n,"DEFAULT_TAB",function(){return Jp}),r.d(n,"PARAMETER_TAB",function(){return Kp}),r.d(n,"SCOPE_TAB",function(){return Qp}),r.d(n,"QUICK_MENU",function(){return Zp}),r.d(n,"newNode",function(){return eu}),r.d(n,"GetSelectedSubgraph",function(){return tu}),r.d(n,"BuildPackage",function(){return ru}),r.d(n,"UPDATE_GRAPH_TITLE",function(){return nu}),r.d(n,"NEW_NODE",function(){return ou}),r.d(n,"REMOVE_NODE",function(){return iu}),r.d(n,"NEW_LINK",function(){return au}),r.d(n,"CHANGE_NODE_TEXT",function(){return su}),r.d(n,"CURRENT_GRAPH",function(){return lu}),r.d(n,"GRAPH_SCOPE",function(){return pu}),r.d(n,"ADD_DEFAULT_PROPERTIES",function(){return uu}),r.d(n,"CHANGE_NODE_PROPERTY",function(){return du}),r.d(n,"NEW_PROPERTY_NODE",function(){return cu}),r.d(n,"NEW_PERMISSION_NODE",function(){return fu}),r.d(n,"NEW_ATTRIBUTE_NODE",function(){return mu}),r.d(n,"ADD_LINK_BETWEEN_NODES",function(){return hu}),r.d(n,"NEW_CONDITION_NODE",function(){return yu}),r.d(n,"ADD_NEW_NODE",function(){return vu}),r.d(n,"REMOVE_LINK_BETWEEN_NODES",function(){return _u}),r.d(n,"REMOVE_LINK",function(){return gu}),r.d(n,"NEW_CHOICE_ITEM_NODE",function(){return bu}),r.d(n,"NEW_PARAMETER_NODE",function(){return Cu}),r.d(n,"NEW_FUNCTION_OUTPUT_NODE",function(){return Eu}),r.d(n,"NEW_MODEL_ITEM_FILTER",function(){return Ou}),r.d(n,"NEW_AFTER_METHOD",function(){return ku}),r.d(n,"NEW_VALIDATION_ITEM_NODE",function(){return Nu}),r.d(n,"NEW_CHOICE_TYPE",function(){return Mu}),r.d(n,"NEW_VALIDATION_TYPE",function(){return Tu}),r.d(n,"NEW_OPTION_ITEM_NODE",function(){return Su}),r.d(n,"NEW_OPTION_NODE",function(){return Pu}),r.d(n,"NEW_CUSTOM_OPTION",function(){return Au}),r.d(n,"UPDATE_GROUP_PROPERTY",function(){return Iu}),r.d(n,"NEW_DATA_SOURCE",function(){return Lu}),r.d(n,"NEW_COMPONENT_NODE",function(){return $u}),r.d(n,"NEW_PERMISSION_PROPERTY_DEPENDENCY_NODE",function(){return wu}),r.d(n,"NEW_EXTENSION_LIST_NODE",function(){return xu}),r.d(n,"NEW_EXTENTION_NODE",function(){return ju}),r.d(n,"NEW_SCREEN_OPTIONS",function(){return Ru}),r.d(n,"ADD_EXTENSION_DEFINITION_CONFIG_PROPERTY",function(){return Du}),r.d(n,"APPLY_FUNCTION_CONSTRAINTS",function(){return Gu}),r.d(n,"ADD_NEW_REFERENCE_NODE",function(){return Fu}),r.d(n,"SET_DEPTH",function(){return Uu}),r.d(n,"PerformGraphOperation",function(){return Vu}),r.d(n,"executeGraphOperation",function(){return Bu}),r.d(n,"graphOperation",function(){return Hu}),r.d(n,"Colors",function(){return qu});var o={};r.r(o),r.d(o,"openGraph",function(){return dm}),r.d(o,"toggleContextMenu",function(){return cm}),r.d(o,"setRightMenuTab",function(){return _m}),r.d(o,"openRedQuickBuilderGraph",function(){return gm}),r.d(o,"newRedQuickBuilderGraph",function(){return bm}),r.d(o,"newGraph",function(){return Cm}),r.d(o,"RED_QUICK_FILE_EXT",function(){return Em}),r.d(o,"RED_QUICK_FILE_EXT$",function(){return Om}),r.d(o,"saveGraphToFile",function(){return km}),r.d(o,"saveGraph",function(){return Nm}),r.d(o,"setRemoteState",function(){return Sm}),r.d(o,"saveCurrentGraph",function(){return Pm}),r.d(o,"setWorkingDirectory",function(){return Am});var i={};r.r(i),r.d(i,"publishFiles",function(){return wm}),r.d(i,"scaffoldProject",function(){return xm});var a={};r.r(a),r.d(a,"INCREMENT_COUNTER",function(){return iM}),r.d(a,"DECREMENT_COUNTER",function(){return aM}),r.d(a,"increment",function(){return sM}),r.d(a,"decrement",function(){return lM}),r.d(a,"incrementIfOdd",function(){return pM}),r.d(a,"incrementAsync",function(){return uM});var s,l=r("react"),p=r.n(l),u=r("react-dom"),d=r("react-hot-loader"),c=r("react-redux"),f=r("./node_modules/connected-react-router/lib/index.js"),m=r("react-router"),h=r("./app/constants/routes.json");class y extends l.Component{render(){const{children:e}=this.props;return function(e,t,r,n){s||(s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var l=new Array(i),p=0;p<i;p++)l[p]=arguments[p+3];t.children=l}return{$$typeof:s,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(l.Fragment,{},void 0,e)}}r("./node_modules/core-js/modules/web.dom.iterable.js"),r("react-router-dom");var v=r("redux");r("./node_modules/core-js/modules/es6.function.bind.js");function _(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}(e=>{if(!e.relativeCompliment){e.relativeCompliment||Object.defineProperty(e,"relativeCompliment",{enumerable:!1,writable:!0,configurable:!0,value:function(e,t,r){var n=[];t=t||function(e,t){return e===t};for(var o=this.length;o--;)e.some(t.bind(null,this[o]))?r&&r.push(this[o]):n.push(this[o]);return n}})}e.intersection||Object.defineProperty(e,"intersection",{enumerable:!1,writable:!0,configurable:!0,value:function(e,t){var r=[];t=t||function(e,t){return e===t};for(var n=this.length;n--;)for(var o=e.length;o--;)if(t(e[o],this[n])){r.push(this[n]);break}return r}}),e.unique||Object.defineProperty(e,"unique",{enumerable:!1,writable:!0,configurable:!0,value:function(e){var t=[],r=[];e=e||function(e){return e};for(var n=0;n<this.length;n++)-1===t.indexOf(e(this[n]))&&(t.push(e(this[n])),r.push(this[n]));return r}}),e.removeIndices||Object.defineProperty(e,"removeIndices",{enumerable:!1,writable:!0,configurable:!0,value:function(e){e=e.orderBy(function(e,t){return t-e});var t=this;return e.map(function(e){t.splice(e,1)}),t}}),e.interpolate||Object.defineProperty(e,"interpolate",{enumerable:!1,writable:!0,configurable:!0,value:function(e,t,r){r=r||function(e){return e};for(var n=e;n<t;n++)this instanceof Float32Array?this[n-e]=r(n):this.push(r(n,n-e));return this}}),e.orderBy||Object.defineProperty(e,"orderBy",{enumerable:!1,writable:!0,configurable:!0,value:function(e){return this.map(function(e){return e}).sort(e)}}),e.groupBy||Object.defineProperty(e,"groupBy",{enumerable:!1,writable:!0,configurable:!0,value:function(e){for(var t={},r=0;r<this.length;r++){var n=e(this[r]);t[n]=t[n]||[],t[n].push(this[r])}return t}}),e.subset||Object.defineProperty(e,"subset",{enumerable:!1,writable:!0,configurable:!0,value:function(e,t){t=Math.min(this.length,null==t?this.length:t),e=(e=Math.min(this.length,null==e?this.length:e))<0?0:e,t=t<0?0:t;for(var r=this instanceof Float32Array?new Float32Array(t-e):[],n=e;n<t;n++)this instanceof Float32Array?r[n-e]=this[n]:r.push(this[n]);return r}})})(Array.prototype),String.prototype.toJavascriptName=function(){var e=this||"";return e[0]?e[0].toLowerCase()+e.split("").subset(1).join(""):e};Array.prototype.tightenPs=function(){return(this||"").join("\n").split("\n").filter(e=>e.trim()).join("\n")};const g="Remove Validation",b="Remove Execution",C="Select Validation",E="Select Execution",O="Selected Validations",k="Remove",N="Type",M="UI Parameters",T="Navigation",S="Use Https",P="Service Side Setup",A="Add Condition",I="Body",L="As output",$="Add Event ComponentDidMount",w="Graph Properties",x="Component Properties",j="Component API",R="Client Method",D="Layout",G="Node Label",F="Node Type",U="Entry Point",V="Nodes",B="Models",H="Method Name",q="Output Model",W="Add Component",Y="Height",z="Component",J="Add Data Source",X="Component Type",K="Condition Type",Q="Width",Z="Quick Methods",ee="Reference",te="Depth",re="Label",ne="Setup Layout",oe="New",ie="Flex Direction",ae="Set List Item",se="Clear Layout",le="Flex",pe="Service Activity",ue="Code Types",de="Project Name",ce="Project",fe="NameSpace",me="Add Screen Options",he="Pinned",ye="Ctrl + P",ve="Color Scheme",_e="Enable Menu",ge="Screen Options",be="Collapsed",Ce="General Link",Ee="On Load",Oe="Child link",ke="On failure result",Ne="On Action",Me="On Item Selection",Te="On Succesful result",Se="UI Type",Pe="Selected Executions",Ae="Priority",Ie="Agents",Le="Use as top element",$e=" On Change",we="On Press",xe="Select Property",je="Disallowed values",Re="Many 2 Many",De="Many 2 Many Properties",Ge="Function Variables",Fe="Methods",Ue="Allowed values",Ve="Model Actions",Be="Set default properties, on the node",He="Set default props",qe="Add Property",We="Create Object Data Seed",Ye="Permission Dependency Attribute",ze="Key fields, are used as constants through out the app.",Je="Use Enumeration",Xe="Enumeration",Ke="Code User",Qe="Add a property to the model",Ze="Add Attribute",et="Add an attribute to the property",tt="UI Name",rt="The text that will be visible to the client.",nt="UI Singular",ot="Unknown",it="Property value type",at="Property model type",st="Add reference node",lt="Is Reference List",pt="Agent Operator",ut="Enumerable",dt="Value",ct="Application Menu",ft="Code Name",mt="Value Name",ht="Agent Name",yt="File Menu",vt="Code",_t="Main Navigation",gt="Add parameter",bt="Parameters are the required things need for the function to execute successfully",Ct="Add Function Output",Et="Menu",Ot="The output of the function",kt="Agent",Nt="Is Owned By Agents",Mt="That would mean any agent/model could own this object.",Tt="User",St="Parameter Type",Pt="Owned Resources",At="Add after method",It="Adding an after method node, will allow you to append functions to execute after.",Lt="Add model item filter",$t="Add model item filter for get functions",wt="Permissions",xt="Permission Attributes",jt="Check if permissions are for resources owned by source model.",Rt="Permission Actions",Dt="Permission Value Type",Gt={Create:"Create",Get:"Read",GetAll:"Read All",Getall:"Read All",Delete:"Delete",Getbyowner:"Get by owner",Update:"Update"},Ft="Choice types",Ut="Add Choice",Vt="Add choice type",Bt="Permission nodes describe the ability of connected models on downstream models",Ht="Add permission nodes",qt="Select",Wt="Validation Actions",Yt="Add validation item",zt="Add rule to validate user input.",Jt="Use Validation",Xt="Add validation type",Kt="Create a new shared validation list",Qt="Add",Zt="Validation Types",er="Validation Type",tr="Option Actions",rr="Add option",nr="Add a new option item",or="Name",ir="Option Types",ar="Use custom option",sr="Use options",lr="Create a new option list",pr="Add option list description",ur="Depends on",dr="Has dependent property",cr="Use Extensions",fr="Included in list",mr="Is equal",hr="Use equivalancy",yr="Use equal",vr="If value is equal, it will pass",_r="Excluded from list",gr="The agent's id will have to be excluded from the list to be accepted",br="The agent's id will have to be included in the list to be accepted.",Cr="Extension Types",Er="Create an extension list",Or="Extension list customize dropdowns/lists.",kr="Extension List Actions",Nr="Add Extension",Mr="Extension(s)",Tr="Add extension node description",Sr="Extension Definition",Pr="Stitch End",Ar="Extensions",Ir="Extension Config",Lr="Depends On",$r="Use Id",wr="Node Properties",xr="Instance Type",jr="Input",Rr="Property",Dr="Add data chain",Gr="Split data chain",Fr="Merge data chain",Ur="Condition",Vr="Defines if a the property associated with this extension is visually dependent on the value of another property on the same object.",Br="The property that the current property will be associated.",Hr="Matching Value",qr="The value that the associated property will have to equal, to enable the current property",Wr="Function Types",Yr="Functions",zr="Add function",Jr="Maestro Details",Xr="Http Methods",Kr="Add Maestro",Qr="Relative Http Route",Zr="Don't include in controller",en="As Form",tn="Maestros",rn="Save as ...",nn="No api prefix",on="Save",an="Open",sn="Publish Files",ln="Scaffold",pn="Set Working Directory",un="Common Properties",dn="Model Activity Menu",cn="Mind Map",fn="Code View",mn="Parent to",hn="Is parent",yn="Is composite input",vn="Exclude from controller",_n="User Model",gn="Generated Type",bn="Many to many",Cn="Many to many item must exists",En="Many to Many model",On="This property will be a quick access for many to many relationships.",kn="Has logical children",Nn="Logical children types",Mn="Logical niece types",Tn="Children have references to this node, as some sort of logical parent.",Sn="Has logical nieces",Pn="Children have references to this node and others potentially as some sort of logical uncle/aunt. This is for many to many relationships.",An="Use Model as Type",In="Custom Function",Ln="Function can be constructed in an internal graph.",$n="Add New Section",wn="Sections",xn="Adds a new section to the root graph.",jn="Enter sub graph name",Rn="Red Quick Graph",Dn="Red Quick Sub Graph",Gn="Clear Pinned",Fn="Filter";var Un=r("fs"),Vn=r.n(Un);const Bn={Concept:"concept",Model:"model",DataSource:"data-source",Property:"model-property",ModelFilter:"model-filter",ScreenContainer:"screen-container",Screen:"screen",ScreenCollection:"screen-collection",ScreenItem:"screen-item",Attribute:"attribute-property",ChoiceList:"choice-list",Permission:"permission",Configuration:"configuration",PermissionDependency:"permission-dependency",ComponentNode:"component-node",Condition:"condition",ModelItemFilter:"model-item-filter",Enumeration:"enumeration",ValidationList:"validation-list",ValidationListItem:"validation-list-item",Validator:"validator",Executor:"executor",OptionList:"option-list",OptionListItem:"option-list-item",OptionCustom:"option-custom",ScreenOption:"screen-option",ExtensionTypeList:"extension-type-list",ExtensionType:"extension-type",Function:"function",Method:"method",AfterEffect:"after-effect",Action:"action",Parameter:"parameter",FunctionOutput:"function-output",Controller:"controller",Maestro:"maestro",Services:"services",ReferenceNode:"referenceNode",ClassNode:"class-node",DataChain:"data-chain"},Hn={};const qn={[Bn.Condition]:!0,[Bn.ModelItemFilter]:!1},Wn={ChangeParameter:"change-parameter",ChangeResponse:"change-response",Constants:"constants",Validators:"validator-generated",Permissions:"permissions-generated",Executors:"executors",ModelItemFilter:"model-item-filter",ModelReturn:"model-return",ModelGet:"model-get",ModelExceptions:"model-exceptions",StreamProcess:"stream-process",StreamProcessOrchestration:"stream-process-orchestration"},Yn={Screens:"screens",Navigation:"navigation",Keys:"keys",ControllerActions:"controller-actions",Configuration:"configuration",DataChainFunctions:"data-chain"},zn={RedQuickViews:"RedQuickViews"},Jn=["Microsoft.VisualStudio.TestTools.UnitTesting","RedQuick.Storage","RedQuickCore.Worker","Moq","Autofac","RedQuickCore.Worker.Hosts","RedQuick.Configuration","Microsoft.Extensions.Configuration.Json"],Xn=["RedQuick.Data","RedQuick.Attributes","RedQuick.Interfaces","RedQuick.Validation","RedQuickCore.Validation.Rules","RedQuick.Interfaces.Arbiter","RedQuick.Configuration","RedQuick.Util","RedQuick.Interfaces","RedQuick.Interfaces.Data","RedQuick.UI","System","System.Collections","System.Collections.Generic","System.Linq","System.Net","System.Net.Http","System.Threading.Tasks"],Kn={Methods:"Methods",StreamTypes:"StreamType",FunctionName:"FunctionName"},Qn=(Bn.Model,"Error"),Zn={[Bn.ReferenceNode]:!0,[Bn.PermissionDependency]:!0,[Bn.Condition]:!0},eo={[Qn]:"#FF0000",[Bn.Concept]:"#DD4B39",[Bn.ModelItemFilter]:"#4ECDC4",[Bn.Model]:"#713E5A",[Bn.Property]:"#484349",[Bn.Screen]:"#3A405A",[Bn.Attribute]:"#414770",[Bn.ChoiceList]:"#457B9D",[Bn.ValidationList]:"#A8DADC",[Bn.ValidationListItem]:"#EA526F",[Bn.OptionList]:"#2EC4B6",[Bn.OptionListItem]:"#856A5D",[Bn.OptionCustom]:"#403F4C",[Bn.ExtensionTypeList]:"#2C2B3C",[Bn.ExtensionType]:"#1B2432",[Bn.Method]:"#FE5F55",[Bn.Permission]:"#383F51",[Bn.Function]:"#553D36",[Bn.Parameter]:"#684A52",[Bn.FunctionOutput]:"#857885",[Bn.Services]:"#59FFA0",[Bn.ClassNode]:"#C3BAAA",[Bn.Maestro]:"#780116",[Bn.Condition]:"#CAFE48",[Bn.Validator]:"#151522",[Bn.ModelFilter]:"#312313",[Bn.Executor]:"#2176FF",[Bn.ReferenceNode]:"#F7B538",[Bn.ScreenCollection]:"#A9DBB8",[Bn.ScreenItem]:"#020887",[Bn.ScreenContainer]:"#60B2E5",[Bn.ComponentNode]:"#B7245C",[Bn.DataSource]:"#002500",[Bn.Condition]:"#F90093",[Bn.DataChain]:"#FF6B6B"},to={External:"external",Internal:"internal",Core:"core"},ro={IsExternal:"isExternal",FunctionGroup:"FunctionGroup",GroupEntryNode:"GroupEntryNode",GroupExitNode:"GroupExitNode",ExternalExitNode:"ExternalExitNode",ExternalEntryNode:"ExternalEntryNode"},no={Model:".Models",StreamProcess:".ActionStream",Executors:".Executors",Tests:".Tests",Extensions:".Extensions",Controllers:".Controllers",Validations:".Validations",Constants:".Constants",Permissions:".Permissions",Parameters:".Parameters",Interface:".Interface"},oo="MAIN_CONTENT",io="MIND_MAP",ao="CODE_VIEW",so="LAYOUT_VIEW",lo={FirstName:"First Name",LastName:"Last Name",Name:"Name",Date:"Date",Id:"Id",Ids:"Ids",ProfileImage:"Profile Image",LoremIpsum:"Lorem-Ipsum",Guid:"Guid",ListOfGuids:"Guids",Number:"Number"},po={Domain:"Configuration_Domain"},uo={ComponentApi:"component-api",EnabledMenu:"EnabledMenu",ComponentParameters:"ComponentParameters",NavigationParameters:"NavigationParameters",ClientMethod:"ClientMethod",MethodParameters:"MethodParameters",NavigationParametersProperty:"NavigationParametersProperty",MethodParameterProperty:"MethodParameterProperty",ScreenParameters:"ScreenParameters",SelectedLayoutCell:"SelectedLayoutCell",ChainParent:"ChainParent",Navigation:"Navigation",ClientMethodParameters:"ClientMethodParameters",AsOutput:"AsOutput",EntryPoint:"EntryPoint",Property:"Property",DataChainEntry:"DataChainEntry",MergeChain:"MergeChain",ComponentProperties:"ComponentProperties",Layout:"Layout",Domain:"Domain",Priority:"Priority",DataChain:"DataChain",Value:"Value",UIType:"UIType",TextType:"TextType",Enumeration:"Enumeration",ConditionType:"ConditionType",MatchReference:"MatchReference",MatchManyReferenceParameter:"MatchManyReferenceParameter",EnumerationReference:"EnumerationReference",AllowedExtensionValues:"AllowedExtensionValues",ServiceType:"ServiceType",DisallowedExtensionValues:"DisallowedExtensionValues",AllowedEnumValues:"AllowedEnumerationValue",DisallowedEnumValues:"DisallowedEnumValues",Condition:"Condition",ServiceTypeSettings:"ServiceTypeSettings",ValidatorModel:"ValidatorModel",ExecutorAgent:"ExecutorAgent",ExecutorFunction:"ExecutorFunction",ExecutorModel:"ExecutorModel",ExecutorModelOutput:"ExecutorModelOutput",ExecutorFunctionType:"ExecutorFunctionType",ValidatorFunction:"ValidatorFunction",UseEnumeration:"UseEnumeration",NameSpace:"namespace",FilterModel:"filtermodel",FilterAgent:"filteragent",Validator:"Validator",ModelItemFilter:"ModelItemFilter",Executor:"Executor",ValidatorAgent:"ValidatorAgent",Collapsed:"collapsed",UseExtension:"usextension",IncludedInList:"includedInList",Pinned:"Pinned",ExcludedFromList:"excludedInList",UseEqual:"UseEqual",IsEqualTo:"IsEqualTo",CodeUser:"codeUser",HttpRoute:"HttpRoute",HttpMethod:"HttpMethod",ExcludeFromController:"ExcludeFromController",IsAgent:"isAgent",IsCompositeInput:"IsCompositeInput",IsParent:"isParent",IsUser:"IsUser",IsOwnedByAgents:"IsOwnedByAgents",UIUser:"uiUser",IsSharedResource:"isSharedResource",UIPermissions:"uiPermissions",IsOwned:"isOwned",UIName:"uiName",NodePackage:"NodePackage",NodePackageType:"NodePackageType",NodePackageAgent:"NodePackageAgent",UIText:"text",IsReferenceList:"isReferenceList",UseHttps:"UseHttps",UISingular:"uiSingular",UIChoice:"uiChoice",UIChoiceType:"uiChoiceType",UIChoiceNode:"uiChoiceNode",PermissionRequester:"permissions-requester",PermissionManyToMany:"permissions-many-to-many",MatchIds:"matchs-ids",ConnectionExists:"connection-exists",PermissionTarget:"permissions-target",UIDependsOn:"uiDependsOn",UseUIDependsOn:"UseuiDependsOn",UseUIOptions:"UseuiOptions",UIOptionType:"uiOptionType",UseCustomUIOption:"useCustomUIOption",UIOptionTypeCustom:"uiOptionTypeCustom",UIOption:"uiOption",UseUIExtensionList:"UseuiExtensionList",UIExtensionList:"uiExtensionList",UIExtension:"uiExtension",UIExtensionDefinition:"uiExtensionDefinition",Label:"Label",MethodProps:"methodProperties",FilterPropreties:"filterproperties",UIValidationType:"uiValidationType",UseUIValidations:"UseuiValidations",NODEType:"nodeType",ComponentType:"component-type",ReferenceType:"referenceType",ComponentDidMountEvent:"component-did-mount",UIAttributeType:"uiAttributeType",PermissionValueType:"PermissionValueType",UseModelAsType:"useModelAsType",IsDefaultProperty:"isDefaultProperty",HasLogicalChildren:"hasLogicalChildren",LogicalChildrenTypes:"logicalChildrenTypes",HasLogicalNieces:"hasLogicalNieces",LogicalNieceTypes:"logicalNieceTypes",DataGenerationType:"data-generation-type",ManyToManyNexus:"manyToManyNexux",ManyToManyNexusType:"manyToManyNexusType",ManyToManyNexusTypes:"manyToManyNexusTypes",MethodType:"MethodType",ChainNodeInput2:"ChainNodeInput2",ChainNodeInput1:"ChainNodeInput1",UIModelType:"uiModelType",UseScopeGraph:"UseScopeGraph",ScopeGraph:"scopedGraph",DataChainFunctionType:"DataChainFunctionType",AfterMethod:"after-method",AfterMethodSetup:"after-method-setup",Groups:"groups",GroupParent:"groupParent",CodeName:"codeName",ValueName:"valueName",AgentName:"agentName",CodePropertyType:"codeProperty",FunctionType:"functionType",MethodFunctionValidation:"method-function-validation",NotIncludedInController:"not-included-in-controller",PermissionImpl:"permission-implementation",NoApiPrefix:"no-api-prefix",AsForm:"as-form",ClassConstructionInformation:"ClassConstructionInformation"};function co(e){return"string"==typeof e?e.split("").filter(e=>-1!=="abcdefghijklmnopqrstuvwxyzzz1234567890_".indexOf(e.toLowerCase())).join(""):e}const fo={[uo.ServiceType]:[{chainProp:uo.CodeName,chainFunc:co},{chainProp:uo.AgentName,chainFunc:co},{chainProp:uo.ValueName,chainFunc:co},{chainProp:uo.UIName,chainFunc:co},{chainProp:uo.UIText,chainFunc:co}],[uo.UIText]:[{chainProp:uo.CodeName,chainFunc:co},{chainProp:uo.AgentName,chainFunc:co},{chainProp:uo.ValueName,chainFunc:co},{chainProp:uo.HttpRoute,chainFunc:e=>"string"==typeof e?e.split(" ").join("/").toLowerCase():e},{chainProp:uo.UIName,chainFunc:e=>e}]},mo="abcdefghijklmnopqrstuvwxyz",ho=mo+"0123456789"+" ";function yo(e){if(e)return isNaN(e)?(e=(e=`${e}`).split("").filter(e=>-1!==ho.indexOf(e.toLowerCase())).join(""),-1===mo.indexOf(e[0].toLowerCase())&&(e="_"+e),e.split(" ").join("_").toUpperCase()):`"${e}"`;throw"needs to have value"}const vo={Remove:"remove"},_o={Choice:"choice",Executor:"executor",ExecutorItem:"executor-item",ExecutorProperty:"executor-property",ExecutorModel:"executor-model",Condition:"condtion",ModelItemFilter:"model-item-filter",AfterMethod:"after-method",Validation:"validation",ValidationItem:"validation-item",Validator:"validator",ValidatorProperty:"validator-property",ValidatorModel:"validator-model",Configuration:"configuration",ExecutorFunction:"executor-function",ValidatorFunction:"validator-function",ValidatorModelItem:"validator-model-item",ValidatorAgent:"validator-agent",Option:"option",OptionItem:"option-item",OptionCustom:"option-custom",DependsOn:"depends-on",ExtensionList:"extension-list",Extension:"extension",ScreenOptions:"screen-options",ListItem:"list-item",Enumeration:"enumeration",DataSource:"DataSource",Component:"component",DataChainLink:"data-chain-link",ComponentProperty:"component-link",EnumerationReference:"enumeration-reference",LogicalChildren:"logical-children",LogicalNieces:"logical-nieces",ManyToManyLink:"ManyToManyLink",Permission:"permission",AppliedPermissionLink:"applied-permission",RequestorPermissionLink:"request-permission-link",ManyToManyPermissionLink:"many-to-many-permission-link",ExtensionDependencyLink:"extension-dependency-link",FunctionOperator:"function-operator",FunctionLink:"function-link",OnScreenLink:"screen-link",OnSuccessLink:"on-success-link",OnFailureLink:"on-failure-link",OnAction:"on-action",ChildLink:"child-link",OnItemSelection:"on-item-selection",FunctionVariable:"function-variable",PropertyLink:"property-link",ParentLink:"parent-link",FunctionConstraintLink:"function-constraint-link",ErrorLink:"error-link",RequiredClassLink:"required-class-link",ModelTypeLink:"model-type-link",AgentTypeLink:"agent-type-link",UserLink:"user-link",MaestroLink:"maestro-link",AttributeLink:"attribute-link",PermissionFunction:"permission-function",Exist:"exist",PermissionPropertyDependency:"permission-property-dependency",PermissionDependencyProperty:"permission-dependency-property",PermissionDependencyPropertyManyToManyLink:"permission-dependency-property-many-to-many",PermissionPropertyDependencyManyToManyLink:"permission-property-dependency-many-to-many"},go={[_o.FunctionLink]:{type:_o.FunctionLink,stroke:eo[Bn.Function]},[_o.ErrorLink]:{type:_o.ErrorLink,stroke:eo[Qn]},[_o.OnScreenLink]:{type:_o.OnScreenLink,stroke:"#E1CE7A",strokeWidth:5},[_o.OnSuccessLink]:{type:_o.OnSuccessLink,stroke:"#A23B72",strokeWidth:5},[_o.OnFailureLink]:{type:_o.OnFailureLink,stroke:"#3B1F2B",strokeWidth:5},[_o.OnItemSelection]:{type:_o.OnItemSelection,stroke:"#2E86AB",strokeWidth:5},[_o.OnAction]:{type:_o.OnAction,stroke:"#A3320B",strokeWidth:5},[_o.ChildLink]:{type:_o.ChildLink,stroke:"#47A025",strokeWidth:5},[_o.FunctionConstraintLink]:{type:_o.FunctionConstraintLink,stroke:eo[Bn.Function]},[_o.FunctionOperator]:{type:_o.FunctionOperator,stroke:eo[Bn.Function]},[_o.PropertyLink]:{type:_o.PropertyLink,stroke:eo[Bn.Property]},[_o.Choice]:{type:_o.Choice,stroke:eo[Bn.ChoiceList]},[_o.Permission]:{type:_o.Permission,stroke:eo[Bn.Permission]},[_o.AppliedPermissionLink]:{type:_o.AppliedPermissionLink,stroke:eo[Bn.Permission]},[_o.Validation]:{type:_o.Validation,stroke:eo[Bn.ValidationList]},[_o.Validator]:{type:_o.Validator,stroke:eo[Bn.Validator]},[_o.Option]:{type:_o.Option,stroke:eo[Bn.OptionList]},[_o.OptionCustom]:{type:_o.OptionCustom,stroke:eo[Bn.OptionCustom]},[_o.DependsOn]:{type:_o.DependsOn,stroke:eo[Bn.Property]},[_o.ExtensionList]:{type:_o.ExtensionList,stroke:eo[Bn.ExtensionTypeList]},[_o.Extension]:{type:_o.Extension,stroke:eo[Bn.ExtensionType]},[_o.ExtensionDependencyLink]:{type:_o.ExtensionDependencyLink,stroke:eo[Bn.ExtensionTypeList]}},bo={TYPE:"type",CONSTRAINTS:"constraints",VALID_CONSTRAINTS:"valid-constraints",FUNCTION_ID:"function-id"},Co={EnumerationLink:{type:_o.Enumeration},DataSourceLink:{type:_o.DataSource},DataChainLink:{type:_o.DataChainLink},ListItem:{type:_o.ListItem},ComponentLink:{type:_o.Component},ComponentPropertyLink:{type:_o.ComponentProperty},ScreenOptionsLink:{type:_o.ScreenOptions},ModelItemFilter:{type:_o.ModelItemFilter},AfterMethod:{type:_o.AfterMethod},EnumerationReferenceLink:{type:_o.EnumerationReference},ConditionLink:{type:_o.Condition},LogicalChildren:{type:_o.LogicalChildren},LogicalNieces:{type:_o.LogicalNieces},ManyToManyLink:{type:_o.ManyToManyLink},PermissionFunctionLink:{type:_o.PermissionFunction},FunctionVariable:{type:_o.FunctionVariable,[bo.FUNCTION_ID]:null},PermissionDependencyPropertyLink:{type:_o.PermissionDependencyProperty},PermissionDependencyPropertyManyToManyLink:{type:_o.PermissionDependencyPropertyManyToManyLink},PermissionPropertyDependencyLink:{type:_o.PermissionPropertyDependency},PermissionPropertyDependencyManyToManyLink:{type:_o.PermissionPropertyDependencyManyToManyLink},AttributeLink:{type:_o.AttributeLink},ExistLink:{exist:_o.Exist},ModelTypeLink:{type:_o.ModelTypeLink},AgentTypeLink:{type:_o.AgentTypeLink},RequiredClassLink:{type:_o.RequiredClassLink},OnScreenLink:{type:_o.OnScreenLink},OnSuccessLink:{type:_o.OnSuccessLink},OnFailureLink:{type:_o.OnFailureLink},OnItemSelection:{type:_o.OnItemSelection},OnAction:{type:_o.OnAction},ChildLink:{type:_o.ChildLink},FunctionLink:{type:_o.FunctionLink},FunctionOperator:{type:_o.FunctionOperator},FunctionConstraintLink:{type:_o.FunctionConstraintLink},ChoiceLink:{type:_o.Choice},PermissionLink:{type:_o.Permission},AppliedPermissionLink:{type:_o.AppliedPermissionLink},RequestorPermissionLink:{type:_o.RequestorPermissionLink},ManyToManyPermissionLink:{type:_o.ManyToManyPermissionLink},ValdationLink:{type:_o.Validation},ValidationLinkItem:{type:_o.ValidationItem},ValidatorAgentLink:{type:_o.ValidatorAgent},ValidatorModelLink:{type:_o.ValidatorModel},ValidatorModelItemLink:{type:_o.ValidatorModelItem},ValidatorPropertyLink:{type:_o.ValidatorProperty},ExecutorLink:{type:_o.Executor},ExecutorLinkItem:{type:_o.ExecutorItem},ExecutorAgentLink:{type:_o.ValidatorAgent},ExecutorModelLink:{type:_o.ExecutorModel},ExecutorModelItemLink:{type:_o.ValidatorModelItem},ExecutorPropertyLink:{type:_o.ValidatorProperty},ValidatorFunctionLink:{type:_o.ValidatorFunction},ExecutorFunctionLink:{type:_o.ExecutorFunction},OptionLink:{type:_o.Option},OptionItemLink:{type:_o.OptionItem},OptionCustomLink:{type:_o.OptionCustom},DependsOnLink:{type:_o.DependsOn},ExtensionListLink:{type:_o.ExtensionList},ExtensionLink:{type:_o.Extension},ExtensionDependencyLink:{type:_o.ExtensionDependencyLink},PropertyLink:{type:_o.PropertyLink},ParentLink:{type:_o.ParentLink},UserLink:{type:_o.UserLink},MaestroLink:{type:_o.MaestroLink}};Object.keys(Co).map(e=>{Co[e]&&Co[e].type&&(Co[e][Co[e].type]={})});const Eo={Create:"Create",Get:"Get",GetAll:"GetAll",Update:"Update",Delete:"Delete"},Oo={ReactNative:"ReactNative",Web:"Web",VR:"VR",AR:"AR",Desktop:"Desktop"},ko={CVV:"cvv",AlphaNumericLike:"alphanumericlike",AlphaNumericPuncLike:"alphaNumericpunclike",AlphaOnly:"alphaonly",NumericOnly:"numericonly",Numeric:"numeric",Empty:"empty",AlphaOnlyWithSpaces:"alphaonlywithspaces",NotEmpty:"notempty",UrlEmpty:"url_empty",IsTrue:"is_true",IsFalse:"is_false",GreaterThan:"greater_than",GreaterThanOrEqualTo:"greater_than_equal_to",LessThan:"less_than",LessThanOrEqualTo:"less_than_equal_to",EqualTo:"equal_to",Any:"any",Url:"url",EmailEmpty:"email_empty",Credit:"credit",Email:"email",ExpirationMonth:"expirationMonth",BeforeNow:"beforenow",Year:"year",Debit:"debit",ExpirationYear:"expirationYear",PastDate:"pastdate",ZipEmpty:"zipempty",Zip:"zip",SocialSecurity:"socialsecurity",ListOfGuids:"listofguids",OneOf:"one-of"},No={STRING:"STRING",LISTOFSTRINGS:"LISTOFSTRINGS",DATETIME:"DATETIME",INT:"INT",FLOAT:"FLOAT",DOUBLE:"DOUBLE",BOOLEAN:"BOOLEAN",EMAIL:"EMAIL",PHONENUMBER:"PHONENUMBER"},Mo="\n",To={CSHARP:"csharp"},So={[To.CSHARP]:{[No.DATETIME]:"DateTime",[No.STRING]:"string",[No.LISTOFSTRINGS]:"IList<string>",[No.INT]:"int",[No.FLOAT]:"float",[No.DOUBLE]:"double",[No.BOOLEAN]:"bool",[No.EMAIL]:"Email",[No.PHONENUMBER]:"PhoneNumber"}},Po={[To.CSHARP]:{[No.EMAIL]:["RedQuick.Data","RedQuick.Attributes"],[No.PHONENUMBER]:["RedQuick.Data","RedQuick.Attributes"]}},Ao={value:{type:No.DATETIME,nodeType:Bn.Property}},Io={value:{type:No.STRING,nodeType:Bn.Property}},Lo={value:{type:No.LISTOFSTRINGS,nodeType:Bn.Property}};const $o={[ko.ListOfGuids]:{types:[No.LISTOFSTRINGS],vectors:{content:[ko.Any],length:!0},cases:{$true:function(e){return`new List<string> { "${_()}"}`},long:function(){return`new List<string> { "${_()}asdf" }`},$empty:function(){return"new List<string>()"}}},[ko.SocialSecurity]:{types:[No.STRING],vectors:{content:[ko.AlphaNumericPuncLike],length:!0},cases:{$true:function(e){return`"${[].interpolate(0,9,e=>Math.floor(10*Math.random())).join("")}"`},long:function(){return`"${[].interpolate(0,12,e=>Math.floor(10*Math.random())).join("")}"`},short:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("")}"`},invalid:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("a")}"`},empty:function(){return`"${[].interpolate(0,0,e=>Math.floor(10*Math.random())).join("")}"`}}},[ko.Zip]:{types:[No.STRING],vectors:{content:[ko.ZipEmpty],length:!0},cases:{$true:function(e){return`"${[].interpolate(0,5,e=>Math.floor(10*Math.random())).join("")}"`},long:function(){return`"${[].interpolate(0,12,e=>Math.floor(10*Math.random())).join("")}"`},short:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("")}"`},invalid:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("a")}"`},empty:function(){return`"${[].interpolate(0,0,e=>Math.floor(10*Math.random())).join("")}"`}}},[ko.ZipEmpty]:{types:[No.STRING],vectors:{content:!0,length:!0},cases:{$true:function(){return`"${[].interpolate(0,5,e=>Math.floor(10*Math.random())).join("")}"`},long:function(){return`"${[].interpolate(0,12,e=>Math.floor(10*Math.random())).join("")}"`},short:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("")}"`},$empty:function(){return`"${[].interpolate(0,0,e=>Math.floor(10*Math.random())).join("")}"`},invalid:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("a")}"`},invalid2:function(){return`"${[].interpolate(0,5,e=>"a").join("")}"`}}},[ko.PastDate]:{types:[No.DATETIME],vectors:{value:!0},cases:{$true:function(e){return"Date.UtcNow().AddDays(1)"},false:function(){return"Date.UtcNow().AddDays(-1)"}}},[ko.BeforeNow]:{types:[No.STRING],vectors:{value:!0},cases:{$true:function(e){return"Date.UtcNow().AddDays(-1)"},false:function(){return"Date.UtcNow().AddDays(1)"}}},[ko.Email]:{types:[No.STRING],vectors:{content:!0},cases:{$true:function(e){return'"asdf@asdf.com"'},false:function(){return'"asdf@asdfdd@asdf@.com"'},empty:function(){return'""'}}},[ko.EmailEmpty]:{types:[No.STRING],vectors:{content:!0},cases:{$true:function(e){return'"asadf@asdf.com"'},false:function(){return'"asdf@afsdfdd@asdf@.com"'},$empty:function(){return'""'}}},[ko.Credit]:{types:[No.STRING],vectors:{content:!0,length:!0},cases:{$true:function(){return`"${[].interpolate(0,16,e=>Math.floor(10*Math.random())).join("")}"`},long:function(){return`"${[].interpolate(0,23,e=>Math.floor(10*Math.random())).join("")}"`},short:function(){return`"${[].interpolate(0,3,e=>Math.floor(10*Math.random())).join("")}"`},$empty:function(){return`"${[].interpolate(0,0,e=>Math.floor(10*Math.random())).join("")}"`},invalid:function(){return`"${[].interpolate(0,16,e=>Math.floor(10*Math.random())).join("a")}"`},invalid2:function(){return`"${[].interpolate(0,16,e=>"a").join("")}"`}}},[ko.Url]:{types:[No.STRING],vectors:{content:[ko.UrlEmpty]},cases:{$true:function(e){return'"http://yahoo.com"'},false:function(){return'"asdf@afsdfdd@asdf@.com"'},empty:function(){return'""'}}},[ko.UrlEmpty]:{types:[No.STRING],vectors:{content:[ko.Any]},cases:{$true:function(e){return'"http://yahoo.com"'},false:function(){return'"asdf@afsdfdd@asdf@.com"'},$empty:function(){return'""'}}},[ko.Empty]:{types:[No.STRING],vectors:{content:[ko.Any],length:!0},cases:{false:function(){return'"asdf"'},$empty:function(){return'""'}}},[ko.NotEmpty]:{types:[No.STRING],vectors:{content:[ko.Any],length:!0},cases:{$false:function(){return'"asdf"'},empty:function(){return'""'}}},[ko.NumericOnly]:{vectors:{content:[ko.Numeric]},types:[No.STRING],cases:{$true:function(e){return'"1234"'},false:function(){return'"asdf@ afsdfdd@asdf@.com"'},empty:function(){return'""'}}},[ko.Numeric]:{vectors:{content:[ko.AlphaNumericPuncLike]},types:[No.STRING],cases:{$true:function(e){return'"1234.34"'},false:function(){return'"12QW"'},empty:function(){return'""'}}},[ko.AlphaNumericPuncLike]:{vectors:{content:[ko.Any]},types:[No.STRING],cases:{$true:function(e){return'"httas21df.!@#$ #$%^^&*^&*()aom"'},empty:function(){return'""'}}},[ko.AlphaNumericLike]:{vectors:{content:[ko.AlphaNumericPuncLike]},types:[No.STRING],cases:{$true:function(e){return'"httas21dfaom"'},false:function(){return'"asdf@ afsdfdd@asdf@.com"'},$empty:function(){return'""'}}},[ko.AlphaOnly]:{types:[No.STRING],vectors:{content:[ko.AlphaOnlyWithSpaces]},cases:{$true:function(e){return'"httasdfaom"'},false:function(){return'"asdf@ afsdfdd@asdf12f@.com"'},empty:function(){return'""'}}},[ko.AlphaOnlyWithSpaces]:{types:[No.STRING],vectors:{content:[ko.AlphaNumericPuncLike]},cases:{$true:function(e){return'"httas dfaom"'},$false:function(){return'"asdf@ afsdfdd@asdf12f@.com"'},empty:function(){return'""'}}},[ko.IsTrue]:{types:[No.BOOLEAN],vectors:{value:[ko.Any]},cases:{$true:function(){return"true"},false:function(){return"false"}}},[ko.IsFalse]:{types:[No.BOOLEAN],vectors:{value:[ko.Any]},cases:{true:function(){return"true"},$false:function(){return"false"}}},[ko.GreaterThanOrEqualTo]:{types:[No.DOUBLE,No.FLOAT,No.INT],vectors:{value:{[ko.GreaterThan]:function(e,t){},[ko.GreaterThanOrEqualTo]:function(e,t){},[ko.EqualTo]:function(e,t){},[ko.LessThan]:function(e,t){},[ko.LessThanOrEqualTo]:function(e,t){}}},cases:{$greater:function(){return" >= "},notgreater:function(){return" >= "}}},[ko.GreaterThan]:{types:[No.DOUBLE,No.FLOAT,No.INT],vectors:{value:{[ko.GreaterThan]:function(e,t){},[ko.GreaterThanOrEqualTo]:function(e,t){},[ko.EqualTo]:function(e,t){},[ko.LessThan]:function(e,t){},[ko.LessThanOrEqualTo]:function(e,t){}}},cases:{$greater:function(){return" > "},notgreater:function(){return" > "}}},[ko.LessThan]:{types:[No.DOUBLE,No.FLOAT,No.INT],vectors:{value:{[ko.GreaterThan]:function(e,t){},[ko.GreaterThanOrEqualTo]:function(e,t){},[ko.EqualTo]:function(e,t){},[ko.LessThan]:function(e,t){},[ko.LessThanOrEqualTo]:function(e,t){}}},cases:{$less:function(){return" < "},notless:function(){return" < "}}},[ko.EqualTo]:{types:[No.DOUBLE,No.FLOAT,No.INT],vectors:{value:{[ko.GreaterThan]:function(e,t){},[ko.GreaterThanOrEqualTo]:function(e,t){},[ko.EqualTo]:function(e,t){},[ko.LessThan]:function(e,t){},[ko.LessThanOrEqualTo]:function(e,t){}}},cases:{$equal_to:function(){return" = "},not_equal:function(){return" = "}}}};Object.keys($o).map(e=>{$o[e].id=e});const wo={ModelReference:"model-reference",Copy:"copy",AgentReference:"agent-reference",ParentReference:"parent-reference",AddModelReference:"add-model-reference"},xo={[wo.ModelReference]:{code:{[To.CSHARP]:"ModelReference"},arguments:{...Io,nodeType:Bn.Model,reference:{types:[Bn.Model]}}},[wo.AgentReference]:{code:{[To.CSHARP]:"AgentReference"},arguments:{...Io,nodeType:Bn.Model,reference:{types:[Bn.Model]}}},[wo.ParentReference]:{code:{[To.CSHARP]:"ParentReference"},arguments:{...Io,nodeType:Bn.Model,reference:{types:[Bn.Model]}}},[wo.AddModelReference]:{code:{[To.CSHARP]:"AddModelReference"},arguments:{...Lo,nodeType:Bn.Model,method_reference:{reference:!0}}},[wo.Copy]:{code:{[To.CSHARP]:"copy"},arguments:{...Io}}};Object.keys(xo).map(e=>{xo[e].type=e});const jo={EqualsAgent:"equals-agent",EqualsParent:"equals-parent",EqualsTrue:"equals-true",EqualsFalse:"equals-false",EqualsModelRef:"equals-model-ref",EqualsModelProperty:"equals-model-property",IsInModelPropertyCollection:"is-in-model-property-collection",IsNotInModelPropertyCollection:"is-not-in-model-property-collection",Many2ManyPropertyIsTrue:"many-2-many-property-is-true"},Ro={[jo.EqualsTrue]:{code:{[To.CSHARP]:"EqualsTrue"},template:"./app/templates/filter/equals_true.tpl",arguments:{...Io,type:No.BOOLEAN}},[jo.EqualsFalse]:{code:{[To.CSHARP]:"EqualsFalse"},template:"./app/templates/filter/equals_false.tpl",arguments:{...Io,type:No.BOOLEAN}},[jo.EqualsParent]:{code:{[To.CSHARP]:"EqualsParent"},arguments:{...Io,type:No.BOOLEAN}},[jo.EqualsAgent]:{code:{[To.CSHARP]:"EqualsAgent"},arguments:{...Io,type:No.BOOLEAN}},[jo.EqualsModelRef]:{code:{[To.CSHARP]:"EqualsModelRef"},arguments:{...Io,functionvariables:!0}},[jo.EqualsModelProperty]:{code:{[To.CSHARP]:"EqualsModelProperty"},template:"./app/templates/filter/equals-model-property.tpl",arguments:{...Io,modelproperty:!0}},[jo.IsInModelPropertyCollection]:{code:{[To.CSHARP]:"IsInModelPropertyCollection"},template:"./app/templates/filter/is_in_model_property_collection.tpl",arguments:{...Io,modelproperty:!0}},[jo.IsNotInModelPropertyCollection]:{code:{[To.CSHARP]:"IsNotInModelPropertyCollection"},template:"./app/templates/filter/is_not_in_model_property_collection.tpl",arguments:{...Io,modelproperty:!0}},[jo.Many2ManyPropertyIsTrue]:{code:{[To.CSHARP]:"Many2ManyPropertyIsTrue"},template:"./app/templates/filter/many_2_many_property_is_true.tpl",arguments:{...Io,model2modelproperty:!0}},[ko.OneOf]:{code:{[To.CSHARP]:"OneOfAttribute"},template:"./app/templates/filter/one-of.tpl",arguments:{...Io,nodeType:Bn.Enumeration,reference:{types:[Bn.Enumeration,Bn.ExtensionType]}}},[ko.SocialSecurity]:{code:{[To.CSHARP]:"SocialSecurityAttribute"},arguments:{...Io}},[ko.Zip]:{code:{[To.CSHARP]:"ZipAttribute"},arguments:{...Io}},[ko.ZipEmpty]:{code:{[To.CSHARP]:"ZipEmptyAttribute"},arguments:{...Io}},[ko.PastDate]:{code:{[To.CSHARP]:"PastDateAttribute"},arguments:{...Ao}},[ko.BeforeNow]:{code:{[To.CSHARP]:"BeforeNowAttribute"},arguments:{...Ao}},[ko.Email]:{code:{[To.CSHARP]:"EmailAttribute"},arguments:{...Io}},[ko.Credit]:{code:{[To.CSHARP]:"CreditCardAttribute"},arguments:{...Io}},[ko.EmailEmpty]:{code:{[To.CSHARP]:"EmailEmptyAttribute"},arguments:{...Io}},[ko.Url]:{code:{[To.CSHARP]:"UrlAttribute"},arguments:{...Io}},[ko.UrlEmpty]:{code:{[To.CSHARP]:"UrlEmptyAttribute"},arguments:{...Io}},[ko.AlphaNumericLike]:{code:{[To.CSHARP]:"AlphaNumericLikeAttribute"},arguments:{...Io}},[ko.AlphaOnly]:{code:{[To.CSHARP]:"AlphaOnlyAttribute"},arguments:{...Io}},[ko.AlphaOnlyWithSpaces]:{code:{[To.CSHARP]:"NotEmptyAttribute"},arguments:{...Io}}};Object.keys(Ro).map(e=>{Ro[e].type=e});const Do={[ko.OneOf]:{code:{[To.CSHARP]:"OneOfAttribute"},arguments:{...Io,nodeType:Bn.Enumeration,reference:{types:[Bn.Enumeration,Bn.ExtensionType]}}},[ko.SocialSecurity]:{code:{[To.CSHARP]:"SocialSecurityAttribute"},arguments:{...Io}},[ko.Zip]:{code:{[To.CSHARP]:"ZipAttribute"},arguments:{...Io}},[ko.ZipEmpty]:{code:{[To.CSHARP]:"ZipEmptyAttribute"},arguments:{...Io}},[ko.PastDate]:{code:{[To.CSHARP]:"PastDateAttribute"},arguments:{...Ao}},[ko.BeforeNow]:{code:{[To.CSHARP]:"BeforeNowAttribute"},arguments:{...Ao}},[ko.Email]:{code:{[To.CSHARP]:"EmailAttribute"},arguments:{...Io}},[ko.Credit]:{code:{[To.CSHARP]:"CreditCardAttribute"},arguments:{...Io}},[ko.EmailEmpty]:{code:{[To.CSHARP]:"EmailEmptyAttribute"},arguments:{...Io}},[ko.Url]:{code:{[To.CSHARP]:"UrlAttribute"},arguments:{...Io}},[ko.UrlEmpty]:{code:{[To.CSHARP]:"UrlEmptyAttribute"},arguments:{...Io}},[ko.AlphaNumericLike]:{code:{[To.CSHARP]:"AlphaNumericLikeAttribute"},arguments:{...Io}},[ko.AlphaOnly]:{code:{[To.CSHARP]:"AlphaOnlyAttribute"},arguments:{...Io}},[ko.AlphaOnlyWithSpaces]:{code:{[To.CSHARP]:"NotEmptyAttribute"},arguments:{...Io}}};Object.keys(Do).map(e=>{Do[e].type=e});const Go={Create_ManyToMany_Agent_Value__IListChild:"Create/ManyToMany/Agent/Value => IList<Child>",Update_ManyToMany_Agent_Value__IListChild:"Update/ManyToMany/Agent/Value => IList<Child>",Get_ManyToMany_Agent_Value__IListChild:"Get/ManyToMany/Agent/Value => IList<Child>",Delete_ManyToMany_Agent_Value__IListChild:"Delete/ManyToMany/Agent/Value => IList<Child>",Create_Parent$Child_Agent_Value__IListChild:"Create/Parent-Child/Agent/Value => IList<Child>",Update_Parent$Child_Agent_Value__IListChild:"Update/Parent-Child/Agent/Value => IList<Child>",Get_Parent$Child_Agent_Value__IListChild:"Get/Parent-Child/Agent/Value => IList<Child>",Delete_Parent$Child_Agent_Value__IListChild:"Delete/Parent-Child/Agent/Value => IList<Child>",Create_Object_Agent_Value__IListObject:"Create/Object/Agent/Value => IList<Object>",Update_Object_Agent_Value__IListObject:"Update/Object/Agent/Value => IList<Object>",Get_Object_Agent_Value__IListObject:"Get/Object/Agent/Value => IList<Object>",Delete_Object_Agent_Value__IListObject:"Delete/Object/Agent/Value => IList<Object>",Get_Agent_Value__IListObject:"Get/Agent/Value => IList<Object>",Get_Object_Agent_Value__IListObject_By_Specific:"Get/Object/Agent/Value => IList<Object> specific id",Delete_M2M_By_Reference:"Delete M2M by reference => list",Create_Parent_Child_Agent_Value__Child:"Create/Parent-Child/Agent/Value => Child",Update_Parent_Child_Agent_Value__Child:"Update/Parent-Child/Agent/Value => Child",Get_Parent_Child_Agent_Value__Child:"Get/Parent-Child/Agent/Value => Child",Delete_Parent_Child_Agent_Value__Child:"Delete/Parent-Child/Agent/Value => Child",Create_Object_Agent_Value__Object:"Create/Object/Agent/Value => Object",Update_Object_Agent_Value__Object:"Update/Object/Agent/Value => Object",Update_Object_Agent_Value__Object_With_Object:"Update/Object/with/Model/Agent/Value => Object",Get_Object_Agent_Value__Object:"Get/Object/Agent/Value => Object",Delete_Object_Agent_Value__Object:"Delete/Object/Agent/Value => Object",Create_Object_Agent_Many_to_Many_CompositeInput__Object:"Create/Object/Agent/Many to Many with Composite Input => Object",Create_ManyToMany_Object_With_Agent_And_Return_M2M_SET:"Create M2M Object with Agent and Return the updated M2M set",Create_Object__Object:"Create/Object => Object",Update_Object__Object:"Update/Object => Object",Delete_Object__Object:"Delete/Object => Object",Get_Object__Object:"Get/Object => Object",Can_Execute_Agent_Parent_In_Valid_List:"Can_Execute_Agent_Parent_In_Valid_List",Login:"Login",Register:"Register"},Fo={Model:"model",ModelOutput:"model_output",ChangeParameter:"change_parameter",UpdateModel:"model_update",ReferenceClass:"reference_class",Reference:"reference",ModelProperty:"model-property",Bool:"bool",CanExecute:"can-execute",ModelDeterminingProperty:"model-determining-property",AgentDeterminingProperty:"agent-determining-property",Property:"property",Parent:"parent",AgentInstance:"agent_instance",Agent:"agent",Item:"item",AgentProperty:"agent-property",AgentType:"agent_type",User:"user",ConnectionType:"connect_type",ManyToManyModel:"many_to_many",Method:"method",MethodType:"method_type",Permission:"permission",UserInstance:"user_instance",ModelFilter:"model_filter",Value:"value",CompositeInput:"composite-input",CompositeInputProperty:"composite-input-property"},Uo={IsAgent:"isAgent",IsUser:"isUser",IsTypeOf:"isTypeOf",IsParent:"isParent",IsChild:"isChild",IsList:"isList",IsSingleLink:"$single$link",IsModel:"isModel",IsFunction:"isFunction",IsProperty:"isProperty",IsEnumerable:"isEnumerable",IsInstanceVariable:"isInstanceVariable",IsInputVariable:"isInputVariable"},Vo=(Fo.CanExecute,Fo.Parent,Fo.Model,Fo.Model,Fo.ModelDeterminingProperty,Fo.Model,Fo.Parent,Fo.AgentType,Fo.User,Fo.User,Fo.UserInstance,Fo.Model,Fo.Value,Fo.Model,Fo.AgentType,Fo.User,Fo.User,Fo.UserInstance,Fo.Model,Fo.Value,{[Fo.Model]:{key:Fo.Model,nodeTypes:[Bn.Model]},[Fo.ModelOutput]:{key:Fo.ModelOutput,nodeTypes:[Bn.Model]},[Fo.Agent]:{[uo.IsAgent]:!0,key:Fo.Agent,nodeTypes:[Bn.Model]},[Fo.User]:{[uo.IsUser]:!0,key:Fo.User,nodeTypes:[Bn.Model]},[Fo.Permission]:{key:Fo.Permission,nodeTypes:[Bn.Permission]},[Fo.ManyToManyModel]:{[uo.ManyToManyNexus]:!0,key:Fo.ManyToManyModel,nodeTypes:[Bn.Model]},[Fo.ModelFilter]:{key:Fo.ModelFilter,nodeTypes:[Bn.ModelFilter]}}),Bo={[Fo.Model]:{key:Fo.Model,nodeTypes:[Bn.Model]},[Fo.CompositeInput]:{key:Fo.CompositeInput,nodeTypes:[Bn.Model]},[Fo.Agent]:{[uo.IsAgent]:!0,key:Fo.Agent,nodeTypes:[Bn.Model]},[Fo.User]:{[uo.IsUser]:!0,key:Fo.User,nodeTypes:[Bn.Model]},[Fo.Permission]:{key:Fo.Permission,nodeTypes:[Bn.Permission]},[Fo.ModelFilter]:{key:Fo.ModelFilter,nodeTypes:[Bn.ModelFilter]}},Ho="Execute stream process",qo="Execute stream process update",Wo={["Generate Many 2 Many from result and input"]:{template:"./app/templates/aftereffects/generate_m2m_from_result_and_input.tpl",template_call:"                    await {{function_name}}(agent, data, result);",templateKeys:{[Fo.Model]:{key:Fo.Model,nodeTypes:[Bn.Model]},[Fo.CompositeInput]:{key:Fo.CompositeInput,nodeTypes:[Bn.Model]},[Fo.CompositeInputProperty]:{key:Fo.CompositeInputProperty,nodeTypes:[Bn.Property],parent:Fo.CompositeInput},[Fo.Agent]:{[uo.IsAgent]:!0,key:Fo.Agent,nodeTypes:[Bn.Model]},[Fo.ManyToManyModel]:{key:Fo.ManyToManyModel,nodeTypes:[Bn.Model]}}},[Ho]:{template:"./app/templates/aftereffects/execute_stream_process.tpl",template_call:"                    await {{function_name}}(agent, result);",update_with:"./app/templates/standard/update_model_property.tpl",stream_process_change_parameter:"./app/templates/stream_process/stream_process_change_class_extension_update_by_model.tpl",templateKeys:{[Fo.Model]:{key:Fo.Model,nodeTypes:[Bn.Model]},[Fo.ModelOutput]:{key:Fo.ModelOutput,nodeTypes:[Bn.Model]},[Fo.Agent]:{[uo.IsAgent]:!0,key:Fo.Agent,nodeTypes:[Bn.Model]},[Fo.ManyToManyModel]:{key:Fo.ManyToManyModel,nodeTypes:[Bn.Model]},[Fo.Method]:{key:Fo.Method,useNodes:!0,nodeTypes:[Bn.Method]},[Fo.MethodType]:{key:Fo.MethodType,useMethodTypes:!0}}},[qo]:{template:"./app/templates/aftereffects/execute_stream_process_update.tpl",template_call:"\n            var reference = {{reference}};\n            var model = result;\n            await {{function_name}}(agent, reference, model);",stream_process_change_parameter:"./app/templates/stream_process/stream_process_change_class_extension_update_by_model.tpl",update_with:"./app/templates/standard/update_model_property.tpl",templateKeys:{[Fo.Model]:{key:Fo.Model,nodeTypes:[Bn.Model]},[Fo.ModelOutput]:{key:Fo.ModelOutput,nodeTypes:[Bn.Model]},[Fo.UpdateModel]:{key:Fo.UpdateModel,nodeTypes:[Bn.Model]},[Fo.ReferenceClass]:{key:Fo.ReferenceClass,nodeTypes:[Bn.Model]},[Fo.Reference]:{key:Fo.Reference,nodeTypes:[Bn.Model],useString:["agent","result","newData","data"].map(e=>`#${e}`)},[Fo.Agent]:{[uo.IsAgent]:!0,key:Fo.Agent,nodeTypes:[Bn.Model]},[Fo.ManyToManyModel]:{key:Fo.ManyToManyModel,nodeTypes:[Bn.Model]},[Fo.Method]:{key:Fo.Method,useNodes:!0,nodeTypes:[Bn.Method]},[Fo.MethodType]:{key:Fo.MethodType,useMethodTypes:!0}}}},Yo={[Fo.User]:{[uo.IsUser]:!0,key:Fo.User,nodeTypes:[Bn.Model]},[Fo.Model]:{key:Fo.Model,nodeTypes:[Bn.Model]},[Fo.Agent]:{[uo.IsAgent]:!0,key:Fo.Agent,nodeTypes:[Bn.Model]},[Fo.Permission]:{key:Fo.Permission,nodeTypes:[Bn.Permission]},[Fo.ModelFilter]:{key:Fo.ModelFilter,nodeTypes:[Bn.ModelFilter]}},zo={[Fo.Model]:{key:Fo.Model,nodeTypes:[Bn.Model]},[Fo.ModelOutput]:{key:Fo.ModelOutput,nodeTypes:[Bn.Model]},[Fo.Agent]:{[uo.IsAgent]:!0,key:Fo.Agent,nodeTypes:[Bn.Model]},[Fo.User]:{[uo.IsUser]:!0,key:Fo.User,nodeTypes:[Bn.Model]},[Fo.Permission]:{key:Fo.Permission,nodeTypes:[Bn.Permission]},[Fo.ManyToManyModel]:{[uo.ManyToManyNexus]:!0,key:Fo.ManyToManyModel,nodeTypes:[Bn.Model]},[Fo.ModelFilter]:{key:Fo.ModelFilter,nodeTypes:[Bn.ModelFilter]}},Jo={[Fo.Model]:{key:Fo.Model,nodeTypes:[Bn.Model]},[Fo.ModelOutput]:{key:Fo.ModelOutput,nodeTypes:[Bn.Model]},[Fo.Agent]:{[uo.IsAgent]:!0,key:Fo.Agent,nodeTypes:[Bn.Model]},[Fo.User]:{[uo.IsUser]:!0,key:Fo.User,nodeTypes:[Bn.Model]},[Fo.ConnectionType]:{[uo.ManyToManyNexus]:!0,key:Fo.ConnectionType,nodeTypes:[Bn.Model]},[Fo.Permission]:{key:Fo.Permission,nodeTypes:[Bn.Permission]},[Fo.ModelFilter]:{key:Fo.ModelFilter,nodeTypes:[Bn.ModelFilter]}},Xo={[Uo.IsTypeOf]:Fo.Model,[Uo.IsList]:!0},Ko={[Uo.IsTypeOf]:Fo.Model,[Uo.IsList]:!1},Qo={[Uo.IsTypeOf]:Fo.Bool},Zo={METHODS:"methods",PARAMETERS:"parameters",PARAMETERSCLASS:"Parameters",CHANGECLASS:"Change",RESPONSECLASS:"Response",STREAMPROCESS:"StreamProcess",DETERMINING_PROPERTY:"determining_property",PARENTS_ID_PROPERTY:"parentIdProperty",MODEL:"model",CONSTRUCTORS:"constructors",TEMPLATE:"template",INTERFACE:"interface",PARENT:"parent",PROPERTY:"property",METHOD:{CREATE:"Create",UPDATE:"Update",PROCESS:"Process"}},ei={CLASSES:"classes"},ti={[ei.CLASSES]:{[Zo.PARAMETERSCLASS]:{[Zo.TEMPLATE]:Vn.a.readFileSync("./app/templates/stream_process/stream_process_parameter_class.tpl","utf8"),[Zo.CONSTRUCTORS]:Vn.a.readFileSync("./app/templates/stream_process/stream_process_parameter_class.tpl","utf8"),[Zo.MODEL]:Fo.Model,[Zo.METHODS]:{[Zo.METHOD.CREATE]:{[Zo.PARAMETERS]:[Fo.AgentType,Fo.Model]},[Zo.METHOD.UPDATE]:{[Zo.PARAMETERS]:[Fo.AgentType,Fo.Model]}}},[Zo.CHANGECLASS]:{[Zo.TEMPLATE]:Vn.a.readFileSync("./app/templates/stream_process/stream_process_change_class.tpl","utf8"),[Zo.CONSTRUCTORS]:Vn.a.readFileSync("./app/templates/stream_process/stream_process_change_class.tpl","utf8"),[Zo.MODEL]:Fo.Model,[Zo.METHODS]:{[Zo.METHOD.CREATE]:{[Zo.PARAMETERS]:[Zo.PARAMETERSCLASS]}}},[Zo.RESPONSECLASS]:{[Zo.MODEL]:Fo.Model,[Zo.METHODS]:{[Zo.METHOD.CREATE]:{[Zo.PARAMETERS]:[Zo.PARAMETERSCLASS]}}}},attachment_methods:{[Zo.STREAMPROCESS]:{[Zo.MODEL]:Fo.Model,[Zo.METHODS]:{[Zo.METHOD.PROCESS]:{[Zo.PARAMETERS]:[Zo.CHANGECLASS]}}}},propreties:{[Zo.DETERMINING_PROPERTY]:{[Zo.MODEL]:Fo.Model,[Zo.PROPERTY]:Fo.Property}}};function ri(e){return`I${e}`}const ni={POST:"HttpPost",GET:"HttpGet",DELETE:"HttpDelete",PATCH:"HttpPatch"},oi={model:"model",function_name:"function_name",user:"user",user_instance:"user_instance",value:"value",agent:"agent",agent_type:"agent_type"},ii={implementation:"./app/templates/permissions/permission_method.tpl",interface_:"./app/templates/permissions/permission_method_interface.tpl",params:[Fo.Model,Fo.Agent]},ai={implementation:"./app/templates/validation/validation_method.tpl",interface_:"./app/templates/validation/validation_method_interface.tpl",params:[Fo.Model,Fo.Agent,{key:Fo.ChangeParameter,changeparameter:!0,template:`{{${Fo.Model}}}ChangeBy{{${Fo.Agent}}}`}]},si={implementation:"./app/templates/filter/filter_method.tpl",interface_:"./app/templates/filter/filter_method_interface.tpl",params:[Fo.Model,Fo.Agent,{key:Fo.ModelOutput,metaparameter:!0}]},li={[Go.Create_Object__Object]:{title:"Create Object => Object",template:Vn.a.readFileSync("./app/templates/standard/create_model_agent_object.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/standard/create_model_agent_object_interface.tpl","utf8"),templates:{},permission:{...ii},constraints:{...Yo},output:{...Ko},isList:!1,method:Eo.Create,template_keys:{...oi}},[Go.Create_ManyToMany_Object_With_Agent_And_Return_M2M_SET]:{title:Go.Create_ManyToMany_Object_With_Agent_And_Return_M2M_SET,template:Vn.a.readFileSync("./app/templates/standard/many_2_many/create_with_agent_and_return_m2m_set.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/standard/many_2_many/create_with_agent_and_return_m2m_set_interface.tpl","utf8"),filter:{params:[Fo.Model,Fo.Agent]},permission:{...ii},constraints:{...Yo},output:{...Ko},isList:!0,method:Eo.Create,template_keys:{...oi}},[Go.Create_Object_Agent_Many_to_Many_CompositeInput__Object]:{title:"Create Object by Agent M2M with Composite Input",template:Vn.a.readFileSync("./app/templates/standard/create_object_agent_many_to_many_compositeinput.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/standard/create_object_agent_many_to_many_compositeinput_interface.tpl","utf8"),permission:{implementation:"./app/templates/permissions/permission_method.tpl",interface_:"./app/templates/permissions/permission_method_interface.tpl",params:[Fo.CompositeInput,Fo.Agent]},validation:{...ai,asModel:Fo.CompositeInput,params:[Fo.CompositeInput,Fo.Agent,{key:Fo.ChangeParameter,changeparameter:!0,template:`{{${Fo.CompositeInput}}}ChangeBy{{${Fo.Agent}}}`}]},constraints:{...Bo},output:{...Ko},ok:!0,isList:!1,method:Eo.Create,template_keys:{...oi}},[Go.Create_Object_Agent_Value__IListObject]:{title:"Create Object by Agent => IList<Object>",template:Vn.a.readFileSync("./app/templates/standard/create_model_agent_listobject.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/standard/create_model_agent_listobject_interface.tpl","utf8"),constraints:{[Fo.Model]:{key:Fo.Model,nodeTypes:[Bn.Model]},[Fo.ModelOutput]:{key:Fo.ModelOutput,nodeTypes:[Bn.Model]},[Fo.Agent]:{[uo.IsAgent]:!0,key:Fo.Agent,nodeTypes:[Bn.Model]},[Fo.User]:{[uo.IsUser]:!0,key:Fo.User,nodeTypes:[Bn.Model]},[Fo.Permission]:{key:Fo.Permission,nodeTypes:[Bn.Permission]},[Fo.ModelFilter]:{key:Fo.ModelFilter,nodeTypes:[Bn.ModelFilter]}},output:{...Xo},isList:!0,method:Eo.Create,template_keys:{...oi}},[Go.Update_Object_Agent_Value__IListObject]:{title:"Update Object by Agent => IList<Object>",template:Vn.a.readFileSync("./app/templates/standard/update_model_agent_listobject.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/standard/update_model_agent_listobject_interface.tpl","utf8"),permission:{...ii},constraints:{...Vo},output:{...Xo},isList:!0,method:Eo.Update,template_keys:{...oi}},[Go.Update_Object_Agent_Value__Object]:{title:"Update Object by Agent",template:Vn.a.readFileSync("./app/templates/standard/update_model_agent_object.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/standard/update_model_agent_object_interface.tpl","utf8"),permission:{...ii},constraints:{...Vo},output:{...Ko},isList:!1,method:Eo.Update,template_keys:{...oi}},[Go.Update_Object_Agent_Value__Object_With_Object]:{title:"Update Object by Agent with object",template:Vn.a.readFileSync("./app/templates/standard/update_model_agent_object_with_model.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/standard/update_model_agent_object_with_model_interface.tpl","utf8"),permission:{...ii,params:[Fo.Model,Fo.Agent,Fo.UpdateModel]},templates:{},constraints:{...Vo,[Fo.UpdateModel]:{key:Fo.UpdateModel,nodeTypes:[Bn.Model]}},output:{...Ko},isList:!1,method:Eo.Update,template_keys:{...oi}},[Go.Delete_Object_Agent_Value__IListObject]:{title:"Delete Object by Agent => IList<Object>",template:Vn.a.readFileSync("./app/templates/standard/delete_model_agent_listobject.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/standard/delete_model_agent_listobject_interface.tpl","utf8"),permission:{...ii},constraints:{...Vo},output:{...Xo},isList:!0,method:Eo.Delete,template_keys:{...oi}},[Go.Delete_M2M_By_Reference]:{title:Go.Delete_M2M_By_Reference,template:Vn.a.readFileSync("./app/templates/standard/delete_m2m_by_reference.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/standard/delete_m2m_by_reference_interface.tpl","utf8"),test:Vn.a.readFileSync("./app/templates/standard/delete_m2m_by_reference_test.tpl","utf8"),controller:Vn.a.readFileSync("./app/templates/standard/delete_m2m_by_reference_controller.tpl","utf8"),filter:{params:[Fo.Model,Fo.Agent,{key:Fo.ModelOutput,metaparameter:!0}]},permission:{...ii},constraints:{...Vo},output:{...Xo},isList:!0,method:Eo.Delete,template_keys:{...oi}},[Go.Get_Object_Agent_Value__IListObject]:{title:"Get Object by Agent => IList<Object>",template:Vn.a.readFileSync("./app/templates/standard/get_model_agent_listobject.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/standard/get_model_agent_listobject_interface.tpl","utf8"),permission:{...ii},constraints:{...Vo},output:{...Xo},isList:!0,method:Eo.GetAll,template_keys:{...oi}},[Go.Get_Agent_Value__IListObject]:{title:"Get Objects for an Agent",template:Vn.a.readFileSync("./app/templates/standard/get_agent_listobject.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/standard/get_agent_listobject_interface.tpl","utf8"),controller:Vn.a.readFileSync("./app/templates/standard/get_agent_listobjects_controller.tpl","utf8"),permission:{...ii,params:[Fo.Agent]},filter:{...si,params:[Fo.Agent,{key:Fo.ModelOutput,metaparameter:!0}]},constraints:{...Vo},output:{...Xo},isList:!0,method:Eo.GetAll,template_keys:{...oi}},[Go.Login]:{title:"Login",constraints:{...Vo},output:{...Xo},parameters:{body:{},parameters:!1},isList:!1,method:Eo.Create,template_keys:{...oi}},[Go.Register]:{title:"Register",constraints:{...Vo},output:{...Xo},parameters:{body:{},parameters:!1},isList:!1,method:Eo.Create,template_keys:{...oi}},[Go.Create_Parent$Child_Agent_Value__IListChild]:{title:"Create Parent/Child => IList<Child>",template:Vn.a.readFileSync("./app/templates/create_agent_childparent_listchild.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/create_agent_childparent_listchild_interface.tpl","utf8"),permission:{...ii},constraints:{...zo},output:{...Xo},isList:!0,method:Eo.Create,...ti,template_keys:{...oi}},[Go.Update_Parent$Child_Agent_Value__IListChild]:{title:"Update Parent/Child => IList<Child>",template:Vn.a.readFileSync("./app/templates/update_agent_childparent_listchild.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/update_agent_childparent_listchild_interface.tpl","utf8"),permission:{...ii},constraints:{...zo},output:{...Xo},isList:!0,method:Eo.Update,...ti,template_keys:{...oi}},[Go.Get_Parent$Child_Agent_Value__IListChild]:{title:"Get Parent/Child => IList<Child>",template:Vn.a.readFileSync("./app/templates/get_agent_childparent_listchild.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/get_agent_childparent_listchild_interface.tpl","utf8"),permission:{...ii,params:[Fo.Parent,Fo.Agent]},filter:{...si,params:[Fo.Parent,Fo.Agent,{key:Fo.ModelOutput,metaparameter:!0}]},constraints:{[Fo.Model]:{key:Fo.Model,nodeTypes:[Bn.Model]},[Fo.ModelOutput]:{key:Fo.ModelOutput,nodeTypes:[Bn.Model]},[Fo.Parent]:{key:Fo.Parent,nodeTypes:[Bn.Model]},[Fo.ManyToManyModel]:{[uo.ManyToManyNexus]:!0,key:Fo.ManyToManyModel,nodeTypes:[Bn.Model]},[Fo.Agent]:{[uo.IsAgent]:!0,key:Fo.Agent,nodeTypes:[Bn.Model]},[Fo.User]:{[uo.IsUser]:!0,key:Fo.User,nodeTypes:[Bn.Model]},[Fo.Permission]:{key:Fo.Permission,nodeTypes:[Bn.Permission]},[Fo.ModelFilter]:{key:Fo.ModelFilter,nodeTypes:[Bn.ModelFilter]}},output:{...Xo},isList:!0,parentGet:!0,method:Eo.GetAll,...ti,template_keys:{...oi}},[Go.Get_Object_Agent_Value__IListObject_By_Specific]:{title:"Get Specific Items",template:Vn.a.readFileSync("./app/templates/standard/get_model_agent_listobject_specific.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/standard/get_model_agent_listobject_specific_interface.tpl","utf8"),controller:Vn.a.readFileSync("./app/templates/standard/get_model_agent_listobject_specific_controller.tpl","utf8"),permission:{...ii,params:[Fo.Agent]},filter:{...si,params:[Fo.Agent,{key:Fo.ModelOutput,metaparameter:!0}]},constraints:{[Fo.Model]:{key:Fo.Model,nodeTypes:[Bn.Model]},[Fo.ModelOutput]:{key:Fo.ModelOutput,nodeTypes:[Bn.Model]},[Fo.Agent]:{[uo.IsAgent]:!0,key:Fo.Agent,nodeTypes:[Bn.Model]},[Fo.User]:{[uo.IsUser]:!0,key:Fo.User,nodeTypes:[Bn.Model]},[Fo.Permission]:{key:Fo.Permission,nodeTypes:[Bn.Permission]},[Fo.ModelFilter]:{key:Fo.ModelFilter,nodeTypes:[Bn.ModelFilter]}},output:{...Xo},isList:!0,method:Eo.GetAll,...ti,template_keys:{...oi}},[Go.Get_Object_Agent_Value__Object]:{title:"Get Object by Agent",template:Vn.a.readFileSync("./app/templates/standard/get_model_agent_object.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/standard/get_model_agent_object_interface.tpl","utf8"),permission:{...ii},constraints:{[Fo.Model]:{key:Fo.Model,nodeTypes:[Bn.Model]},[Fo.Agent]:{[uo.IsAgent]:!0,key:Fo.Agent,nodeTypes:[Bn.Model]},[Fo.User]:{[uo.IsUser]:!0,key:Fo.User,nodeTypes:[Bn.Model]},[Fo.Permission]:{key:Fo.Permission,nodeTypes:[Bn.Permission]},[Fo.ModelFilter]:{key:Fo.ModelFilter,nodeTypes:[Bn.ModelFilter]}},output:{...Ko},isList:!1,method:Eo.Get,template_keys:{...oi}},[Go.Get_ManyToMany_Agent_Value__IListChild]:{title:"Get Many to Many => IList<Child>",template:Vn.a.readFileSync("./app/templates/standard/get_agent_manytomany_listchild.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/standard/get_agent_manytomany_listchild_interface.tpl","utf8"),filter:{...si,params:[Fo.Model,Fo.Agent,{key:Fo.ConnectionType,metaparameter:!0}]},constraints:{...Jo},output:{...Xo},parentGet:!0,isList:!0,method:Eo.GetAll,template_keys:{...oi}},[Go.Create_ManyToMany_Agent_Value__IListChild]:{title:"Create Many to Many => IList<Child>",template:Vn.a.readFileSync("./app/templates/standard/create_agent_manytomany_listchild.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/standard/create_agent_manytomany_listchild_interface.tpl","utf8"),permission:{...ii},constraints:{...Jo},output:{...Xo},isList:!0,method:Eo.Create,...ti,template_keys:{...oi}},[Go.Update_ManyToMany_Agent_Value__IListChild]:{title:"Update Many to Many => IList<Child>",template:Vn.a.readFileSync("./app/templates/standard/update_agent_manytomany_listchild.tpl","utf8"),interface:Vn.a.readFileSync("./app/templates/standard/update_agent_manytomany_listchild_interface.tpl","utf8"),permission:{...ii},constraints:{...Jo},output:{...Xo},isList:!0,method:Eo.Update,...ti,template_keys:{...oi}},[Go.Can_Execute_Agent_Parent_In_Valid_List]:{title:"Can Execute Agent Parent In Valid List",template:Vn.a.readFileSync("./app/templates/can_execute/can_execute_childparent_valid_list.tpl","utf8"),permission:{...ii},constraints:{[Fo.AgentType]:{[Uo.IsAgent]:!0,[Uo.IsSingleLink]:!0,[Uo.IsModel]:!0,key:Fo.AgentType},[Fo.AgentDeterminingProperty]:{[Uo.IsChild]:Fo.AgentType,[Uo.IsSingleLink]:!0,[Uo.IsProperty]:!0,key:Fo.AgentDeterminingProperty},[Fo.Model]:{[Uo.IsSingleLink]:!0,[Uo.IsModel]:!0,key:Fo.Model},[Fo.ModelDeterminingProperty]:{[Uo.IsChild]:Fo.Model,[Uo.IsSingleLink]:!0,[Uo.IsProperty]:!0,[Uo.IsEnumerable]:!0,key:Fo.ModelDeterminingProperty},[Fo.AgentInstance]:{[Uo.IsTypeOf]:Fo.AgentType,[Uo.IsSingleLink]:!0,key:Fo.AgentInstance,[Uo.IsInstanceVariable]:!0,[Uo.IsInputVariable]:!0},[Fo.Value]:{[Uo.IsTypeOf]:Fo.Model,[Uo.IsSingleLink]:!0,key:Fo.Value,[Uo.IsInstanceVariable]:!0,[Uo.IsInputVariable]:!0}},output:{...Qo},[ei.CLASSES]:{},attachment_methods:{},propreties:{},template_keys:{...oi}}};Object.values(li).map(e=>{e&&!e.permission&&(e.permission={...ii},e.permission.usingDefault=!0),e&&!e.validation&&(e.validation={...ai}),e&&!e.filter&&(e.filter={...si})});const pi={stream_process_change_parameter:"stream_process_change_parameter",update_with:"update_with"},ui={InEnumerable:"in-enumeration",InExtension:"in-extension",MatchReference:"match-reference",MatchManyReferenceParameter:"match-many-reference-parameter"},di={RefManyToMany:"refManyToMany",RefManyToManyProperty:"refManyToManyProperty",Ref1:"ref1",Ref2:"ref2",Ref1UseId:"ref1UseId",Ref2UseId:"ref2UseId",Ref1Property:"ref1Property",Ref2Property:"ref2Property"},ci={IsFalse:"is-false",IsTrue:"is-true"},fi={[ui.MatchReference]:{},[ui.MatchManyReferenceParameter]:{},[ui.InEnumerable]:{}};Object.keys(li).map(e=>{li[e].constraints&&(fi[ui.MatchReference].functions=fi[ui.MatchReference].functions||{},fi[ui.MatchReference].functions[e]={constraints:{...li[e].constraints}},fi[ui.MatchManyReferenceParameter].functions=fi[ui.MatchManyReferenceParameter].functions||{},fi[ui.MatchManyReferenceParameter].functions[e]={constraints:{...li[e].constraints}},fi[ui.InEnumerable].functions=fi[ui.InEnumerable].functions||{},fi[ui.InEnumerable].functions[e]={constraints:{...li[e].constraints}})});function mi(e,t){var r=new RegExp("({{)[A-Za-z0-9_.@ ,'|]*(}})","g").test(e);if(Object.keys(t).map(e=>{t[e+"#lower"]||(t[e+"#lower"]=`${t[e]}`.toLowerCase())}),r)for(var n in t){var o=new RegExp("({{)"+n+"(}})","g"),i=t[n];e=e.replace(o,null==i?"":i)}return e}r("util");var hi=r("os");function yi(){return{id:_(),version:{major:0,minor:0,build:0},workspace:"",title:Rn,path:[],namespace:"",groups:[],groupLib:{},groupsNodes:{},nodesGroups:{},childGroups:{},parentGroup:{},referenceNodes:{},nodeLib:{},nodes:[],nodeLinks:{},nodeConnections:{},linkLib:{},links:[],graphs:{},classNodes:{},functionNodes:{},updated:null,visibleNodes:{},appConfig:{Logging:{IncludeScopes:!1,LogLevel:{Default:"Debug",System:"Information",Microsoft:"Information"}},AppSettings:{"Local-AuthorizationKey":"C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==","Local-EndPointUrl":"https://localhost:8081",use_local:"true",EndPointUrl:"",AuthorizationKey:"",DatabaseId:"red-db-001",AssemblyPrefixes:"Smash;RedQuick","Use-SingleCollection":"true","storage-key":"UseDevelopmentStorage=true","single-thread":!0,ConfirmEmailController:"Account",ConfirmEmailAction:"ConfirmEmail",HomeAction:"Index",HomeController:"Home",ResetPasswordAction:"ResetPassword",ResetPasswordController:"Account",SecurityKey:"ajskdflajsdfklas20klasdkfj9laksdjfl4aksdjf3kanvdlnaekf",Domain:"https://localhost:13424",TokenExpirationInMinutes:"250",DomainPort:"13424"}}}}const vi={NAMESPACE:"namespace",PROJECTNAME:"project_name",COLORSCHEME:"color_scheme",SERVER_SIDE_SETUP:"server_side_setup"};function _i(e,t){if(t&&t[e])return t[e];{let r;return Object.keys(t).find(n=>!!t[n]&&(r=_i(e,t[n]))),r}}const gi={style:{display:"flex",flex:1,height:"100%",borderStyle:"solid",borderWidth:1},children:{}};function bi(e,t){var{properties:r}=e;return r[t]}function Ci(e,t){if(e&&e.layout){let r=function e(t,r,n){if(r[t])return r||n;{let n;return Object.keys(r).find(o=>n=e(t,r[o],r)),n}}(t,e.layout);if(r){(function e(t){var r=Object.keys(t||{});return r.map(n=>{let o=e(t[n]);r=[...r,...o]}),r})(r[t]).map(t=>{delete e.properties[t]}),delete r[t],delete e.properties[t]}}return e}function Ei(e){return e.version.build++,e}function Oi(e){return e.version.minor++,e.version.build=0,e}function ki(e){return e&&e.title||""}function Ni(e,t){var{scope:r}=t;return r&&r.length&&(console.log(r),r.map((t,r)=>{e=e.graphs[t]})),e}function Mi(e,t){let r=Ua(),n=Vi(e,r);return t&&t(r),n}function Ti(e,t){var{leaf:r,id:n}=t;let o=e.groupLib[n].leaves||[];return o=[...o,r].unique(e=>e),e.groupsNodes[n]=e.groupsNodes[n]||{},e.groupsNodes[n][r]=!0,e.groupsNodes={...e.groupsNodes},e.nodesGroups[r]=e.nodesGroups[r]||{},e.nodesGroups[r][n]=!0,e.nodesGroups={...e.nodesGroups},e.groupLib[n].leaves=o,e}function Si(e,t){let{groupId:r,id:n}=t,o=e.groupLib[n],i=o.groups||[];return o.groups=[...i,r].unique(e=>e),e.groupLib[n]=o,e.groupLib={...e.groupLib},e.childGroups[n]=e.childGroups[n]||{},e.childGroups[n][r]=!0,e.parentGroup[r]=e.parentGroup[r]||{},e.parentGroup[r][n]=!0,e}function Pi(e,t){let{groupId:r,id:n}=t,o=e.groupLib[n];return o.groups=[...o.groups.filter(e=>e!==r)],e.groupLib[n]={...o},e.childGroups&&(e.childGroups[n]&&(delete e.childGroups[n][r],Object.keys(e.childGroups[n]).length||delete e.childGroups[n]),e.parentGroup[r]&&(delete e.parentGroup[r][n],Object.keys(e.parentGroup[r]).length||delete e.childGroups[r])),e}function Ai(e,t){var{id:r}=t;for(let t in e.groupsNodes[r])e.nodesGroups[t]&&(delete e.nodesGroups[t][r],0===Object.keys(e.nodesGroups[t]).length&&delete e.nodesGroups[t]);for(let t in e.childGroups[r])e.parentGroup[t]&&(delete e.parentGroup[t][r],0===Object.keys(e.parentGroup[t]).length&&delete e.parentGroup[t]);return e.groups=[...e.groups.filter(e=>e!==r)],delete e.groupLib[r],delete e.childGroups[r],delete e.groupsNodes[r],e}function Ii(){return{properties:{}}}function Li(e,t){var{methods:r}=e;return r&&r[t]?r[t]:null}function $i(e,t,r,n){if(Li(e=e||function(e){let t={methods:{}};return t&&!t.methods[e]&&(t.methods[e]={}),t}(t),t)){let o=Li(e,t);r&&(o[r]=o[r]||{properties:{}},n&&o[r]&&(o[r].properties[n]=o[r].properties[n]||{validators:{}}))}return e}const wi=Ii;function xi(e,t){return e.properties[t.id]=e.properties[t.id]||{validators:{}},t.validator&&(e.properties[t.id].validators[t.validator]=t.validatorArgs),e}function ji(e,t){return delete e.properties[t.id],e}function Ri(e,t){var{property:r,validator:n}=t;return e.properties[r].validators[n]}function Di(e){return e?e.properties:null}function Gi(e,t={}){let{id:r}=t,n=Ea(e,{exist:!0,id:r,direction:Ma,type:_o.Exist});return(e=function(e,t){let{id:r}=t,n=[];e.nodesGroups[r]&&(n=Object.keys(e.nodesGroups[r])).map(t=>{e=function(e,t){var{leaf:r,id:n}=t;let o=e.groupLib[n];if(o){let t=o.leaves||[];t=[...t.filter(e=>e!==r)],e.groupLib[n].leaves=t}return e.groupsNodes[n]&&(e.groupsNodes[n][r]&&delete e.groupsNodes[n][r],0===Object.keys(e.groupsNodes[n]).length&&(delete e.groupsNodes[n],e.groups=[...e.groups.filter(e=>e!==n)],delete e.groupLib[n]),e.groupsNodes={...e.groupsNodes}),e.nodesGroups[r]&&(e.nodesGroups[r][n]&&delete e.nodesGroups[r][n],0===Object.keys(e.nodesGroups[r]).length&&delete e.nodesGroups[r],e.nodesGroups={...e.nodesGroups}),e}(e,{leaf:r,id:t})});e.groupsNodes&&n.map(t=>{e.groupsNodes[t]&&(e.groupsNodes[t][r]&&delete e.groupsNodes[t][r],0===Object.keys(e.groupsNodes[t]).length&&delete e.groupsNodes[t]),e=function e(t,r){var{id:n,callback:o}=r;var i=!0;if(t.childGroups[n])for(var a in t.childGroups[n]){(t=e(t,{id:a,callback:e=>{e,i=i&&e}})).childGroups[n]&&delete t.childGroups[n][a]}if(i){if((!t.groupLib[n]||!t.groupLib[n].leaves||!t.groupLib[n].leaves.length)&&(!t.groupLib[n]||!t.groupLib[n].groups||!t.groupLib[n].groups.length)&&(delete t.groupLib[n],t.groups=[...t.groups.filter(e=>e!==n)],delete t.childGroups[n],t.parentGroup[n])){for(var a in t.parentGroup[n])t=Pi(t,{groupId:n,id:a}),(t=e(t,{id:a})).childGroups[a]&&delete t.childGroups[a][n];delete t.parentGroup[n]}}else o&&o(!1);return t}(e,{id:t})});return e}(e=function(e,t){let{id:r}=t,n=function(e,t){return e.links.filter(r=>e.linkLib[r].source===t||e.linkLib[r].target===t)}(e,r);for(let t=0;t<n.length;t++){let r=n[t];e=Ra(e,r)}return e}(e=Ei(e),t),t)).functionNodes&&e.functionNodes[r]&&(delete e.functionNodes[r],e.functionNodes={...e.functionNodes}),e.classNodes&&e.classNodes[r]&&(delete e.classNodes[r],e.classNodes={...e.classNodes}),delete e.nodeLib[r],e.nodeLib={...e.nodeLib},e.nodes=[...e.nodes.filter(e=>e!==r)],n&&n.map(t=>{e=Gi(e,{id:t.id})}),e}function Fi(e,t){return e&&t&&t.length?ta(e,Bn.Model).filter(e=>Es(e,uo.ManyToManyNexus)).filter(e=>!(t||[]).some(t=>-1!==(Es(e,uo.ManyToManyNexusTypes)||[]).indexOf(t))):[]}function Ui(e,t){return e.nodeLib[t.id]=t,e.nodeLib={...e.nodeLib},e.nodes=[...e.nodes,t.id],e=Ei(e={...e})}function Vi(e,t){return e.groupLib[t.id]=t,e.groupLib={...e.groupLib},e.groups=[...e.groups,t.id].unique(e=>e),e={...e}}const Bi=[{title:"Owner",type:No.STRING},{title:"Id",type:No.STRING},{title:"Created",type:No.DATETIME},{title:"Updated",type:No.DATETIME},{title:"Deleted",type:No.BOOLEAN},{title:"Version",type:No.STRING}].map(e=>(e.nodeType=Bn.Property,e));function Hi(e,t,r,n){let{parent:o,linkProperties:i,groupProperties:a}=t,s=Va(r);if(t.node&&(!function(e,t){t.node&&Object.apply(e.properties,JSON.parse(JSON.stringify(t.node.properties)))}(s,t),r===Bn.ReferenceNode&&t.rootNode&&(t.rootNode.referenceNodes[e.id]={...t.rootNode.referenceNodes[e.id]||{},[s.id]:t.node.id})),e=Ui(e,s),o&&(e=ca(e,{source:o,target:s.id,properties:i?i.properties:null})),t.links&&t.links.map(t=>{e=ca(e,{source:s.id,target:t.target,properties:t.linkProperties?t.linkProperties.properties:null})}),e=Da(e,{id:s.id,prop:uo.NODEType,value:r}),e=Da(e,{id:s.id,prop:uo.Pinned,value:!0}),t.properties)for(var l in t.properties)e=Da(e,{id:s.id,prop:l,value:t.properties[l]});return a&&(e=function(e,t){var{id:r,groupProperties:n,parent:o}=t,i=null;if(n&&n.id)i=qi(e,n.id);else if(Wi(e,o)){let t=Es(e.nodeLib[o],uo.Groups);i=qi(e,t.group)}else{var i=Ua(),a=Es((e=Ti(e=Da(e=Vi(e,i),{id:o,value:{group:i.id},prop:uo.Groups}),{leaf:o,id:i.id})).nodeLib[o],uo.GroupParent);if(a&&e.groupLib[a]){var s=e.groupLib[a];if(s){var l=function e(t,r){var n=[];if(t.parentGroup[r])for(var o in t.parentGroup[r])n=[...n,...e(t,o)];return n}(e,s.id);e=Si(e,{id:s.id,groupId:i.id}),l.map(t=>{e=Si(e,{id:t,groupId:i.id})})}}}if(i&&(e=Da(e=Ti(e,{leaf:r,id:i.id}),{id:r,value:i.id,prop:uo.GroupParent}),n))for(var p in n)e=Fa(e,{id:i.id,prop:p,value:n[p]});return e}(e,{id:s.id,groupProperties:a,parent:o})),n&&(e=n(Is(s.id,e),e)||e),e}function qi(e,t){return e.groupLib[t]}function Wi(e,t){return!(!e.nodeLib[t]||!Es(e.nodeLib[t],uo.Groups))}function Yi(e,t){return e&&e.nodeLib?e.nodeLib[t]:null}function zi(e,t,r,n,o){return e[t]=e[t]||{},e[t].parameters=e[t].parameters||{},e[t].parameters[r]=e[t].parameters[r]||{},e[t].parameters[r]={...e[t].parameters[r],[n]:o},e}function Ji(e,t,r,n){return e&&e[t]&&e[t].parameters&&e[t].parameters[r]&&e[t].parameters[r][n]?e[t].parameters[r][n]:null}function Xi(e){return e&&e.properties?Object.keys(e.properties).map(t=>({title:t,id:e.properties[t],value:t})):[]}function Ki(e,t){return e&&e.properties&&e.properties.hasOwnProperty(t)}function Qi(e,t,r="properties"){return e&&e[r]&&e[r][t]}function Zi(e,t){return e&&e.groupLib?e.groupLib[t]:null}function ea(e){let t=e.functionNodes;if(t)for(let o in t){let t=Yi(e,o);if(t){var r=Es(t,uo.FunctionType);if(r){var n=(void 0)[r];n&&(e=oa(e,{id:o,functionConstraints:n}))}}}return ta(e,Bn.Validator).map(t=>{e=function(e,t){let r=Es(t,uo.Validator);if(r){fa(e,{id:t.id});var n=Di(r);Object.keys(n).map(r=>{e.nodeLinks[r]&&e.nodeLinks[r][t.id]})}return e}(e,t)}),e}function ta(e,t,r={}){var n=e;return n?(Array.isArray(t)||(t=[t]),n.nodes.filter(e=>n.nodeLib[e].properties&&-1!==t.indexOf(n.nodeLib[e].properties[uo.NODEType])||!r.excludeRefs&&n.nodeLib[e].properties[uo.ReferenceType]===t).map(e=>n.nodeLib[e])):[]}function ra(e,t){return`${t}${e}`}function na(e,t){var{id:r,constraintKey:n}=t;return function(e,t){var{id:r,key:n}=t;if(e.nodeConnections[r])return Object.keys(e.nodeConnections[r]).map(t=>{let r=e.linkLib[t];return r}).filter(e=>e&&e.source===r&&e.properties&&e.properties.constraints&&e.properties.constraints.key===n);return[]}(e,{id:r,key:n}).map(t=>e.nodeLib[t.target])}function oa(e,t){var{id:r,functionConstraints:n}=t;if(e.nodeConnections[r]){let t=e.nodeLib[r];Object.keys(e.nodeConnections[r]).map(r=>{let{properties:o}=e.linkLib[r],i=e.linkLib[r];if(o){let{constraints:r}=o;r&&Object.keys(Fo).map(o=>{let a=Fo[o],s=n.constraints[a];if(s&&i&&i.properties&&i.properties.constraints&&i.properties.constraints.key&&i.properties.constraints.key===s.key){let n=la.meets(s,r,i,t,e);e=Ga(e,{id:i.id,prop:bo.VALID_CONSTRAINTS,value:!!n})}})}})}return e}function ia(e,t){let{id:r,value:n}=t,o=(void 0)[n];if(o&&o.constraints){e.nodeConnections[r]&&sa(e,{id:r}).map(t=>{if(!function(e,t){return!!aa(e,t)}(Rl(t,bo.CONSTRAINTS),o.constraints)){let r=function(e,t){if(e&&e.linkLib&&e.linkLib[t]){let r=e.linkLib[t].target;return e.nodeLib[r]}return null}(e,t.id);r?e=Gi(e,{id:r.id}):console.warn("No nodes were removed as exepected")}});let t=null,n=null,s=null,l=e.nodeLib[r];var i=Es(l,uo.Groups);if(i)for(let t in i)e=Ai(e,{id:i[t]});if(e.nodesGroups[r])for(let n in e.nodesGroups[r])switch(Dl(e.groupLib[n],ro.FunctionGroup)){case to.Core:t=e.groupLib[n]}t||(e=Mi(e,r=>{t=r,e=Fa(e,{id:r.id,prop:ro.FunctionGroup,value:to.Core})})),n||(e=Mi(e,t=>{n=t,e=Fa(e,{id:t.id,prop:ro.FunctionGroup,value:to.Internal})})),s||(e=Mi(e,t=>{s=t,e=Fa(e,{id:t.id,prop:ro.FunctionGroup,value:to.External})})),e.groupsNodes[s.id]&&e.groupsNodes[s.id][r]||(e=Ti(e,{leaf:r,id:s.id})),e.childGroups[n.id]&&e.childGroups[n.id][s.id]||(e=Si(e,{groupId:n.id,id:s.id})),e.childGroups[t.id]&&e.childGroups[t.id][n.id]||(e=Si(e,{groupId:t.id,id:n.id}));var a=sa(e,{id:r}).map(e=>{return aa(Rl(e,bo.CONSTRAINTS),o.constraints)});Object.keys(o.constraints).map(t=>{-1===a.indexOf(t)&&(e=Hi(e,{parent:l.id,linkProperties:{properties:{type:_o.FunctionConstraintLink,constraints:{...o.constraints[t]}}}},Bn.Parameter,r=>{e=Da(e,{id:r.id,prop:uo.UIText,value:t})}))}),sa(e,{id:l.id}).map(r=>{let i=e.nodeLib[r.target];var a=Rl(r,bo.CONSTRAINTS);e=a&&a.key&&o.constraints[a.key]&&o.constraints[a.key][Uo.IsInputVariable]?Ti(e,{leaf:i.id,id:n.id}):Ti(e,{leaf:i.id,id:t.id})}),e.nodeConnections[r]&&Object.keys(e.nodeConnections[r]).map(t=>{let{properties:r}=e.linkLib[t],n=e.linkLib[t];if(r){let{constraints:t}=r;t&&Object.keys(Fo).map(r=>{let i=Fo[r],a=o.constraints[i];if(a&&n&&n.properties&&n.properties.constraints&&n.properties.constraints.key&&n.properties.constraints.key===a.key){let r=la.meets(a,t,n,l,e);e=Ga(e,{id:n.id,prop:bo.VALID_CONSTRAINTS,value:!!r})}})}}),e=Da(e,{id:r,prop:uo.Groups,value:{core:t.id,internal:n.id,external:s.id}})}return e}function aa(e,t){let r=JSON.stringify(e);return Object.keys(t).find(e=>JSON.stringify(t[e])===r)}function sa(e,t){let{id:r}=t;return e&&e.nodeConnections&&e.nodeConnections[r]?Object.keys(e.nodeConnections[r]).filter(t=>Rl(e.linkLib[t],bo.TYPE)===_o.FunctionConstraintLink).map(t=>e.linkLib[t]):[]}const la={meets:(e,t,r,n,o)=>{if(e){let t=o.nodeLib[r.target];return fa(o,{id:t.id}).find(t=>Object.keys(e).find(r=>{let i=!0;if(!1!==i){switch(r){case Uo.IsAgent:t&&Es(t,uo.IsAgent)||(i=!1);break;case Uo.IsUser:t&&Es(t,uo.IsUser)||(i=!1);break;case Uo.IsTypeOf:if(!e[Uo.IsInputVariable])if(t){let a=Es(t,uo.NODEType),s=e[r],l=pa(n.id,o,s);if(l.length){0===l.filter(e=>{return Es(o.nodeLib[e.target],uo.NODEType)!==a}).length&&(i=!1)}else i=!1}else i=!1;break;case Uo.IsChild:case Uo.IsParent:if(t){let a=e[r],s=pa(n.id,o,a);if(s){0===s.filter(e=>{let r=o.nodeLib[e.target],n=ma(o,{id:r.id});if(!n||!n.length)return!1;{let e=da(o,{target:t.id,source:n[0].id});if(!e||Rl(e,bo.TYPE)!==Co.ParentLink.type)return!1}return!0}).length&&(i=!1)}else i=!1}else i=!1}return i}}))}return!1}};function pa(e,t,r){return Object.keys(t.nodeConnections[e]).filter(r=>t.nodeConnections[e][r]===Na).filter(e=>!!(e&&t.linkLib&&t.linkLib[e]&&t.linkLib[e].properties&&t.linkLib[e].properties.constraints&&t.linkLib[e].properties.constraints.key===r)&&t.linkLib[e]).map(e=>t.linkLib[e])}function ua(e,t,r){return e&&e.nodeConnections?Object.keys(e.nodeConnections[t]).filter(n=>!r||e.nodeConnections[t][n]===r).map(t=>e.linkLib[t]):[]}function da(e,t){let{target:r,source:n}=t,o=e.links.find(t=>e.linkLib&&e.linkLib[t]&&e.linkLib[t].target===r&&e.linkLib[t].source===n);return o?e.linkLib[o]:null}function ca(e,t){let{target:r,source:n,properties:o}=t;return Ta(e,t,Ba(r,n,o))}function fa(e,t){return ma(e,t)}function ma(e,t){return Oa(e,{...t||{},direction:Na})}function ha(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}function ya(e,t){var r=ba(e,t);return r&&r.length?r[0]:null}function va(e,t,r,n){let o=Es(e,uo.AfterMethodSetup)||{};return o[t]=o[t]||{},o[t]={...o[t],[r]:n},o}function _a(e,t){return ka(Vp(e),{id:t}).find(e=>Es(e,uo.NODEType)===Bn.Method)}function ga(e,t,r,n){return ka(Vp(e),{id:t,direction:n}).find(e=>Es(e,uo.NODEType)===r)}function ba(e,t){return Ca(Up(e),t)}function Ca(e,t,r){var{id:n,links:o}=t,i=[n],a=[];return o.map((t,r)=>{var n=[];i.map(i=>{let s=Ea(e,{id:i,...t});r===o.length-1?a=s:n=[...n,...s.map(e=>e.id)]}),n=n.unique(e=>e),i=n}),a.filter(e=>!r||-1!==r.indexOf(Es(e,uo.NODEType)))}function Ea(e,t){if(t){var{id:r,direction:n,type:o,exist:i}=t;if(e&&e.nodeConnections&&r){var a=e.nodeConnections[r];if(a)return Object.keys(a).filter(e=>a[e]).map(t=>{var r=e.linkLib[t]?n===Ma?e.linkLib[t].source:e.linkLib[t].target:null;return r?i&&e.linkLib[t].properties&&e.linkLib[t].properties.exist?e.nodeLib[r]:!o||e.linkLib[t].properties&&(e.linkLib[t].properties.type===o||e.linkLib[t].properties[o])?e.nodeLib[r]:null:(console.warn("Missing value in linkLib"),null)}).filter(e=>e)}}return[]}function Oa(e,t){if(t){var{id:r,direction:n,constraints:o}=t;if(e&&e.nodeConnections&&r){var i=e.nodeConnections[r];if(i)return Object.keys(i).filter(e=>i[e]===n).map(t=>{var r=e.linkLib[t]?n===Ma?e.linkLib[t].source:e.linkLib[t].target:null;if(!r)return console.warn("Missing value in linkLib"),null;if(o){let n=Rl(e.linkLib[t],bo.CONSTRAINTS);return function(e,t){if(e===t)return!0;if(!e)return!1;if(!t)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}(o,n)?e.nodeLib[r]:null}return e.nodeLib[r]}).filter(e=>e)}}return[]}function ka(e,t){if(t){var{id:r,direction:n}=t;if(e&&e.nodeConnections&&r){var o=e.nodeConnections[r];if(o)return Object.keys(o).map(t=>{var o=null;return e.linkLib[t]&&(e.linkLib[t].source!==r?n&&n!==Ma||(o=e.linkLib[t].source):n&&n!==Na||(o=e.linkLib[t].target)),o?e.nodeLib[o]:null}).filter(e=>e)}}return[]}const Na="SOURCE",Ma="TARGET";function Ta(e,t,r){let{target:n,source:o}=t;if(n&&o&&n!==o){if(e.nodeLib[n]&&e.nodeLib[o]){if(function(e,t){return!e.links.some(r=>{let n=e.linkLib[r];return n.source===t.source&&n.target===t.target})}(e,{target:n,source:o}))e.linkLib[r.id]=r,e.linkLib={...e.linkLib},e.links=[...e.links,r.id],e.nodeConnections[r.source]={...e.nodeConnections[r.source]||{},[r.id]:Na},e.nodeConnections[r.target]={...e.nodeConnections[r.target]||{},[r.id]:Ma},e.nodeLinks[r.source]={...e.nodeLinks[r.source]||{},[r.target]:e.nodeLinks[r.source]?(e.nodeLinks[r.source][r.target]||0)+1:1},e.nodeLinks[r.target]={...e.nodeLinks[r.target],[r.source]:e.nodeLinks[r.target]?(e.nodeLinks[r.target][r.source]||0)+1:1};else{var i=da(e,{target:n,source:o});i&&(i.properties={...i.properties,...r.properties,type:i.properties.type})}e.nodeLinks={...e.nodeLinks},e={...e}}e=Oi(e)}return e}function Sa(e,t){let{target:r,source:n}=t;return e.links.find(t=>e.linkLib[t].source===n&&e.linkLib[t].target==r)}function Pa(e,t,r){switch(r){case vo.Remove:e=function(e,t){t&&t.properties&&t.properties.on&&t.properties.on[vo.Remove]&&t.properties.on[vo.Remove].map(r=>{r.function&&Aa[r.function]&&(e=Aa[r.function](e,t,r.function,r))});return e}(e,t)}return e}const Aa={};function Ia(e,t){Aa[e]=t}function La(e){let t=Es(e,uo.UIExtensionDefinition);if(t&&t.config)return t.config.isEnumeration}function $a(e){if(La(e)){return Es(e,uo.UIExtensionDefinition).config.list}return null}function wa(e){if(La(e)){return Es(e,uo.UIExtensionDefinition).config.keyField}return null}function xa(e,t){var{property:r,validator:n}=t;delete e.properties[r].validators[n]}function ja(e,t={}){var r={on:{}};switch(e){case vo.Remove:r.on[e]=[{...t}]}return r}function Ra(e,t,r={}){if(t&&r.linkType){let n=e.linkLib[t];if(n&&n.properties&&n.properties[r.linkType]&&delete n.properties[r.linkType],n&&Object.keys(n.properties).length>1)return{...e}}if(t){e.links=[...e.links.filter(e=>e!==t)];let r=e.linkLib[t];r.properties&&r.properties.on&&r.properties.on[vo.Remove]&&(e=Pa(e,r,vo.Remove)),delete e.linkLib[t],e.linkLib={...e.linkLib},e.nodeLinks[r.source]={...e.nodeLinks[r.source],[r.target]:e.nodeLinks[r.source]?(e.nodeLinks[r.source][r.target]||0)-1:0},e.nodeLinks[r.source]&&!e.nodeLinks[r.source][r.target]&&(delete e.nodeLinks[r.source][r.target],0===Object.keys(e.nodeLinks[r.source]).length&&delete e.nodeLinks[r.source]),e.nodeLinks[r.target]={...e.nodeLinks[r.target],[r.source]:e.nodeLinks[r.target]?(e.nodeLinks[r.target][r.source]||0)-1:0},e.nodeLinks[r.target]&&!e.nodeLinks[r.target][r.source]&&(delete e.nodeLinks[r.target][r.source],0===Object.keys(e.nodeLinks[r.target]).length&&delete e.nodeLinks[r.target]),e.nodeConnections[r.source]&&e.nodeConnections[r.source][r.id]&&delete e.nodeConnections[r.source][r.id],0===Object.keys(e.nodeConnections[r.source]).length&&delete e.nodeConnections[r.source],e.nodeConnections[r.target]&&e.nodeConnections[r.target][r.id]&&delete e.nodeConnections[r.target][r.id],0===Object.keys(e.nodeConnections[r.target]).length&&delete e.nodeConnections[r.target],e=Oi(e)}return{...e}}function Da(e,t){let{id:r,value:n,prop:o}=t,i={};if(r&&o&&e.nodeLib&&e.nodeLib[r]){if(fo[o]){fo[o].map(t=>{e.nodeLib[r].dirty[t.chainProp]||(i[t.chainProp]=t.chainFunc(n))})}e.nodeLib[r]={...e.nodeLib[r],dirty:{[o]:!0,...e.nodeLib[r].dirty||{}},properties:{...e.nodeLib[r].properties||{},[o]:n,...i}},o===uo.NODEType&&n===Bn.Function?e.functionNodes={...e.functionNodes,[r]:!0}:e.functionNodes[r]&&o===uo.NODEType&&(delete e.functionNodes[r],e.functionNodes={...e.functionNodes}),o===uo.NODEType&&n===Bn.ClassNode?e.classNodes={...e.classNodes,[r]:!0}:e.classNodes[r]&&o===uo.NODEType&&(delete e.classNodes[r],e.classNodes={...e.classNodes})}return e}function Ga(e,t){let{id:r,value:n,prop:o}=t;return r&&o&&e.linkLib&&e.linkLib[r]&&(e.linkLib[r]={...e.linkLib[r],properties:{...e.linkLib[r].properties||{},[o]:n}}),e}function Fa(e,t){let{id:r,value:n,prop:o}=t;return r&&o&&e.groupLib&&e.groupLib[r]&&(e.groupLib[r]={...e.groupLib[r],properties:{...e.groupLib[r].properties||{},[o]:n}}),e}function Ua(){return{id:_(),leaves:[],groups:[],properties:{}}}function Va(e){return{id:_(),dirty:{},properties:{text:e||ot}}}function Ba(e,t,r){return r=r||{},{id:_(),source:t,target:e,properties:r}}function Ha(e){return{...JSON.parse(JSON.stringify(e))}}function qa(e,t,r={}){var n=[...Object.keys(e.groupsNodes[t])];for(var o in e.childGroups[t])r[o]||(r={...r,[o]:!0},n=[...n,...qa(e,o,r)]);return n}Ia("OnRemoveValidationPropConnection",(e,t,r)=>{var{source:n,target:o}=t,i=Yi(e,n);return i&&i.properties&&ji(Es(i,uo.Validator),{id:o}),e}),Ia("OnRemoveExecutorPropConnection",(e,t,r)=>{var{source:n,target:o}=t,i=Yi(e,n);return i&&i.properties&&ji(Es(i,uo.Executor),{id:o}),e}),Ia("OnRemoveModelFilterPropConnection",(e,t,r)=>{var{source:n,target:o}=t,i=Yi(e,n);return i&&i.properties&&ji(Es(i,uo.FilterModel),{id:o}),e}),Ia("OnRemoveValidationItemPropConnection",(e,t,r,n)=>{var{source:o,target:i}=t,a=Yi(e,o),{property:s,validator:l}=n||{};let p=Es(a,uo.Validator);return a&&a.properties&&p.properties&&p.properties[s]&&p.properties[s].validators&&p.properties[s].validators[l]&&p.properties[s].validators[l].node===i&&xa(p,{...n,id:i}),e}),Ia("OnRemoveExecutorItemPropConnection",(e,t,r,n)=>{var{source:o,target:i}=t,a=Yi(e,o),{property:s,validator:l}=n||{};let p=Es(a,uo.Executor);return a&&a.properties&&p.properties&&p.properties[s]&&p.properties[s].validators&&p.properties[s].validators[l]&&p.properties[s].validators[l].node===i&&xa(p,{...n,id:i}),e});const Wa={[Bn.Model]:1,[Bn.Function]:1,[Bn.Method]:1,[Bn.Property]:4,[Bn.ValidationList]:5,[Bn.OptionList]:6,[Bn.Parameter]:4,[Bn.Permission]:4,[Bn.Attribute]:8,[Bn.ValidationList]:10,[Bn.ValidationListItem]:12,[Bn.ModelItemFilter]:13};function Ya(e,t){let r=0;if(t.groupLib[e]){if(t.parentGroup[e]){let n=Object.keys(t.parentGroup[e])[0];n&&(r+=Ya(n,t))}r+=1}return r}function za(e){let t=yi();t.id=e.id;let r=(e=function(e){let t=yi();return t.id=e.id,t.linkLib={...e.linkLib},t.nodesGroups={...e.nodesGroups},t.groupsNodes={...e.groupsNodes},t.groups=[...e.groups],t.groupLib={...e.groupLib},t.childGroups={...e.childGroups},t.parentGroup={...e.parentGroup},t.links=[...e.links.filter(r=>{var{target:n,source:o}=e.linkLib[r];return!(!e.visibleNodes[n]||!e.visibleNodes[o])||(delete t.linkLib[r],!1)})],Object.keys(e.nodesGroups).map(r=>{if(!e.visibleNodes[r]){let n=e.nodesGroups[r];for(let e in n)t.groupsNodes[e]={...t.groupsNodes[e]},delete t.groupsNodes[e][r],0===Object.keys(t.groupsNodes[e]).length&&delete t.groupsNodes[e];delete t.nodesGroups[r]}}),Object.keys(t.groupLib).sort((t,r)=>Ya(r,e)-Ya(t,e)).map(r=>{t.groupLib[r].leaves&&(t.groupLib[r]={...t.groupLib[r]},t.groupLib[r].leaves=[...t.groupLib[r].leaves.filter(t=>e.visibleNodes[t])],t.groupLib[r].groups=[...t.groupLib[r].groups.filter(e=>t.groupLib[e])],t.groupLib[r].leaves.length||t.groupLib[r].groups.length||(t.groups=[...t.groups.filter(e=>e!==r)],delete t.groupLib[r]))}),Object.keys(e.childGroups).map(e=>{if(t.groupsNodes[e])for(let r in t.childGroups[e])t.groupsNodes[r]||(t.childGroups[e]={...t.childGroups[e]},delete t.childGroups[e][r]);else delete t.childGroups[e]}),Object.keys(e.parentGroup).map(e=>{if(t.groupsNodes[e])for(let r in t.parentGroup[e])t.groupsNodes[r]||(t.parentGroup[e]={...t.parentGroup[e]},delete t.parentGroup[e][r]);else delete t.parentGroup[e]}),Object.keys(e.visibleNodes).map(r=>{t.nodeLib[r]=e.nodeLib[r],t.nodes.push(r),t.nodeConnections[r]={...e.nodeConnections[r]},t.nodeLinks[r]={...e.nodeLinks[r]},Object.keys(e.nodeLinks[r]||{}).map(e=>{t.linkLib[e]||(t.nodeLinks[r]={...t.nodeLinks[r]},delete t.nodeLinks[r][e])})}),t}(e=function(e){return e.visibleNodes={},e.nodes.map(t=>{Es(Yi(e,t),uo.Pinned)&&(e.visibleNodes[t]=!0)}),e.depth&&[].interpolate(0,e.depth,t=>{Object.keys(e.visibleNodes).map(t=>{for(let r in e.nodeLinks[t])e.visibleNodes[r]=!0})}),e}(e))).nodes.filter(t=>Es(e.nodeLib[t],uo.Collapsed)),n={};r.map(t=>{if(e.nodesGroups[t]){let o=Wa[Es(e.nodeLib[t],uo.NODEType)]||1e3;var r=Object.keys(e.nodesGroups[t]).filter(r=>{return!qa(e,r).find(r=>{if(r===t)return!1;var n=Es(e.nodeLib[r],uo.NODEType);return!((Wa[n]||1e3)>o)})}).sort((t,r)=>Object.keys(e.groupsNodes[r]).length-Object.keys(e.groupsNodes[t]).length);r.length&&(n[r[0]]=!0)}});let o=Object.keys(n).filter(t=>{for(var r in e.parentGroup[t])if(n[r])return!1;return!0}),i={};o.map(t=>{let r={},n=null,o=1e4,a=qa(e,t);for(var s in a.filter(t=>{var i=Dl(e.nodeLib[t],uo.NODEType);r[t]=!0,Wa[i]<o&&(n=t,o=Wa[i])}),delete r[n],r)r[s]=n;i={...i,...r}}),t.nodes=[...e.nodes.filter(e=>!i[e])],t.nodeLib={},t.nodes.map(r=>{t.nodeLib[r]=e.nodeLib[r]}),t.links=e.links.map(r=>{var n,{source:o,target:a}=e.linkLib[r];return(!i[o]||!i[a])&&(i[o]?((n=Ha(e.linkLib[r])).source=i[o],n.id=`${n.source}${n.target}`,t.linkLib[`${n.source}${n.target}`]=n):i[a]?((n=Ha(e.linkLib[r])).target=i[a],n.id=`${n.source}${n.target}`,t.linkLib[`${n.source}${n.target}`]=n):((n=Ha(e.linkLib[r])).id=`${n.source}${n.target}`,t.linkLib[`${n.source}${n.target}`]=n),n.source!==n.target&&n.id)}).filter(e=>e);var a=e.groups.map((r,n)=>{let o=e.groupLib[r],i=Ua();return i.id=`${o.id}`,o&&o.leaves&&o.leaves.map(e=>{t.nodeLib[e]&&i.leaves.push(e)}),i.leaves.length?(t.groupLib[i.id]=i,i.id):null}).filter(e=>e);return a.map(r=>{t.groupLib[r].groups=(e.groupLib[r].groups||[]).filter(e=>!!t.groupLib[e])}),t.groups=a,t}const Ja={ModelProperty:"Model - Property",Model:"Model",Pass:"Pass",StringConcat:"String Concat {0} {1}"},Xa={[Ja.ModelProperty]:{ui:{model:uo.UIModelType,property:uo.Property},filter:{[uo.NODEType]:!0},value:"model_property_selection"},[Ja.Model]:{ui:{model:uo.UIModelType,property:!1},filter:{[uo.NODEType]:!0},value:"model_selection"},[Ja.Pass]:{ui:{},filter:{[uo.NODEType]:!0},value:"model_selection"},[Ja.StringConcat]:{ui:{node_1:uo.ChainNodeInput1,node_2:uo.ChainNodeInput2},merge:!0,filter:{[uo.MergeNode]:!0},value:"string_concat_2_values"}};var Ka=r("fs");const Qa="VISUAL",Za="APPLICATION",es="GRAPHS",ts="VISUAL_GRAPH",rs="DASHBOARD_MENU",ns="SELECTED_NODE_BB",os="SIDE_PANEL_EXTRA_WIDTH",is=Bn,as=eo,ss=uo,ls=Co,ps={ROUTINGNUMBER:"ROUTINGNUMBER",CURRENCY:"CURRENCY",CARMAKE:"CARMAKE",SOCIALSECURITY:"SOCIALSECURITY",EMAIL:"EMAIL",PHONE:"PHONE",CARMODEL:"CARMODEL",CARYEAR:"CARYEAR",VIN:"VIN",LONGSTRING:"LONGSTRING",CREDITCARD:"CREDITCARD",LENGTH:"LENGTH",INCH:"INCH",DIMENSION:"DIMENSION",MONEY:"MONEY",COUNTRY:"COUNTRY",DEBIT:"DEBIT",MONTH:"MONTH",STATE:"STATE",CHOICE:"CHOICE",NUMBER:"NUMBER",SLIDER:"SLIDER",DATE:"DATE",TIME:"TIME",BOOLEAN:"BOOLEAN",ACCOUNTNUMBER:"ACCOUNTNUMBER",ADDRESS:"ADDRESS",COLLECTION:"COLLECTION",OBJECT:"OBJECT",RADIO:"RADIO",CHECKLIST:"CHECKLIST",STRING:"STRING",GEOLOCATION:"GEOLOCATION",YEAR:"YEAR"},us=No,ds=ko,cs={CHOICELIST:"CHOICELIST",CAPITALIZE_FIRST_LETTER:"CAPITALIZE_FIRST_LETTER"},fs="UI_UPDATE";function ms(e,t,r){return e&&e.uiReducer&&e.uiReducer[t]?e.uiReducer[t][r]:null}function hs(e){let t=ys(e);return JSON.stringify(t,null,4)}function ys(e){let t=vp(),r={};var n,o;return(n=Vp(t),o=e.id,Ea(n,{id:o,direction:Na,type:_o.PropertyLink})).map(e=>{r[e.id]={name:Ts(e),jsName:Ts(e).toJavascriptName(),type:Es(e,ss.DataGenerationType)}}),Ll(e.id).map(e=>{r[e.id]={name:Ts(e),jsName:Ts(e).toJavascriptName(),type:"Id"}}),{name:Ts(e),properties:r}}function vs(){return JSON.stringify(mp(vp(),is.Model).map(e=>ys(e)))}function _s(e,t){return ms(e,Qa,t)}function gs(e,t){var r=Fl(e,_s(e,ep));return r&&r.properties&&r.properties.nodeType===t}function bs(e,t){return e&&e.properties&&e.properties[t]}function Cs(e){return Fi(Up(vp()),e)||[]}function Es(e,t){return e&&e.properties&&e.properties[t]}function Os(e,t){let r=Zi(Up(vp()),e);return r?r&&r.properties&&r.properties[t]:null}function ks(e){return function(e,t){return ka(Vp(e),{id:t}).filter(e=>Es(e,uo.NODEType)===Bn.Condition)}(vp(),e)}function Ns(e){return Es(e,ss.IsAgent)}function Ms(e){return ya(gp(),e)}function Ts(e){return"string"==typeof e&&(e=Yi(Up(gp()),e)),Es(e,ss.CodeName)}function Ss(e){var t=Ts(e);return t?t.toJavascriptName():t}function Ps(e){return[...Il(e),...Ll(e)]}function As(e){let t=Is(e);if(t){let e=Es(t,ss.FunctionType);if(e&&li[e]){let{parameters:t}=li[e];if(t)return t}}return null}function Is(e,t){return Yi(t||Up(gp()),e)}function Ls(e){return function e(t,r){let n=[],o=ka(Vp(t),{id:r,direction:Ma}).filter(e=>{switch(Es(e,uo.NODEType)){case Bn.ScreenOption:case Bn.ComponentNode:return!0}return!1}).map(e=>e.id);return n=[...n,...o].unique(),o.map(r=>{let o=e(t,r);n=[...n,...o]}),n.unique()}(vp(),e)}function $s(e){return li[ws(e)]}function ws(e){return Es(_a(vp(),e),ss.FunctionType)}function xs(e){return Es(_a(vp(),e),ss.MethodFunctionValidation)}function js(e){return function(e,t){return ka(Vp(e),{id:t}).find(e=>Es(e,uo.NODEType)===Bn.Permission)}(vp(),e)}function Rs(e){return function(e,t){return ka(Vp(e),{id:t}).find(e=>Es(e,uo.NODEType)===Bn.Validator)}(vp(),e)}function Ds(e){return function(e,t){return ka(Vp(e),{id:t}).find(e=>Es(e,uo.NODEType)===Bn.DataSource)}(vp(),e)}function Gs(e){return function(e,t){return ka(Vp(e),{id:t}).find(e=>Es(e,uo.NODEType)===Bn.ModelItemFilter)}(vp(),e)}function Fs(e){return Nl(vp(),e)}function Us(e){return Ml(vp(),e)}function Vs(e){return Ml(vp(),e)}function Bs(e){return Es(e,ss.Condition)}function Hs(){return ta(Vp(vp()),Bn.DataChain).filter(e=>Es(e,uo.EntryPoint))}function qs(e){let t=tl(e),r=null,n=[],o=[],i=[],a=[],s=(t.map((e,s)=>{0===s&&(r=Ks(e));let l=sl(e);return n.push(Xs(e,s)),o.push(zs(e,t)),a.push(Ws(e,t)),i.push(Ys(e,t)),l}),t.indexOf(e)),l=(Ss(e)||"node"+s).toJavascriptName(),p=Js(t),u=t.indexOf(p),d=(Ss(p)||"node"+u).toJavascriptName();return`export function  ${Ts(e)}(${r.join()}) {\n${n.join(Mo)}\n${o.join(Mo)}\n${a.join(Mo)}\n${i.join(Mo)}\n${l}.update($id , '$id');\n\nreturn ${d}.value;\n}`}function Ws(e,t){let r=t.indexOf(e);return`${(Ss(e)||"node"+r).toJavascriptName()}.setProcess(${sl(e)})`}function Ys(e,t){let r=Is(e),n=t.indexOf(e),o=(Ss(e)||"node"+n).toJavascriptName(),i=Es(r,ss.DataChainFunctionType);if(i&&Xa[i]&&Xa[i].merge){let e=Object.keys(Xa[i].ui).map((e,n)=>{let o=Es(r,Xa[i].ui[e]);return`${(Ss(o)||"node"+t.indexOf(o)).toJavascriptName()}`});if(e&&e.length)return`${e.map(e=>`${e}.subscribe(${o});\n`).join("")}`}else{let e=Es(r,ss.ChainParent);if(e)return`${Ss(e).toJavascriptName()}.subscribe(${o})`}return""}function zs(e,t){let r=Is(e),n=t.indexOf(e),o=(Ss(e)||"node"+n).toJavascriptName(),i=Es(r,ss.DataChainFunctionType);if(i&&Xa[i]&&Xa[i].merge){return`${o}.setArgs({ ${Object.keys(Xa[i].ui).map((e,n)=>{let o=Es(r,Xa[i].ui[e]);return`['${(Ss(o)||"node"+t.indexOf(o)).toJavascriptName()}']: ${n}`})} })`}{let e=Es(r,ss.ChainParent);return e?`${o}.setArgs({ ['${Ss(e).toJavascriptName()}']: 0 })`:`${o}.setArgs({ $id: 0 })`}}function Js(e){return e.find(e=>Es(Is(e),ss.AsOutput))}function Xs(e,t){let r=(Ts(e)||"node"+t).toJavascriptName();return`let ${r} = new RedObservable('${r}');`}function Ks(e){let t=Es(Is(e),ss.DataChainFunctionType);if(t&&Xa[t]){let{merge:e,ui:r}=Xa[t];return e?Object.keys(r):["$id"]}return[]}function Qs(){return Hs().map(e=>e.id).map(qs).join(Mo)}function Zs(e){let t=Vp(vp());if(!t)throw"no graph found";let r=e,n=Es(Is(r),ss.Groups);if(n&&n.group){let e=Zi(t,n.group);if(e){if(Os(e.id,ro.GroupEntryNode)===r){return Is(Os(e.id,ro.ExternalExitNode))}}}return Ea(t,{id:r,type:_o.DataChainLink,direction:Na}).filter(e=>e.id!==r).sort((e,t)=>{return(Es(e,ss.ChainParent)?1:0)-(Es(t,ss.ChainParent)?1:0)}).unique(e=>e.id)[0]}function el(e){let t=Zs(e);return t&&t.id}function tl(e,t){(t=t||[e]).push(e),t=[...t].unique();let r,n=Es(Is(e),ss.Groups)||{},o=Object.values(n),i=mp(vp(),is.DataChain);do{r=t.length;let e=i.filter(e=>t.some(t=>t===Es(e,ss.ChainParent)));t.push(...e.map(e=>e.id)),e.map(e=>{o=[...o,...Object.values(Es(e,ss.Groups)||{})]}),o.map(e=>{let r=rl(e);t.push(...r)}),t=t.unique()}while(t.length!==r);return t}function rl(e){return t=Up(vp()),r=e,t.groupsNodes&&t.groupsNodes[r]&&Object.keys(t.groupsNodes[r]).filter(e=>t.groupsNodes[r][e])||[];var t,r}function nl(e){let t=[e],r=e;if(!Vp(vp()))throw"no graph found";for(var n=0;n<10;n++){let e=Zs(r);if(r=null,!e||!e.id)break;t.push(e.id),r=e.id}return t}function ol(e){return qi(Up(vp()),e)}function il(e){return Wi(Up(vp()),e)}function al(e){return 1===nl(e).length}function sl(e){let t=Is(e),r=Es(t,ss.UIModelType),n=Es(t,ss.Property),o="return item;";switch(Es(t,ss.DataChainFunctionType)){case Ja.ModelProperty:return n&&(o=`if(item) {\n        return item.${Ss(n)||n};\n    }\n    return null;`),`(id) => {\n    let item = GetItem(Models.${Ts(r)}, id);\n    ${o}\n}`;case Ja.Model:return`(id) => {\n    let item = GetItem(Models.${Ts(r)}, id);\n    ${o}\n}`;case Ja.Pass:return"(arg) => {\n    return arg;\n}";case Ja.StringConcat:return"(node1, node2) => { return `${node1} ${node2}` }"}}function ll(){return ul(is.Permission)}function pl(){return ul(is.Validator)}function ul(e){let t=vp();return mp(t,e).filter(e=>{return _a(t,e.id)}).groupBy(e=>{return Ap(_a(t,e.id),Fo.Agent)})}function dl(e){let t=vp(),r=mp(t,e),n=[];return r.map(e=>{let r=Ip(_a(t,e.id));Object.values(r).map(e=>{let t=Es(Tp(e),ss.NODEType);[is.Model].some(e=>e===t)&&n.push(e)})}),n.unique()}function cl(){return mp(vp(),is.Model).filter(e=>Es(e,ss.IsAgent))}function fl(){return mp(vp(),is.Model).filter(e=>Es(e,ss.IsUser))}function ml(){return dl(is.Permission)}function hl(){return dl(is.Validator)}function yl(){let e=Vp(vp());return e?e[vi.NAMESPACE]:null}function vl(e=3,t=To.CSHARP){let r=ml(),n=[].interpolate(0,e,()=>"   ").join("");return r.map(e=>n+mi("IRedArbiter<{{model}}> arbiter{{model}};",{model:Ts(e)})).join(Mo)}function _l(e=4,t=To.CSHARP){let r=ml(),n=[].interpolate(0,e,()=>"   ").join("");return r.map(e=>n+mi("arbiter{{model}} = RedStrapper.Resolve<IRedArbiter<{{model}}>>();",{model:Ts(e)})).join(Mo)}function gl(e,t=To.CSHARP){let r=[],n="res",o=0;switch(Es(Tp(e),ss.NODEType)){case is.Permission:r=Fs(e),n="result",o=3;break;case is.ModelItemFilter:r=Vs(e);break;case is.Validator:r=Us(e),o=3,n="result"}let i=[].interpolate(0,o,()=>"    ").join(""),a=[];r.map(r=>{let n=kl(e,r),o=bl(e,n,t);a=[...a,...o.map(e=>e.clause)]});let s=a.map((e,t)=>"res_"+t).join(" && ")||"true";return a.push(`${n} = ${s};`),a.map((e,t)=>i+mi(e,{result:`res_${t}`})).join(Mo)}function bl(e,t,r){let n=[];return t&&Object.keys(t).map(o=>{let{properties:i}=t[o];i&&Object.keys(i).map(t=>{let a=Ts(t),{validators:s}=i[t];s&&Object.keys(s).map(t=>{let i=s[t],l=El(e,o,a,i,r);n.push({clause:l,id:t})})})}),n}function Cl(e){return e.split("-").join("_")}function El(e,t,r,n,o){let i=Fp(e),a=Ap(i,t),{type:s,template:l,node:p,nodeProperty:u,many2manyProperty:d,many2many:c,many2manyMethod:f}=n,m=Ap(i,p),h="",y={};if(!l)throw"no template found";switch(h=Ka.readFileSync(l,"utf8"),s){case jo.IsInModelPropertyCollection:case jo.EqualsModelProperty:case jo.EqualsFalse:case jo.IsNotInModelPropertyCollection:y={agent:Cl(t),agent_property:Cl(r),model:p,model_property:Ts(u)};break;case jo.Many2ManyPropertyIsTrue:y={agent:Cl(t),agent_property:Cl(r),agent_type:Ts(a)||"agent_type missing",model_type:Ts(m)||"model_type missing",model:p,model_property:Ts(u),connection_type:Ts(c),connection_is_true:Ol({many2manyProperty:d,many2manyMethod:f})};break;case ko.OneOf:let e=function(e){let t=Tp(e.node),{enumeration:r}=e;switch(Es(t,ss.NODEType)){case is.Enumeration:var n=Es(t,ss.Enumeration)||[];return n.map(t=>{if(r[t.id||t])return`${Ts(e.node)}.${yo(t.value||t)}`}).filter(e=>e).join(", ");default:throw"not implemented capturing of enums"}}(n);y={agent:Cl(t),agent_property:Cl(r),agent_type:Ts(a)||"agent_type missing",list:e};break;default:throw"Unhandled condition clause case: "+s}return mi(h,y)}function Ol(e){let{many2manyProperty:t,many2manyMethod:r}=e;switch(r){case jo.EqualsTrue:return mi("_x => _x.{{connection_property}} == {{connection_value}}",{connection_property:Ts(t),connection_value:"true"});case jo.EqualsFalse:return mi("_x => _x.{{connection_property}} == {{connection_value}}",{connection_property:Ts(t),connection_value:"false"});default:throw"unhandle get connection clause : "+r}}function kl(e,t){var r=_a(vp(),e);if(r){let e=Bs(t);if(e&&e.methods)return e.methods[Es(r,ss.FunctionType)]}return null}function Nl(e,t){return Tl(e,t)}function Ml(e,t){return Tl(e,t)}function Tl(e,t){return ka(Vp(e),{id:t}).filter(e=>Es(e,ss.NODEType)===is.Condition)}function Sl(){return mp(gp(),is.ComponentNode)}function Pl(){return Sl().map(e=>{let t=Xi(Es(e,ss.ComponentProperties));return{id:e.id,componentPropertiesList:t}})}function Al(e){return ka(Vp(vp()),{id:e}).filter(e=>Es(e,ss.NODEType)===is.ScreenOption)}function Il(e){return ba(vp(),{id:e,links:[{type:_o.PropertyLink,direction:Na}]})}function Ll(e){let t=Yi(Up(gp()),e);return Es(t,ss.HasLogicalChildren)?(Es(t,ss.LogicalChildrenTypes)||[]).map(e=>{return Yi(Up(vp()),e)}).filter(e=>e):[]}function $l(e){return Object.keys(e).map(t=>({value:t,title:`${Ts(e[t])} (${t})`}))}function wl(e,t){return Ts(Yi(e,t))}function xl(e,t,r){var n=Es(t,ss.MethodProps);return n?Yi(e,n[r]||null):null}function jl(e){if(!e)return[];let t=vp();return Object.keys(e).map(r=>{return{title:`${Ts(Yi(Vp(t),e[r]))} (${r})`,value:r}})}function Rl(e,t){return e&&e.properties&&e.properties[t]}function Dl(e,t){return e&&e.properties&&e.properties[t]}function Gl(e,t,r){return _s(e,t)===r}function Fl(e,t){var r=Up(e);return r&&r.nodeLib?r.nodeLib[t]:null}function Ul(e,t,r,n=is.Method){return!mp(vp(),n).filter(n=>{return Es(n,ss.NodePackage)===t&&Es(n,ss.NodePackageType)===r&&Es(n,ss.NodePackageAgent)===e}).length}function Vl(e,t){return ms(e,Za,t)}function Bl(e){var t=Up(e);return t?ms(e,ts,t.id):null}function Hl(e,t,r){r(Yl(Za,t,e))}function ql(e,t){return ms(e,es,t)}function Wl(e,t){let r=za(e={...e,updated:Date.now()});r&&t(Yl(ts,r.id,r)),t(Yl(es,e.id,e))}function Yl(e,t,r){return{type:fs,item:t,value:r,section:e}}function zl(e){return(t,r)=>{var n=r();t(Yl(Qa,e,!ms(n,Qa,e)))}}function Jl(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function Xl(e,t){return(r,n)=>{n();r(Yl(Qa,e,t))}}function Kl(e,t){return(r,n)=>{n();r(Yl(Za,e,t))}}const Ql="SELECTED_LINK",Zl="HOVERED_LINK",ep="SELECTED_NODE",tp="CONTEXT_MENU_VISIBLE",rp="CONTEXT_MENU_MODE";function np(e){return(t,r)=>{t(Yl(Qa,ep,e))}}function op(){return zl(rs)}function ip(e){return"string"==typeof e&&(e=Yi(Up(gp()),e)),e?e.properties&&e.properties.text||e.id:ot}function ap(e){var t=Up(e);return t?[...t.nodes.map(e=>t.nodeLib[e])]:[]}function sp(e){switch(Es(e,ss.NODEType)){case is.ReferenceNode:return!1;default:return!0}}function lp(){return mp(vp(),is.Screen)}function pp(){return mp(vp(),is.Model)}function up(){return mp(vp(),is.Configuration)}function dp(e){let t=ka(Vp(vp()),{id:e}).filter(e=>Es(e,ss.NODEType)===is.Maestro);return t&&t.length?t[0]:null}function cp(e){let t=ka(Vp(vp()),{id:e}).filter(e=>Es(e,ss.NODEType)===is.Controller);return t&&t.length?t[0]:null}function fp(e={}){let t=vp();return!!(e.useRoot?Vp(t):Up(t))}function mp(e,t,r={}){var n=r.useRoot?Vp(e):Up(e);return n?(Array.isArray(t)||(t=[t]),n.nodes.filter(e=>n.nodeLib&&n.nodeLib[e]&&n.nodeLib[e].properties&&-1!==t.indexOf(n.nodeLib[e].properties[ss.NODEType])||!r.excludeRefs&&n.nodeLib&&n.nodeLib[e]&&n.nodeLib[e].properties&&n.nodeLib[e].properties[ss.ReferenceType]===t).map(e=>n.nodeLib[e])):[]}function hp(e,t){var r=Vp(e);return r?Yi(r,t):null}function yp(e,t){var r=Up(e);return r?e=>{if(r.linkLib[e.id])return r.linkLib[e.id][t]}:()=>!1}let vp,_p;function gp(){return vp()}function bp(){return _p}function Cp(){return vp}function Ep(e){vp=e}function Op(){return(e,t)=>{vp=t,_p=e}}function kp(){let e=vp();_p(Hu(ap(e).filter(e=>Es(e,ss.Pinned)).map(e=>({operation:du,options:{prop:ss.Pinned,id:e.id,value:!1}}))))}function Np(){Hu(iu,{id:_s(vp(),ep)})(_p,vp)}function Mp(){let e=vp(),t=Fl(e,_s(e,ep));_p(Hu(du,{prop:ss.Pinned,id:t.id,value:!Es(t,ss.Pinned)}))}function Tp(e){return Yi(Vp(vp()),e)}function Sp(e){return Es(e,ss.FunctionType)}function Pp(e){return _a(vp(),e)}function Ap(e,t){let r=Es(e,ss.MethodProps)||{};if("string"==typeof t)return r[t];if(!t)return null;let{template:n}=t,o={};return Object.keys(r).map(e=>{o[e]=Ts(r[e])}),mi(n,o)}function Ip(e){return Es(e,ss.MethodProps)||{}}function Lp(e){return Ip(_a(vp(),e))}function $p(e,t){let r=Lp(e);return r?r[t]:null}function wp(e,t){return jp(e,"filter",t)}function xp(e,t){return function(e,t){var r=_a(vp(),e);let n=Ip(r),o=Es(r,ss.FunctionType);if(o){let e=li[o];if(e&&e[t]&&e[t].params&&n)return e[t].params.filter(e=>"object"==typeof e||e.metaparameter).map(e=>{let t=e.key,r=ip(n[t]),o=Ts(n[t]);return{title:r,value:t,paramClass:o,paramName:t}})}return[]}(e,"filter")}function jp(e,t,r){var n=_a(vp(),e);let o=Ip(n),i=Es(n,ss.FunctionType);if(i){let e=li[i];if(e&&e[t]&&e[t].params&&o)return e[t].params.filter(e=>r||"string"==typeof e||!e.metaparameter).map(e=>e.metaparameter?e.metaparameter:e).map(e=>{return{title:ip(o[e]),value:e,paramClass:Ts(o[e]),paramName:e}})}return[]}function Rp(e,t){return jp(e,"permission",t)}function Dp(e,t){return jp(e,"validation",t)}function Gp(e){return Ms({id:e.id,links:[{type:_o.FunctionOperator,direction:Ma}]})}function Fp(e){return Gp(Is(e))}function Up(e){return Yp(e)}function Vp(e,t){var r=Vl(e,lu);return r?r=ql(e,r):t&&Hl((r=yi()).id,lu,t),r}function Bp(e){var t,r=Vl(e,lu);if(r){return r=ql(e,r),(t=r)&&t.graphs?Object.keys(t.graphs||{}).map(e=>t.graphs[e]):[]}return null}function Hp(){return(e,t)=>{var r=Vp(t(),e);Wl(r=function(e){var t=yi();return t.title=Dn,e.graphs[t.id]=t,e}(r),e)}}function qp(e,t){return(r,n)=>{var o=Vp(n(),r);Wl(o={...o,[e]:t},r)}}function Wp(e){return(t,r)=>{var n=Vp(r(),t);n.appConfig.AppSettings.AssemblyPrefixes=["RedQuick",e].unique(e=>e).join(";"),Wl(n,t)}}function Yp(e,t){var r=Vl(e,lu);let n=Vl(e,pu)||[];return r?(r=ql(e,r),n.length&&(r=Ni(r,{scope:n}))):t&&Hl((r=yi()).id,lu,t),r}const zp="SELECTED_TAB",Jp="DEFAULT_TAB",Xp="side-panel-open",Kp="PARAMETER_TAB",Qp="SCOPE_TAB",Zp="QUICK_MENU";function eu(){Hu(ou)(_p,vp),Xl(Xp,!0)(_p,vp),Xl(zp,Jp)(_p,vp)}function tu(e){var t,r,n=Vp(e);if(n){var o=Vl(e,pu);if(o&&o.length)return r=t=n,o.map(e=>{r=t.graphs[e]}),r}return null}function ru(e,t){let{id:r}=e,n=li[t.methodType];if(n){let{constraints:e}=n;Object.keys(e).values(e=>{let{key:t}=e})}}const nu="UPDATE_GRAPH_TITLE",ou="NEW_NODE",iu="REMOVE_NODE",au="NEW_LINK",su="CHANGE_NODE_TEXT",lu="CURRENT_GRAPH",pu="GRAPH_SCOPE",uu="ADD_DEFAULT_PROPERTIES",du="CHANGE_NODE_PROPERTY",cu="NEW_PROPERTY_NODE",fu="NEW_PERMISSION_NODE",mu="NEW_ATTRIBUTE_NODE",hu="ADD_LINK_BETWEEN_NODES",yu="NEW_CONDITION_NODE",vu="ADD_NEW_NODE",_u="REMOVE_LINK_BETWEEN_NODES",gu="REMOVE_LINK",bu="NEW_CHOICE_ITEM_NODE",Cu="NEW_PARAMETER_NODE",Eu="NEW_FUNCTION_OUTPUT_NODE",Ou="NEW_MODEL_ITEM_FILTER",ku="NEW_AFTER_METHOD",Nu="NEW_VALIDATION_ITEM_NODE",Mu="NEW_CHOICE_TYPE",Tu="NEW_VALIDATION_TYPE",Su="NEW_OPTION_ITEM_NODE",Pu="NEW_OPTION_NODE",Au="NEW_CUSTOM_OPTION",Iu="UPDATE_GROUP_PROPERTY",Lu="NEW_DATA_SOURCE",$u="NEW_COMPONENT_NODE",wu="NEW_PERMISSION_PROPERTY_DEPENDENCY_NODE",xu="NEW_EXTENSION_LIST_NODE",ju="NEW_EXTENTION_NODE",Ru="NEW_SCREEN_OPTIONS",Du="ADD_EXTENSION_DEFINITION_CONFIG_PROPERTY",Gu="APPLY_FUNCTION_CONSTRAINTS",Fu="ADD_NEW_REFERENCE_NODE;",Uu="SET_DEPTH";function Vu(e){return Hu(e)}function Bu(e,t){return(r,n)=>{t.method({model:e,dispatch:r,getState:n})}}function Hu(e,t){return(r,n)=>{var o=n();let i=null;var a=Vl(o,lu);let s=Vl(o,pu)||[];a?(i=a=ql(o,a),s.length&&(a=Ni(a,{scope:s}))):(Hl((a=yi()).id,lu,r),i=a);var l=e;Array.isArray(e)||(l=[{operation:e,options:t}]),l.filter(e=>e).map(e=>{let{operation:t,options:o}=e;switch(t){case Uu:a=function(e,t){var{depth:r}=t;return e.depth=r,e}(a,o);break;case ou:a=function(e){return Ui(e,Va())}(a),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case iu:a=Gi(a,o);break;case nu:a=function(e,t){var{text:r}=t;return e.title=r,e}(a,o);break;case au:a=ca(a,o);break;case hu:a=function(e,t){let{target:r,source:n,properties:o}=t;if(r!==n)return Ta(e,t,Ba(r,n,o));return e}(a,o);break;case _u:a=function(e,t){return Ra(e,Sa(e,t),t)}(a,o);break;case gu:a=function(e,t){return Ra(e,e.linkLib[t.id])}(a,o);break;case Iu:a=Fa(a,o);break;case su:a=Da(a,{...o,prop:"text"});break;case du:a=Da(a,o);break;case cu:a=function(e,t){return Hi(e,t,Bn.Property)}(a,o),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case uu:a=function(e,t){var r=Ca(e,{id:t.parent,links:[{direction:Na,type:_o.PropertyLink}]}).map(e=>Es(e,uo.UIText));return Bi.filter(e=>-1===r.indexOf(e.title)).map(r=>{e=Hi(e,t,r.nodeType,(e,t)=>(t=Da(t,{id:e.id,prop:uo.UIText,value:r.title}),t=Da(t,{id:e.id,prop:uo.IsDefaultProperty,value:!0}),t=Da(t,{id:e.id,prop:uo.UIAttributeType,value:r.type})))}),e}(a,o);break;case mu:a=Hi(a,o,is.Attribute),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case yu:a=Hi(a,o,is.Condition),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case vu:o.nodeType&&(a=Hi(a,o,o.nodeType,o.callback),Xl(ep,a.nodes[a.nodes.length-1])(r,n));break;case Ou:a=Hi(a,o,is.ModelItemFilter),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case ku:a=Hi(a,o,is.AfterEffect),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case $u:a=Hi(a,o,is.ComponentNode),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case Lu:a=Hi(a,o,is.DataSource),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case Tu:a=Hi(a,o,is.ValidationList),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case wu:a=Hi(a,o,is.PermissionDependency),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case Mu:a=Hi(a,o,is.ChoiceList),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case Cu:a=Hi(a,o,is.Parameter),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case Eu:a=Hi(a,o,is.FunctionOutput),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case fu:a=Hi(a,o,is.Permission),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case Pu:a=Hi(a,o,is.OptionList),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case Au:a=Hi(a,o,is.OptionCustom),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case Ru:a=Hi(a,o,is.ScreenOption),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case Fu:a=Hi(a,o,is.ReferenceNode),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case xu:a=Hi(a,o,is.ExtensionTypeList),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case Nu:a=Hi(a,o,is.ValidationListItem),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case ju:a=Hi(a,o,is.ExtensionType),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case Su:a=Hi(a,o,is.OptionListItem),Xl(ep,a.nodes[a.nodes.length-1])(r,n);break;case Gu:a=ia(a,o)}a=function(e){let t=e.functionNodes;if(t){let s=[];for(let l in t){var r=Yi(e,l);if(r){var n=Es(r,uo.FunctionType);if(n){var o=(void 0)[n];if(o&&o[ei.CLASSES]){let t=o[ei.CLASSES];if(t)for(let n in t){let o=t[n][Zo.MODEL];if(o){var i=na(e,{id:l,constraintKey:o}),a=[];i.map(t=>{var r=fa(e,{id:t.id});a.push(...r)}),a.map(e=>{s.push({nodeId:e.id,functionNode:r.id,key:o,class:n})})}}}}}s=[...s.unique(e=>JSON.stringify(e))],Object.keys(e.classNodes).map(t=>{s.find(r=>ha(Es(e.nodeLib[t],uo.ClassConstructionInformation),r))||(e=Gi(e,{id:t}))}),s.map(t=>{var r=Object.keys(e.classNodes).filter(r=>!!ha(Es(e.nodeLib[r],uo.ClassConstructionInformation),t));if(0===r.length)e=Hi(e,{parent:t.functionNode,linkProperties:{properties:{...Co.RequiredClassLink}}},Bn.ClassNode,r=>{e=Da(e,{id:r.id,prop:uo.UIText,value:ra(t.class,Es(Yi(e,t.nodeId),uo.CodeName))}),e=Da(e,{id:r.id,prop:uo.ClassConstructionInformation,value:t})});else if(1===r.length){var n=e.nodeLib[r[0]];e=Da(e,{id:n.id,prop:uo.UIText,value:ra(t.class,Es(Yi(e,t.nodeId),uo.CodeName))})}else console.error("There should never be more than one")})}}return e}(a=ea(a))}),Wl(i=function(e){if(e&&e.referenceNodes)for(var t in e.referenceNodes)if(e.graphs&&e.graphs[t]){let o=e.graphs[t];for(let i in e.referenceNodes[t]){var r=e.nodeLib[e.referenceNodes[t][i]];if(r){var n=Yi(o,i);n&&(n.properties.text=r.properties.text,n.properties.referenceType=r.properties.nodeType)}}}return e}(i=s.length?function(e,t){var{scope:r,graph:n}=t;if(r&&r.length){var o=e;r.map((e,t)=>{t===r.length-1?o.graphs[e]=n:o=o.graphs[e]})}else e=n;return e}(i,{scope:s,graph:a}):a),r)}}const qu={SelectedNode:"#f39c12"};(e=>{e.toNodeSelect||Object.defineProperty(e,"toNodeSelect",{enumerable:!1,writable:!0,configurable:!0,value:function(){return this.map(e=>({value:e.id,id:e.id,title:ip(e)}))}})})(Array.prototype);const Wu={scaffold:{message:"scaffold-project",reply:"scaffold-project-reply"},reactnative:{message:"react-project",reply:"react-project-reply"}};var Yu=r("path"),zu=r.n(Yu);const Ju="./app/templates/namespace.tpl";class Xu{static Generate(e){var{template:t,namespace:r,space:n,usings:o}=e;let i=Vn.a.readFileSync(Ju,"utf8");return i=mi(i,{namespace:r,space:n,imports:o?o.map(e=>`using ${e};`).unique(e=>e).join("\r\n"):null,body:t})}}const Ku="./app/templates/controller/controller.tpl",Qu="./app/templates/controller/controller_functions.tpl",Zu="./app/templates/controller/controller_functions_get.tpl";class ed{static Tabs(e){let t="";for(var r=0;r<e;r++)t+=rd;return t}static Generate(e){var{state:t,key:r}=e;let n=Vp(t),o=n?n[vi.NAMESPACE]:null,i=mp(t,is.Controller),a=Vn.a.readFileSync(Ku,"utf8"),s=Vn.a.readFileSync(Qu,"utf8"),l=Vn.a.readFileSync(Zu,"utf8"),p=Vp(t),u={};return i.map(e=>{let r=a,i="",d=`${Es(e,ss.CodeName)}`,c=mp(t,is.Model).find(e=>Es(e,ss.IsUser)),f=[];Ea(p,{id:e.id,type:_o.MaestroLink,direction:Na}).map(t=>{let o=Ea(p,{id:t.id,type:_o.FunctionLink,direction:Na}),a=Es(t,ss.CodeName);(f=o).length&&f.filter(e=>!Es(e,ss.NotIncludedInController)).map(t=>{var r=li[Es(t,ss.FunctionType)];if(r){let o=r.controller||s,u="",d="",c="";if(!r.controller&&[Eo.Get,Eo.GetAll].some(e=>e===Es(t,ss.MethodType))){o=l;let e="modelId";r.parentGet&&(e="parentId"),u=`string ${e}`,d=`/{${e}}`,c=`${e}`}Es(t,ss.CodeName),Ea(p,{id:t.id,type:_o.FunctionConstraintLink,direction:Na});let f=`${Es(t,ss.CodeName)}`,m=`${Es(t,ss.HttpMethod)}`,h=`${Es(t,ss.HttpRoute)}`,y=Es(t,ss.MethodProps);if(!y)return;let v=Yi(p,y.model),_=Yi(n,y[Fo.CompositeInput]),g="{controller_generator_missing_model}";v&&(g=Es(v,ss.CodeName)||g,r.isList&&(g=`IList<${g}>`)),o=mi(o,{functionName:f,maestro_function:f,parameters:u,parameter_values:c,parameter_route:d,http_route:h||"{controller_generator_http_method",http_method:m||"{controller_generator_http_method",user_instance:e?Es(e,ss.CodeUser):"{controller_generator_code_name}",output_type:g,maestro_interface:ri(a),input_type:_||v?Ts(_||v):"{controller_generator_missing_model}"}),i+=td+o}}),r=mi(r,{codeName:d,"codeName#alllower":d.toLowerCase(),user_instance:e?Es(e,ss.CodeUser):"{controller_generator_code_name}",user:c?Es(c,ss.CodeName):"{controller_generator_code_name}",functions:i})});u[Es(e,ss.CodeName)]={id:Es(e,ss.CodeName),name:Es(e,ss.CodeName),template:Xu.Generate({template:r,usings:[...Xn,`${o}${no.Model}`,"Microsoft.AspNetCore.Mvc"],namespace:o,space:no.Controllers})}}),u}}const td="\n",rd="   ",nd="./app/templates/models/model.tpl",od="./app/templates/models/model_property.tpl",id="./app/templates/models/model_statics.tpl",ad="./app/templates/models/model_attributes.tpl";class sd{static Generate(e){var{state:t,key:r}=e;let n=Vp(t),o=mp(t,Bn.Model),i={};return o.map(e=>{var r=sd.GenerateModel({graph:n,nodeId:e.id,state:t});i[r.id]=r}),i}static GenerateModel(e){var{state:t,graph:r,nodeId:n}=e,o=[],i={};let a=Vp(t),s=a?a[vi.NAMESPACE]:null;var l=Yi(r,n);if(!l)return null;i.model=Es(l,ss.CodeName),i.base_model=Es(l,ss.IsUser)?"RedUser":"DBaseData",i.account_enabling_func="",Es(l,ss.IsUser)&&(i.account_enabling_func="\n            \n        public static User Create(RedExternalLoginViewModel model)\n        {\n            return new User\n            {\n                Email = model.Email,\n                UserName = model.UserName\n            };\n        }\n        public static User Create(RedRegisterViewModel model)\n        {\n            return new User\n            {\n                Email = model.Email,\n                UserName = model.UserName\n            };\n        }"),i.attributes="";var p=Ea(r,{id:l.id,type:_o.PropertyLink,direction:Na});let u=Vn.a.readFileSync(od,"utf8"),d=Vn.a.readFileSync(ad,"utf8"),c=Vn.a.readFileSync(id,"utf8"),f=Ea(r,{id:n,type:_o.ValidatorModel,direction:Ma}).map(e=>Es(e,ss.CodeName)).map(e=>sd.tabs(1)+`[${e}]`+Mo).join("");i.attributes=f;let m=[],h=p.filter(e=>!Es(e,ss.IsDefaultProperty)).map(e=>{var t=Ea(r,{id:e.id,type:_o.AttributeLink,direction:Na});let n=u,i=Es(e,ss.UIAttributeType);Po[To.CSHARP][i]&&o.push(...Po[To.CSHARP][i],`${s}${no.Model}`,`${s}${no.Extensions}`);let a=So[To.CSHARP][i];Es(e,ss.UIModelType)&&(a="string"),Es(e,ss.UseModelAsType)&&Es(e,ss.IsReferenceList)&&(a=`IList<${a}>`);let p={model:Es(l,ss.CodeName),property_type:a,property:Es(e,ss.CodeName),attributes:t.map(t=>{var n=Ea(r,{id:t.id,type:_o.Option,direction:Na});let o=[];n.map(e=>{Ea(r,{id:e.id,type:_o.OptionItem,direction:Na}).map(e=>{Es(e,ss.UseCustomUIOption)?o.push(Es(e,ss.UIOptionTypeCustom)):o.push(Es(e,ss.UIOptionType))})}),o=o.unique().map(e=>`UIAttribute.${e}`);var i={};Object.keys(ko).map(e=>{i[ko[e]]=e});var a=[];Es(t,ss.UseUIValidations)&&Ea(r,{id:t.id,type:_o.Validation,direction:Na}).map(e=>{Ea(r,{id:e.id,type:_o.ValidationItem,direction:Na}).map(e=>{a.push(`ValidationRules.${i[Es(e,ss.UIValidationType)]}`)})});let s=null;Es(t,ss.UIExtensionList)&&Ea(r,{id:t.id,type:_o.Extension,direction:Na}).map(e=>{s=Es(e,ss.CodeName)});let l=o&&o.length?mi("Options = new string[] { {{options_list}} },",{options_list:o.map(e=>`${e}`).join(", ")}):"",p=a&&a.length?mi("ValidationRules = new string[] { {{validation_list}} },",{validation_list:a.map(e=>`${e}`).join(", ")}):"",u=s?mi("ChoiceType = {{choice_type}}.Name,",{choice_type:s}):"",c={property:Es(e,ss.CodeName),property_type:Es(e,ss.UseModelAsType)?Es(e,ss.UIModelType):Es(e,ss.UIAttributeType),ui_title:Es(e,ss.UIName),singular:Es(e,ss.UISingular)?"true":"false",options:l,choice_type:u,validation_rules:p};return t&&t.uiValidationType,mi(d,c)}).filter(e=>e).join("\r\n")};return n=mi(n,p)});Es(l,ss.HasLogicalChildren)&&Es(l,ss.ManyToManyNexus)&&(Es(l,ss.LogicalChildrenTypes)||[]).map(e=>{let r=Yi(Up(t),e),n={property_type:So[To.CSHARP][us.STRING],property:Es(r,ss.CodeName),attributes:""};h.push(mi(u,n))});let y={model:Es(l,ss.CodeName)};(m.push(mi(c,y)),Es(l,ss.IsUser))&&mp(t,Bn.Model).filter(e=>e.id!==l.id&&Es(e,ss.IsAgent)).map(e=>{let t=u;t=mi(t,{property_type:So[To.CSHARP][us.STRING],property:Es(e,ss.CodeName),attributes:""}),h.push(t)});i.properties=h.join(""),i.staticFunctions=m.unique(e=>e).join("\n"),console.log(i.properties);let v=Vn.a.readFileSync(nd,"utf8");return v=mi(v,i),{id:Es(l,ss.CodeName),name:Es(l,ss.CodeName),template:Xu.Generate({template:v,usings:[...o,"RedQuickCore.Identity",...Xn],namespace:s,space:no.Model})}}static tabs(e){let t="";for(var r=0;r<e;r++)t+="\t";return t}}const ld="./app/templates/extensions/extensions.tpl",pd="./app/templates/extensions/extension_properties.tpl",ud="./app/templates/extensions/extension_new_instance.tpl",dd="./app/templates/extensions/extension_new_instance_properties.tpl",cd="./app/templates/extensions/extension_new_instance_list.tpl",fd="./app/templates/extensions/extension_new_instance_list_add.tpl",md="./app/templates/extensions/extension_new_instance_dictionary.tpl",hd="./app/templates/extensions/extension_new_instance_dictionary_add.tpl",yd="./app/templates/extensions/create_new_list_instance.tpl",vd=6;class _d{static Tabs(e){let t="";for(var r=0;r<e;r++)t+=Cd;return t}static GetExtensionNodeValues(e){var t=Es(e,ss.UIExtensionDefinition);if(t&&t.config&&t.config.isEnumeration)return t.config.list.map(e=>t.config.keyField?e[t.config.keyField]:e[Object.keys(e)[0]]);throw new Error("unhandled - getting extensions nodes not as an enumeration")}static CreateListInstanceTemplate(e){let{node:t,name:r}=e;return mi(Vn.a.readFileSync(yd,"utf8"),{name:r,model:Es(t,ss.CodeName)})}static Generate(e){var{state:t,key:r}=e;let n=mp(t,is.ExtensionType),o=Vp(t),i=o?o[vi.NAMESPACE]:null,a=Vn.a.readFileSync(ld,"utf8"),s=Vn.a.readFileSync(pd,"utf8"),l=Vn.a.readFileSync(ud,"utf8"),p=Vn.a.readFileSync(dd,"utf8"),u=Vn.a.readFileSync(cd,"utf8"),d=Vn.a.readFileSync(fd,"utf8"),c=Vn.a.readFileSync(md,"utf8"),f=(Vn.a.readFileSync(hd,"utf8"),{});return n.map(e=>{let t=a,r="",n="";var o=[];let m=Es(e,ss.UIExtensionDefinition);if(m){let t=Es(e,ss.CodeName),{config:i,definition:a}=m;if(a&&(a={...a,Value:"string"},r=Object.keys(a).map(e=>{var r=s;return r=mi(r,{name:t,property:e,type:a[e]})}).join(""),i)){var h=[];let e="";if(i.isEnumeration)h=i.list.map((e,r)=>{let n;e={...e,Value:r+1};let i=Object.keys(e).map(t=>{let r=p;return r=mi(r,{property:t,value:yo(e[t])}),isNaN(e[t])&&o.push({name:yo(e[t]),value:`"${e[t]}"`}),r}).join(`,${gd}`);return n=mi(n=l,{properties:bd+_d.Tabs(vd)+i,model:t})});else{let r,n=Object.keys(i.dictionary).map(e=>{let t=p,r={...i.dictionary};return t=mi(t,{property:e,value:yo(r[e])}),isNaN(r[e])&&o.push({name:yo(r[e]),value:`"${r[e]}"`}),t}).join(`,${gd}`);r=mi(r=l,{properties:bd+_d.Tabs(vd)+n,model:t});let a=c;e=a=mi(a,{instance:e=r,model:t})}h=h.map(e=>{let t=d;return t=mi(t,{instance:e})}),n=mi(u,{addings:h.join(""),model:t})+bd+e}}t=mi(t,{name:Es(e,ss.CodeName),properties:r,statics:n,constants:o.unique(e=>e).map(e=>bd+_d.Tabs(3)+function(e){var{name:t,value:r}=e;return`public const string ${t} = ${r};`}(e)).join("")}),f[Es(e,ss.CodeName)]={id:Es(e,ss.CodeName),name:Es(e,ss.CodeName),template:Xu.Generate({template:t,usings:[...Xn],namespace:i,space:no.Extensions})}}),f}}const gd="\n                    ",bd="\n",Cd="   ",Ed="./app/templates/permissions/tests/test_case.tpl",Od="./app/templates/tests/tests.tpl",kd="./app/templates/permissions/tests/test_case_property.tpl",Nd="./app/templates/permissions/permissions_interface.tpl",Md="./app/templates/permissions/permissions_case.tpl",Td="./app/templates/permissions/permissions_case_enumeration.tpl",Sd="./app/templates/permissions/permissions_case_included_in_list.tpl",Pd="./app/templates/permissions/permissions_method.tpl",Ad="./app/templates/permissions/permissions_arbiter_prop.tpl",Id="./app/templates/permissions/permissions_impl.tpl",Ld="./app/templates/permissions/permissions_interface_methods.tpl",$d="./app/templates/permissions/match-many-reference-parameter.tpl",wd="./app/templates/permissions/tests/many_to_many_constructor.tpl",xd="./app/templates/permissions/match-reference.tpl";class jd{static PermissionMatches(e,t,r){var n=Gp(e);if(n){switch(Sp(n)){case Go.Get_Parent$Child_Agent_Value__IListChild:case Go.Get_ManyToMany_Agent_Value__IListChild:return Ap(n,Fo.Agent)===t.id&&Ap(n,Fo.Parent)===r.id;default:return Ap(n,Fo.Agent)===t.id&&(Ap(n,Fo.Model)===r.id||Ap(n,Fo.CompositeInput)===r.id)}}return!1}static createInstanceEnumerationListName(e,t,r,n="Enums"){return`list${n}${Es(e,ss.CodeName)||e}${Es(t,ss.CodeName)||t}${r}`}static _createConstantList(e,t){return t.map(t=>`${e}.${yo(t)}`)}static _createEnumerationInstanceList(e,t,r){var n=Es(e,ss.AllowedEnumValues)||[];let o=Es(t,ss.CodeName);return n.map(e=>`${o}.${yo(e)}`)}static _getNotAllowedConstances(e,t,r){var n=Es(e,ss.DisallowedEnumValues)||[];let o=Es(t,ss.CodeName);return n.map(e=>`${o}.${yo(e)}`)}static createEnumerationInstanceList(e,t,r){return`var ${jd.createInstanceEnumerationListName(e,t,r)} = new List<string> { ${jd._createEnumerationInstanceList(e,t,r).map(e=>Rd+Gd(5)+e).join()} ${Rd+Gd(5)}};${Rd}`}static createStringList(e){var{name:t,constants_allowed:r,enumerationName:n}=e;return`var ${t} = new List<string> { ${(r=r.map(e=>`${n}.${yo(e)}`)).map(e=>Rd+Gd(5)+e).join()} ${Rd+Gd(5)}};${Rd}`}static _createExtensionInstanceList(e,t,r,n="Enums"){var o=Es(e,ss.AllowedExtensionValues)||[];let i=Es(t,ss.CodeName);return o.map(e=>`${i}.${yo(e)}`)}static _getNotAllowedExtectionConstances(e,t,r,n="Enums"){var o=Es(e,ss.DisallowedExtensionValues)||[];let i=Es(t,ss.CodeName);return o.map(e=>`${i}.${yo(e)}`)}static createExtensionInstanceList(e,t,r,n="Enums"){return`var ${jd.createInstanceEnumerationListName(e,t,r,"Extensions")} = new List<string> { ${jd._createExtensionInstanceList(e,t,r,n).map(e=>Rd+Gd(5)+e).join()} ${Rd+Gd(5)}};${Rd}`}static IsRequestor(e,t,r){return!!Ea(e,{id:r.id,type:_o.RequestorPermissionLink}).find(e=>e.id===t.id)}static GetExtensionNodeValues(e,t,r,n,o){var i=Ea(e,{id:t.id,type:_o.PermissionPropertyDependency});let a=[];return i.map(t=>{let i=Ea(e,{id:t.id,type:_o.PermissionPropertyDependency})[0];if(!i)return;let s=Ea(e,{id:i.id,type:_o.PermissionDependencyProperty}),l=null;if(1!==s.length)return;l=s[0];var p=function(e,t){var{source:r,target:n,type:o}=t,i=da(e,{source:r,target:n});return!!i&&Rl(i,bo.TYPE)===o}(e,{target:l.id,source:n.id,type:_o.PropertyLink});let u=Yi(e,Es(t,ss.Enumeration)),d=Yi(e,Es(t,ss.UIExtension)),c=Es(t,ss.UseEnumeration),f=Es(t,ss.UseExtension);if(Es(t,ss.IncludedInList)){let e=mi(Vn.a.readFileSync(Sd,"utf8"),m={method:r,parent:`${Es(n,ss.AgentName)||"agent"}`.toLowerCase(),parent_property:"Id",value:`${p?"value":"data"}`.toLowerCase(),value_property:Es(i,ss.CodeName),model:"data",casename:Es(t,ss.CodeName),extension:Es(d,ss.CodeName),instance_list:""});a.push({variable:`can${m.method}${m.model}${m.casename}`,template:e})}if(c){let e=Vn.a.readFileSync(Td,"utf8"),n=jd.createEnumerationInstanceList(t,u,r),s=jd.createInstanceEnumerationListName(t,u,r);var m;let l=mi(e,m={method:r,value:`${p?"value":"data"}`.toLowerCase(),value_property:Es(i,ss.CodeName),model:Es(o,ss.CodeName),casename:Es(t,ss.CodeName),"allowed-values-list":s,extension:Es(d,ss.CodeName),instance_list:n});a.push({variable:`can${m.method}${m.model}${m.casename}`,template:l})}if(f){let e=Es(d,ss.UIExtensionDefinition),n=Vn.a.readFileSync(Md,"utf8"),o=jd.createExtensionInstanceList(t,d,r),s=jd.createInstanceEnumerationListName(t,d,r,"Extensions"),l={method:r,value:"value",value_property:Es(i,ss.CodeName),model:"data",casename:Es(t,ss.CodeName),extension_propery_key:e&&e.config?e.config.keyField:null,extension_value_property:"Value","allowed-values-list":s,extension:Es(d,ss.CodeName),instance_list:o},p=mi(n,l);a.push({variable:`can${l.method}${l.model}${l.casename}`,template:p})}}),a}static IsAppliedPermission(e,t,r){let n=Ea(e,{id:t.id,type:_o.AppliedPermissionLink});if(n&&n.length&&function(e,t){var{source:r,target:n}=t;return Object.values(e.linkLib).find(e=>e.source===r&&e.target===n)}(e,{source:n[0].id,target:r.id}))return!0;return!1}static GetTestExtensionNodeValues(e,t,r,n,o){return[]}static getReferencedNodeName(e,t,r){return Es(jd.getReferencedValue(e,t,r),ss.CodeName)}static getReferencedValue(e,t,r){return Yi(e,t[r])}static getReference(e,t){return e[t]}static GenerateCases(e,t,r,n){var o=Up(e);let i=Vn.a.readFileSync($d,"utf8"),a=Vn.a.readFileSync(xd,"utf8"),s={};if(t)for(var l in Eo){var p=Es(t,ss.UIPermissions);if(p&&p[l]){let r=[],p=ba(e,{id:t.id,links:[{type:_o.Condition,direction:Na}]});p&&p.length&&p.map((s,p)=>{var u="variable_"+p;switch(Es(s,ss.ConditionType)){case ui.MatchReference:if(m=Es(s,ss.MatchReference)){var d=Yi(o,m[di.Ref1]);let n=ba(e,{id:t.id,links:[{type:_o.Condition,direction:Ma},{type:_o.FunctionOperator,direction:Ma}]}).find(e=>e);if(n){let e=Es(n,ss.MethodProps);if(e){var c=m[di.Ref1UseId],f=m[di.Ref2UseId];r.push({template:mi(a,{variable:u,value_property:c?"Id":wl(o,m[di.Ref1Property]),data_property:f?"Id":wl(o,m[di.Ref2Property]),relationship:Es(h,ss.CodeName),property:Es(d,ss.CodeName)}),options:m,methodProps:e,sameInstance:!(!e[m[di.Ref1]]||!e[m[di.Ref2]]),variable:u})}}}break;case ui.MatchManyReferenceParameter:var m;if(m=Es(s,ss.MatchManyReferenceParameter)){d=Yi(o,m[di.RefManyToManyProperty]);let n=ba(e,{id:t.id,links:[{type:_o.Condition,direction:Ma},{type:_o.FunctionOperator,direction:Ma}]}).find(e=>e);if(n){let e=Es(n,ss.MethodProps);if(e){let t=[di.Ref1,di.Ref2];var h=Yi(o,e[m[di.RefManyToMany]]);let n=t.find(t=>m[t]===Zo.PARENT&&e.model&&e.model!==e.parent);r.push({arbiter:Es(h,ss.CodeName),template:mi(i,{variable:u,data:n?Zo.PARENT:"data",relationship:Es(h,ss.CodeName),property:Es(d,ss.CodeName)}),methodProps:e,options:m,variable:u})}}}break;case ui.InEnumerable:var y=Es(s,ss.EnumerationReference);if(y){let e=y[di.Ref1],t=Yi(o,y[ss.Enumeration]);if(t){let i=Es(s,ss.CodeName)||Es(s,ss.NODEType),a=`${i}_valid_items`,p=Vn.a.readFileSync(Td,"utf8"),u=jd.createStringList({name:a,constants_allowed:y[ss.AllowedEnumValues],enumerationName:Es(t,ss.CodeName)}),d=Yi(o,y[di.Ref1Property]);var v={method:l,value:`${"model"!==e?"value":"data"}`.toLowerCase(),value_property:Es(d,ss.CodeName),model:Es(n,ss.CodeName)||Es(n,ss.NODEType),casename:i,"allowed-values-list":a,instance_list:u};let c=mi(p,v);r.push({variable:`can${v.method}${v.model}${v.casename}`,template:c})}}}}),s[l]=r}}return s}static EnumerateCases(e){return Vm(e.map(e=>(e&&e.values?e.values.length:0)+(e&&e.neg?e.neg.length:0)))}static EnumeratePermissionCases(e,t,r,n,o){if(!(t&&r&&n&&o))return[];let i=jd.GetTestExtensionNodeValues(e,t,r,n,o),a=jd.EnumerateCases(i),s=Vn.a.readFileSync(kd,"utf8"),l=Es(Ms({id:t.id,links:[{type:_o.FunctionOperator,direction:Ma}]}),ss.MethodProps);return a.map(e=>{let t=[],r=[],n=[],o=!0;return e.map((e,a)=>{let p,u=i[a];switch(o=o&&u.values.length>e,u.type){case ui.MatchManyReferenceParameter:if(u.options&&u.options[di.Ref1]&&u.options[di.Ref2]&&l&&l[u.options[di.Ref1]]&&l[u.options[di.Ref2]]&&u.options[di.Ref1]!==u.options[di.Ref2]){let e=u.options[di.Ref2];switch(u.options[di.Ref2]){case Fo.AgentType:throw"this should be agent now"}if(e){let n,i="Id";u.options[di.Ref1UseId]||(i=u.options[di.Ref1Property]);let a=u.options[di.Ref1];switch(a){case Fo.Agent:case Fo.Model:case Fo.Parent:n=mi(s,{model:a,property:`.${i}`,value:'"wrong"'}),t.push({props:o?"":n,type:u.type}),r.push({property:`.${i}`,value:`${e}.Id`});break;case Fo.AgentType:throw"This should be agent now";default:throw"this hasnt been defined yet"}}}break;case ui.MatchReference:if(u.options&&u.options[di.Ref1]&&u.options[di.Ref2]&&u.options[di.Ref1]!==u.options[di.Ref2]){let e=u.options[di.Ref2],i=u.options;switch(u.options[di.Ref2]){case Fo.AgentType:throw"this should be agent now"}if(e){let a="Id";u.options[di.Ref1UseId]||(a=Ts(a=u.options[di.Ref1Property]));let p,d="Id";u.options[di.Ref2UseId]||(d=Ts(d=u.options[di.Ref2Property]));let c=u.options[di.Ref1];u.options[di.Ref2];switch(c){case Fo.Agent:case Fo.Model:case Fo.Parent:p=mi(s,{model:c,property:`.${a}`,value:o?`${e}.${d}`:'"wrong"'}),n.push(p),t.push({setup_cases:["asdf"],props:p,sameInstance:!(!l[i[di.Ref1]]||!l[i[di.Ref2]]),type:ui.MatchReference}),r.push({props:{property:`.${a}`,value:`${e}.${d}`},type:c});break;case Fo.AgentType:throw"This should be agent now";default:throw"this hasnt been defined yet"}}}break;default:p="model"===u.ref;let i=u.values.length<=e?u.neg[e-u.values.length]:u.values[e],a=mi(s,{model:p?"model":"agent",property:`.${u.property}`,value:i});p?(t.push({props:a,type:Fo.Model}),r.push({props:{property:u.property,value:i},type:Fo.Model})):(t.push({props:a,type:Fo.Agent}),r.push({props:{property:u.property,value:i},type:Fo.Agent}))}}),{setup_cases:n,props:[...t],properties:[...r],resultSuccess:o}})}static GenerateTestCases(e,t,r,n,o){var i=Up(e);let a=null,s=null,l="",p="",u=Vn.a.readFileSync(Ed,"utf8"),d=[],c=t?Ms({id:t.id,links:[{type:_o.FunctionOperator,direction:Ma}]}):null;if(a=xl(i,c,Fo.Parent),s=xl(i,c,Fo.ManyToManyModel),Ts(a))switch(l=Vn.a.readFileSync("./app/templates/permissions/tests/many_to_many_register.tpl","utf8"),Es(c,ss.FunctionType)){case Go.Get_ManyToMany_Agent_Value__IListChild:u=Vn.a.readFileSync("./app/templates/permissions/tests/Get_ManyToMany_Agent_Value__IListChild.tpl","utf8"),l=n?mi(l,{ref1type:Ts(a),ref1:Fo.Parent,ref2type:Ts(n),ref2:Fo.Model}):"";break;case Go.Create_Parent$Child_Agent_Value__IListChild:u=Vn.a.readFileSync("./app/templates/permissions/tests/Create_Parent$Child_Agent_Value__IListChild.tpl","utf8"),l=r?mi(l,{ref1type:Ts(a),ref1:Fo.Parent,ref2type:Ts(r),ref2:Fo.Agent}):"";break;case Go.Get_Parent$Child_Agent_Value__IListChild:u=Vn.a.readFileSync("./app/templates/permissions/tests/Get_Parent$Child_Agent_Value__IListChild.tpl","utf8"),l=r?mi(l,{ref1type:Ts(a),ref1:Fo.Parent,ref2type:Ts(r),ref2:Fo.Agent}):"";break;default:l=""}switch(Es(c,ss.FunctionType)){case Go.Get_Object_Agent_Value__Object:l=Vn.a.readFileSync("./app/templates/permissions/tests/many_to_many_register.tpl","utf8"),n?(l=mi(l,{ref1type:Ts(s.properties.logicalChildrenTypes[0]),ref1:Fo.Agent,ref2type:Ts(s.properties.logicalChildrenTypes[1]),ref2:Fo.Model}),p=mi(Vn.a.readFileSync(wd,"utf8"),{many_to_many:Ts(s)})):l=""}if(s||(l=""),c)for(var f in Eo){var m=Es(t,ss.UIPermissions);if(t&&m&&m[f]){let e=Es(n,ss.CodeName);let m=Es(t,ss.PermissionValueType),h=Es(c,ss.MethodProps);m&&h&&(e=Ts(h[m]));let y=jd.EnumeratePermissionCases(i,t,f,r,n);y=y.map((i,d)=>{var{props:c,resultSuccess:m,templates:h={},setup_cases:y=[]}=i;return mi(mi(u,{many_to_many_register:l}),{setup_cases:y.join(Mo),set_agent_properties:c.filter(e=>e.type===Fo.Agent).map(e=>e.props).join(Mo),set_model_properties:c.filter(e=>e.type===Fo.Model).map(e=>e.props).join(Mo),set_parent_properties:c.filter(e=>e.type===Fo.Parent).map(e=>e.props).join(Mo),set_match_reference_properties:c.filter(e=>e.type===ui.MatchReference).map(e=>e.props).join(Mo),set_match_many_reference_properties:c.filter(e=>e.type===ui.MatchManyReferenceParameter).map(e=>e.props).join(Mo),agent_type:Ts(r),parent_setup:"",many_to_many_constructor:p,model:e,many_to_many:Ts(s),many_to_many_arbiter_constructor:s?mi("var manyToManyArbiter = RedStrapper.Resolve<IRedArbiter<{{many_to_many}}>>();",{many_to_many:Ts(s)}):"",parent:Ts(a),parent_agent_are_the_same:m&&a&&r&&a.id&&r.id&&a.id===r.id?"parent = agent;":"",method:f,test:`_${Ts(r)}_${Ts(n)}_${f}_${d}_case${o}`,result:m?"true":"false",function_name:Ts(t)+f,...h})}),d=[...d,...y]}}return d}static Generate(e){var{state:t,key:r}=e;let n=mp(t,is.Model),o=mp(t,is.Permission),i=n.filter(e=>Es(e,ss.IsAgent)),a=Vp(t),s=a?a[vi.NAMESPACE]:null,l=Vn.a.readFileSync(Od,"utf8"),p=Vn.a.readFileSync(Nd,"utf8"),u=Vn.a.readFileSync(Id,"utf8"),d=Vn.a.readFileSync(Ld,"utf8"),c=Vn.a.readFileSync(Pd,"utf8"),f=Vn.a.readFileSync(Ad,"utf8"),m={};return i.map(e=>{let r=u,i=p,a=l,h=[],y=[],v=[],_=[];n.map(r=>{let n=o.filter(t=>jd.PermissionMatches(t,e,r));if(!n||!n.length)return;let i=[],a=[];n.map((n,o)=>{if(n){a.push(Es(n,ss.CodeName));let s=jd.GenerateCases(t,n,e,r),l=jd.GenerateTestCases(t,n,e,r,o);i.push(s),v.push(...l)}}),i.map((t,o)=>{for(var i in t){let l=t[i],p="",u="";l.map(e=>{if(e&&e.arbiter&&_.push(e),e&&e.options&&e.methodProps){[di.Ref1,di.Ref2].map(t=>{if(e.methodProps[e.options[t]]){let n=Ts(e.methodProps[e.options[t]]);e.options[t]===Zo.PARENT&&e.methodProps.parent!==r.id&&(u=n),n&&_.push({arbiter:n})}})}}),p=u?`var parent = data.${u} != null ? (await arbiter${u}.Get<${u}>(data.${u})) : null;`:"var parent = data;";let f=Es(r,ss.CodeName);var s=n[o];let m=Es(s,ss.PermissionValueType);let v=Es(s?Ms({id:s.id,links:[{direction:Ma,type:_o.FunctionOperator}]}):null,ss.MethodProps);m&&v&&(f=Ts(v[m]));let g=c,b=d;g=mi(g,{model:f,value:"data",agent_type:Es(e,ss.CodeName),function_name:a[o]+i,agent:"value",parent_setup:p,method:i,cases:l.map(e=>Rd+Gd(4)+e.template).join(""),case_result:Rd+Gd(4)+`result = ${l.map(e=>e.variable).join(" && ")};`}),b=mi(b,{model:f,function_name:a[o]+i,value:"data",agent_type:Es(e,ss.CodeName),agent:"value",method:i}),y.push(b),h.push(g)}})}).join(Rd),_=_.map(e=>e.arbiter).unique(e=>e).map(e=>mi(f,{arbiter:e})).join(Rd),r=mi(r,{agent_type:Es(e,ss.CodeName),arbiters:_,methods:h.unique().join(Rd+Rd)}),i=mi(i,{agent_type:Es(e,ss.CodeName),methods:y.unique().join(Rd+Rd)}),m[Es(e,ss.CodeName)]={name:`Permissions${Es(e,ss.CodeName)}`,tname:`Permissions${Es(e,ss.CodeName)}Tests`,iname:`IPermissions${Es(e,ss.CodeName)}`,template:Xu.Generate({template:r,usings:[...Xn,`${s}${no.Extensions}`,`${s}${no.Model}`,`${s}${no.Interface}`,_&&_.length?`${s}${no.Controllers}`:null,`${s}${no.Constants}`].filter(e=>e),namespace:s,space:no.Permissions}),interface:Xu.Generate({template:i,usings:[...Xn,`${s}${no.Interface}`,`${s}${no.Model}`],namespace:s,space:no.Interface}),test:Xu.Generate({template:mi(a,{tests:v.join(Mo),name:`Permissions${Es(e,ss.CodeName)}`}),usings:[...Xn,...Jn,`${s}${no.Interface}`,`${s}${no.Permissions}`,`${s}${no.Extensions}`,`${s}${no.Constants}`,`${s}${no.Model}`],namespace:s,space:no.Tests})}}),m}}const Rd="\n",Dd="   ";function Gd(e){let t="";for(var r=0;r<e;r++)t+=Dd;return t}const Fd="./app/templates/validation/validation_class.tpl",Ud="./app/templates/validation/tests/validation.tpl",Vd="./app/templates/tests/tests.tpl",Bd="./app/templates/validation/validation_property.tpl";class Hd{static enumerateValidationTestVectors(e){var t=e.map(e=>Object.keys(e.values.cases).length);return Hd.enumerate(t)}static enumerate(e,t=0){var r=[];if(t<e.length)for(var n=0;n<e[t];n++){var o=Hd.enumerate(e,t+1),i=[n];o.length?o.map(e=>{r.push([...i,...e])}):r.push(i)}return r}static Tabs(e){let t="";for(var r=0;r<e;r++)t+="    ";return t}static GenerateValidationCases(e,t){var r=Es(t,ss.ValidatorModel);let n=Di(Es(t,ss.Validator));var o=[];return Object.keys(n||{}).map(t=>{let r=Yi(e,t),i=n[t];return Object.keys(i.validators).map(t=>{let n=i.validators[t],a=Yi(e,n.node),s="";if(a)switch(Es(a,ss.NODEType)){case is.ExtensionType:if(n&&n.extension){let e={"_ _":'"__ _ __"'};s=Object.keys(n.extension).map(t=>{if(n.extension[t])return e[`$${t}`]=`${Es(a,ss.CodeName)}.${yo(t)}`,e[`$${t}`]}).filter(e=>e),o.push({property:Es(r,ss.CodeName),values:{cases:e,invalid:{"_ _":!0}}}),s=`new List<string> () {\n                ${s.join(", ")}\n            }`}break;case is.Enumeration:if(n&&n.enumeration){let t=Es(Yi(e,n.node),ss.CodeName);s=Object.keys(n.enumeration).map(e=>{if(n.enumeration[e])return`${t}.${yo(e)}`}).filter(e=>e),o.push({property:Es(r,ss.CodeName),values:{cases:[...s],invalid:{"_ _":!0}}}),s=`new List<string> () {\n                    ${s.join(", ")}\n                }`}}$o[n.type]&&o.push({property:Es(r,ss.CodeName),values:$o[n.type]})})}),Hd.enumerateValidationTestVectors(o).map((t,n)=>{let i=!0,a=[],s=t.map((t,n)=>{var s=Object.values(o[n].values.cases)[t],l=Object.keys(o[n].values.cases)[t];"function"==typeof s?s=s():o[n]&&o[n].values&&o[n].values.invalid&&!o[n].values.invalid[l]&&(l="$$"),i=i&&"$"===(l||[!1])[0];let p=Hd.Tabs(3)+`{{model}}.${o[n].property} = ${s};`;return a.push({set_properties:p,property:o[n].property,type:Es(Yi(e,r),ss.CodeName)}),p}).join(Mo);return{resultSuccess:i,propertyInformation:a,set_properties:s,type:Es(Yi(e,r),ss.CodeName)}})}static Generate(e){var{state:t,key:r}=e;let n=Vp(t),o=n?n[vi.NAMESPACE]:null,i=Vp(t),a={},s=mp(t,is.Validator),l=Vn.a.readFileSync(Fd,"utf8"),p=Vn.a.readFileSync(Bd,"utf8"),u=Vn.a.readFileSync(Ud,"utf8"),d=Vn.a.readFileSync(Vd,"utf8");return s.map(e=>{Es(e,ss.ValidatorAgent);var t=Es(e,ss.ValidatorModel),r=Yi(i,t),n=Es(e,ss.ValidatorFunction),s=Yi(i,n);let c=Di(Es(e,ss.Validator));var f=[];let m=Object.keys(c).map(e=>{let t=Yi(i,e),r=c[e];return Object.keys(r.validators).map(e=>{let n=r.validators[e],o=Yi(i,n.node),a="";if(o)switch(Es(o,ss.NODEType)){case is.ExtensionType:if(n&&n.extension){let e={"_ _":'"__ _ __"'};a=Object.keys(n.extension).map(t=>{if(n.extension[t])return e[`$${t}`]=`${Es(o,ss.CodeName)}.${yo(t)}`,e[`$${t}`]}).filter(e=>e),f.push({property:Es(t,ss.CodeName),values:{cases:e,invalid:{"_ _":!0}}}),a=`new List<string> () {\n                ${a.join(", ")}\n            }`}break;case is.Enumeration:if(n&&n.enumeration){let e=Es(Yi(i,n.node),ss.CodeName);a=Object.keys(n.enumeration).map(t=>{if(n.enumeration[t])return`${e}.${yo(t)}`}).filter(e=>e),f.push({property:Es(t,ss.CodeName),values:{cases:[...a],invalid:{"_ _":!0}}}),a=`new List<string> () {\n                    ${a.join(", ")}\n                }`}}return $o[n.type]&&f.push({property:Es(t,ss.CodeName),values:$o[n.type]}),mi(p,{attribute_type:n.code[To.CSHARP],attribute_type_arguments:a,model_property:`.${Es(t,ss.CodeName)}`})+Mo}).join("")}).join("");let h=Hd.enumerateValidationTestVectors(f).map((n,o)=>{let a=!0,s=n.map((e,t)=>{var r=Object.values(f[t].values.cases)[e],n=Object.keys(f[t].values.cases)[e];return"function"==typeof r?r=r():f[t]&&f[t].values&&f[t].values.invalid&&!f[t].values.invalid[n]&&(n="$$"),a=a&&"$"===(n||[!1])[0],Hd.Tabs(3)+`model.${f[t].property} = ${r};`}).join(Mo);return mi(u,{model:Es(r,ss.CodeName),test_name:`Test${o}`,attribute_parameters:"",expected_value:a?"true":"false",set_properties:s,attribute_type:`${Es(e,ss.CodeName)}Attribute`,properties:m,type:Es(Yi(i,t),ss.CodeName)})});var y=mi(l,{model:Es(e,ss.CodeName),function_name:Es(s,ss.CodeName),properties:m,type:Es(Yi(i,t),ss.CodeName)}),v=mi(d,{name:Es(e,ss.CodeName),tests:h.join(Mo)});y=mi(l,{model:Es(e,ss.CodeName),function_name:Es(s,ss.CodeName),properties:m,type:Es(Yi(i,t),ss.CodeName)}),a[Es(e,ss.CodeName)]={id:Es(e,ss.CodeName),name:`${Es(e,ss.CodeName)}Attribute`,tname:`${Es(e,ss.CodeName)}AttributeTests`,template:Xu.Generate({template:y,usings:[...Xn,`${o}${no.Model}`,`${o}${no.Extensions}`,`${o}${no.Constants}`],namespace:o,space:no.Validations}),test:Xu.Generate({template:v,usings:[...Xn,...Jn,`${o}${no.Model}`,`${o}${no.Validations}`,`${o}${no.Extensions}`,`${o}${no.Constants}`],namespace:o,space:no.Tests})}}),a}}const qd="./app/templates/stream_process/stream_process_orchestration.tpl",Wd="./app/templates/stream_process/stream_process_orchestration_root.tpl",Yd="./app/templates/stream_process/stream_process_orchestration_interface.tpl",zd="./app/templates/stream_process/stream_process_orchestration_agenttype_methods.tpl",Jd="./app/templates/stream_process/agent_methods/update.tpl",Xd="./app/templates/stream_process/agent_methods/create.tpl",Kd="./app/templates/stream_process/agent_methods/delete.tpl",Qd="./app/templates/stream_process/stream_process_orchestration_agenttype_methods_interface.tpl",Zd="./app/templates/stream_process/stream_process_orchestration_selected_staged_changes.tpl",ec="./app/templates/stream_process/tests/stream_process_execution_tests.tpl",tc="./app/templates/stream_process/tests/create_model_tests.tpl",rc="./app/templates/tests/tests.tpl";class nc{static GenerateStaticMethods(e){let t=Vn.a.readFileSync(Zd,"utf8");return e.map(e=>{let r=t,n=Es(e,ss.CodeName);return mi(r,{model:n,"model#allupper":n.toUpperCase(),"model#lower":n.toLowerCase()})+oc})}static GenerateAgentMethods(e,t){let r=mp(e,is.Model),n=mp(e,is.Method),o=[t],i=Vn.a.readFileSync(zd,"utf8");r=r.filter(e=>n.find(r=>{var n=Ip(r);return n[Fo.Agent]===t.id&&(n[Fo.Model]===e.id||n[Fo.CompositeInput]===e.id)}));let a=[],s=[],l=mp(e,is.Executor).filter(e=>Es(e,ss.ExecutorAgent)===t.id);return o.map(e=>{r.filter(e=>l.find(t=>Es(t,ss.ExecutorModel)===e.id)).map(t=>{s.push(ac(4)+`await Process${Es(t,ss.CodeName)}ChangesBy${Ts(e)}();`+oc)})}),a.push(`       public async Task ProcessStagedChanges(Distribution distribution = null) {\n${s.join("")}\n        }\n`),l.map(t=>{let r=Tp(Es(t,ss.ExecutorAgent)),n=Tp(Es(t,ss.ExecutorModel)),o=Tp(Es(t,ss.ExecutorModelOutput)),s=_a(e,t.id,_o.ExecutorFunction),l=Ip(s),p=ba(e,{id:s.id,links:[{type:_o.AfterMethod,direction:Na}]}),u=[],d=[];p.map(e=>{var t=Es(e,ss.AfterMethod),r=Es(e,ss.AfterMethodSetup);if(Wo[t]&&r&&r[t]){let{templateKeys:n,template_call:o,template:i}=Wo[t],a=Vn.a.readFileSync(i,"utf8");Object.keys(n).map(e=>{if(r[t][e]){let i=r[t][e]||"";var n=i.startsWith("#")?i.split("#").join(""):Ts(l[i]||i)||i;a=mi(a,{[e]:n,[`${e}#lower`]:`${n}`.toLowerCase()}),o=mi(o,{[e]:n,[`${e}#lower`]:`${n}`.toLowerCase()})}}),a=mi(a,{function_name:Ts(e)}),o=mi(o,{function_name:Ts(e)}),u.push(o),d.push(a)}});let c="",f="",m="",h="",y="",v="",_={"model_output#lower":`${Ts(o,ss.CodeName)}`.toLowerCase(),model:Ts(n,ss.CodeName),"model#lower":Es(n,ss.CodeName).toLowerCase(),agent_type:Es(r,ss.CodeName),"agent_type#lower":Es(r,ss.CodeName).toLowerCase(),update_method:c,create_method:y,delete_method:m,create_call:v,update_call:f,delete_call:h};u=u.unique().join(Mo),Es(t,ss.ExecutorFunctionType)===Eo.Update&&Es(t,ss.ExecutorAgent)===r.id&&Es(t,ss.ExecutorModel)===n.id?(c=mi(Vn.a.readFileSync(Jd,"utf8"),{..._,ae_calls:u}),f="case Methods.Update:\n                    await Update(change);\n                    break;"):Es(t,ss.ExecutorFunctionType)===Eo.Create&&Es(t,ss.ExecutorAgent)===r.id&&Es(t,ss.ExecutorModel)===n.id?(y=mi(Vn.a.readFileSync(Xd,"utf8"),{..._,ae_calls:u}),v="case Methods.Create:\n                    await Create(change);\n                    break;"):Es(t,ss.ExecutorFunctionType)===Eo.Delete&&Es(t,ss.ExecutorAgent)===r.id&&Es(t,ss.ExecutorModel)===n.id&&(m=mi(Vn.a.readFileSync(Kd,"utf8"),{..._,ae_calls:u}),h="\n                    case Methods.Delete:\n                        await Delete(change);\n                        break;");var g=mi(i,{..._,update_method:c,update_call:f,create_method:y,create_call:v,delete_method:m,delete_call:h,ae_functions:d.unique().join("")});a.push(g)}),a.join("")}static GenerateAgentInterfaceMethods(e,t){let r=mp(e,is.Model),n=mp(e,is.Method),o=Vn.a.readFileSync(Qd,"utf8");r=r.filter(e=>n.find(r=>{var n=Ip(r);return n[Fo.Agent]===t.id&&(n[Fo.Model]===e.id||n[Fo.CompositeInput]===e.id)}));let i=[],a=mp(e,is.Executor).filter(e=>Es(e,ss.ExecutorAgent)===t.id),s=[];return a.map(e=>{let t=Tp(Es(e,ss.ExecutorAgent)),r=Tp(Es(e,ss.ExecutorModel)),n=Tp(Es(e,ss.ExecutorModelOutput));Es(e,ss.ExecutorFunctionType)&&s.push(mi("\n                Task {{method}}({{model}}ChangeBy{{agent_type}} change);\n",{method:Es(e,ss.ExecutorFunctionType),model:Ts(r),agent_type:Ts(t)}));var a=mi(o,{model:Es(r,ss.CodeName),model_output:Ts(n),"model#lower":Es(r,ss.CodeName).toLowerCase(),agent_type:Es(t,ss.CodeName),"agent_type#lower":Es(t,ss.CodeName).toLowerCase(),update_method:"here interface ok"});i.push(...s),i.push(a)}),i.unique().join("")}static GenerateStrappers(e,t){let r=[];var n=pl();n&&t&&n[t.id]&&r.push(ac(4)+mi("validator = RedStrapper.Resolve<I{{agent}}Validations>();",{agent:Ts(t)})+oc);var o=[t];return e.map(e=>{let t=Es(e,ss.CodeName);r.push(ac(4)+`${t.toLowerCase()}Arbiter = RedStrapper.Resolve<IRedArbiter<${t}>>();`+oc),o.map(e=>{var n=Ts(e);r.push(ac(4)+`${t.toLowerCase()}ChangeBy${n}Arbiter = RedStrapper.Resolve<IRedArbiter<${t}ChangeBy${n}>>();`+oc)}),Es(e,ss.IsAgent)&&(r.push(ac(4)+`${t.toLowerCase()}ResponseArbiter = RedStrapper.Resolve<IRedArbiter<${t}Response>>();`+oc),r.push(ac(4)+`${t.toLowerCase()}Executor = RedStrapper.Resolve<I${t}Executor>();`+oc))}),r.join("")}static GenerateStrappersInstances(e,t){let r=[];var n=pl();n&&t&&n[t.id]&&r.push(ac(3)+mi("public I{{agent}}Validations validator;",{agent:Ts(t)})+oc);var o=[t];return e.map(e=>{let t=Es(e,ss.CodeName);r.push(ac(3)+`public IRedArbiter<${t}> ${t.toLowerCase()}Arbiter;`+oc),o.map(e=>{var n=Ts(e);r.push(ac(3)+`public IRedArbiter<${t}ChangeBy${n}> ${t.toLowerCase()}ChangeBy${n}Arbiter;`+oc)}),Es(e,ss.IsAgent)&&(r.push(ac(3)+`public IRedArbiter<${t}Response> ${t.toLowerCase()}ResponseArbiter;`+oc),r.push(ac(3)+`public I${t}Executor ${t.toLowerCase()}Executor;`+oc))}),r.join("")}static GenerateStreamOrchestrations(e){let t=[];return e.filter(e=>Es(e,ss.IsAgent)).map(e=>{let r=Es(e,ss.CodeName);t.push(ac(4)+`${r.toLowerCase()}StreamProcessOrchestration = RedStrapper.Resolve<I${r}StreamProcessOrchestration>();`+oc)}),t.join("")}static GenerateStreamOrchestrationInstances(e){let t=[];return e.filter(e=>Es(e,ss.IsAgent)).map(e=>{let r=Es(e,ss.CodeName);t.push(`public I${r}StreamProcessOrchestration ${r.toLowerCase()}StreamProcessOrchestration;`)}),t.map(e=>ac(3)+e+oc).join("")}static GenerateProcessTests(e){let t=Vp(e),r=mp(e,is.Method).filter(e=>![Eo.Get,Eo.GetAll].some(t=>t===Es(e,ss.MethodType))),n="",o=Vn.a.readFileSync(ec,"utf8"),i=Vn.a.readFileSync(tc,"utf8"),a=mp(e,is.Model).filter(e=>{return Ns(e)}).map(e=>mi("           builder.RegisterType<{{agent_type}}StreamProcessOrchestration>().As<I{{agent_type}}StreamProcessOrchestration>();\n",{agent_type:Ts(e)})).join("");n=r.map((e,r)=>{let n=Es(e,ss.MethodProps);Es(e,ss.MethodType);if(n){var i=Yi(t,n[Fo.AgentType]),s=Yi(t,n[Fo.Model]);Yi(t,n[Fo.User]),Yi(t,n[Fo.Permission])}if(s&&i&&e)return mi(o,{model:Es(s,ss.CodeName),agent_type:Es(i,ss.CodeName),function_name:Es(e,ss.CodeName),test_name:`${Es(e,ss.CodeName)}Test`,stream_process_orchestration_mocks:a})}).filter(e=>e).join(Mo);let s=[];return r.map((r,n)=>{let o=Es(r,ss.MethodProps),a=Es(r,ss.MethodType);if(o){var l=Yi(t,o[Fo.AgentType]),p=Yi(t,o[Fo.Model]),u=Yi(t,o[Fo.Permission]);if(t&&u&&a&&l&&p){let n=nc.GetFunctionValidators(e,r),a=null;n&&n.length&&(a=n.map(e=>({cases:Hd.GenerateValidationCases(t,e),isModel:Es(e,ss.ValidatorModel)===o[Fo.Model]}))),a&&Vm(a.map(e=>e.cases.length)).map((e,t)=>{let n=a[0].cases[e[0]],o=a[1].cases[e[1]],u="",d="";a[1].isModel?(u=mi(o.set_properties,{model:"model"}),d=mi(n.set_properties,{model:"agent"})):(u=mi(o.set_properties,{model:"agent"}),d=mi(n.set_properties,{model:"model"})),s.push(mi(i,{model:Es(p,ss.CodeName),agent_type:Es(l,ss.CodeName),set_agent_propeties:u,set_model_properties:d,function_name:Es(r,ss.CodeName),test_result:!(n.resultSuccess&&o.resultSuccess),test_name:`${Es(r,ss.CodeName)}${t}Test`}))})}}}).join(Mo),n+Mo+s.join(Mo)}static EnumerateFunctionValidators(e,t){let r=Vp(e),n=Es(t,ss.MethodProps),o=nc.GetFunctionValidators(e,t),i=null;return o&&o.length&&(i=o.map(e=>({cases:Hd.GenerateValidationCases(r,e),isModel:Es(e,ss.ValidatorModel)===n[Fo.Model]}))),Vm((i||[]).map(e=>e.cases.length)).map((e,t)=>{let r=i[0].cases[e[0]],n=i[1].cases[e[1]],o="",a="";return i[1].isModel?(o=mi(n.set_properties,{model:"model"}),a=mi(r.set_properties,{model:"agent"}),n.propertyInformation.map(e=>e.set_properties=mi(e.set_properties,{model:"model"})),r.propertyInformation.map(e=>e.set_properties=mi(e.set_properties,{model:"agent"})),{model:n,agent:r}):(o=mi(n.set_properties,{model:"agent"}),a=mi(r.set_properties,{model:"model"}),n.propertyInformation.map(e=>e.set_properties=mi(e.set_properties,{model:"agent"})),r.propertyInformation.map(e=>e.set_properties=mi(e.set_properties,{model:"model"})),{agent:n,model:r})})}static GetFunctionValidators(e,t){return mp(e,is.Validator).filter(e=>Es(e,ss.ValidatorFunction)===t.id)}static Generate(e){var{state:t,key:r}=e;let n=Vp(t),o=n?n[vi.NAMESPACE]:null,i=Vn.a.readFileSync(Wd,"utf8"),a=Vn.a.readFileSync(rc,"utf8"),s=Vn.a.readFileSync(Yd,"utf8");let l=mp(t,is.Model),p=l.filter(e=>Es(e,ss.IsAgent)),u={};p.map(e=>{var n=nc.GenerateAgent({state:t,key:r,agent:e});u={...u,...n}});let d=nc.GenerateStreamOrchestrations(l),c=nc.GenerateStreamOrchestrationInstances(l);i=mi(i,{agent_type_methods:`\n\n        public async Task ProcessStagedChanges(Distribution distribution = null) \n        {\n${p.map(e=>`await ${Ts(e).toLowerCase()}StreamProcessOrchestration.ProcessStagedChanges(distribution);`).map(e=>ac(4)+e+oc).join("")}\n        }\n        `,arbiters_strappers:d,arbiter_instances:c});mi(a,{name:"StreamProcessOrchestration",tests:nc.GenerateProcessTests(t)});s=mi(s,{agent_type_methods:"",agent_type:""});let f={StreamProcessOrchestration:{id:"StreamProcessOrchestration",name:"StreamProcessOrchestration",iname:"IStreamProcessOrchestration",template:Xu.Generate({template:i,usings:[...Xn,"System.Linq.Expressions",`${o}${no.Model}`,`${o}${no.Parameters}`,`${o}${no.Executors}`,`${o}${no.Interface}`,`${o}${no.Constants}`],namespace:o,space:no.StreamProcess}),interface:Xu.Generate({template:s,usings:[...Xn,`${o}${no.Model}`,`${o}${no.Parameters}`,`${o}${no.Interface}`,`${o}${no.Constants}`],namespace:o,space:no.StreamProcess})}};return u={...u,...f}}static GenerateAgent(e){var{state:t,key:r,agent:n}=e;let o=mp(t,is.Model),i=Vp(t),a=i?i[vi.NAMESPACE]:null,s=Vn.a.readFileSync(qd,"utf8"),l=Vn.a.readFileSync(Yd,"utf8"),p=Vn.a.readFileSync(rc,"utf8"),u=nc.GenerateAgentMethods(t,n),d=nc.GenerateAgentInterfaceMethods(t,n),c=nc.GenerateStaticMethods(o,n),f=nc.GenerateStrappers(o,n),m=nc.GenerateStrappersInstances(o,n);s=mi(s,{static_methods:c.join(""),agent_type_methods:u,agent_type:Ts(n),agent:Ts(n),arbiters_strappers:f,arbiter_instances:m});let h=nc.GenerateProcessTests(t,n);mi(p,{name:`${Ts(n)}StreamProcessOrchestration`,agent_type:Ts(n),tests:h});return l=mi(l,{agent_type:Ts(n),agent_type_methods:d}),{[`${Ts(n)+"StreamProcessOrchestration"}`]:{id:"StreamProcessOrchestration",name:`${Ts(n)}StreamProcessOrchestration`,iname:`I${Ts(n)}StreamProcessOrchestration`,template:Xu.Generate({template:s,usings:[...Xn,"System.Linq.Expressions",`${a}${no.Model}`,`${a}${no.Parameters}`,`${a}${no.Executors}`,`${a}${no.Interface}`,`${a}${no.Constants}`],namespace:a,space:no.StreamProcess}),interface:Xu.Generate({template:l,usings:[...Xn,`${a}${no.Model}`,`${a}${no.Parameters}`,`${a}${no.Interface}`,`${a}${no.Constants}`],namespace:a,space:no.StreamProcess})}}}}const oc="\n",ic="   ";function ac(e){let t="";for(var r=0;r<e;r++)t+=ic;return t}const sc="./app/templates/models/itemfilters/item_filter.tpl",lc="./app/templates/models/itemfilters/filter_property_function_value.tpl",pc="./app/templates/models/itemfilters/filter_property_function_value_equals.tpl";class uc{static predicates(e,t={}){return e.map(e=>{let r=Es(e,ss.FilterModel),n=[],o=wp(e.id);return o&&o.length?n=o.map(e=>`${e.paramName}`):r&&(Object.values(r.properties).map(e=>Object.values(e.validators).map(e=>{e&&e.type===jo.EqualsModelRef&&(t[e.node]=!0,n.push(e.node))})),n=n.filter(e=>e).unique().sort()),mi(`${Ts(e)}.Filter({{predicate_parameters}})`,{predicate_parameters:n.join(", ")})})}static Generate(e){var{state:t,key:r}=e;let n=Vp(t),o=n?n[vi.NAMESPACE]:null,i=Vp(t),a={},s=Vn.a.readFileSync(sc,"utf8");mp(t,is.ModelFilter);return mp(t,is.ModelItemFilter).map(e=>{var r=_a(t,e.id),n=null;r&&(n=Ip(r));let l=Es(e,ss.ModelItemFilter),p=Es(e,ss.FilterModel),u=ks(e.id),d=wp(e.id),c=xp(e.id),f=[],m=[];if(p&&p.properties){let t=Vn.a.readFileSync(lc,"utf8"),r=[];Object.keys(p.properties).map(e=>{let t=Ts(e);p.properties[e]&&Object.keys(p.properties[e].validators).map(o=>{let a=p.properties[e].validators[o],s="",l=(Ts(o),Vn.a.readFileSync(pc,"utf8"));if(a&&a.type)switch(a.type){case jo.EqualsTrue:s="true";break;case jo.EqualsFalse:s="false";break;case jo.EqualsAgent:s=`agent.${t}`;break;case jo.EqualsParent:s=`parent.${t}`;break;case jo.EqualsModelRef:if(a.node){let e=Yi(i,n[a.node]);e&&m.push(`${Ts(e)} ${a.node}`),s=`${a.node}.Id`}break;case jo.EqualsModelProperty:if(a.node&&a.nodeProperty){let e=Yi(i,n[a.node]);e&&m.push(`${Ts(e)} ${a.node}`),s=`${a.node}.${Ts(a.nodeProperty)}`}break;case jo.IsInModelPropertyCollection:if(a.node&&a.nodeProperty){let e=Yi(i,n[a.node]);e&&m.push(`${Ts(e)} ${a.node}`),s=`${a.node}.${Ts(a.nodeProperty)}`,l=Ro[a.type].template}break;default:throw"not handled model item filter generation case"}r.push(mi(l,{property:t,value:s,meta_parameter:"item",function:"=="}))})}),m=m.filter(e=>e).unique().sort(),d&&d.length&&(m=d.map(e=>`${e.paramClass} ${e.paramName}`)),c&&c.length&&(c=c.map(e=>`${e.paramName}`)),r=u&&u.length?gl(e.id):r.join(""),f.push(mi(t,{filter:r,model:Ts(l),model_output:Ts(l),meta_parameter:c.join(", "),parameters:m.join(", ")}))}let h=mi(s,{code_name:Es(e,ss.CodeName),filter:f});a[Es(e,ss.CodeName)]={id:Es(e,ss.CodeName),name:`${Es(e,ss.CodeName)}`,template:Xu.Generate({template:h,usings:[...Xn,`${o}${no.Model}`,`${o}${no.Interface}`,`${o}${no.Constants}`],namespace:o,space:no.Controllers})}}),a}}const dc="./app/templates/maestro/maestro.tpl",cc="./app/templates/maestro/imaestro.tpl",fc="./app/templates/tests/tests.tpl",mc="./app/templates/maestro/tests/maestro.tpl",hc="./app/templates/maestro/tests/maestro_same_agent_model.tpl",yc="./app/templates/maestro/tests/get_agent_manytomany_listchild_interface.tpl",vc="./app/templates/maestro/tests/maestro_get.tpl";class _c{static Tabs(e){let t="";for(var r=0;r<e;r++)t+=bc;return t}static Generate(e){var{state:t,key:r}=e;let n=Vp(t),o=n?n[vi.NAMESPACE]:null,i=mp(t,is.Maestro),a=Vn.a.readFileSync(dc,"utf8"),s=Vn.a.readFileSync(cc,"utf8"),l=Vn.a.readFileSync(fc,"utf8"),p=Vn.a.readFileSync(mc,"utf8"),u=Vn.a.readFileSync(hc,"utf8"),d=Vn.a.readFileSync(vc,"utf8"),c=Vp(t),f=Up(t),m={};return i.map(e=>{let r=a,i="",h="",y=`${Es(e,ss.CodeName)}`,v=[],_=Ea(c,{id:e.id,type:_o.FunctionLink,direction:Na}),g=[],b=[],C=Es(e,ss.CodeName),E=[];(v=_).length&&v.filter(e=>!Es(e,ss.NotIncludedInController)).map(e=>{let r=Es(e,ss.FunctionType);var o=li[r];if(o){let c=o.template,m=o.interface,y=(o.test,""),v="";o.parentGet&&(y="string");let _=`${Es(e,ss.CodeName)}`,O=`${Es(e,ss.HttpMethod)}`,k=`${Es(e,ss.HttpRoute)}`,N=null,M=null,T=null,S=null,P=null,A=null,I=null,L=null,$="",w=null,x=null,j=Es(e,ss.MethodProps),R="";if(j){N=Yi(n,j[Fo.AgentType]||j[Fo.Agent]),w=Yi(n,j[Fo.Model]),M=Yi(n,j[Fo.User]),S=Yi(n,j[Fo.Permission]),P=Yi(n,j[Fo.ModelFilter]),A=Yi(n,j[Fo.CompositeInput]),I=Yi(n,j[Fo.ManyToManyModel]),L=Yi(n,j[Fo.ConnectionType]),x=Ts(j[Fo.ModelOutput]),v=(T=Yi(n,j[Fo.Parent]))?Es(T,ss.CodeName):"{missing parent name}",I=Yi(n,j[Fo.ManyToManyModel]);var a=ba(t,{id:e.id,links:[{type:_o.ModelItemFilter,direction:Na}]}),s={};R=(R=uc.predicates(a,s)).length?R.join(", "):"",s.parent&&($=`var parent = await arbiter${v}.Get<${v}>(model.${v});`)}let D=N?`${Es(N,ss.CodeName)}`:"{maestro_generator_mising_agentTypeNode}",G=w?Es(w,ss.CodeName):"{maestro_generator_mising_model}",F=N?`${Es(N,ss.CodeName)}`:"{maestro_generator_mising_agentTypeNode}",U=Es(e,ss.MethodType),V=L?Ts(L):"{maestro_connection_type_missing}";T&&g.push(v);let B=Fi(n,[!!w&&w.id,N?N.id:null].filter(e=>e))||[];g.push(...B.map(e=>Es(e,ss.CodeName))),g.push(F,G),b.push({agent_type:F,model_type:G});let H="",q=!1;o.parentGet?(H=T?`${Es(T,ss.CodeName)}`.toLowerCase():"{missing parent name}",N&&T&&(q=N.id===T.id)):H=w?`${Es(w,ss.CodeName)}`.toLowerCase():"{maestro_generator_mising_model}";let W={function_name:_,agent_type:F,"agent_type#lower":`${F}`.toLowerCase(),parent_type:v,agent:D,"composite-input":Ts(A)||"",model_input:Ts(A)||G,value_type:y,value:H,parent_setup:$,model_output:x,parent:Ts(T),model:G,connect_type:V,comma:R.length?",":"",predicates:R,maestro_function:_,filter_function:P?Es(P,ss.CodeName):"{missing filter node}",user:M?Es(M,ss.CodeName):"{maestro_generator_mising_user}",http_route:k||"{maestro_generator_http_method",http_method:O||"{maestro_generator_http_method",user_instance:M?`${Es(M,ss.CodeName)}`.toLowerCase():"{maestro_generator_mising_userNode}",output_type:w?Ts(w):"{maestro_generator_missing_model}",maestro_interface:ri(C),permission_function:S?Es(S,ss.CodeName):"{MISSING_PERMISSION_FUNCTION}",input_type:w?Ts(w):"{maestro_generator_missing_model}"};c=mi(c,W),m=mi(m,W),i+=gc+c,h+=gc+m;var l=jd.EnumeratePermissionCases(f,S,U,N,w);let Y=nc.EnumerateFunctionValidators(t,e);Y&&l&&(Y.map(e=>{l.map(t=>{let r={},n={};if(e&&e.agent&&t.agentProperties){var o=[...e.agent.propertyInformation.map(e=>e.set_properties),...t.properties.filter(e=>e.type===Fo.Agent).map(e=>e.props).map((r,n)=>-1===e.agent.propertyInformation.findIndex(e=>e.property===r.property)&&t.agentProps[n]).filter(e=>e)].join(Mo);r.agent=o}if(e&&e.model&&t.itemProperties){o=[...e.model.propertyInformation.map(e=>e.set_properties),...t.filter(e=>e.type===Fo.Model).map(e=>e.props).map((r,n)=>-1===e.model.propertyInformation.findIndex(e=>e.property===r.property)&&t.itemProps[n]).filter(e=>e)].join(Mo);r.model=o}if(e&&e.agent&&t.agentProperties){o=[...t.agentProperties.map((e,r)=>t.agentProps[r]),...e.agent.propertyInformation.map((r,n)=>-1===t.agentProperties.findIndex(e=>e.property===r.property)&&e.agent.propertyInformation[n].set_properties).filter(e=>e)].join(Mo);n.agent=o}if(e&&e.model&&t.itemProperties){o=[...t.itemProperties.map((e,r)=>t.itemProps[r]),...e.model.propertyInformation.map((r,n)=>-1===t.itemProperties.findIndex(e=>e.property===r.property)&&e.model.propertyInformation[n].set_properties).filter(e=>e)].join(Mo);n.model=o}E.push(n),E.push(r)})}),E=E.map((e,t)=>{let n=p;switch(o.method){case Eo.Get:case Eo.GetAll:n=d,q&&(n=u)}switch(r){case Go.Get_ManyToMany_Agent_Value__IListChild:n=Vn.a.readFileSync(yc,"utf8")}return o.test&&(n=o.test),mi(n,{agent:F,many_to_many:Es(I,ss.CodeName),parent:Es(T,ss.CodeName),set_many_to_many_properties:"//{not set yet}",value:w?`${Es(w,ss.CodeName)}`.toLowerCase():"{maestro_generator_mising_model}",model:G,model_input:Ts(A)||G,function_name:_,maestro:C,set_agent_properties:e.agent,user:M?Es(M,ss.CodeName):"{maestro_generator_mising_user}",set_model_properties:e.model,testname:`${_}Test${t}`})}))}}),g=g.unique(),b=b.unique(e=>`${e.agent_type}`);var O=g.map(e=>`IRedArbiter<${e}> _arbiter${e}`),k=b.map(e=>`IPermissions${e.agent_type} _${e.agent_type.toLowerCase()}Permissions`),N=g.map(e=>gc+_c.Tabs(4)+`arbiter${e} = _arbiter${e};`),M=b.map(e=>gc+_c.Tabs(4)+`${e.agent_type.toLowerCase()}Permissions = _${e.agent_type.toLowerCase()}Permissions;`),T=g.map(e=>gc+_c.Tabs(3)+`private readonly IRedArbiter<${e}> arbiter${e};`),S=b.map(e=>gc+_c.Tabs(3)+`private readonly IPermissions${e.agent_type} ${e.agent_type.toLowerCase()}Permissions;`);let P=mi(l,{name:y,tests:E.join(Mo)});r=mi(r,{codeName:y,set_properties:[...N,...M].join(gc),properties:[...S,...T].join(" "),injected_services:[...O,...k].map((e,t)=>gc+_c.Tabs(7)+e).join(","),"codeName#alllower":y.toLowerCase(),functions:i});let A=mi(s,{codeName:y,set_properties:[...N,...M].join(gc),properties:[...S,...T].join(" "),injected_services:[...O,...k].map((e,t)=>gc+_c.Tabs(7)+e).join(","),"codeName#alllower":y.toLowerCase(),functions:h});m[Es(e,ss.CodeName)]={id:Es(e,ss.CodeName),name:Es(e,ss.CodeName),iname:`I${Es(e,ss.CodeName)}`,tname:`${Es(e,ss.CodeName)}Tests`,template:Xu.Generate({template:r,usings:[...Xn,`${o}${no.Model}`,`${o}${no.Interface}`,`${o}${no.StreamProcess}`,`${o}${no.Constants}`,`${o}${no.Permissions}`,`${o}${no.Parameters}`],namespace:o,space:no.Controllers}),interface:Xu.Generate({template:A,usings:[...Xn,`${o}${no.Model}`,`${o}${no.Interface}`],namespace:o,space:no.Controllers}),test:Xu.Generate({template:P,usings:[...Xn,...Jn,`${o}${no.Model}`,`${o}${no.Parameters}`,`${o}${no.Interface}`,`${o}${no.StreamProcess}`,`${o}${no.Permissions}`,`${o}${no.Controllers}`,`${o}${no.Executors}`,`${o}${no.Extensions}`,`${o}${no.Constants}`],namespace:o,space:no.Tests})}}),m}}const gc="\n",bc="   ",Cc="./app/templates/tests/tests.tpl",Ec="./app/templates/stream_process/stream_process_change_class_extention.tpl",Oc="./app/templates/stream_process/stream_process_change_class_constructor.tpl",kc="./app/templates/stream_process/tests/stream_process_change_class_constructor.tpl",Nc="./app/templates/models/model_statics.tpl";class Mc{static Tabs(e){let t="";for(var r=0;r<e;r++)t+=Sc;return t}static Generate(e){var{state:t,key:r}=e;let n=mp(t,is.Model),o=mp(t,is.AfterEffect),i=n.filter(e=>Es(e,ss.IsAgent)),a=Vp(t),s=a?a[vi.NAMESPACE]:null,l=Vn.a.readFileSync(Cc,"utf8"),p=Vn.a.readFileSync(Ec,"utf8"),u=Vn.a.readFileSync(Oc,"utf8"),d=Vn.a.readFileSync(kc,"utf8"),c={};return n.map(e=>{i.map(r=>{let n=p,i=l,a=[],f=[],m=[],h=Vn.a.readFileSync(Nc,"utf8");o.filter(n=>{let o=Es(n,ss.AfterMethod),i=Es(n,ss.AfterMethodSetup);if(i&&o&&i[o][Fo.ModelOutput]){var a=_a(t,n.id);if(a)return Ap(a,i[o][Fo.Agent])===r.id&&Ap(a,i[o][Fo.ModelOutput])==e.id}return!1}).filter(n=>{let o=Es(n,ss.AfterMethod),i=Es(n,ss.AfterMethodSetup);if(Wo[o]&&Wo[o]){let s=_a(t,n.id),l=Wo[o][pi.stream_process_change_parameter];if(l){let t=Vn.a.readFileSync(l,"utf8");t=mi(t,{model:Ts(e),value:Es(e,ss.ValueName)||"value",agent_type:Ts(r),model_update:Ts(Ap(s,i[o][Fo.UpdateModel])),agent:Es(r,ss.AgentName)||"agent",change_type:`Methods.${i[o][Fo.MethodType]}`,method:i[o][Fo.MethodType]}),a.push(t)}let p=Wo[o][pi.update_with];if(p){let e=Vn.a.readFileSync(p,"utf8");e=mi(e,{model_update:Ts(Ap(s,i[o][Fo.UpdateModel]))}),m.push(e+Mo)}}}),Object.values(Eo).filter(e=>![Eo.Get,Eo.GetAll].some(t=>t==e)).map(t=>{let n=u;n=mi(n,{model:Ts(e),value:Es(e,ss.ValueName)||"value",agent_type:Ts(r),agent:Es(r,ss.AgentName)||"agent",change_type:`Methods.${t}`,method:t});let o=d;o=mi(o,{model:Ts(e),value:Es(e,ss.ValueName)||"value",agent_type:Ts(r),agent:Es(r,ss.AgentName)||"agent",change_type:`Methods.${t}`,method:t}),a.push(n),f.push(o)});let y={model:`${Es(e,ss.CodeName)}ChangeBy${Es(r,ss.CodeName)}`};a.push(mi(h,y)),n=mi(n,{model:Es(e,ss.CodeName),agent_type:Es(r,ss.CodeName),updates_with:m.unique().join(""),constructors:a.unique().join(Tc)}),i=mi(i,{name:`${Es(e,ss.CodeName)}ChangeBy${Es(r,ss.CodeName)}`,tests:f.unique(e=>e).join("")});let v=`${Es(e,ss.CodeName)}ChangeBy${Es(r,ss.CodeName)}`;c[v]={id:v,name:v,tname:`${Es(e,ss.CodeName)}ChangeBy${Es(r,ss.CodeName)}Tests`,template:Xu.Generate({template:n,usings:[...Xn,`${s}${no.Constants}`,`${s}${no.Model}`],namespace:s,space:no.Parameters}),test:Xu.Generate({template:i,usings:[...Xn,...Jn,`${s}${no.Constants}`,`${s}${no.Parameters}`,`${s}${no.Model}`],namespace:s,space:no.Tests})}})}),c}}const Tc="\n",Sc="   ",Pc="./app/templates/constants.tpl";class Ac{static Tabs(e){let t="";for(var r=0;r<e;r++)t+=Lc;return t}static Generate(e){var{values:t=[],state:r}=e;let n=Vp(r),o=n?n[vi.NAMESPACE]:null,i=Vn.a.readFileSync(Pc,"utf8"),a={};return t.map(e=>{let{model:t,name:r}=e,n=i;var s=Object.keys(t).map(e=>{let r=mi('public const string {{name}} = "{{value}}";',{name:e,value:t[e]});return Ac.Tabs(3)+r}).join(Ic);n=mi(n,{constants:s,constants_type:r}),a[r]={id:r,name:r,template:Xu.Generate({template:n,usings:[...Xn],namespace:o,space:no.Constants})}}),a}}const Ic="\n",Lc="   ";function $c(e){let t=$s(e);return t&&t.permission?t.permission:(console.warn("doesnt define a permission for method type "),!1)}function wc(e){let t=ll();if(t&&t[e]){let r=yl(),n=function(e,t,r=To.CSHARP){let n=t.map(e=>(function(e,t=To.CSHARP){let r=$c(e);if(!r)return!1;let{interface_:n}=r;return mi(Vn.a.readFileSync(n,"utf8"),{parameters:jc(e,t),function_name:Ts(e)})})(e,r)).filter(e=>e).join(Mo);return mi(Vn.a.readFileSync("./app/templates/permissions/permissions_interface.tpl","utf8"),{agent_type:Ts(e),methods:n})}(e,t[e].map(e=>e.id));return Xu.Generate({template:n,usings:[...Xn,`${r}${no.Interface}`,`${r}${no.Model}`],namespace:r,space:no.Interface})}throw"agent doesnt have any permissions"}function xc(e){let t=ll();if(t&&t[e]){let r=yl(),n=function(e,t,r=To.CSHARP){let n=t.map(e=>(function(e,t=To.CSHARP){let r=$c(e),{implementation:n}=r;return mi(Vn.a.readFileSync(n,"utf8"),{parameters:jc(e,t),conditions:gl(e,t),function_name:Ts(e)})})(e,r)).filter(e=>e).join(Mo),o=Vn.a.readFileSync("./app/templates/permissions/permissions_impl.tpl","utf8"),i=mi(Vn.a.readFileSync("./app/templates/permissions/constructor.tpl","utf8"),{agent_type:`${Ts(e)}`,arbiters:_l(4,r)});return mi(o,{agent_type:Ts(e),arbiters:vl(),constructor:i,methods:n})}(e,t[e].map(e=>e.id));return Xu.Generate({template:n,usings:[...Xn,`${r}${no.Extensions}`,`${r}${no.Model}`,`${r}${no.Interface}`,`${r}${no.Controllers}`,`${r}${no.Constants}`].filter(e=>e),namespace:r,space:no.Permissions})}throw"agent doesnt have any permissions"}function jc(e,t){let r=function(e){let t=$c(e),{params:r}=t,n=Pp(e);return r.map(e=>({paramClass:Ap(n,e),paramProperty:Cl(e)}))}(e);switch(t){case To.CSHARP:return r.map(e=>`${Ts(e.paramClass)} ${e.paramProperty}`).join(", ")}}class Rc{static Generate(e){return function(){var e=cl();let t={};return e.map(e=>{let r=Ts(e.id),n={name:`Permissions${r}`,iname:`IPermissions${r}`,template:xc(e.id),interface:wc(e.id)};t[r]=n}),t}()}}const Dc="./app/templates/tests/tests.tpl",Gc="./app/templates/stream_process/stream_process.tpl",Fc="./app/templates/stream_process/tests/stream_process.tpl",Uc="./app/templates/stream_process/stream_process_function.tpl";class Vc{static GenerateStaticMethods(e){let t=e.filter(e=>Es(e,ss.IsAgent)),r=Vn.a.readFileSync(Uc,"utf8"),n=[];return t.map(t=>{e.map(e=>{let o=r,i=Es(e,ss.CodeName),a=mi(o,{model:i,agent_type:Es(t,ss.CodeName),"model#allupper":i.toUpperCase()});n.push(a+Bc)})}),n}static GenerateStaticMethodTests(e){let t=e.filter(e=>Es(e,ss.IsAgent)),r=Vn.a.readFileSync(Fc,"utf8"),n=[];return t.map(t=>{e.map(e=>{let o=r,i=Es(e,ss.CodeName),a=mi(o,{model:i,agent_type:Es(t,ss.CodeName),"model#allupper":i.toUpperCase()});n.push(a+Bc)})}),n.unique(e=>e)}static Generate(e){var{state:t,key:r}=e;let n=mp(t,is.Model),o=Vp(t),i=o?o[vi.NAMESPACE]:null,a=Vn.a.readFileSync(Gc,"utf8"),s=Vn.a.readFileSync(Dc,"utf8"),l=Vc.GenerateStaticMethods(n),p=Vc.GenerateStaticMethodTests(n);return a=mi(a,{static_methods:l.unique(e=>e).join("")}),s=mi(s,{tests:p.unique(e=>e).join(""),name:"StreamProcess"}),{StreamProcess:{id:"StreamProcess",name:"StreamProcess",template:Xu.Generate({template:a,usings:[...Xn,"System.Threading",`${i}${no.Constants}`,`${i}${no.Parameters}`,`${i}${no.Model}`],namespace:i,space:no.StreamProcess})}}}}const Bc="\n",Hc="./app/templates/stream_process/stream_process_response_class_extention.tpl",qc="./app/templates/stream_process/stream_process_response_class_extention_constructor.tpl",Wc="./app/templates/stream_process/tests/stream_process_response_class_extention_constructor.tpl",Yc="./app/templates/stream_process/stream_process_response_class_extention_constructor_failed.tpl",zc="./app/templates/tests/tests.tpl";class Jc{static Tabs(e){let t="";for(var r=0;r<e;r++)t+=Kc;return t}static Generate(e){var{state:t,key:r}=e;let n=mp(t,is.Model),o=n.filter(e=>Es(e,ss.IsAgent)),i=Vp(t),a=i?i[vi.NAMESPACE]:null,s=Vn.a.readFileSync(Hc,"utf8"),l=Vn.a.readFileSync(qc,"utf8"),p=Vn.a.readFileSync(Wc,"utf8"),u=Vn.a.readFileSync(Yc,"utf8"),d=Vn.a.readFileSync(zc,"utf8"),c={};return o.map(e=>{let t=[],r=[],o=s,i=d;n.map(o=>{n.map(n=>{Object.values(Eo).filter(e=>e!==Eo.Get&&e!==Eo.GetAll).map(i=>{let a=l,s=u,d=p,c=null,f="",m=`${Es(o,ss.CodeName)}ChangeBy${Es(e,ss.CodeName)}`;i===Eo.Delete?(c=`${m} change, bool res`,f=`\n            var change = ${m}.Create();\n            var res = true;\n                            `):(c=`${m} change, ${Es(n,ss.CodeName)} ${(Es(n,ss.ValueName)||"").toLowerCase()}`,f=`\n            var change = ${m}.Create();\n            var res =  ${Es(n,ss.CodeName)}.Create();\n            change.Response = "response";\n            change.ChangeType = "changeType";\n                            `);let h=`\n            ${i===Eo.Delete?"":`\n            result.IdValue = ${(Es(n,ss.ValueName)||"").toLowerCase()}.Id;`}\n            result.Response = change.Response;\n            result.ChangeType = change.ChangeType;\n            `,y=`\n            var response = ${Es(e,ss.CodeName)}Response.${i}(change, res);\n`;a=mi(a,{model:Es(n,ss.CodeName),value:Es(n,ss.ValueName)||"value",agent_type:Es(e,ss.CodeName),agent:Es(e,ss.AgentName)||"agent",change_type:`Methods.${i} `,method:i,parameters:c,parameters_property:h}),d=mi(d,{model:Es(n,ss.CodeName),model2:Es(o,ss.CodeName),value:Es(n,ss.ValueName)||"value",agent_type:Es(e,ss.CodeName),agent:Es(e,ss.AgentName)||"agent",change_type:`Methods.${i} `,method:i,assert:"\n            Assert.AreEqual(response.Response, change.Response);\n            Assert.AreEqual(response.ChangeType, change.ChangeType);\n",act:y,arrange:f,parameters:c,parameters_property:h}),s=mi(s,{model:Es(n,ss.CodeName),value:Es(n,ss.ValueName)||"value",agent_type:Es(e,ss.CodeName),agent:Es(e,ss.AgentName)||"agent",change_type:`Methods.${i} `,method:i,parameters:c,parameters_property:h}),r.some(e=>e===d)||r.push(d),-1===t.indexOf(a)&&t.push(a),-1===t.indexOf(s)&&t.push(s)})})}),o=mi(o,{model:Es(e,ss.CodeName),constructors:t.join(Xc),properties:""}),i=mi(i,{model:Es(e,ss.CodeName),constructors:t.join(Xc),name:`${Es(e,ss.CodeName)}Response`,properties:"",tests:r.join(Xc)}),c[Es(e,ss.CodeName)]={id:Es(e,ss.CodeName),name:`${Es(e,ss.CodeName)}Response`,tname:`${Es(e,ss.CodeName)}ResponseTests`,template:Xu.Generate({template:o,usings:[...Xn,`${a} ${no.Constants} `,`${a} ${no.Model} `],namespace:a,space:no.Parameters}),test:Xu.Generate({template:i,usings:[...Xn,...Jn,`${a} ${no.Parameters} `,`${a} ${no.Constants} `,`${a} ${no.Model} `],namespace:a,space:no.Parameters})}}),c}}const Xc="\n                ",Kc="   ",Qc="./app/templates/executor/executor_class.tpl",Zc="./app/templates/executor/executor_class_interface.tpl",ef="./app/templates/executor/create.tpl",tf="./app/templates/executor/create_composite_input.tpl",rf="./app/templates/executor/executor_entry_methods.tpl",nf="./app/templates/executor/executor_entry_methods_interface.tpl",of="./app/templates/executor/entry_method_case.tpl",af="./app/templates/executor/update.tpl",sf="./app/templates/executor/get.tpl",lf="./app/templates/tests/tests.tpl",pf="./app/templates/executor/executor_method_composite_input.tpl",uf="./app/templates/executor/executor_methods.tpl",df="./app/templates/executor/executor_methods_interface.tpl";class cf{static enumerateValidationTestVectors(e){var t=e.map(e=>Object.keys(e.values.cases).length);return cf.EnumerateCases(t)}static EnumerateCases(e,t=0){return Vm(e,t)}static Tabs(e){let t="";for(var r=0;r<e;r++)t+="    ";return t}static Generate(e){var{state:t,key:r}=e;let n=Vp(t),o=n?n[vi.NAMESPACE]:null,i=Vp(t),a={},s=mp(t,is.Executor),l=Vn.a.readFileSync(Qc,"utf8"),p=Vn.a.readFileSync(Zc,"utf8"),u=Vn.a.readFileSync(uf,"utf8"),d=Vn.a.readFileSync(pf,"utf8"),c=Vn.a.readFileSync(df,"utf8"),f=Vn.a.readFileSync(ef,"utf8"),m=Vn.a.readFileSync(tf,"utf8"),h=Vn.a.readFileSync(af,"utf8"),y=Vn.a.readFileSync(sf,"utf8"),v=Vn.a.readFileSync(rf,"utf8"),_=Vn.a.readFileSync(nf,"utf8"),g=Vn.a.readFileSync(of,"utf8"),b=(Vn.a.readFileSync(lf,"utf8"),{}),C={},E={},O=[];mp(t,is.Model).filter(e=>Es(e,ss.IsAgent));mp(t,[is.Function,is.Method]).map(e=>{let t,r=Ip(e);r&&r[Fo.CompositeInput]&&(t=Ts(r[Fo.CompositeInput]));let n=r[Fo.Agent],o=r[Fo.Model];O.push({agentId:n,agent:Ts(n),model:t||Ts(o),model_output:Ts(o),function:Ts(e),method:Es(e,ss.MethodType)})}),s.map(e=>{var r=Es(e,ss.ExecutorAgent),n=Es(e,ss.ExecutorModel),o=Es(e,ss.ExecutorModelOutput),a=Yi(i,o),s=Yi(i,n),l=Yi(i,r),p=Es(e,ss.ExecutorFunction),v=Yi(i,p),_=Es(e,ss.ExecutorFunctionType),g=Yi(i,p);let O=Di(Es(e,ss.Executor));var k=[];let N=Es(l,ss.CodeName)+Es(s,ss.CodeName)+Es(g,ss.MethodType);E[N]=E[N]||[],E[N].push({agent:Ts(l),model:Ts(s),model_output:Ts(a),functType:_,funct:Ts(v)});let M=Ip(v),T=Object.keys(O||{}).map(r=>{let n=Yi(i,r),o=O[r];return Object.keys(o.validators).map(r=>{let a=o.validators[r],s=Yi(i,a.node),l="";if(s)switch(Es(s,ss.NODEType)){case is.ExtensionType:if(a&&a.extension){let e={"_ _":'"_____"'};l=Object.keys(a.extension).map(t=>{if(a.extension[t])return e[`${t}`]=`${Es(s,ss.CodeName)}.${yo(t)}`,e[`${t}`]}).filter(e=>e),l=e.filter(e=>e).unique(e=>e).join(),k.push({property:Es(n,ss.CodeName),values:{cases:e}}),l=`new List<string> () {\n                ${l}\n            }`}break;case is.Enumeration:}$o[a.type]&&k.push({property:Es(n,ss.CodeName),values:$o[a.type]});let p="result{{model_property}} = data{{model_property}};",u={};switch(a.type){case wo.AgentReference:p="result{{model_property}} = agent.Id;";break;case wo.ParentReference:p="result{{model_property}} = data{{model_property}};";break;case wo.Copy:break;case wo.AddModelReference:p=Vn.a.readFileSync("app/templates/executor/snippets/add-model-reference.tpl","utf8");let{references:r}=a;if(r){let n=_a(t,e.id);if(n){let e=Ip(n);Object.keys(r).map(t=>{u[t]=Ts(e[r[t]])})}}break;default:throw"not handle [execution generator]"}var d=mi(p,{attribute_type:a.code[To.CSHARP],attribute_type_arguments:l,model_property:`.${Es(n,ss.CodeName)}`,...u});return cf.Tabs(4)+d+Mo}).unique(e=>e).join("")}).unique(e=>e).join(""),S="{{not-defined template}}",P=u;switch(_){case Eo.Create:S=f,M[Fo.CompositeInput]&&(P=d,S=m);break;case Eo.Update:S=h;break;case Eo.Get:case Eo.GetAll:S=y}var A=mi(S,{property_sets:T,model:`${Ts(s)}`,model_output:Ts(a)});let I=Ts(l);I=!!I&&`${I} agent`;let L=Ts(s);L=!!L&&`${L} data`;let $=!!I&&`${Es(s,ss.CodeName)}ChangeBy${Es(l,ss.CodeName)}`,w=[L,I,$=!!$&&`${$} change`].filter(e=>e).join(", ");A=mi(P,{model:Ts(s),model_output:Ts(a)||Ts(s),method_name:Ts(g),parameters:w,data:Ts(s),agent:Ts(l),change:`${Ts(s)}Change`,method_guts:A});var x=mi(c,{model:Ts(s),model_output:Ts(a)||Ts(s),method_name:Ts(g),parameters:w,data:Ts(s),agent:Ts(l),change:`${Ts(s)}Change`,method_guts:A});C[r]=C[r]||[],b[r]=b[r]||[],b[r].push(A),C[r].push(x)});let k=O.map(e=>{var{agent:t,agentId:r,model:n,model_output:o,method:i}=e;let a=(E[t+n+e.method]||[]).map(t=>{var{agent:r,model:n,functType:o,funct:i}=t;return e.agent,mi(g,{agent:r,model:n,func_name:i})+Mo}).unique(e=>e).join("");return{template:mi(v,{agent:t,model:n,cases:a,change:`${n}`,model_output:o||n,method:i})+Mo,agent:r}}),N=O.map(e=>{var{agent:t,model:r,method:n,agentId:o,model_output:i}=e;return{template:mi(_,{agent:t,model:r,model_output:i||r,change:`${r}`,method:n})+Mo,agent:o}});return Object.keys(b).map(e=>{var t=Yi(i,e);let r=mi(l,{model:Es(t,ss.CodeName),methods:b[e].join(""),staticentry:k.unique(e=>e.template).filter(t=>t.agent===e).map(e=>e.template).join("")}),n=mi(p,{model:Es(t,ss.CodeName),methods:C[e].unique(e=>e).join(""),staticentry:N.unique(e=>e.template).filter(t=>t.agent===e).map(e=>e.template).join("")});a[Es(t,ss.CodeName)]={id:Es(t,ss.CodeName),name:`${Es(t,ss.CodeName)}Executor`,tname:`${Es(t,ss.CodeName)}ExecutorTests`,iname:`I${Es(t,ss.CodeName)}Executor`,template:Xu.Generate({template:r,usings:[...Xn,`${o}${no.Model}`,`${o}${no.Parameters}`,`${o}${no.Interface}`,`${o}${no.Constants}`],namespace:o,space:no.Executors}),interface:Xu.Generate({template:n,usings:[...Xn,`${o}${no.Model}`,`${o}${no.Parameters}`,`${o}${no.Constants}`],namespace:o,space:no.Interface})}}),a}}const ff="./app/templates/models/returns/returns_class.tpl",mf="./app/templates/models/returns/returns_funcs.tpl";class hf{static Generate(e){var{state:t,key:r}=e;let n=Vp(t),o=n?n[vi.NAMESPACE]:null,i=Vp(t),a={},s=Vn.a.readFileSync(ff,"utf8"),l=Vn.a.readFileSync(mf,"utf8"),p=mp(t,is.ModelFilter);return mp(t,is.Model).filter(e=>Es(e,ss.IsAgent)).map(e=>{var t=p.filter(t=>{var r=Lp(t.id);if(r)return r[Fo.Agent]===e.id}).map(t=>{var r=Lp(t.id);let o=Yi(n,r[Fo.ModelOutput]||r[Fo.Model]),a=Ea(i,{id:o.id,direction:Na,type:_o.PropertyLink}).filter(e=>Es(t,ss.FilterPropreties)?Es(t,ss.FilterPropreties)[e.id]:"").map(e=>`           result.${Es(e,ss.CodeName)} = model.${Es(e,ss.CodeName)};`).join(Mo);return mi(l,{function:Es(t,ss.CodeName),agent:Es(e,ss.CodeName),model:Es(o,ss.CodeName),set_properties:a})}).join(Mo);let r=mi(s,{agent:Es(e,ss.CodeName),functions:t});a[Es(e,ss.CodeName)]={id:Es(e,ss.CodeName),name:`${Es(e,ss.CodeName)}Return`,template:Xu.Generate({template:r,usings:[...Xn,`${o}${no.Model}`,`${o}${no.Interface}`,`${o}${no.Constants}`],namespace:o,space:no.Controllers})}}),a}}const yf="./app/templates/models/exceptions/exceptions_class.tpl";class vf{static Generate(e){var{state:t,key:r}=e;let n=Vp(t),o=n?n[vi.NAMESPACE]:null,i=(Vp(t),{}),a=Vn.a.readFileSync(yf,"utf8");mp(t,is.ModelFilter);return mp(t,is.Model).filter(e=>Es(e,ss.IsAgent)).map(e=>{let t=mi(a,{agent:Es(e,ss.CodeName)});i[Es(e,ss.CodeName)]={id:Es(e,ss.CodeName),name:`${Es(e,ss.CodeName)}Exceptions`,template:Xu.Generate({template:t,usings:[...Xn,`${o}${no.Model}`,`${o}${no.Interface}`,`${o}${no.Constants}`],namespace:o,space:no.Controllers})}}),i}}const _f="./app/templates/models/gets/model_get_class.tpl",gf="./app/templates/models/gets/model_get_function.tpl",bf="./app/templates/models/gets/model_get_many_to_many_function.tpl",Cf="./app/templates/models/gets/model_get_many_to_many_function_get_child.tpl";class Ef{static enumerateValidationTestVectors(e){var t=e.map(e=>Object.keys(e.values.cases).length);return Ef.EnumerateCases(t)}static EnumerateCases(e,t=0){return Vm(e,t)}static Tabs(e){let t="";for(var r=0;r<e;r++)t+="    ";return t}static Generate(e){var{state:t,key:r}=e;let n=Vp(t),o=n?n[vi.NAMESPACE]:null,i=Vp(t),a={},s=Vn.a.readFileSync(_f,"utf8"),l=Vn.a.readFileSync(gf,"utf8"),p=Vn.a.readFileSync(bf,"utf8"),u=Vn.a.readFileSync(Cf,"utf8"),d=mp(t,is.Model);return d.filter(e=>!Es(e,ss.IsCompositeInput)).map(e=>{var t=d.filter(t=>t.id!==e.id).filter(t=>!(!Es(e,ss.HasLogicalChildren)||!(Es(e,ss.LogicalChildrenTypes)||[]).some(e=>e===t.id)||Es(e,ss.ManyToManyNexus))).map(t=>mi(l,{item_property:Es(t,ss.IsOwnedByAgents)?"Owner":Es(e,ss.CodeName),agent_type:Es(e,ss.CodeName),model:Es(t,ss.CodeName)}));if(Es(e,ss.ManyToManyNexus)){var r=Es(e,ss.LogicalChildrenTypes)||[];if(r&&r.length){let n=r.map(e=>Es(Yi(i,e),ss.CodeName)).unique(e=>e).length===r.length;r.map(r=>{t.push(mi(u,{model:Es(Yi(i,r),ss.CodeName),many_to_many:Es(e,ss.CodeName)}))}),Vm([].interpolate(0,r.length,function(){return r.length+1})).filter(e=>e.length===e.unique(e=>e).length).map(o=>{let a=o.subset(0,o.length).map((e,t)=>{if(r.length===e)return!1;let o=`x${t}`;return n&&(o=Es(Yi(i,r[e]),ss.CodeName).toLowerCase()),mi(`{{_type}} ${o}`,{_type:Es(Yi(i,r[e]),ss.CodeName)})}).filter(e=>e);a.length&&t.push(mi(p,{parameters:a.join(", "),query:o.subset(0,o.length).map((e,t)=>{if(r.length===e)return!1;let o=`x${t}`;return n&&(o=Es(Yi(i,r[e]),ss.CodeName).toLowerCase()),mi(`item != null && ${o} != null && item.{{_type}} == ${o}.Id`,{_type:Es(Yi(i,r[e]),ss.CodeName)})}).filter(e=>e).join(" && "),model:Es(e,ss.CodeName)}))})}}let n=mi(s,{agent_type:Es(e,ss.CodeName),functions:t.unique(e=>e).join(Mo)});a[Es(e,ss.CodeName)]={id:Es(e,ss.CodeName),name:`${Es(e,ss.CodeName)}Get`,template:Xu.Generate({template:n,usings:[...Xn,`${o}${no.Model}`,`${o}${no.Interface}`,`${o}${no.Constants}`],namespace:o,space:no.Controllers})}}),a}}const Of="-NAVIGATION",kf="-APP_METHOD",Nf={ReactNative:{Badge:{},Body:{},Button:{template:"./app/templates/components/button.tpl",properties:{full:{nodeProperty:"ButtonDefault",template:"{{value}}",options:["transparent","bordered","rounded","block","full"],ui:!0},color:{nodeProperty:"ButtonColor",template:"{{value}}",options:["primary","light","dark"],ui:!0},onPress:{nodeProperty:"onPress",template:"() => { {{value}} }",method:!0,nowrap:!0,options:[Of,kf],ui:!0}}},Card:{},CardItem:{},CheckBox:{},Container:{},Content:{},Fab:{},Footer:{},FooterTab:{},Form:{layout:!0,template:"./app/templates/components/form.tpl"},H1:{},H2:{},H3:{},Header:{template:"./app/templates/components/header.tpl",properties:{left:{nodeProperty:"HeaderLeft",template:"{{value}}",options:["true","false"],ui:!0},right:{nodeProperty:"HeaderRight",template:"{{value}}",options:["true","false"],ui:!0},title:{nodeProperty:"HeaderTitle",template:"{{value}}",options:["true","false"],ui:!0}}},Icon:{},Image:{library:"react-native",template:"./app/templates/components/image.tpl",properties:{data:{ui:!0,nodeProperty:"data",nodeTypes:[Bn.DataChain],nodeFilter:e=>Es(e,ss.EntryPoint),template:e=>{let t=Ts(Es(e,"data"));return t?mi("DC.{{function}}({{value}})",{function:t,value:"this.props.data"}):"this.props.data"}}}},Input:{template:"./app/templates/components/input.tpl",properties:{item_attributes:{nodeProperty:ss.TextType,template:"{{value}}",options:["fixedLabel","inlineLabel","floatingLabel","stackedLabel","regular","rounded","success","error","disabled"],ui:!0},value:{nodeProperty:ss.Value,template:e=>{let t=Ts(Es(e,"data"));return Es(e,"component-as-label")?`titleService.get('${Es(e,ss.Label)}')`:t?mi("DC.{{function}}({{value}})",{function:t,value:"this.props.data"}):"this.props.data"},parameterConfig:!0,ui:!0},label:{nodeProperty:ss.Label,template:"{titleService.get('{{value}}')}"}}},InputGroup:{},Item:{},Label:{},Left:{},List:{library:"react-native",layout:!0,specialLayout:!0,template:"./app/templates/components/list.tpl",datasource:!0,properties:{item_attributes:{nodeProperty:ss.TextType,template:"{{value}}",component_options:[Bn.ComponentNode],ui:!0}},ui:!0},ListItem:{layout:!0,ui:!0,[Of]:!0,[kf]:!0,properties:{onPress:{nodeProperty:"onPress",template:"() => { {{value}} }",method:!0,options:[Of,kf],ui:!0}}},Picker:{},Radio:{},Right:{},Segment:{},Separator:{},Spinner:{},Subtitle:{},SwipeRow:{},Switch:{},Tab:{},TabBar:{},TabContainer:{},TabHeader:{},Text:{template:"./app/templates/components/text.tpl",properties:{label:{ui:!0,nodeProperty:"component-as-label",boolean:!0},data:{ui:!0,nodeProperty:"data",nodeTypes:[Bn.DataChain],nodeFilter:e=>Es(e,ss.EntryPoint),template:e=>{let t=Ts(Es(e,"data"));return Es(e,"component-as-label")?`titleService.get('${Es(e,ss.Label)}')`:t?mi("DC.{{function}}({{value}})",{function:t,value:"this.props.data"}):"this.props.data"}}}},Textarea:{},Thumbnail:{template:"./app/templates/components/thumbnail.tpl",properties:{data:{ui:!0,nodeProperty:"data",nodeTypes:[Bn.DataChain],nodeFilter:e=>Es(e,ss.EntryPoint),template:e=>{let t=Ts(Es(e,"data"));return t?mi("DC.{{function}}({{value}})",{function:t,value:"this.props.data"}):"this.props.data"}}}},Title:{},Toast:{},View:{layout:!0},LoginSelector:{template:"./app/templates/components/loginselector.tpl",library:"./login-selector"}}};Object.keys(Nf.ReactNative).map(e=>{Nf.ReactNative[e]&&(Nf.ReactNative[e].library=Nf.ReactNative[e].library||"native-base",Nf.ReactNative[e].key=e,Nf.ReactNative[e].properties=Nf.ReactNative[e].properties||{},Nf.ReactNative[e].properties.label=Nf.ReactNative[e].properties.label||{nodeProperty:ss.Label,template:"{titleService.get('{{value}}')}",ui:!0})});const Mf={ScreenInstance:"ScreenInstance",Instance:"Instance",AppState:"AppState",PropInstance:"PropInstance",ApiProperty:"ApiProperty",ScreenParam:"ScreenParam",AddAnotherIfTheseDontMakeSense:"add another if these dont make sense"};function Tf(e){let t=ka(Vp(gp()),{id:e}).filter(e=>Es(e,ss.NODEType)===Bn.ComponentNode&&Es(e,ss.ComponentType)===Nf.ReactNative.ListItem.key);return t&&t.length?t[0]:null}function Sf(e){let t=function(e,t=Oo.ReactNative){return Af(Es(Is(e),ss.Layout))}(e),r=function(e,t=Oo.ReactNative){let r=Es(Is(e),ss.Layout);return If(r).map(e=>{let t=bi(r,e);if(t&&t.cellModel)return t.cellModel[e]}).filter(e=>e).unique()}(e),n=function(e,t=Oo.ReactNative){let r=Es(Is(e),ss.Layout);return If(r).map(e=>{let t=bi(r,e);if(t&&t.cellModelProperty)return t.cellModelProperty[e]}).filter(e=>e).unique()}(e);return[...t.map(e=>`const const_${(Ts(e)||"").toJavascriptName()} = '${(Ts(e)||"").toJavascriptName()}';`),...r.map(e=>(function(e){return`const const_${(e||"").toJavascriptName()} = '${(e||"").toJavascriptName()}';`})(e)),...n.map(e=>`const const_${(Ts(e)||"").toJavascriptName()} = '${(Ts(e)||"").toJavascriptName()}';`)]}function Pf(e){return`const_${(e||"").toJavascriptName()}`}function Af(e,t,r){let n=[];if(!e)return n;let{layout:o,properties:i}=e;return r||(r=o),Object.keys(r).map(t=>{if(n=[...n,...Af(e,t,r[t])],i[t]){let e=i[t].children||{};e[t]&&n.push(e[t])}}),n}function If(e,t,r){let n=[];if(!e)return n;let{layout:o,properties:i}=e;return r||(r=o),Object.keys(r).map(t=>{if(n=[...n,...If(e,t,r[t])],i[t]){(i[t].children||{})[t]&&n.push(t)}}),n}function Lf(e,t,r,n=[],o=null){let i=[],{layout:a,properties:s}=e;return t||(t=a),Object.keys(t).map((a,s)=>{i.push(function(e,t,r,n,o,i,a){let{properties:s}=e,l=s[t].style||{},p=s[t].children||{},u=s[t].cellModel||{},d=s[t].cellRoot={},c=s[t].cellModelProperty||{},f=Object.keys(r).length?Lf(e,r,o,i,a):[];p&&p[t]&&(i.some(e=>e===p[t])||i.push(p[t]),f=[$f(Gf(Is(p[t]),o,a,{children:p,cellModel:u,cellModelProperty:c,item:t}),2)]);let m={...l};switch(["borderStyle","borderWidth","borderColor","display"].map(e=>{delete m[e]}),Object.keys(m).map(e=>{null===m[e]&&delete m[e]}),o){case Oo.ReactNative:return!Object.keys(m).length||d[t]?f.tightenPs():`\n<View style={${JSON.stringify({...m},null,4)}}>\n${$f(f.tightenPs())}\n</View>\n            `}}(e,a,t[a],0,r,n,o))}),i}function $f(e,t){let r=[].interpolate(0,t||1,()=>"    ").join("");return((e?Mo+r:"")+(e||"")).split(Mo).filter(e=>e.trim()).join(Mo+r)}function wf(e){let t=function(e=Oo.ReactNative){var t=Hf();let r=Vn.a.readFileSync("./app/templates/screens/screen.tpl","utf8"),n=[],o=t.map(t=>{let o=Al(t.id);if(o&&o.length){let i=o.find(e=>Es(e,uo.UIType)===Oo.ReactNative);if(i){r=function(e,t){let r=Is(e),n=function(e,t){let r=Is(e),n=r?Al(r.id):null;if(n&&n.length){let e=n.find(e=>Es(e,uo.UIType)===Oo.ReactNative);if(e)return e}return null}(e);if(n){let o=function(e,t){let r=Is(e),n=r?Al(r.id):null;if(n&&n.length){let e=n.find(e=>Es(e,uo.UIType)===t);if(e)return[Vf(e,r,t)]}return null}(e,t),i=[Gf(n,t)],a=Vn.a.readFileSync("./app/templates/screens/rn_screen.tpl","utf8");return mi(a,{name:Ts(r),title:`"${ip(r)}"`,imports:o.join(Mo),elements:i.join(Mo),component_did_mount:Uf(n)})}}(t.id,e);let o=function(e,t,r){switch(r){case Oo.ReactNative:return Rf(e,null,r)}}(i,0,e);o&&n.push(...o.filter(e=>e))}}return{template:mi(r,{name:Ts(t),title:`"${ip(t)}"`}),relative:"./src/screens",relativeFilePath:`./${Ts(t).toJavascriptName()}.js`,name:Ts(t)}});return n.push({template:mi("{{source}}",{source:mp(gp(),[Bn.Screen,Bn.ScreenOption,Bn.ComponentNode]).map(e=>`export const ${Ts(e)} = '${Ts(e)}';`).join(Mo)}),relative:"./src/actions",relativeFilePath:"./screenInstances.js",name:""}),[...o,...n]}(),r={};return t.map(e=>{r[e.name]=e}),r}function xf(e,t,r){let n=Tf(e.id);return t.push(Bf(n,e,r)),`(item)=> <${Ts(n)} data={item} />`}function jf(e){return`(()=> {\n    return GetItems(Models.${Ts(Es(Ds(e.id),uo.UIModelType))});\n})()`}function Rf(e,t,r){let n,o=Es(e,uo.Layout),i=Es(e,uo.ComponentType),{specialLayout:a,template:s}=Nf[r][i]?Nf[r][i]:{},l=[],p=[];if(a?(p.push(`import * as Models from '${t.split("/").map(e=>"../").subset(2).join("")}model_keys.js';`),o&&Lf(o,null,r,l,e).join(Mo),n=mi(Vn.a.readFileSync(s,"utf8"),{item_render:xf(e,p,r),data:jf(e)})):n=o?Lf(o,null,r,l,e).join(Mo):"<View><Text>DE</Text></View>",Nf&&Nf[r]&&Nf[r][i]&&Nf[r][i].properties&&Nf[r][i].properties){let{onPress:t}=Nf[r][i].properties;t&&(n=Df(n,t,e))}let u=Vn.a.readFileSync("./app/templates/screens/rn_screenoption.tpl","utf8"),d=[];l.map(n=>{let o=t?`${t}/${(Ts(e)||"").toJavascriptName()}`:`./src/components/${(Ts(e)||"").toJavascriptName()}`;d.push(...function e(t,r="./src/components",n=Oo.ReactNative){let o=[];let i=Es(t,uo.Layout);let a=Es(t,uo.ComponentType);if(!(i||Nf[n]&&Nf[n][a]&&Nf[n][a].specialLayout)){switch(Es(t,uo.NODEType)){case Bn.ComponentNode:let e=Vn.a.readFileSync("./app/templates/screens/rn_screenoption.tpl","utf8"),i=null;if(Nf[n]&&Nf[n][a]&&(i=function(e,t){if(t&&t.template){let r=Vn.a.readFileSync(t.template,"utf8"),{properties:n}=t,o={};return Object.keys(n).map(t=>{if(n[t]&&n[t].nodeProperty)if(o[t]=Es(e,n[t].nodeProperty),n[t].parameterConfig){let r=Es(e,n[t].nodeProperty);r&&r[t]&&(o[t]=Ff({[t]:r[t]}))}else if(n[t].template)if("function"==typeof n[t].template)o[t]=n[t].template(e);else{let e=o[t];o[t]=mi(n[t].template,{value:e})}o[t]||(o[t]="")}),mi(r,o)}}(t,Nf[n][a]),Nf[n][a].properties&&Nf[n][a].properties)){let{onPress:e,nowrap:r}=Nf[n][a].properties;e&&(i=Df(i,e,t,Nf[n][a].properties))}o.push({relative:r||"./src/components",relativeFilePath:`./${(Ts(t)||"").toJavascriptName()}.js`,name:Ts(t),template:mi(e,{name:Ts(t),imports:"",screen_options:"",relative_depth:[].interpolate(0,r?r.split("/").length-2:1,()=>"../").join(""),elements:i||"<View><Text>DE</Text></View>"})})}return o}{let e=Rf(t,r||"./src/components",n);e&&o.push(...e)}let s=Af(i);s.map(i=>{let a=r?`${r}/${(Ts(t)||"").toJavascriptName()}`:`./src/components/${(Ts(t)||"").toJavascriptName()}`,s=e(i,a,n);o.push(...s)});return o}(Is(n),o,r))}),l=l.unique().map(t=>Bf(t,e,r));let c=$f([...Sf(e.id?e.id:e)||[],...function(e){let t=Is(e),r=Es(t,ss.Layout),n=Es(t,ss.ComponentProperties);return If(r).map(t=>{let o=bi(r,t);if(o&&o.cellModel&&o.cellModel[t]){let r=Qi(n,o.cellModel[t],"instanceTypes");if(r!=Mf.PropInstance&&r!=Mf.ScreenParam&&r)return`let ${o.cellModel[t]} = Get${r}(${r}.${Ts(e)}, const_${o.cellModel[t]}) || {};`}}).filter(e=>e).unique()}(e.id?e.id:e)||[]].unique().join(Mo),4);return[{template:u=mi(u,{name:Ts(e),relative_depth:[].interpolate(0,t?t.split("/").length-2:1,()=>"../").join(""),title:`"${ip(e)}"`,screen_options:c,imports:[...l,...p].unique().join(Mo),elements:$f(n,4)}),relative:t||"./src/components",relativeFilePath:`./${(Ts(e)||"").toJavascriptName()}.js`,name:Ts(e)},...d]}function Df(e,t,r,n){switch(Es(r,"onPress")){case kf:let t="onPress",o=Es(r,uo.ClientMethodParameters)||{},i=Es(r,uo.ClientMethod),a="let body = null;",s="let parameters = null;";if(i){let r=Ss(i),l=As(i);if(l){let{parameters:i,body:p}=l;if(p){let e=Pl(),r=Ji(o,t,"body","instanceType"),n=Ji(o,t,"body","componentModel"),i=e.find(e=>e.id===Ji(o,t,"body","component")),s=i&&i.componentPropertiesList?i.componentPropertiesList:[];if(s.length){let e=s.find(e=>e.value===n);if(e){let t=e.value;a=`let body = Get${r}('${Ts(i.id)}', '${t}');`}}}let u=`this.props.${r}({ body, parameters })`;e=n&&n.onPress&&n.onPress.nowrap?mi(e,{onPressEvent:`onPress={() => {\n${s}\n${a}\n${u} }}`}):`\n                        <TouchableOpacity onPress={() => {\n    ${s}\n    ${a}\n    ${u} }}>\n                ${e=mi(e,{onPressEvent:""})}\n                        </TouchableOpacity>`}}break;case Of:let l=Es(r,uo.Navigation),p=Es(Is(l),uo.ScreenParameters),u=[];if(p){let e=Es(r,uo.NavigationParameters),t=Es(r,uo.NavigationParametersProperty)||{};Es(r,uo.ComponentProperties);p.map(n=>{let{title:o,id:i}=n,a=e[i];if(a){let e=t[a];if(e){let t="";Es(r,uo.ComponentType)===Nf.ReactNative.ListItem.key&&(t=".item");let n=Is(e);n?u.push(`${o}: this.props.${a}${t}.${Ss(n)}`):u.push(`${o}: this.props.${a}${t}`)}}})}if(l&&u){let t=`navigate('${Ts(l)}', {${u.join(", ")}})`;e=n&&n.onPress&&n.onPress.nowrap?mi(e,{onPressEvent:`onPress={() => { ${t} }}`}):`\n    <TouchableOpacity onPress={() => { ${t} }}>\n${e=mi(e,{onPressEvent:""})}\n    </TouchableOpacity>`}}return e}function Gf(e,t,r,n){let{children:o,cellModel:i,cellModelProperty:a,item:s}=n||{},l="";switch(t){case Oo.ReactNative:let n,u="",d="",c="",f="",m="",h="",y=null,v="",_=null;if(r&&o&&i&&a&&i[s]&&a[s]){n=Es(r,uo.ComponentProperties),y=Es(r,uo.Layout),c=Qi(n,i[s],"instanceTypes"),f=Pf(i[s]);var{componentApi:p}=Qi(y,s)||{};_=p,h=`${i[s]}`.toJavascriptName(),m=Pf(v=(Ts(a[s])||"").toJavascriptName())}switch(r&&"ReactNative"===t&&Es(r,uo.ComponentType)===Nf[t].ListItem.key&&(l=".item"),c){case Mf.PropInstance:f&&m?d=`this.props.${h} && this.props.${h}${l} ? this.props.${h}${l}.${v} : null`:f&&(d=`this.props.${h}${l}`);break;case Mf.ScreenParam:d=`GetScreenParam('${h}')`;break;case Mf.ApiProperty:break;default:f&&m&&Ts(r)&&(u=`onChange={value => {\n    this.props.update${c}(${f}, ${m}, value);\n}}`)}let g="";return _&&(g=Ff(_)),d&&(d=`data={${d}}`),`<${Ts(e)} ${d} ${g} ${u}/>`}}function Ff(e){var t=[];if(e)for(var r in e){let n="",{instanceType:o,model:i,modelProperty:a,apiProperty:s}=e[r];switch(o){case Mf.ScreenInstance:n=`GetScreenInstance('${i}', '${Ts(a)}')`;break;case Mf.ApiProperty:n=`this.props.${s}`;break;default:throw"write api properties unhandled case "+o}t.push(`${r}={${n}}`)}return t.join(" ")}function Uf(e){let t=Es(e,uo.ComponentDidMountEvent),r=[];return t&&t.length&&(r=t.map(e=>{return`this.props.${Ss(Is(e))}();`}).join(Mo)),$f(mi("componentDidMount() {\n        this.props.setGetState();\n{{handles}}\n}\n",{handles:$f(r,1)}),1)}function Vf(e,t,r){switch(r){case Oo.ReactNative:if(e)return`import ${Ts(e)} from '../components/${(Ts(e)||"").toJavascriptName()}'`}}function Bf(e,t,r){switch(r){case Oo.ReactNative:if(e)return`import ${Ts(e)} from './${(Ts(t)||"").toJavascriptName()}/${(Ts(e)||"").toJavascriptName()}'`}}function Hf(){return lp()}class qf{static Generate(e){return wf()}}function Wf(){let e=[{template:Yf(),relative:"./src",relativeFilePath:"./navigationstack.js",name:"navigationstack"}],t={};return e.map(e=>{t[e.name]=e}),t}function Yf(){var e=Hf();let t=Vn.a.readFileSync("./app/templates/navigation/navigation.tpl","utf8"),r=e.sort((e,t)=>(Es(t,ss.Priority)||0)-(Es(e,ss.Priority)||0)).map(e=>{let t=Al(e.id).find(e=>Es(e,ss.UIType)===Oo.ReactNative),r="import {{name}} from './screens/{{namejs}}';";return Es(t,ss.EnabledMenu)&&(r="import _{{name}} from './screens/{{namejs}}';"),mi(r,{name:Ts(e),namejs:Ts(e).toJavascriptName()})}),n=e.map(e=>{let t=Al(e.id).find(e=>Es(e,ss.UIType)===Oo.ReactNative);return!!Es(t,ss.EnabledMenu)&&mi("const {{name}} = createDrawerNavigator(\n        {\n          Home: { screen: _{{name}} }\n        },\n        {\n          contentComponent: _{{name}}.drawerContent,\n          navigationOptions: _{{name}}.navigationOptions\n        }\n      );",{name:Ts(e)})}).filter(e=>e),o=e.map(e=>mi("     {{name}} : { screen: {{name}} }",{name:Ts(e)}));return mi(t,{imports:r.join(Mo),combos:n.join(Mo),properties:o.join(","+Mo)})}class zf{static Generate(e){return Wf()}}class Jf{static Generate(e){let t=function(e){let{state:t,key:r}=e;return[{template:pp().map(e=>mi("export const {{name}} = '{{name}}';",{name:Ts(e)})).join(Mo),relative:"./src",relativeFilePath:"./model_keys.js",name:"model_keys"},{template:mi('{\n        "appName": "{{appName}}"\n    }',{appName:Vp(t)[vi.PROJECTNAME]}),relative:"./",relativeFilePath:"./app.json",name:"app_json"}]}(e),r=function(e){let{state:t,key:r}=e,n={color1:"#494947",color2info:"#35FF69",color3success:"#44CCFF",color4:"#7494EA",color5warning:"#D138BF"},o=Vp(t)[vi.COLORSCHEME]||"e5e1ee-dffdff-90bede-68edc6-90f3ff";return Object.keys(n).map((e,t)=>{n[e]="#"+o.split("-")[t]}),[{template:[mi(Vn.a.readFileSync("./app/templates/themes/react_variables.tpl","utf8"),{color1:"#3F51B5",color2info:"#3F57D3",color3success:"#5cb85c",color4:"#d9534f",color5warning:"#f0ad4e",...n})].join(Mo),relative:"./native-base-theme/variables",relativeFilePath:"./variables.js",name:"native_base_theme_variables"}]}(e),n={};return t.map(e=>{n[e.name]=e}),r.map(e=>{n[e.name]=e}),n}}class Xf{static Generate(e){let t=up(),r={};t.map(e=>{r.https=r.https||(Es(e,ss.UseHttps)?"https":"http"),Object.keys(po).map(t=>{r[t]=r[t]||Es(e,t)})});let n=Vn.a.readFileSync("./app/templates/components/configuration.tpl","utf8");n=mi(n,r);let o={};return[{template:n,relative:"./src",relativeFilePath:"./configuration.js",name:"configuration"}].map(e=>{o[e.name]=e}),o}}class Kf{static GenerateService(e){let{state:t}=e,r=mp(t,is.Method),n=Vn.a.readFileSync("./app/templates/screens/service.tpl","utf8"),o={};return r=r.map(e=>{let t=dp(e.id);if(t){let r=cp(t.id);if(r){Es(e,ss.NoApiPrefix)?o[Ss(e)]=`${Es(e,ss.HttpRoute)}`:o[Ss(e)]=`api/${Ss(r)}/${Es(e,ss.HttpRoute)}`;let t=Es(e,ss.HttpMethod),n="null";return Es(e,ss.AsForm)&&(n="{ asForm : true }"),mi(t===ni.POST?"\n{{methodName}}: async (params) => {\n    let { body, parameters } = params;\n    return redservice().{{methodType}}(endpoints.{{methodName}}, body, {{options}});\n}":"\n{{methodName}}: async (params) => {\n    let { parameters } = params;\n    return redservice().{{methodType}}(endpoints.{{methodName}});\n}",{methodName:Ss(e),methodType:`${t}`.toLowerCase().split("http").join(""),options:n})}}}).filter(e=>e).join(","+Mo),{template:mi(n,{service_methods:$f(r,1),endpoints:JSON.stringify(o,null,4)}),relative:"./src/util",relativeFilePath:"./controllerService.js",name:"controllerService"}}static Generate(e){let{state:t}=e,r=mp(t,is.Method);let n=r.map(e=>{let t=`return (dispatch, getState) => Util.simple(service.${Ss(e)}, { ...parameters }, {\n    loading: Models.${Ts(Ap(e,Fo.ModelOutput))||ot}, \n    objectType: Models.${Ts(Ap(e,Fo.ModelOutput))||ot} \n})(dispatch, getState);`;return mi("export function {{methodName}}({{arguments}}){\n    {{method_call}}\n}\n        ",{methodName:Ss(e),method_call:$f(t,1),arguments:"parameters"})}).join(Mo),o=[{template:mi("import * as Models from '../model_keys';\nimport service from '../util/controllerService';\nimport * as Util from './util';\n{{body}}\n        ",{body:$f(n,1)}),relative:"./src/actions",relativeFilePath:"./controllerActions.js",name:"controllerActions"},Kf.GenerateService(e)],i={};return o.map(e=>{i[e.name]=e}),i}}class Qf{static Generate(e){let t=[{template:`import { GetItem, Chain } from './uiActions';\nimport * as Models from '../model_keys.js';\nimport RedObservable from './observable.js';\n${Qs()}`,relative:"./src/actions",relativeFilePath:"./data-chain.js",name:"data-chain"},{template:Object(Un.readFileSync)("./app/utils/observable.js","utf8"),relative:"./src/actions",relativeFilePath:"./observable.js",name:"observable"}],r={};return t.map(e=>{r[e.name]=e}),r}}function Zf(e){let t=$s(e);return t&&t.validation?t.validation:(console.warn("doesnt define a validation for method type "),!1)}function em(e,t,r=To.CSHARP){let n=pl();if(n&&n[e]){let r=t?"./app/templates/validation/validation_entry_interface.tpl":"./app/templates/validation/validation_entry.tpl",o=Vn.a.readFileSync(r,"utf8"),i=n[e],a=i.map(e=>Pp(e.id)).unique().groupBy(e=>{let t=Zf(Rs(e.id).id);return t.asModel?Ap(e,t.asModel):Ap(e,Fo.Model)}),s=Vn.a.readFileSync("./app/templates/validation/validation_case.tpl","utf8");return Object.keys(a).map(t=>{let r=`${Ts(t)} model, ${Ts(e)} agent, ${Ts(t)}ChangeBy${Ts(e)} change_parameter`,n="";return n=a[t].map(e=>{let t=Rs(e.id);if(i.some(e=>e.id===t.id))return mi(s,{function_name:`FunctionName.${Ts(e.id)}`,function:`${Ts(t)}`,parameters:"model, agent, change_parameter"})}).filter(e=>e),mi(o,{parameters:r,switch_parameter:"change_parameter.FunctionName",conditions:n.join(Mo)})})}}function tm(e){let t=pl();if(t&&t[e]){let r=yl(),n=function(e,t,r=To.CSHARP){let n=t.map(e=>(function(e,t=To.CSHARP){let r=Zf(e);if(!r)return!1;let{interface_:n}=r;return mi(Vn.a.readFileSync(n,"utf8"),{parameters:nm(e,t),function_name:Ts(e)})})(e,r)).filter(e=>e).join(Mo),o=Vn.a.readFileSync("./app/templates/validation/validation_interface.tpl","utf8"),i=em(e,!0,r);return mi(o,{agent_type:Ts(e),validations:i.join(Mo),methods:n})}(e,t[e].map(e=>e.id));return Xu.Generate({template:n,usings:[...Xn,`${r}${no.Interface}`,`${r}${no.Model}`,`${r}${no.Parameters}`],namespace:r,space:no.Interface})}return!1}function rm(){var e=cl();let t={};return e.map(e=>{let r=Ts(e.id),n=function(e){let t=pl();if(t&&t[e]){let r=yl(),n=function(e,t,r=To.CSHARP){let n=t.map(e=>(function(e,t=To.CSHARP){let r=Zf(e);if(!r)return!1;let{implementation:n}=r;return mi(Vn.a.readFileSync(n,"utf8"),{parameters:nm(e,t),conditions:gl(e,t),function_name:Ts(e)})})(e,r)).filter(e=>e).join(Mo),o=em(e,!1,r),i=Vn.a.readFileSync("./app/templates/validation/validations_impl.tpl","utf8"),a=mi(Vn.a.readFileSync("./app/templates/validation/constructor.tpl","utf8"),{agent_type:`${Ts(e)}`,arbiters:_l(4,r)});return mi(i,{agent_type:Ts(e),arbiters:vl(),validations:o.join(Mo),constructor:a,methods:n})}(e,t[e].map(e=>e.id));return Xu.Generate({template:n,usings:[...Xn,`${r}${no.Extensions}`,`${r}${no.Model}`,`${r}${no.Interface}`,`${r}${no.Parameters}`,`${r}${no.Controllers}`,`${r}${no.Constants}`].filter(e=>e),namespace:r,space:no.Validations})}return!1}(e.id),o=tm(e.id);if(!n||!o)return;let i={name:`${r}Validations`,iname:`I${r}Validations`,template:n,interface:o};t[r]=i}),t}function nm(e,t=To.CSHARP){let r=function(e){let t=Zf(e),{params:r}=t,n=Pp(e);return(r||[]).map(e=>({paramClass:Ap(n,e),paramProperty:e}))}(e);switch(t){case To.CSHARP:return r.map(e=>`${Ts(e.paramClass)||e.paramClass} ${Cl(e.paramProperty&&e.paramProperty.key?e.paramProperty.key:e.paramProperty)}`).join(", ")}}class om{static Generate(e){return rm()}}class im{static generate(e){var{state:t,type:r,key:n}=e;switch(r){case Bn.Controller:return ed.Generate({state:t,key:n});case Bn.Model:return sd.Generate({state:t,key:n});case Bn.ExtensionType:return _d.Generate({state:t,key:n});case Bn.Maestro:return _c.Generate({state:t,key:n});case Wn.ChangeParameter:return Mc.Generate({state:t,key:n});case Wn.ChangeResponse:return Jc.Generate({state:t,key:n});case Wn.Constants:let e=mp(t,Bn.Model),o=mp(t,[Bn.Function,Bn.Method]),i=mp(t,Bn.Enumeration).map(e=>{var t=Es(e,uo.Enumeration),r={};return t.map(e=>{r[yo(e.value||e)]=e.value}),{name:Es(e,uo.CodeName),model:r}}),a={};e.map(e=>{a[Es(e,uo.CodeName).toUpperCase()]=Es(e,uo.CodeName).toUpperCase()});let s={};return o.map(e=>{s[Es(e,uo.CodeName)]=Es(e,uo.CodeName).toUpperCase()}),Ac.Generate({values:[{name:Kn.Methods,model:Eo},{name:Kn.StreamTypes,model:a},{name:Kn.FunctionName,model:s},...i],state:t,key:n});case Wn.Permissions:return Rc.Generate({state:t,key:n});case Wn.Validators:return om.Generate({state:t,key:n});case Wn.StreamProcess:return Vc.Generate({state:t,key:n});case Wn.StreamProcessOrchestration:return nc.Generate({state:t,key:n});case Wn.Executors:return cf.Generate({state:t,key:n});case Wn.ModelGet:return Ef.Generate({state:t,key:n});case Wn.ModelReturn:return hf.Generate({state:t,key:n});case Wn.ModelExceptions:return vf.Generate({state:t,key:n});case Wn.ModelItemFilter:return uc.Generate({state:t,key:n});case Yn.Screens:return qf.Generate({state:t,key:n});case Yn.Navigation:return zf.Generate({state:t,key:n});case Yn.Keys:return Jf.Generate({state:t,key:n});case Yn.Configuration:return Xf.Generate({state:t,key:n});case Yn.ControllerActions:return Kf.Generate({state:t,key:n});case Yn.DataChainFunctions:return Qf.Generate({state:t,key:n})}}}var am=r("os"),sm=r("fs");const{ipcRenderer:lm}=r("electron"),pm=r("electron").remote;var um=pm.dialog;function dm(){gm()(Mm,Tm)}function cm(e){e?(Xl(rp,e)(Mm,Tm),Xl(tp,!0)(Mm,Tm)):zl(tp)(Mm,Tm)}const fm="SELECTED_TAB",mm="DEFAULT_TAB",hm="PARAMETER_TAB",ym="SCOPE_TAB",vm="QUICK_MENU";function _m(e){switch(e){case"1":Xl(fm,mm)(Mm,Tm);break;case"2":Xl(fm,hm)(Mm,Tm);break;case"3":Xl(fm,ym)(Mm,Tm);break;case"4":Xl(fm,vm)(Mm,Tm)}}function gm(){return(e,t)=>{um.showOpenDialog(pm.getCurrentWindow(),{filters:[{name:"Red Quick Builder",extensions:[Om]}],properties:["openFile"]},t=>{void 0!==t?(t.length&&Array.isArray(t)&&(t=t[0]),t.endsWith(Em)||(t=`${t}${Em}`),console.log(t),sm.readFile(t,{encoding:"utf8"},(t,r)=>{if(t)return console.error("An error ocurred updating the file"+t.message),void console.log(t);try{var n=JSON.parse(r);if(n)Hl((n={...yi(),...n}).id,lu,e),Wl(n,e)}catch(e){console.log(e)}console.warn("The file has been succesfully saved")})):console.log("You didn't save the file")})}}function bm(){return(e,t)=>{var r={...yi()};Hl(r.id,lu,e),Wl(r,e)}}function Cm(){bm()(bp(),Cp())}lm.on("save-graph-to-file-reply",(e,t)=>{console.log(t)});const Em=".rqb",Om="rqb";function km(){return(e,t)=>{var r=Vp(t());if(r){var n=JSON.stringify(r);um.showSaveDialog(pm.getCurrentWindow(),{filters:[{name:"Red Quick Builder",extensions:[Om]}]},e=>{void 0!==e?(e.endsWith(Em)||(e=`${e}${Em}`),console.log(e),function(e,t){var{prop:r,value:n}=t;e[r]=n}(r,{prop:"graphFile",value:e}),sm.writeFile(e,n,e=>{if(e)return console.error("An error ocurred updating the file"+e.message),void console.log(e);console.warn("The file has been succesfully saved")})):console.log("You didn't save the file")})}}}function Nm(e){return(e,t)=>{var r=Vp(t());r&&r.graphFile&&sm.existsSync(r.graphFile)&&sm.writeFileSync(r.graphFile,JSON.stringify(r))}}let Mm=null,Tm=null;function Sm(){return(e,t)=>{Mm=e,Tm=t}}function Pm(){Nm(Vp(Tm()))(Mm,Tm)}function Am(){return(e,t)=>{var r=Vp(t());r&&um.showOpenDialog(pm.getCurrentWindow(),{properties:["openDirectory"]},t=>{void 0!==t?(console.log(t),Wl(r=function(e,t){let{workspace:r}=t;return e.workspaces=e.workspaces||{},e.workspaces[hi.platform()]=r,e.workspaces[hi.platform()]&&(e.workspace=r),e}(r,{workspace:t[0]}),e)):console.log("You didn't save the file")})}}const{ipcRenderer:Im}=r("electron"),Lm={};function $m(e,t){var r=function(e,t){return{msg:e,body:t,id:_()}}(e,t);Lm[r.id]={};let n=Promise.resolve().then(()=>new Promise((e,t)=>{Lm[r.id].resolve=e,Lm[r.id].fail=t}));return Im.send("message",JSON.stringify(r)),n}function wm(){xm({filesOnly:!0})(bp(),Cp())}function xm(e={}){var{filesOnly:t}=e;return(e,r)=>{var n=r();let o=Vp(n),i=o.title.split(" ").join("."),a=o.workspaces&&o.workspaces[Object(am.platform)()]||o.workspace;Rm(zu.a.join(a)),Rm(zu.a.join(a,o.title)),(t?Promise.resolve():$m(Wu.scaffold.message,{solutionName:i,appName:o[vi.PROJECTNAME]||"",workspace:zu.a.join(a,o.title,"netcore")})).then(()=>t?Promise.resolve():$m(Wu.reactnative.message,{solutionName:i,appName:o[vi.PROJECTNAME]||"",workspace:zu.a.join(a,o.title,"reactnative")})).then(e=>{console.log("Finished Scaffolding."),function(e,t,r){var n=[Bn.Controller,Bn.Model,Bn.ExtensionType,Bn.Maestro,...Object.values(Wn)];let o=Vp(r);n.map(n=>{var o=im.generate({type:n,state:r});let i=Dm[n];for(var a in o)Rm(zu.a.join(e,t+i)),Object(Un.writeFileSync)(zu.a.join(e,t+i,`${o[a].name}.cs`),o[a].template),o[a].interface&&(Rm(zu.a.join(e,t+".Interfaces")),Object(Un.writeFileSync)(zu.a.join(e,t+".Interfaces",`${o[a].iname||a}.cs`),o[a].interface)),o[a].test&&(Rm(zu.a.join(e,t+".Tests")),Object(Un.writeFileSync)(zu.a.join(e,t+".Tests",`${o[a].tname||a}.cs`),o[a].test))}),o&&(Rm(zu.a.join(e,t+".Tests")),Object(Un.writeFileSync)(zu.a.join(e,t+".Tests","appsettings.json"),JSON.stringify(o.appConfig,null,4)),Rm(zu.a.join(e,t+".Web")),Object(Un.writeFileSync)(zu.a.join(e,t+".Web","appsettings.json"),JSON.stringify(o.appConfig,null,4)))}(zu.a.join(a,o.title,"netcore"),i,n)}).then(()=>{console.log("generate react-native files"),function(e,t){let r=[...Object.values(Yn)];Vp(t);r.map(r=>{let n=im.generate({type:r,state:t});for(var o in n)Rm(zu.a.join(e,n[o].relative)),Object(Un.writeFileSync)(zu.a.join(e,n[o].relative,`${n[o].relativeFilePath}`),n[o].template)})}(zu.a.join(a,o.title,"reactnative",o[vi.PROJECTNAME]),n)}).then(()=>{let e=o?o[vi.NAMESPACE]:null,t=o?o[vi.SERVER_SIDE_SETUP]:null,r=mp(n,Bn.Model).find(e=>Es(e,ss.IsUser));if(t)return jm(zu.a.join(`./app/templates/net_core_mvc/identity/${t}`),{model:Es(r,ss.CodeName),namespace:e},null,zu.a.join(zu.a.join(a,o.title,"netcore"),i+zu.a.join(".Web")))}).then(()=>{console.log("Write react-native files");let e=o[vi.PROJECTNAME];if(e)return jm(zu.a.join("./app/templates/react_native/v1"),{},null,zu.a.join(a,o.title,"reactnative",e));console.warn("No app name given")})}}function jm(e,t,r,n){let o=Vn.a.readdirSync(e);r=r||e,o.map(o=>{let i=zu.a.join(e,o);if(Vn.a.existsSync(i)&&Vn.a.lstatSync(i).isDirectory()){let a=e.substr(r.length);Rm(zu.a.join(n,a,o)),jm(i,t,r,n)}else if(Vn.a.existsSync(i)){let a=Vn.a.readFileSync(i,"utf8"),s=e.substr(r.length);a=mi(a,t),Vn.a.writeFileSync(zu.a.join(n,s,o),a,"utf8")}})}function Rm(e){Vn.a.existsSync(e)||console.log("doesnt exist : "+e);let t=e.split(zu.a.sep);t.map((r,n)=>{if(n>1||t.length-1===n){let r=zu.a.join(...t.subset(0,n+1));e.startsWith(zu.a.sep)&&(r=`${zu.a.sep}${r}`),Vn.a.existsSync(r)||Vn.a.mkdirSync(r)}})}Im.on("message-reply",(e,t)=>{console.log(t);let r=JSON.parse(t);Lm[r.id]&&Lm[r.id].resolve(r.msg),delete Lm[r.id]}),Im.on("commands",(e,t)=>{switch(console.log(e),console.log(t),t.args){case"w":kp();break;case"p":Mp();break;case"y":wm();break;case"s":Pm();break;case"o":dm();break;case"n":Cm();break;case"m":eu();break;case"l":cm("layout");break;case"x":Np();break;case"1":case"2":case"3":case"4":_m(t.args)}});const Dm={[Bn.Controller]:zu.a.join(".Web","Controllers"),[Bn.Model]:".Models",[Bn.ExtensionType]:".Models",[Bn.Maestro]:".Controllers",[Wn.ChangeParameter]:".Models",[Wn.ChangeResponse]:".Models",[Wn.ValidationRule]:".Models",[Wn.Executors]:".Controllers",[Wn.ModelGet]:".Controllers",[Wn.ModelReturn]:".Controllers",[Wn.ModelExceptions]:".Controllers",[Wn.Constants]:".Models",[Wn.Permissions]:".Controllers",[Wn.Validators]:".Controllers",[Wn.ModelItemFilter]:".Controllers",[Wn.StreamProcess]:".Controllers",[Wn.StreamProcessOrchestration]:".Controllers"};function Gm(e){return{state:e}}function Fm(e){return Object(v.bindActionCreators)({...n,...i,...o},e)}function Um(e){return Object(c.connect)(Gm,Fm)(e)}function Vm(e,t=0){var r=[];if(t<e.length)for(var n=0;n<e[t];n++){var o=Vm(e,t+1),i=[n];o.length?o.map(e=>{r.push([...i,...e])}):r.push(i)}return r}var Bm;function Hm(e,t,r,n){Bm||(Bm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Bm,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}String.prototype.padding=function(e,t){var r=this.valueOf();if(Math.abs(e)<=r.length)return r;var n=Math.max(Math.abs(e)-this.length||0,0),o=Array(n+1).join(String(t||" ").charAt(0));return e<0?o+r:r+o},String.prototype.unCamelCase=function(){return(this||"").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b([A-Z]+)([A-Z])([a-z])/,"$1 $2$3").replace(/^./,function(e){return e.toUpperCase()}).trim()};var qm,Wm,Ym,zm=Hm("a",{className:"logo"},void 0,Hm("span",{className:"logo-mini"},void 0,Hm("b",{},void 0,"R"),"QB"),Hm("span",{className:"logo-lg"},void 0,Hm("b",{},void 0,"Red"),"QuickBuilder"));class Jm extends l.Component{render(){return zm}}class Xm extends l.Component{render(){return function(e,t,r,n){qm||(qm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:qm,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("header",{className:"main-header"},void 0,this.props.children)}}class Km extends l.Component{render(){return function(e,t,r,n){Wm||(Wm="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Wm,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("nav",{className:"navbar navbar-static-top"},void 0,this.props.children)}}function Qm(e,t,r,n){Ym||(Ym="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Ym,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Zm=Qm("span",{className:"sr-only"},void 0,"Toggle navigation");var eh,th=Um(class extends l.Component{render(){var e=this;return Qm("a",{onClick:()=>{e.props.toggleDashboardMinMax()},className:"sidebar-toggle","data-toggle":"push-menu",role:"button"},void 0,Zm)}});function rh(e,t,r,n){eh||(eh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:eh,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class nh extends l.Component{render(){let e={};return this.props.paddingRight&&(e.paddingRight=this.props.paddingRight),this.props.style&&(e={...e,...this.props.style}),rh("div",{className:"navbar-custom-menu",style:e},void 0,rh("ul",{className:"nav navbar-nav"},void 0,this.props.children))}}const oh="GraphPropertiesMenu",ih="ApplicationMenu",ah={position:"relative",zIndex:"auto",width:"auto",minheight:"auto",top:"auto",left:"auto",paddingTop:0,display:"block"};var sh;function lh(e,t,r,n){sh||(sh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:sh,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var ph,uh,dh,ch,fh=lh("div",{});class mh extends l.Component{relative(){return this.props.relative?ah:{}}render(){return this.props.notactive?fh:lh("aside",{className:"main-sidebar",style:this.relative()},void 0,lh("section",{className:"sidebar",style:{height:"auto"}},void 0,this.props.children))}}function hh(e,t,r,n){ph||(ph="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ph,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class yh extends l.Component{render(){return hh("ul",{className:"control-sidebar-menu"},void 0,this.props.children)}}class vh extends l.Component{icon(){return this.props.icon||"fa fa-birthday-cake"}render(){return hh("li",{},void 0,hh("a",{onClick:()=>{this.props.onClick&&this.props.onClick()}},void 0,hh("i",{className:`menu-icon ${this.icon()} bg-red`}),hh("div",{className:"menu-info"},void 0,hh("h4",{className:"control-sidebar-subheading"},void 0,this.props.title||""),hh("p",{},void 0,this.props.description||""))))}}class _h extends l.Component{render(){return hh("h3",{className:"control-sidebar-heading"},void 0,this.props.title)}}class gh extends l.Component{active(){return this.props.active?"active":""}render(){return function(e,t,r,n){uh||(uh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:uh,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:`tab-pane ${this.active()}`},void 0,this.props.active?this.props.children:null)}}function bh(){return(bh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}class Ch extends l.Component{_class(){return this.props.sidebarform?"sidebar-form":""}render(){return p.a.createElement("form",bh({role:"form",className:this._class()},{style:this.props.style||{}}),this.props.children)}}function Eh(e,t,r,n){dh||(dh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:dh,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Oh extends l.Component{label(){return this.props.label||"{label}"}value(){return this.props.value||""}options(){return this.props.options?this.props.options.map((e,t)=>Eh("option",{value:e.value},`option-${t}`,e.title)):[]}disabled(){return this.props.disabled?"disabled":""}render(){return Eh("div",{className:"form-group"},void 0,Eh("label",{},void 0,this.label()),Eh("select",{className:"form-control",disabled:this.disabled(),onSelect:e=>{this.props.onChange&&this.props.onChange(e.target.value)},onChange:e=>{this.props.onChange&&this.props.onChange(e.target.value)},value:this.value()},void 0,Eh("option",{value:""},void 0,this.props.defaultSelectText||qt),this.options()))}}function kh(e,t,r,n){ch||(ch="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ch,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Nh,Mh=kh("i",{className:"fa fa-edit"});class Th extends l.Component{label(){return this.props.label||"{label}"}value(){return this.props.value||""}placeholder(){return this.props.placeholder||""}disabled(){return this.props.disabled?"disabled":""}render(){return kh("div",{className:this.props.inputgroup?"input-group":"form-group"},void 0,this.props.inputgroup?null:kh("label",{},void 0,this.label()),kh("input",{type:"text",disabled:this.disabled(),className:"form-control",value:this.value(),onChange:e=>{this.props.onChange&&this.props.onChange(e.target.value)},placeholder:this.placeholder()}),this.props.inputgroup?kh("span",{className:"input-group-btn"},void 0,kh("button",{type:"submit",onClick:()=>{this.props.onClick&&this.props.onClick()},name:"search",id:"search-btn",className:"btn btn-flat"},void 0,Mh)):null)}}function Sh(e,t,r,n){Nh||(Nh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Nh,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const Ph="BATCH_MODEL",Ah="BATCH_AGENT",Ih="BATCH_FUNCTION_NAME";var Lh=Sh("div",{});var $h,wh,xh,jh,Rh,Dh=Um(class extends l.Component{render(){var{state:e}=this.props;return e&&fp()?Sh(gh,{active:!0},void 0,Sh(Ch,{},void 0,Sh("h3",{},void 0,Z),Sh(Oh,{options:mp(e,Bn.Model).toNodeSelect(),label:B,onChange:e=>{this.props.setVisual(Ph,e)},value:_s(e,Ph)}),Sh(Oh,{options:mp(e,Bn.Model).filter(e=>Es(e,uo.IsAgent)).toNodeSelect(),label:B,onChange:e=>{this.props.setVisual(Ah,e)},value:_s(e,Ah)}),Sh(Th,{label:H,value:_s(e,Ih),onChange:e=>{this.props.setVisual(Ih,e)}}))):Lh}});class Gh extends l.Component{render(){return function(e,t,r,n){$h||($h="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:$h,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("li",{className:"header",onClick:this.props.onClick},void 0,this.props.title)}}function Fh(e,t,r,n){wh||(wh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:wh,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Uh extends l.Component{label(){return this.props.label||"{label}"}value(){return this.props.value||""}title(){return this.props.title||""}render(){return Fh("div",{className:"form-group"},void 0,Fh("div",{className:"checkbox"},void 0,Fh("label",{title:this.title()},void 0,Fh("input",{type:"checkbox",checked:this.value(),onChange:e=>{this.props.onChange&&this.props.onChange(e.target.checked)}}),this.label())))}}function Vh(e,t,r,n){xh||(xh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:xh,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Bh extends l.Component{render(){return Vh(gh,{active:this.props.active},void 0,(this.props.items||[]).map(e=>Vh("div",{title:e.title,className:`external-event ${this.props.isSelected(e)?"bg-red":"bg-green"}`,style:{cursor:"pointer",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},onClick:()=>{this.props.onClick&&this.props.onClick(e)}},`allowed-${e.id}`," ",e.title)))}}class Hh extends l.Component{open(){return this.props.open?"control-sidebar-open":""}extraWidth(){return this.props.extraWide?"extra-wide":""}relative(){return this.props.relative?ah:{}}render(){return function(e,t,r,n){jh||(jh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:jh,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("aside",{style:{...this.relative(),...this.props.style||{}},className:`control-sidebar control-sidebar-dark ${this.open()} ${this.extraWidth()}`},void 0,this.props.children)}}function qh(e,t,r,n){Rh||(Rh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Rh,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Wh,Yh,zh,Jh=qh("i",{className:"fa fa-angle-left pull-right"});class Xh extends l.Component{active(){return this.props.active?"active":""}open(){return this.props.open?"menu-open":""}display(){return this.props.open,"block"}icon(){return this.props.icon||"fa fa-dashboard"}render(){return qh("li",{className:`treeview ${this.active()} ${this.open()}`},void 0,qh("a",{onClick:()=>{this.props.toggle&&this.props.toggle(),this.props.onClick&&this.props.onClick()}},void 0,this.props.hideIcon?null:qh("i",{className:`${this.icon()}`}),qh("span",{title:this.props.title},void 0,this.props.title),this.props.hideArrow?null:qh("span",{className:"pull-right-container"},void 0,Jh,this.props.right?this.props.right:null),!this.props.hideArrow&&this.props.right?null:qh("span",{className:"pull-right-container"},void 0,this.props.right?this.props.right:null)),qh("ul",{className:"treeview-menu",style:{display:this.display()}},void 0,this.props.children))}}class Kh extends l.Component{render(){return function(e,t,r,n){Wh||(Wh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Wh,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("ul",{className:"sidebar-menu tree"},void 0,this.props.children)}}function Qh(e,t,r,n){Yh||(Yh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Yh,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Zh extends l.Component{icon(){return this.props.icon||"fa fa-circle-o"}render(){return Qh("li",{},void 0,Qh("a",{onClick:()=>{this.props.onClick&&this.props.onClick()}},void 0,Qh("i",{className:this.icon()}),this.props.title,this.props.right?Qh("span",{class:"pull-right-container"},void 0,this.props.right):null),this.props.children)}}function ey(e,t,r,n){zh||(zh="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:zh,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const ty="SELECTED_TAB";var ry=ey("div",{}),ny=ey("br",{});var oy=Um(class extends l.Component{render(){var{state:e}=this.props;return this.props.tab&&!Gl(e,ty,this.props.tab)?ry:ey("div",{style:{position:"relative"}},void 0,ey(mh,{notactive:!this.props.active,relative:!0},void 0,ey(Hh,{relative:!0,style:{paddingTop:0}},void 0,ey(Kh,{},void 0,ey(Xh,{title:`${this.props.title}`,icon:this.props.icon||"fa fa-object-group",open:_s(e,this.props.visual),active:_s(e,this.props.visual),onClick:()=>{this.props.toggleVisual(this.props.visual)}},void 0,ny,this.props.children)))))}}),iy=r("electron");const ay={type:"get-specific-models",method:e=>{let{model:t,dispatch:r,getState:n}=e;cl().map(e=>{let o;if(Ul(e.id,t.id,ay.type)){let i=[{operation:vu,options:{nodeType:Bn.Method,parent:t.id,groupProperties:{},properties:{[uo.NodePackage]:t.id,[uo.NodePackageType]:ay.type,[uo.NodePackageAgent]:e.id,[uo.FunctionType]:Go.Get_Object_Agent_Value__IListObject_By_Specific,[uo.MethodType]:Eo.GetAll,[uo.HttpMethod]:ni.POST,[uo.UIText]:`${ip(t)} Get Specific Objects`},linkProperties:{properties:{...Co.FunctionOperator}},callback:i=>{setTimeout(()=>{new Promise(a=>{let{constraints:s}=li[Go.Get_Object_Agent_Value__IListObject_By_Specific],l=[];Object.values(s).map(a=>{switch(a.key){case Fo.Model:case Fo.Agent:case Fo.User:case Fo.ModelOutput:o={...o,...Es(Is(i.id),uo.MethodProps)||{}},a[uo.IsAgent]?o[a.key]=e.id:a.key===Fo.User?o[a.key]=Es(Is(e.id),uo.UIUser)||fl()[0].id:o[a.key]=t.id;break;case Fo.Permission:case Fo.ModelFilter:let s=null;Vu([{operation:vu,options:{parent:i.id,nodeType:a.key===Fo.Permission?Bn.Permission:Bn.ModelFilter,groupProperties:{},properties:{[uo.NodePackage]:t.id,[uo.NodePackageType]:ay.type,[uo.UIText]:`${ip(i)} ${a.key===Fo.Permission?Bn.Permission:Bn.ModelFilter}`},linkProperties:{properties:{...Co.FunctionOperator}},callback:e=>{(o={...o,...Es(Is(i.id),uo.MethodProps)||{}})[a.key]=e.id,s=e}}}])(r,n),a.key===Fo.ModelFilter&&(l=[...l,{operation:du,options:{prop:uo.FilterAgent,id:s.id,value:e.id}},{operation:du,options:{prop:uo.FilterModel,id:s.id,value:t.id}},{operation:hu,options:{target:t.id,source:s.id,properties:{...Co.ModelTypeLink}}},{operation:hu,options:{target:e.id,source:s.id,properties:{...Co.AgentTypeLink}}}])}l=[...l,{operation:du,options:{prop:uo.MethodProps,id:i.id,value:o}},{operation:hu,options:{target:o[a.key],source:i.id,properties:{...Co.FunctionOperator}}}]}),Ul(e.id,t.id,ay.type,Bn.Controller)&&l.push({operation:vu,options:{nodeType:Bn.Controller,properties:{[uo.NodePackage]:t.id,[uo.NodePackageType]:ay.type,[uo.NodePackageAgent]:e.id,[uo.UIText]:`${ip(t)} ${ip(e)} Controller`},linkProperties:{properties:{...Co.FunctionOperator}},callback:o=>{setTimeout(()=>{Ul(e.id,t.id,ay.type,Bn.Maestro)&&Vu([{operation:vu,options:{nodeType:Bn.Maestro,parent:o.id,properties:{[uo.NodePackage]:t.id,[uo.NodePackageType]:ay.type,[uo.NodePackageAgent]:e.id,[uo.UIText]:`${ip(t)} ${ip(e)} Maestro`},linkProperties:{properties:{...Co.MaestroLink}},callback:e=>{setTimeout(()=>{Vu([{operation:hu,options:{target:i.id,source:e.id,properties:{...Co.FunctionLink}}}])(r,n)},1500)}}}])(r,n)},1500)}}}),Vu(l)(r,n),a()})},1500)}}}];Vu(i)(r,n)}})},methodType:Go.Get_Object_Agent_Value__IListObject_By_Specific},sy={type:"get-all-models",method:function(e){let{nodePackageType:t,methodType:r,httpMethod:n,functionType:o,functionName:i}=e;if(!t)throw"missing node package type";if(!r)throw"missing method type";if(!n)throw"missing http method";if(!o)throw"function type missing";if(!i)throw"function name is missing";return e=>{let{model:a,dispatch:s,getState:l}=e,p=cl();p.filter(e=>!Es(e,uo.ExcludeFromController)).map(e=>{let p;if(Ul(e.id,a.id,t)){let u=[{operation:vu,options:{nodeType:Bn.Method,parent:a.id,groupProperties:{},properties:{[uo.NodePackage]:a.id,[uo.NodePackageType]:t,[uo.NodePackageAgent]:e.id,[uo.FunctionType]:o,[uo.MethodType]:r,[uo.HttpMethod]:n,[uo.UIText]:`${ip(a)} ${i}`},linkProperties:{properties:{...Co.FunctionOperator}},callback:r=>{setTimeout(()=>{new Promise(n=>{let{constraints:i}=li[o],u=[];Object.values(i).map(n=>{switch(n.key){case Fo.Model:case Fo.Agent:case Fo.User:case Fo.ModelOutput:p={...p,...Es(Is(r.id),uo.MethodProps)||{}},n[uo.IsAgent]?p[n.key]=e.id:n.key===Fo.User?p[n.key]=Es(Is(e.id),uo.UIUser)||fl()[0].id:p[n.key]=a.id;break;case Fo.Permission:case Fo.ModelFilter:let o=null;Vu([{operation:vu,options:{parent:r.id,nodeType:n.key===Fo.Permission?Bn.Permission:Bn.ModelFilter,groupProperties:{},properties:{[uo.NodePackage]:a.id,[uo.NodePackageType]:t,[uo.UIText]:`${ip(r)} ${n.key===Fo.Permission?Bn.Permission:Bn.ModelFilter}`},linkProperties:{properties:{...Co.FunctionOperator}},callback:e=>{(p={...p,...Es(Is(r.id),uo.MethodProps)||{}})[n.key]=e.id,o=e}}}])(s,l),n.key===Fo.ModelFilter&&(u=[...u,{operation:du,options:{prop:uo.FilterAgent,id:o.id,value:e.id}},{operation:du,options:{prop:uo.FilterModel,id:o.id,value:a.id}},{operation:hu,options:{target:a.id,source:o.id,properties:{...Co.ModelTypeLink}}},{operation:hu,options:{target:e.id,source:o.id,properties:{...Co.AgentTypeLink}}}])}u=[...u,{operation:du,options:{prop:uo.MethodProps,id:r.id,value:p}},{operation:hu,options:{target:p[n.key],source:r.id,properties:{...Co.FunctionOperator}}}]}),Ul(e.id,a.id,t,Bn.Controller)&&u.push({operation:vu,options:{nodeType:Bn.Controller,properties:{[uo.NodePackage]:a.id,[uo.NodePackageType]:t,[uo.NodePackageAgent]:e.id,[uo.UIText]:`${ip(a)} ${ip(e)} Controller`},linkProperties:{properties:{...Co.FunctionOperator}},callback:n=>{setTimeout(()=>{Ul(e.id,a.id,t,Bn.Maestro)&&Vu([{operation:vu,options:{nodeType:Bn.Maestro,parent:n.id,properties:{[uo.NodePackage]:a.id,[uo.NodePackageType]:t,[uo.NodePackageAgent]:e.id,[uo.UIText]:`${ip(a)} ${ip(e)} Maestro`},linkProperties:{properties:{...Co.MaestroLink}},callback:e=>{setTimeout(()=>{Vu([{operation:hu,options:{target:r.id,source:e.id,properties:{...Co.FunctionLink}}}])(s,l)},1500)}}}])(s,l)},1500)}}}),Vu(u)(s,l),n()})},1500)}}}];Vu(u)(s,l)}})}}({nodePackageType:"get-all-models",methodType:Eo.GetAll,httpMethod:ni.GET,functionType:Go.Get_Agent_Value__IListObject,functionName:"Get All"}),methodType:Go.Get_Agent_Value__IListObject},ly={type:"login-models",methodType:"Login Models",method:()=>{Vu([{operation:vu,options:{nodeType:Bn.Model,properties:{[uo.NodePackage]:"login-models",[uo.NodePackageType]:"login-models",[uo.UIText]:"Blue Login Model"},callback:e=>{setTimeout(()=>{Vu([{propName:"User Name"},{propName:"Password"},{propName:"Remember Me"}].map(t=>{let{propName:r}=t;return{operation:vu,options:{nodeType:Bn.Property,linkProperties:{properties:{...Co.PropertyLink}},groupProperties:{},parent:e.id,properties:{[uo.NodePackage]:"login-models",[uo.UIAttributeType]:us.STRING,[uo.NodePackageType]:"login-models",[uo.UIText]:r}}}}))(bp(),Cp())},1e3)}}},{operation:vu,options:{nodeType:Bn.Model,properties:{[uo.NodePackage]:"login-models",[uo.NodePackageType]:"login-models",[uo.UIText]:"Blue Register View Model"},callback:e=>{setTimeout(()=>{Vu([{propName:"User Name"},{propName:"Email"},{propName:"Password"},{propName:"Confirm Password"}].map(t=>{let{propName:r}=t;return{operation:vu,options:{nodeType:Bn.Property,linkProperties:{properties:{...Co.PropertyLink}},groupProperties:{},parent:e.id,properties:{[uo.NodePackage]:"login-models",[uo.UIAttributeType]:us.STRING,[uo.NodePackageType]:"login-models",[uo.UIText]:r}}}}))(bp(),Cp())},1e3)}}}])(bp(),Cp())}};var py;function uy(e,t,r,n){py||(py="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:py,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var dy,cy,fy=Um(class extends l.Component{render(){var{state:e}=this.props,t=(gs(e,is.Model),Fl(e,_s(e,ep)));return uy(mh,{relative:!0},void 0,uy(Hh,{relative:!0,style:{paddingTop:0}},void 0,uy(Kh,{},void 0,uy(Xh,{title:Z,open:_s(e,Z),active:_s(e,Z),toggle:()=>{this.props.toggleVisual(Z)},icon:"fa fa-tag"},void 0,uy(Xh,{hideArrow:!0,title:ay.type,icon:"fa fa-plus",onClick:()=>{this.props.executeGraphOperation(t,ay)}}),uy(Xh,{hideArrow:!0,title:sy.type,icon:"fa fa-plus",onClick:()=>{this.props.executeGraphOperation(t,sy)}}),uy(Xh,{hideArrow:!0,title:ly.type,icon:"fa fa-plus",onClick:()=>{this.props.executeGraphOperation(t,ly)}})))))}});class my extends l.Component{render(){return function(e,t,r,n){dy||(dy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:dy,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:"content-wrapper",style:{minHeight:"946px"}},void 0,this.props.children)}}function hy(e,t,r,n){cy||(cy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:cy,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const yy="NAVIGATION_PARAMETERS";var vy=hy("br",{});var _y,gy=Um(class extends l.Component{render(){var{state:e}=this.props,t=Fl(e,_s(e,ep)),r=Es(t,ss.NODEType)===is.ComponentNode;let n=Es(t?ga(e,t.id,Bn.ScreenOption)||ga(e,t.id,Bn.ComponentNode,Ma):null,ss.UIType),o=Nf[n]||{},i=Es(t,ss.ComponentType),a=Es(t,ss.ComponentProperties),s=Xi(a),l=[];return o[i]&&o[i].properties&&Object.keys(o[i].properties).map(r=>{let p=o[i].properties[r];if(p&&p.ui&&p.options){let o=Es(t,p.nodeProperty);if(o===Of){l.push(hy(Oh,{label:T,options:mp(e,Bn.Screen).toNodeSelect(),value:Es(t,uo.Navigation),onChange:e=>{this.props.graphOperation(du,{prop:uo.Navigation,id:t.id,value:e})}},`${o} - ${n} - ${i} - ${r}`));let p=(Es(Is(Es(t,uo.Navigation)),uo.ScreenParameters)||[]).map(r=>{let l=`${o} - ${n} - ${i} - parameter - ${ki(r)}`,p=Es(t,uo.NavigationParameters)||{},u=Es(t,ss.NavigationParametersProperty)||{};return hy(Xh,{title:`${ki(r)}`,icon:"fa fa-object-group",open:_s(e,l),active:_s(e,l),onClick:()=>{this.props.toggleVisual(l)}},void 0,hy(Ch,{},void 0,hy(Oh,{label:ki(r),options:s,value:p[r.id],onChange:e=>{let n=Es(t,uo.NavigationParameters)||{};n[r.id]=e,this.props.graphOperation(du,{prop:uo.NavigationParameters,id:t.id,value:n})}},`${l}`),a&&p&&r&&r.id&&p[r.id]?hy(Oh,{options:ka(Vp(e),{id:a.properties[p[r.id]],direction:Na}).toNodeSelect(),onChange:e=>{u[p[r.id]]=e,this.props.graphOperation(du,{prop:ss.NavigationParametersProperty,id:t.id,value:u})},label:Rr,value:u[p[r.id]]}):null))});l.push(p)}}}),hy("div",{style:{position:"relative"}},void 0,hy(mh,{notactive:!r,relative:!0},void 0,hy(Hh,{relative:!0,style:{paddingTop:0}},void 0,hy(Kh,{},void 0,hy(Xh,{title:`${T}`,icon:"fa fa-object-group",open:_s(e,yy),active:_s(e,yy),onClick:()=>{this.props.toggleVisual(yy)}},void 0,vy,l)))))}});function by(e,t,r,n){_y||(_y="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:_y,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Cy,Ey=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Screen),r=Fl(e,_s(e,ep));return r&&(r&&r.properties&&r.properties[ss.UseUIDependsOn],Es(r,ss.UseModelAsType),Es(r,ss.ManyToManyNexus),mp(e,is.Property).filter(e=>e.id!==r.id).map(e=>({value:e.id,title:ip(e)}))),by(gh,{active:t},void 0,by(_h,{title:ge}),by(Oh,{label:Ae,options:[].interpolate(0,10,e=>e).map(e=>({title:e,value:e})),value:Es(r,ss.Priority),onChange:e=>{this.props.graphOperation(du,{prop:ss.Priority,id:r.id,value:e})}}),by(yh,{},void 0,by(vh,{onClick:()=>{this.props.graphOperation(Ru,{parent:_s(e,ep),groupProperties:{},linkProperties:{properties:{...Co.ScreenOptionsLink}}})},icon:"fa fa-puzzle-piece",title:me,description:me})))}});function Oy(e,t,r,n){Cy||(Cy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Cy,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var ky,Ny,My,Ty=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.DataSource),r=Fl(e,_s(e,ep));return Oy(gh,{active:t},void 0,Oy(Ch,{},void 0,Oy(Oh,{onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.UIModelType],source:t}),this.props.graphOperation(du,{prop:ss.UIModelType,id:t,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ModelTypeLink}})},label:B,value:Es(r,uo.UIModelType),options:pp().toNodeSelect()})),Oy("button",{type:"submit",className:"btn btn-primary",onClick:()=>{this.props.graphOperation(yu,{parent:_s(e,ep),groupProperties:{},linkProperties:{properties:{...Co.ConditionLink}}})}},void 0,A))}});class Sy extends l.Component{render(){return function(e,t,r,n){ky||(ky="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ky,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("ul",{className:"nav nav-tabs nav-justified control-sidebar-tabs"},void 0,this.props.children)}}function Py(e,t,r,n){Ny||(Ny="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Ny,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Ay extends l.Component{icon(){return this.props.icon||"fa fa-wrench"}active(){return this.props.active?"active":""}ariaExapanded(){return this.props.active?"true":"false"}render(){return Py("li",{className:this.active()},void 0,Py("a",{"data-toggle":"tab",onClick:()=>{this.props.onClick&&this.props.onClick()},"aria-expanded":this.ariaExapanded()},void 0,Py("i",{className:this.icon()})))}}function Iy(e,t,r,n){My||(My="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:My,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Ly=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.ScreenOption),r=Fl(e,_s(e,ep));return Nf[Es(r,ss.UIType)],Es(r,ss.ComponentType),Iy(gh,{active:t},void 0,Iy(_h,{title:ge}),Iy(Oh,{label:Se,options:Object.keys(Oo).map(e=>({title:e,value:e})),onChange:e=>{this.props.graphOperation(du,{prop:ss.UIType,id:r.id,value:e})},value:Es(r,ss.UIType)}),Iy(Uh,{label:_e,value:Es(r,uo.EnabledMenu),onChange:e=>{this.props.graphOperation(du,{prop:ss.EnabledMenu,id:r.id,value:e})}}),Iy(Oh,{label:$,options:mp(e,is.Method).toNodeSelect(),value:Es(r,ss.ComponentDidMountEvent),onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.UIChoiceType],source:t}),this.props.graphOperation(du,{prop:ss.ComponentDidMountEvent,id:r.id,value:[e,...Es(r,ss.ComponentDidMountEvent)||[]].unique()}),this.props.graphOperation(hu,{target:e,source:t,properties:{}})}}),Iy(Bh,{active:!0,isSelected:e=>{var t=Es(r,ss.ComponentDidMountEvent)||[];return e&&t.some(t=>t===e.id)},items:(Es(r,ss.ComponentDidMountEvent)||[]).map(t=>Yi(Up(e),t)).toNodeSelect(),onClick:e=>{let t=r.id;var n=Es(r,ss.ComponentDidMountEvent)||[],o=n;o=n.some(t=>e.id===t)?[...o.filter(t=>t!==e.id)].unique(e=>e):[...o,e.id].unique(e=>e),this.props.graphOperation([{operation:du,options:{prop:ss.ComponentDidMountEvent,id:r.id,value:o}},{operation:_u,options:{target:e.id,source:t}}])}}),Iy(yh,{},void 0,Iy(vh,{onClick:()=>{this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:Es(r,uo.Layout)||{layout:{},properties:{}}}),this.props.setVisual(oo,so)},icon:"fa fa-puzzle-piece",title:ne,description:ne}),Iy(vh,{onClick:()=>{this.props.graphOperation($u,{parent:_s(e,ep),groupProperties:{},properties:{[ss.UIType]:Es(r,ss.UIType)},linkProperties:{properties:{...Co.ComponentLink}}}),this.props.setVisual(oo,so)},icon:"fa fa-puzzle-piece",title:W,description:W})))}}),$y=r("webcola");const wy={Facebook:"Facebook",Twitter:"Twitter",Google:"Google",Microsoft:"Microsoft"},xy={[wy.Facebook]:{properties:{UseFacebook:{type:"boolean"},FacebookAppId:{type:"string"},FacebookAppSecret:{type:"string"}}},[wy.Microsoft]:{properties:{UseMicrosoftAccount:{type:"boolean"},MicrosoftClientId:{type:"string"},MicrosoftClientSecret:{type:"string"}}},[wy.Google]:{properties:{UseGoogle:{type:"boolean"},GoogleClientId:{type:"string"},GoogleClientSecret:{type:"string"}}},[wy.Twitter]:{properties:{UseTwitter:{type:"boolean"},TwitterConsumerKey:{type:"string"},TwitterConsumerSecret:{type:"string"}}}};var jy;function Ry(e,t,r,n){jy||(jy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:jy,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Dy,Gy,Fy,Uy,Vy,By=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Services),r=Fl(e,_s(e,ep));let n=r?Es(r,uo.ServiceType):"",o=[];if(n){let e=xy[n];e&&e.properties&&Object.keys(e.properties).map(t=>{var n=e.properties[t],i=Es(r,ss.ServiceTypeSettings)||{};if(n&&n.type)switch(n.type){case"string":o.push(Ry(Th,{onChange:e=>{this.props.graphOperation(du,{prop:ss.ServiceTypeSettings,id:r.id,value:{...i,[t]:e}})},label:t.unCamelCase(),value:i[t]||""},`service-type${t}`));break;case"boolean":o.push(Ry(Uh,{onChange:e=>{this.props.graphOperation(du,{prop:ss.ServiceTypeSettings,id:r.id,value:{...i,[t]:e}})},label:t.unCamelCase(),value:i[t]||""},`service-type${t}`))}})}return Ry(gh,{active:t},void 0,Ry(Ch,{},void 0,Ry(Oh,{label:pe,options:Object.keys(wy).map(e=>({title:e,value:wy[e]})),onChange:e=>{this.props.graphOperation(du,{prop:ss.ServiceType,id:r.id,value:e})},value:n}),o))}});class Hy extends l.Component{render(){return function(e,t,r,n){Dy||(Dy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Dy,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("ul",{className:"tab-content"},void 0,this.props.children)}}function qy(e,t,r,n){Gy||(Gy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Gy,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Wy extends l.Component{icon(){return this.props.icon||"fa fa-gears"}title(){return this.props.title||""}render(){return qy("li",{},void 0,qy("a",{onClick:()=>{this.props.onClick&&this.props.onClick()},title:this.title(),"data-toggle":"control-sidebar"},void 0,qy("i",{className:this.icon()})))}}function Yy(e,t,r,n){Fy||(Fy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Fy,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class zy extends l.Component{label(){return this.props.label||"{label}"}value(){return this.props.value||""}title(){return this.props.title||"{title}"}primary(){return this.props.primary?"box-primary":""}backgroundColor(){return this.props.backgroundColor?this.props.backgroundColor:""}render(){var e={},t={};return this.props.maxheight&&(e.maxHeight=`${this.props.maxheight}px`,e.overflowY="auto"),this.backgroundColor()&&(e.background=this.backgroundColor(),t.background=this.backgroundColor()),Yy("div",{className:`box ${this.primary()}`,style:{...t}},void 0,Yy("div",{className:"box-header with-border",style:{...t}},void 0,Yy("h3",{className:"box-title",style:{...t}},void 0,this.title())),Yy("div",{className:"box-body",style:{...t,...e}},void 0,this.props.children),Yy("div",{className:"box-footer",style:{...t}},void 0,this.props.footer))}}function Jy(e,t,r,n){Uy||(Uy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Uy,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Xy extends l.Component{constructor(e){super(e),this.state={value:""}}render(){var{state:e}=this.props;return Jy(Ch,{sidebarform:!0},void 0,Jy(Th,{onClick:()=>{this.props.onComplete&&(this.props.onComplete(this.state.value),this.setState({value:""}))},value:this.state.value,onChange:e=>{this.setState({value:e})},inputgroup:!0,placeholder:Xe}))}}function Ky(e,t,r,n){Vy||(Vy="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Vy,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Qy=Ky("div",{},void 0,"reference"),Zy=Ky("div",{},void 0,"item"),ev=Ky("div",{}),tv=Ky("div",{},void 0,"reference");var rv,nv=Um(class extends l.Component{render(){var e,t,{state:r}=this.props,n=(gs(r,is.Executor),Up(r)),o=Fl(r,_s(r,ep)),i=[];if(o&&Es(o,ss.ExecutorModel))t=(e=Es(o,uo.Executor)).properties[this.props.property].validators[this.props.validator];else if(o&&Es(o,ss.ModelItemFilter)){t=(e=Es(o,uo.FilterModel)).properties[this.props.property].validators[this.props.validator];var a=Ca(n,{id:o.id,links:[{direction:Ma,type:_o.ModelItemFilter}]},[Bn.Method]);if(a&&a.length){var s=Ip(a[0]);let e=wp(o.id,!0);e&&e.length?i=e:s&&(i=Object.keys(s).map(e=>({title:e,value:e})))}}else(e=this.props.selectedValidator)&&(t=e.properties[this.props.property].validators[this.props.validator]),i=this.props.function_variables;if(t){if(t.arguments&&t.arguments.reference){var{types:l}=t.arguments.reference;if(l){let i=mp(r,l).filter(e=>Es(e,uo.NODEType)!==Bn.ExtensionType||La(e)),a=Ri(e=e||Es(o,uo.Executor)||{properties:{}},{property:this.props.property,validator:this.props.validator}),s=[];if(a&&a.node){let t=Yi(n,a.node);switch(Es(t,uo.NODEType)){case Bn.Enumeration:s=(Es(t,uo.Enumeration)||[]).map(t=>Ky("div",{className:`external-event ${a.enumeration&&a.enumeration[t.id||t]?"bg-red":"bg-black"}`,style:{cursor:"pointer"},onClick:()=>{a.enumeration=a.enumeration||{},a.enumeration[t.id||t]=!a.enumeration[t.id||t],this.props.graphOperation(du,{id:o.id,prop:uo.Executor,value:e})}},void 0," ",t.value));break;case Bn.ExtensionType:var p=$a(t),u=wa(t);s=p.map(t=>Ky("div",{className:`external-event ${a.extension&&a.extension[t[u]]?"bg-red":"bg-black"}`,style:{cursor:"pointer"},onClick:()=>{a.extension=a.extension||{},a.extension[t[u]]=!a.extension[t[u]],this.props.graphOperation(du,{id:o.id,prop:uo.Executor,value:e})}},void 0," ",t[u]))}}return Ky(Ch,{},void 0,Ky(Oh,{options:i.map(e=>({title:ip(e),value:e.id})),defaultSelectText:F,label:Rr,onChange:t=>{var r=o.id;let n=Ri(e=e||Es(o,uo.Executor)||{properties:{}},{property:this.props.property,validator:this.props.validator}),i=n.node;n.node=t,this.props.onChange?this.props.onChange():(i&&this.props.graphOperation(_u,{target:i,source:r}),this.props.graphOperation(du,{id:r,prop:uo.Executor,value:e}),this.props.graphOperation(hu,{target:t,source:r,properties:{...ls.ExecutorModelItemLink,...ja(vo.Remove,{property:this.props.property,validator:this.props.validator,function:"OnRemoveExecutorItemPropConnection",node:n.node})}}))},value:t?t.node:""}),s)}return Qy}if(t.arguments&&t.arguments.method_reference)return this.getMethodReferenceItem(e,t);if(t.arguments&&t.arguments.functionvariables)return Ky(Ch,{},void 0,Ky(Oh,{options:i,label:Ge,onChange:t=>{var r=o.id;let n=Ri(e=e||this.props.selectedValidator||Es(o,uo.FilterModel)||{properties:{}},{property:this.props.property,validator:this.props.validator});n.node,n.node=t,this.props.onChange?this.props.onChange():this.props.graphOperation(du,{id:r,prop:uo.FilterModel,value:e})},value:t?t.node:""}));if(t.arguments&&t.arguments.modelproperty){let e=i||wp(o.id,!0),r=t?t.node:"",n=t?t.nodeProperty:"",a=[];if(r){let e=$p(this.props.adjacentNodeId||o.id,r);e&&(a=Ps(e).toNodeSelect())}return Ky(Ch,{},void 0,Ky(Oh,{options:e,label:Ge,onChange:e=>{var t=o.id,r=this.props.selectedValidator||Es(o,uo.FilterModel)||{properties:{}};Ri(r,{property:this.props.property,validator:this.props.validator}).node=e,this.props.onChange?this.props.onChange():this.props.graphOperation(du,{id:t,prop:uo.FilterModel,value:r})},value:r}),Ky(Oh,{options:a,label:Rr,onChange:e=>{var t=o.id,r=this.props.selectedValidator||Es(o,uo.FilterModel)||{properties:{}};Ri(r,{property:this.props.property,validator:this.props.validator}).nodeProperty=e,this.props.onChange?this.props.onChange():this.props.graphOperation(du,{id:t,prop:uo.FilterModel,value:r})},value:n}))}if(t.arguments&&t.arguments.model2modelproperty){let r=i||wp(o.id,!0),n=t?t.node:"",a=t?t.many2many:"",s=t?t.nodeProperty:"",l=t?t.many2manyProperty:"",p=t?t.many2manyMethod:"",u=[];if(n){let e=$p(this.props.adjacentNodeId||o.id,n);e&&(u=Ps(e).toNodeSelect())}let d=null,c=null,f=null;if(r){let t=Cs([this.props.property,n].filter(e=>e))||[];d=Ky(Oh,{options:t.toNodeSelect(),label:Re,onChange:t=>{var r=o.id;Ri(e=e||this.props.selectedValidator||Es(o,uo.FilterModel)||{properties:{}},{property:this.props.property,validator:this.props.validator}).many2many=t,this.props.onChange?this.props.onChange():this.props.graphOperation(du,{id:r,prop:uo.FilterModel,value:e})},value:a}),a&&(c=Ky(Oh,{options:Il(a).toNodeSelect(),label:De,onChange:t=>{var r=o.id;Ri(e=e||this.props.selectedValidator||Es(o,uo.FilterModel)||{properties:{}},{property:this.props.property,validator:this.props.validator}).many2manyProperty=t,this.props.onChange?this.props.onChange():this.props.graphOperation(du,{id:r,prop:uo.FilterModel,value:e})},value:l}),l&&(f=Ky(Oh,{options:Object.keys(jo).map(e=>({title:e,value:jo[e]})),label:De,onChange:t=>{var r=o.id;Ri(e=e||this.props.selectedValidator||Es(o,uo.FilterModel)||{properties:{}},{property:this.props.property,validator:this.props.validator}).many2manyMethod=t,this.props.onChange?this.props.onChange():this.props.graphOperation(du,{id:r,prop:uo.FilterModel,value:e})},value:p})))}return Ky(Ch,{},void 0,Ky(Oh,{options:r,label:Ge,onChange:t=>{var r=o.id;Ri(e=e||this.props.selectedValidator||Es(o,uo.FilterModel)||{properties:{}},{property:this.props.property,validator:this.props.validator}).node=t,this.props.onChange?this.props.onChange():this.props.graphOperation(du,{id:r,prop:uo.FilterModel,value:e})},value:n}),Ky(Oh,{options:u,label:Rr,onChange:t=>{var r=o.id;Ri(e=e||this.props.selectedValidator||Es(o,uo.FilterModel)||{properties:{}},{property:this.props.property,validator:this.props.validator}).nodeProperty=t,this.props.onChange?this.props.onChange():this.props.graphOperation(du,{id:r,prop:uo.FilterModel,value:e})},value:s}),d,c,f)}return Zy}return ev}getMethodReferenceItem(e,t){var{state:r}=this.props,n=Fl(r,_s(r,ep));let o=Ip(_a(r,n.id,_o.ExecutorFunction));return t.arguments&&t.arguments.method_reference?Object.keys(t.arguments.method_reference).map(r=>{e=e||Es(n,uo.Executor)||{properties:{}};let i=$l(o);return Ky(Ch,{},r,Ky(Oh,{options:i,defaultSelectText:F,label:Rr,onChange:t=>{var o=n.id;let i=Ri(e=e||Es(n,uo.Executor)||{properties:{}},{property:this.props.property,validator:this.props.validator});i.references=i.references||{},i.references[r]=t,this.props.onChange?this.props.onChange():this.props.graphOperation(du,{id:o,prop:uo.Executor,value:e})},value:t&&t.references?t.references[r]:""}),[])}):tv}});function ov(e,t,r,n){rv||(rv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:rv,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var iv=ov("div",{}),av=ov("div",{}),sv=ov(Gh,{title:"Property Setups"});var lv,pv=Um(class extends l.Component{render(){var{state:e}=this.props;if(!gs(e,this.props.nodeType))return iv;var t=Up(e),r=Fl(e,_s(e,ep)),n=this.props.executor||this.props.validator||this.props.methodParamSetup;let o=this.props.ui,i=av;return o&&n&&n.properties&&(i=Object.keys(n.properties).map(i=>{let a=n.properties[i],s=`GenericPropertyMenu${i}-${r.id}`,l=Object.keys(a&&a.validators?a.validators:{}).map(t=>{let o=`${`${s}-selected-validation`}-inne-${t}-r`;return ov(Xh,{title:a.validators&&a.validators[t]&&a.validators[t].type?a.validators[t].type:t,open:_s(e,o),active:_s(e,o),toggle:()=>{this.props.toggleVisual(o)},icon:"fa fa-tag"},`${t}-v-v`,ov(Xh,{hideArrow:!0,title:k,icon:"fa fa-minus",onClick:()=>{r.id,delete n.properties[i].validators[t],this.props.onRemove&&this.props.onRemove()}}),ov(nv,{adjacentNodeId:this.props.adjacentNodeId,onChange:this.props.onChange,function_variables:this.props.function_variables,selectedValidator:n,node:r.id,property:i,validator:t}))}),p=Object.keys(o).filter(e=>!a||!a.validators||!a.validators[e]).reverse().map(e=>ov(Xh,{hideArrow:!0,title:e,icon:"fa fa-plus-square-o",onClick:()=>{r.id,xi(n,{id:i,validator:_(),validatorArgs:{type:e,...o[e]}}),this.props.onAdd&&this.props.onAdd()}},`${e}-afjlskf-asfd`));return ov(Xh,{open:_s(e,s),active:_s(e,s),title:ip(Yi(t,i)),toggle:()=>{this.props.toggleVisual(s)}},s,ov(Xh,{hideArrow:!0,title:b,icon:"fa fa-minus",onClick:()=>{let e=r.id;this.props.onRemove?this.props.onRemove(i):this.props.graphOperation(_u,{target:i,source:e})}}),ov(Xh,{title:Pe,icon:"fa  fa-list-ul",open:_s(e,`${s}-selected-executions`),active:_s(e,`${s}-selected-executions`),toggle:()=>{this.props.toggleVisual(`${s}-selected-executions`)}},void 0,l),ov(Xh,{title:E,icon:"fa fa-plus-circle",open:_s(e,`${s}-selectexecution`),active:_s(e,`${s}-selectexecution`),toggle:()=>{this.props.toggleVisual(`${s}-selectexecution`)}},void 0,p))}),i=ov("div",{style:{position:"relative"}},void 0,ov(mh,{relative:!0},void 0,ov(Hh,{relative:!0},void 0,ov(Kh,{relative:!0},void 0,sv,i))))),i}});function uv(e,t,r,n){lv||(lv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:lv,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var dv=uv("div",{});var cv=Um(class extends l.Component{render(){var{state:e}=this.props;return gs(e,this.props.nodeType)?uv(mh,{relative:!0},void 0,uv(Hh,{relative:!0},void 0,this.props.top?this.props.top:null,uv(Kh,{},void 0,this.props.children))):dv}});const fv="permission",mv="filter",hv="validation";var yv;function vv(e,t,r,n){yv||(yv="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:yv,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const _v="condition-filter-menu-parameter",gv="condition-filter-menu-parameter-properties",bv="DATA_SOURCE";var Cv=vv("div",{}),Ev=vv("div",{}),Ov=vv(Gh,{title:"Parameters"}),kv=vv(Gh,{title:"Parameter Properties"});var Nv=Um(class extends l.Component{render(){var{state:e}=this.props,t=Fl(e,_s(e,ep));let r,n,o,i=this.props.methodDefinitionKey;if(t){switch(i){case fv:o=js(t.id);break;case mv:o=Gs(t.id);break;case hv:o=Rs(t.id)}o&&(n=o?$s(o.id):null,r=Lp(o.id))}if(n&&n[i]&&n[i].params&&n[i].params.length);else{if(!this.props.view||!t)return Ev;if(!(o=Ds(t.id)))return Cv;r={[bv]:Es(o,uo.UIModelType)}}let a=Rp(o.id,!0),s=(t.id,[]);n?s=n[i].params.map(e=>"object"==typeof e?e.key:e).map(e=>({title:`${ip(r[e])} (${e})`,value:e,id:e})):this.props.view&&(s=pp().toNodeSelect());let l=this.props.view?bv:ws(o.id),p=Es(t,uo.Condition),u=`${t.id} ${l}`,d=_s(e,u),c=_s(e,u)?`${u} ${d}`:null,f=_s(e,u),m=Ps(this.props.view?d:r[d]).toNodeSelect(),h=this.getTop({model_properties:m,methodProps:r,selectedParameter:f,filterMenuParameter:`${t.id}${_v}`,filterMenuParameterProperties:`${t.id} ${gv}`,param_list_key:u,methodFunctionValidation:p,models:s,methodFunctionType:l,param_property_list_key:c}),y=function(e,t,r,n){if(e=e||$i(e,t,r)){let n=Li(e,t);if(n&&n[r]&&n[r])return n[r]}return null}(p,l,_s(e,u),_s(e,c)),v=()=>{this.props.graphOperation(du,{prop:ss.Condition,id:t.id,value:p})};return vv(cv,{title:"asdf",subTitle:"afaf",nodeType:Bn.Condition,top:h},void 0,vv(pv,{ui:Ro,function_variables:a,methodParamSetup:y,nodeType:Bn.Condition,onRemove:t=>{t&&(p=function(e,t,r,n){if(e){let o=Li(e,t);o&&o[r]&&o[r].properties&&o[r].properties[n]&&delete o[r].properties[n]}return e}(p,l,_s(e,u),t)),v()},adjacentNodeId:o.id,onChange:v,onAdd:v}))}getTop(e={}){let{methodProps:t,model_properties:r,models:n,selectedParameter:o,filterMenuParameter:i=_v,filterMenuParameterProperties:a=gv,param_list_key:s,methodFunctionValidation:l,methodFunctionType:p,param_property_list_key:u}=e,{state:d}=this.props;var c=Fl(d,_s(d,ep));return vv(Kh,{relative:!0},void 0,vv(Xh,{open:_s(d,i),active:_s(d,i),title:`${ip(t[o])} (${o})`||"Parameters",toggle:()=>{this.props.toggleVisual(i)}},void 0,Ov,vv(Bh,{active:!0,isSelected:e=>e&&o===e.id,items:n,onClick:e=>{let t=$i(l,p,e.id);this.props.graphOperation(du,{prop:ss.Condition,id:c.id,value:t}),this.props.setVisual(s,e.id)}})),vv(Xh,{open:_s(d,a),active:_s(d,a),title:ip(_s(d,u))||"Parameter Properties",toggle:()=>{this.props.toggleVisual(a)}},void 0,kv,u?vv(Bh,{active:!0,isSelected:e=>e&&_s(d,u)===e.id,items:r,onClick:e=>{let t=$i(l,p,_s(d,s),e.id);this.props.graphOperation(du,{prop:ss.Condition,id:c.id,value:t}),this.props.setVisual(u,e.id)}}):null))}}),Mv={value:function(){}};function Tv(){for(var e,t=0,r=arguments.length,n={};t<r;++t){if(!(e=arguments[t]+"")||e in n)throw new Error("illegal type: "+e);n[e]=[]}return new Sv(n)}function Sv(e){this._=e}function Pv(e,t){for(var r,n=0,o=e.length;n<o;++n)if((r=e[n]).name===t)return r.value}function Av(e,t,r){for(var n=0,o=e.length;n<o;++n)if(e[n].name===t){e[n]=Mv,e=e.slice(0,n).concat(e.slice(n+1));break}return null!=r&&e.push({name:t,value:r}),e}Sv.prototype=Tv.prototype={constructor:Sv,on:function(e,t){var r,n,o=this._,i=(n=o,(e+"").trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");if(r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),a=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(r=(e=i[a]).type)o[r]=Av(o[r],e.name,t);else if(null==t)for(r in o)o[r]=Av(o[r],e.name,null);return this}for(;++a<s;)if((r=(e=i[a]).type)&&(r=Pv(o[r],e.name)))return r},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Sv(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var r,n,o=new Array(r),i=0;i<r;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,r=(n=this._[e]).length;i<r;++i)n[i].value.apply(t,o)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,i=n.length;o<i;++o)n[o].value.apply(t,r)}};var Iv=Tv,Lv="http://www.w3.org/1999/xhtml",$v={svg:"http://www.w3.org/2000/svg",xhtml:Lv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},wv=function(e){var t=e+="",r=t.indexOf(":");return r>=0&&"xmlns"!==(t=e.slice(0,r))&&(e=e.slice(r+1)),$v.hasOwnProperty(t)?{space:$v[t],local:e}:e};var xv=function(e){var t=wv(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Lv&&t.documentElement.namespaceURI===Lv?t.createElement(e):t.createElementNS(r,e)}})(t)},jv=0;function Rv(){this._="@"+(++jv).toString(36)}Rv.prototype=function(){return new Rv}.prototype={constructor:Rv,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var Dv=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var Gv=document.documentElement;if(!Gv.matches){var Fv=Gv.webkitMatchesSelector||Gv.msMatchesSelector||Gv.mozMatchesSelector||Gv.oMatchesSelector;Dv=function(e){return function(){return Fv.call(this,e)}}}}var Uv=Dv,Vv={},Bv=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Vv={mouseenter:"mouseover",mouseleave:"mouseout"}));function Hv(e,t,r){return e=qv(e,t,r),function(t){var r=t.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||e.call(this,t)}}function qv(e,t,r){return function(n){var o=Bv;Bv=n;try{e.call(this,this.__data__,t,r)}finally{Bv=o}}}function Wv(e){return function(){var t=this.__on;if(t){for(var r,n=0,o=-1,i=t.length;n<i;++n)r=t[n],e.type&&r.type!==e.type||r.name!==e.name?t[++o]=r:this.removeEventListener(r.type,r.listener,r.capture);++o?t.length=o:delete this.__on}}}function Yv(e,t,r){var n=Vv.hasOwnProperty(e.type)?Hv:qv;return function(o,i,a){var s,l=this.__on,p=n(t,i,a);if(l)for(var u=0,d=l.length;u<d;++u)if((s=l[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=p,s.capture=r),void(s.value=t);this.addEventListener(e.type,p,r),s={type:e.type,name:e.name,value:t,listener:p,capture:r},l?l.push(s):this.__on=[s]}}function zv(){}var Jv=function(e){return null==e?zv:function(){return this.querySelector(e)}};function Xv(){return[]}var Kv=function(e){return null==e?Xv:function(){return this.querySelectorAll(e)}},Qv=function(e){return new Array(e.length)};function Zv(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Zv.prototype={constructor:Zv,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var e_="$";function t_(e,t,r,n,o,i){for(var a,s=0,l=t.length,p=i.length;s<p;++s)(a=t[s])?(a.__data__=i[s],n[s]=a):r[s]=new Zv(e,i[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function r_(e,t,r,n,o,i,a){var s,l,p,u={},d=t.length,c=i.length,f=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(f[s]=p=e_+a.call(l,l.__data__,s,t),p in u?o[s]=l:u[p]=l);for(s=0;s<c;++s)(l=u[p=e_+a.call(e,i[s],s,i)])?(n[s]=l,l.__data__=i[s],u[p]=null):r[s]=new Zv(e,i[s]);for(s=0;s<d;++s)(l=t[s])&&u[f[s]]===l&&(o[s]=l)}function n_(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var o_=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function i_(e,t){return e.style.getPropertyValue(t)||o_(e).getComputedStyle(e,null).getPropertyValue(t)}function a_(e){return e.trim().split(/^|\s+/)}function s_(e){return e.classList||new l_(e)}function l_(e){this._node=e,this._names=a_(e.getAttribute("class")||"")}function p_(e,t){for(var r=s_(e),n=-1,o=t.length;++n<o;)r.add(t[n])}function u_(e,t){for(var r=s_(e),n=-1,o=t.length;++n<o;)r.remove(t[n])}l_.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function d_(){this.textContent=""}function c_(){this.innerHTML=""}function f_(){this.nextSibling&&this.parentNode.appendChild(this)}function m_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function h_(){return null}function y_(){var e=this.parentNode;e&&e.removeChild(this)}function v_(e,t,r){var n=o_(e),o=n.CustomEvent;"function"==typeof o?o=new o(t,r):(o=n.document.createEvent("Event"),r?(o.initEvent(t,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}var __=[null];function g_(e,t){this._groups=e,this._parents=t}function b_(){return new g_([[document.documentElement]],__)}g_.prototype=b_.prototype={constructor:g_,select:function(e){"function"!=typeof e&&(e=Jv(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var i,a,s=t[o],l=s.length,p=n[o]=new Array(l),u=0;u<l;++u)(i=s[u])&&(a=e.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),p[u]=a);return new g_(n,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=Kv(e));for(var t=this._groups,r=t.length,n=[],o=[],i=0;i<r;++i)for(var a,s=t[i],l=s.length,p=0;p<l;++p)(a=s[p])&&(n.push(e.call(a,a.__data__,p,s)),o.push(a));return new g_(n,o)},filter:function(e){"function"!=typeof e&&(e=Uv(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var i,a=t[o],s=a.length,l=n[o]=[],p=0;p<s;++p)(i=a[p])&&e.call(i,i.__data__,p,a)&&l.push(i);return new g_(n,this._parents)},data:function(e,t){if(!e)return m=new Array(this.size()),u=-1,this.each(function(e){m[++u]=e}),m;var r,n=t?r_:t_,o=this._parents,i=this._groups;"function"!=typeof e&&(r=e,e=function(){return r});for(var a=i.length,s=new Array(a),l=new Array(a),p=new Array(a),u=0;u<a;++u){var d=o[u],c=i[u],f=c.length,m=e.call(d,d&&d.__data__,u,o),h=m.length,y=l[u]=new Array(h),v=s[u]=new Array(h);n(d,c,y,v,p[u]=new Array(f),m,t);for(var _,g,b=0,C=0;b<h;++b)if(_=y[b]){for(b>=C&&(C=b+1);!(g=v[C])&&++C<h;);_._next=g||null}}return(s=new g_(s,o))._enter=l,s._exit=p,s},enter:function(){return new g_(this._enter||this._groups.map(Qv),this._parents)},exit:function(){return new g_(this._exit||this._groups.map(Qv),this._parents)},merge:function(e){for(var t=this._groups,r=e._groups,n=t.length,o=r.length,i=Math.min(n,o),a=new Array(n),s=0;s<i;++s)for(var l,p=t[s],u=r[s],d=p.length,c=a[s]=new Array(d),f=0;f<d;++f)(l=p[f]||u[f])&&(c[f]=l);for(;s<n;++s)a[s]=t[s];return new g_(a,this._parents)},order:function(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n,o=e[t],i=o.length-1,a=o[i];--i>=0;)(n=o[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},sort:function(e){function t(t,r){return t&&r?e(t.__data__,r.__data__):!t-!r}e||(e=n_);for(var r=this._groups,n=r.length,o=new Array(n),i=0;i<n;++i){for(var a,s=r[i],l=s.length,p=o[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(p[u]=a);p.sort(t)}return new g_(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,i=n.length;o<i;++o){var a=n[o];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var o,i=t[r],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var r=wv(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((null==t?r.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?r.local?function(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}:function(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttribute(e):this.setAttribute(e,r)}}:r.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(r,t))},style:function(e,t,r){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,r){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}:function(e,t,r){return function(){this.style.setProperty(e,t,r)}})(e,t,null==r?"":r)):i_(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var r=t.apply(this,arguments);null==r?delete this[e]:this[e]=r}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var r=a_(e+"");if(arguments.length<2){for(var n=s_(this.node()),o=-1,i=r.length;++o<i;)if(!n.contains(r[o]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?p_:u_)(this,e)}}:t?function(e){return function(){p_(this,e)}}:function(e){return function(){u_(this,e)}})(r,t))},text:function(e){return arguments.length?this.each(null==e?d_:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?c_:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(f_)},lower:function(){return this.each(m_)},append:function(e){var t="function"==typeof e?e:xv(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var r="function"==typeof e?e:xv(e),n=null==t?h_:"function"==typeof t?t:Jv(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function(){return this.each(y_)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,r){var n,o,i=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?Yv:Wv,null==r&&(r=!1),n=0;n<a;++n)this.each(s(i[n],t,r));return this}var s=this.node().__on;if(s)for(var l,p=0,u=s.length;p<u;++p)for(n=0,l=s[p];n<a;++n)if((o=i[n]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return v_(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return v_(this,e,t)}})(e,t))}};var C_=b_;function E_(e,t,r,n,o,i,a,s,l,p){this.target=e,this.type=t,this.subject=r,this.identifier=n,this.active=o,this.x=i,this.y=a,this.dx=s,this.dy=l,this._=p}E_.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var O_=function(e,t,r){e.prototype=t.prototype=r,r.constructor=e};function k_(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function N_(){}var M_="\\s*([+-]?\\d+)\\s*",T_="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",S_="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",P_=/^#([0-9a-f]{3})$/,A_=/^#([0-9a-f]{6})$/,I_=new RegExp("^rgb\\("+[M_,M_,M_]+"\\)$"),L_=new RegExp("^rgb\\("+[S_,S_,S_]+"\\)$"),$_=new RegExp("^rgba\\("+[M_,M_,M_,T_]+"\\)$"),w_=new RegExp("^rgba\\("+[S_,S_,S_,T_]+"\\)$"),x_=new RegExp("^hsl\\("+[T_,S_,S_]+"\\)$"),j_=new RegExp("^hsla\\("+[T_,S_,S_,T_]+"\\)$"),R_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function D_(e){var t;return e=(e+"").trim().toLowerCase(),(t=P_.exec(e))?new B_((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=A_.exec(e))?G_(parseInt(t[1],16)):(t=I_.exec(e))?new B_(t[1],t[2],t[3],1):(t=L_.exec(e))?new B_(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=$_.exec(e))?F_(t[1],t[2],t[3],t[4]):(t=w_.exec(e))?F_(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=x_.exec(e))?H_(t[1],t[2]/100,t[3]/100,1):(t=j_.exec(e))?H_(t[1],t[2]/100,t[3]/100,t[4]):R_.hasOwnProperty(e)?G_(R_[e]):"transparent"===e?new B_(NaN,NaN,NaN,0):null}function G_(e){return new B_(e>>16&255,e>>8&255,255&e,1)}function F_(e,t,r,n){return n<=0&&(e=t=r=NaN),new B_(e,t,r,n)}function U_(e){return e instanceof N_||(e=D_(e)),e?new B_((e=e.rgb()).r,e.g,e.b,e.opacity):new B_}function V_(e,t,r,n){return 1===arguments.length?U_(e):new B_(e,t,r,null==n?1:n)}function B_(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function H_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new W_(e,t,r,n)}function q_(e,t,r,n){return 1===arguments.length?function(e){if(e instanceof W_)return new W_(e.h,e.s,e.l,e.opacity);if(e instanceof N_||(e=D_(e)),!e)return new W_;if(e instanceof W_)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),i=Math.max(t,r,n),a=NaN,s=i-o,l=(i+o)/2;return s?(a=t===i?(r-n)/s+6*(r<n):r===i?(n-t)/s+2:(t-r)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new W_(a,s,l,e.opacity)}(e):new W_(e,t,r,null==n?1:n)}function W_(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function Y_(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}O_(N_,D_,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),O_(B_,V_,k_(N_,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new B_(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new B_(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),O_(W_,q_,k_(N_,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new W_(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new W_(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new B_(Y_(e>=240?e-240:e+120,o,n),Y_(e,o,n),Y_(e<120?e+240:e-120,o,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var z_=Math.PI/180,J_=180/Math.PI,X_=.95047,K_=1,Q_=1.08883,Z_=4/29,eg=6/29,tg=3*eg*eg,rg=eg*eg*eg;function ng(e){if(e instanceof ig)return new ig(e.l,e.a,e.b,e.opacity);if(e instanceof dg){var t=e.h*z_;return new ig(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof B_||(e=U_(e));var r=pg(e.r),n=pg(e.g),o=pg(e.b),i=ag((.4124564*r+.3575761*n+.1804375*o)/X_),a=ag((.2126729*r+.7151522*n+.072175*o)/K_);return new ig(116*a-16,500*(i-a),200*(a-ag((.0193339*r+.119192*n+.9503041*o)/Q_)),e.opacity)}function og(e,t,r,n){return 1===arguments.length?ng(e):new ig(e,t,r,null==n?1:n)}function ig(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}function ag(e){return e>rg?Math.pow(e,1/3):e/tg+Z_}function sg(e){return e>eg?e*e*e:tg*(e-Z_)}function lg(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function pg(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ug(e,t,r,n){return 1===arguments.length?function(e){if(e instanceof dg)return new dg(e.h,e.c,e.l,e.opacity);e instanceof ig||(e=ng(e));var t=Math.atan2(e.b,e.a)*J_;return new dg(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new dg(e,t,r,null==n?1:n)}function dg(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}O_(ig,og,k_(N_,{brighter:function(e){return new ig(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new ig(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return e=K_*sg(e),new B_(lg(3.2404542*(t=X_*sg(t))-1.5371385*e-.4985314*(r=Q_*sg(r))),lg(-.969266*t+1.8760108*e+.041556*r),lg(.0556434*t-.2040259*e+1.0572252*r),this.opacity)}})),O_(dg,ug,k_(N_,{brighter:function(e){return new dg(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new dg(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return ng(this).rgb()}}));var cg=-.14861,fg=1.78277,mg=-.29227,hg=-.90649,yg=1.97294,vg=yg*hg,_g=yg*fg,gg=fg*mg-hg*cg;function bg(e,t,r,n){return 1===arguments.length?function(e){if(e instanceof Cg)return new Cg(e.h,e.s,e.l,e.opacity);e instanceof B_||(e=U_(e));var t=e.r/255,r=e.g/255,n=e.b/255,o=(gg*n+vg*t-_g*r)/(gg+vg-_g),i=n-o,a=(yg*(r-o)-mg*i)/hg,s=Math.sqrt(a*a+i*i)/(yg*o*(1-o)),l=s?Math.atan2(a,i)*J_-120:NaN;return new Cg(l<0?l+360:l,s,o,e.opacity)}(e):new Cg(e,t,r,null==n?1:n)}function Cg(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function Eg(e,t,r,n,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*r+(1+3*e+3*i-3*a)*n+a*o)/6}O_(Cg,bg,k_(N_,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Cg(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Cg(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*z_,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),o=Math.sin(e);return new B_(255*(t+r*(cg*n+fg*o)),255*(t+r*(mg*n+hg*o)),255*(t+r*(yg*n)),this.opacity)}}));var Og=function(e){return function(){return e}};function kg(e,t){return function(r){return e+r*t}}function Ng(e,t){var r=t-e;return r?kg(e,r>180||r<-180?r-360*Math.round(r/360):r):Og(isNaN(e)?t:e)}function Mg(e){return 1==(e=+e)?Tg:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):Og(isNaN(t)?r:t)}}function Tg(e,t){var r=t-e;return r?kg(e,r):Og(isNaN(e)?t:e)}var Sg=function e(t){var r=Mg(t);function n(e,t){var n=r((e=V_(e)).r,(t=V_(t)).r),o=r(e.g,t.g),i=r(e.b,t.b),a=Tg(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return n.gamma=e,n}(1);function Pg(e){return function(t){var r,n,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(r=0;r<o;++r)n=V_(t[r]),i[r]=n.r||0,a[r]=n.g||0,s[r]=n.b||0;return i=e(i),a=e(a),s=e(s),n.opacity=1,function(e){return n.r=i(e),n.g=a(e),n.b=s(e),n+""}}}Pg(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),o=e[n],i=e[n+1],a=n>0?e[n-1]:2*o-i,s=n<t-1?e[n+2]:2*i-o;return Eg((r-n/t)*t,a,o,i,s)}}),Pg(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),o=e[(n+t-1)%t],i=e[n%t],a=e[(n+1)%t],s=e[(n+2)%t];return Eg((r-n/t)*t,o,i,a,s)}});var Ag=function(e,t){return t-=e=+e,function(r){return e+t*r}},Ig=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lg=new RegExp(Ig.source,"g");var $g,wg,xg,jg,Rg=function(e,t){var r,n,o,i=Ig.lastIndex=Lg.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(r=Ig.exec(e))&&(n=Lg.exec(t));)(o=n.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,l.push({i:a,x:Ag(r,n)})),i=Lg.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})},Dg=180/Math.PI,Gg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Fg=function(e,t,r,n,o,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Dg,skewX:Math.atan(l)*Dg,scaleX:a,scaleY:s}};function Ug(e,t,r,n){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],l=[];return i=e(i),a=e(a),function(e,n,o,i,a,s){if(e!==o||n!==i){var l=a.push("translate(",null,t,null,r);s.push({i:l-4,x:Ag(e,o)},{i:l-2,x:Ag(n,i)})}else(o||i)&&a.push("translate("+o+t+i+r)}(i.translateX,i.translateY,a.translateX,a.translateY,s,l),function(e,t,r,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:r.push(o(r)+"rotate(",null,n)-2,x:Ag(e,t)})):t&&r.push(o(r)+"rotate("+t+n)}(i.rotate,a.rotate,s,l),function(e,t,r,i){e!==t?i.push({i:r.push(o(r)+"skewX(",null,n)-2,x:Ag(e,t)}):t&&r.push(o(r)+"skewX("+t+n)}(i.skewX,a.skewX,s,l),function(e,t,r,n,i,a){if(e!==r||t!==n){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:Ag(e,r)},{i:s-2,x:Ag(t,n)})}else 1===r&&1===n||i.push(o(i)+"scale("+r+","+n+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,l),i=a=null,function(e){for(var t,r=-1,n=l.length;++r<n;)s[(t=l[r]).i]=t.x(e);return s.join("")}}}var Vg=Ug(function(e){return"none"===e?Gg:($g||($g=document.createElement("DIV"),wg=document.documentElement,xg=document.defaultView),$g.style.transform=e,e=xg.getComputedStyle(wg.appendChild($g),null).getPropertyValue("transform"),wg.removeChild($g),e=e.slice(7,-1).split(","),Fg(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),Bg=Ug(function(e){return null==e?Gg:(jg||(jg=document.createElementNS("http://www.w3.org/2000/svg","g")),jg.setAttribute("transform",e),(e=jg.transform.baseVal.consolidate())?(e=e.matrix,Fg(e.a,e.b,e.c,e.d,e.e,e.f)):Gg)},", ",")",")");Math.SQRT2;function Hg(e){return function(t,r){var n=e((t=q_(t)).h,(r=q_(r)).h),o=Tg(t.s,r.s),i=Tg(t.l,r.l),a=Tg(t.opacity,r.opacity);return function(e){return t.h=n(e),t.s=o(e),t.l=i(e),t.opacity=a(e),t+""}}}Hg(Ng),Hg(Tg);function qg(e){return function(t,r){var n=e((t=ug(t)).h,(r=ug(r)).h),o=Tg(t.c,r.c),i=Tg(t.l,r.l),a=Tg(t.opacity,r.opacity);return function(e){return t.h=n(e),t.c=o(e),t.l=i(e),t.opacity=a(e),t+""}}}qg(Ng),qg(Tg);function Wg(e){return function t(r){function n(t,n){var o=e((t=bg(t)).h,(n=bg(n)).h),i=Tg(t.s,n.s),a=Tg(t.l,n.l),s=Tg(t.opacity,n.opacity);return function(e){return t.h=o(e),t.s=i(e),t.l=a(Math.pow(e,r)),t.opacity=s(e),t+""}}return r=+r,n.gamma=t,n}(1)}Wg(Ng),Wg(Tg);var Yg,zg,Jg=0,Xg=0,Kg=0,Qg=1e3,Zg=0,eb=0,tb=0,rb="object"==typeof performance&&performance.now?performance:Date,nb="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ob(){return eb||(nb(ib),eb=rb.now()+tb)}function ib(){eb=0}function ab(){this._call=this._time=this._next=null}function sb(e,t,r){var n=new ab;return n.restart(e,t,r),n}function lb(){eb=(Zg=rb.now())+tb,Jg=Xg=0;try{!function(){ob(),++Jg;for(var e,t=Yg;t;)(e=eb-t._time)>=0&&t._call.call(null,e),t=t._next;--Jg}()}finally{Jg=0,function(){var e,t,r=Yg,n=1/0;for(;r;)r._call?(n>r._time&&(n=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:Yg=t);zg=e,ub(n)}(),eb=0}}function pb(){var e=rb.now(),t=e-Zg;t>Qg&&(tb-=t,Zg=e)}function ub(e){Jg||(Xg&&(Xg=clearTimeout(Xg)),e-eb>24?(e<1/0&&(Xg=setTimeout(lb,e-rb.now()-tb)),Kg&&(Kg=clearInterval(Kg))):(Kg||(Zg=rb.now(),Kg=setInterval(pb,Qg)),Jg=1,nb(lb)))}ab.prototype=sb.prototype={constructor:ab,restart:function(e,t,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?ob():+r)+(null==t?0:+t),this._next||zg===this||(zg?zg._next=this:Yg=this,zg=this),this._call=e,this._time=r,ub()},stop:function(){this._call&&(this._call=null,this._time=1/0,ub())}};var db=function(e,t,r){var n=new ab;return t=null==t?0:+t,n.restart(function(r){n.stop(),e(r+t)},t,r),n},cb=Iv("start","end","interrupt"),fb=[],mb=0,hb=1,yb=2,vb=3,_b=4,gb=5,bb=6,Cb=function(e,t,r,n,o,i){var a=e.__transition;if(a){if(r in a)return}else e.__transition={};!function(e,t,r){var n,o=e.__transition;function i(l){var p,u,d,c;if(r.state!==hb)return s();for(p in o)if((c=o[p]).name===r.name){if(c.state===vb)return db(i);c.state===_b?(c.state=bb,c.timer.stop(),c.on.call("interrupt",e,e.__data__,c.index,c.group),delete o[p]):+p<t&&(c.state=bb,c.timer.stop(),delete o[p])}if(db(function(){r.state===vb&&(r.state=_b,r.timer.restart(a,r.delay,r.time),a(l))}),r.state=yb,r.on.call("start",e,e.__data__,r.index,r.group),r.state===yb){for(r.state=vb,n=new Array(d=r.tween.length),p=0,u=-1;p<d;++p)(c=r.tween[p].value.call(e,e.__data__,r.index,r.group))&&(n[++u]=c);n.length=u+1}}function a(t){for(var o=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(s),r.state=gb,1),i=-1,a=n.length;++i<a;)n[i].call(null,o);r.state===gb&&(r.on.call("end",e,e.__data__,r.index,r.group),s())}function s(){for(var n in r.state=bb,r.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=r,r.timer=sb(function(e){r.state=hb,r.timer.restart(i,r.delay,r.time),r.delay<=e&&i(e-r.delay)},0,r.time)}(e,r,{name:t,index:n,group:o,on:cb,tween:fb,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:mb})};function Eb(e,t){var r=kb(e,t);if(r.state>mb)throw new Error("too late; already scheduled");return r}function Ob(e,t){var r=kb(e,t);if(r.state>yb)throw new Error("too late; already started");return r}function kb(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}var Nb=function(e,t){var r,n,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(r=i[o]).name===t?(n=r.state>yb&&r.state<gb,r.state=bb,r.timer.stop(),n&&r.on.call("interrupt",e,e.__data__,r.index,r.group),delete i[o]):a=!1;a&&delete e.__transition}};function Mb(e,t,r){var n=e._id;return e.each(function(){var e=Ob(this,n);(e.value||(e.value={}))[t]=r.apply(this,arguments)}),function(e){return kb(e,n).value[t]}}var Tb=function(e,t){var r;return("number"==typeof t?Ag:t instanceof D_?Sg:(r=D_(t))?(t=r,Sg):Rg)(e,t)};var Sb=C_.prototype.constructor;var Pb=0;function Ab(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Ib(){return++Pb}var Lb=C_.prototype;Ab.prototype=function(e){return C_().transition(e)}.prototype={constructor:Ab,select:function(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=Jv(e));for(var n=this._groups,o=n.length,i=new Array(o),a=0;a<o;++a)for(var s,l,p=n[a],u=p.length,d=i[a]=new Array(u),c=0;c<u;++c)(s=p[c])&&(l=e.call(s,s.__data__,c,p))&&("__data__"in s&&(l.__data__=s.__data__),d[c]=l,Cb(d[c],t,r,c,d,kb(s,r)));return new Ab(i,this._parents,t,r)},selectAll:function(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=Kv(e));for(var n=this._groups,o=n.length,i=[],a=[],s=0;s<o;++s)for(var l,p=n[s],u=p.length,d=0;d<u;++d)if(l=p[d]){for(var c,f=e.call(l,l.__data__,d,p),m=kb(l,r),h=0,y=f.length;h<y;++h)(c=f[h])&&Cb(c,t,r,h,f,m);i.push(f),a.push(l)}return new Ab(i,a,t,r)},filter:function(e){"function"!=typeof e&&(e=Uv(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var i,a=t[o],s=a.length,l=n[o]=[],p=0;p<s;++p)(i=a[p])&&e.call(i,i.__data__,p,a)&&l.push(i);return new Ab(n,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,o=r.length,i=Math.min(n,o),a=new Array(n),s=0;s<i;++s)for(var l,p=t[s],u=r[s],d=p.length,c=a[s]=new Array(d),f=0;f<d;++f)(l=p[f]||u[f])&&(c[f]=l);for(;s<n;++s)a[s]=t[s];return new Ab(a,this._parents,this._name,this._id)},selection:function(){return new Sb(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,r=Ib(),n=this._groups,o=n.length,i=0;i<o;++i)for(var a,s=n[i],l=s.length,p=0;p<l;++p)if(a=s[p]){var u=kb(a,t);Cb(a,e,r,p,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ab(n,this._parents,e,r)},call:Lb.call,nodes:Lb.nodes,node:Lb.node,size:Lb.size,empty:Lb.empty,each:Lb.each,on:function(e,t){var r=this._id;return arguments.length<2?kb(this.node(),r).on.on(e):this.each(function(e,t,r){var n,o,i=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?Eb:Ob;return function(){var a=i(this,e),s=a.on;s!==n&&(o=(n=s).copy()).on(t,r),a.on=o}}(r,e,t))},attr:function(e,t){var r=wv(e),n="transform"===r?Bg:Tb;return this.attrTween(e,"function"==typeof t?(r.local?function(e,t,r){var n,o,i;return function(){var a,s=r(this);if(null!=s)return(a=this.getAttributeNS(e.space,e.local))===s?null:a===n&&s===o?i:i=t(n=a,o=s);this.removeAttributeNS(e.space,e.local)}}:function(e,t,r){var n,o,i;return function(){var a,s=r(this);if(null!=s)return(a=this.getAttribute(e))===s?null:a===n&&s===o?i:i=t(n=a,o=s);this.removeAttribute(e)}})(r,n,Mb(this,"attr."+e,t)):null==t?(r.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(r):(r.local?function(e,t,r){var n,o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===r?null:i===n?o:o=t(n=i,r)}}:function(e,t,r){var n,o;return function(){var i=this.getAttribute(e);return i===r?null:i===n?o:o=t(n=i,r)}})(r,n,t+""))},attrTween:function(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;var n=wv(e);return this.tween(r,(n.local?function(e,t){function r(){var r=this,n=t.apply(r,arguments);return n&&function(t){r.setAttributeNS(e.space,e.local,n(t))}}return r._value=t,r}:function(e,t){function r(){var r=this,n=t.apply(r,arguments);return n&&function(t){r.setAttribute(e,n(t))}}return r._value=t,r})(n,t))},style:function(e,t,r){var n="transform"==(e+="")?Vg:Tb;return null==t?this.styleTween(e,function(e,t){var r,n,o;return function(){var i=i_(this,e),a=(this.style.removeProperty(e),i_(this,e));return i===a?null:i===r&&a===n?o:o=t(r=i,n=a)}}(e,n)).on("end.style."+e,function(e){return function(){this.style.removeProperty(e)}}(e)):this.styleTween(e,"function"==typeof t?function(e,t,r){var n,o,i;return function(){var a=i_(this,e),s=r(this);return null==s&&(this.style.removeProperty(e),s=i_(this,e)),a===s?null:a===n&&s===o?i:i=t(n=a,o=s)}}(e,n,Mb(this,"style."+e,t)):function(e,t,r){var n,o;return function(){var i=i_(this,e);return i===r?null:i===n?o:o=t(n=i,r)}}(e,n,t+""),r)},styleTween:function(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(e,t,r){function n(){var n=this,o=t.apply(n,arguments);return o&&function(t){n.style.setProperty(e,o(t),r)}}return n._value=t,n}(e,t,null==r?"":r))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Mb(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n,o=kb(this.node(),r).tween,i=0,a=o.length;i<a;++i)if((n=o[i]).name===e)return n.value;return null}return this.each((null==t?function(e,t){var r,n;return function(){var o=Ob(this,e),i=o.tween;if(i!==r)for(var a=0,s=(n=r=i).length;a<s;++a)if(n[a].name===t){(n=n.slice()).splice(a,1);break}o.tween=n}}:function(e,t,r){var n,o;if("function"!=typeof r)throw new Error;return function(){var i=Ob(this,e),a=i.tween;if(a!==n){o=(n=a).slice();for(var s={name:t,value:r},l=0,p=o.length;l<p;++l)if(o[l].name===t){o[l]=s;break}l===p&&o.push(s)}i.tween=o}})(r,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){Eb(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){Eb(this,e).delay=t}})(t,e)):kb(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){Ob(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){Ob(this,e).duration=t}})(t,e)):kb(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){Ob(this,e).ease=t}}(t,e)):kb(this.node(),t).ease}};(function e(t){function r(e){return Math.pow(e,t)}return t=+t,r.exponent=e,r})(3),function e(t){function r(e){return 1-Math.pow(1-e,t)}return t=+t,r.exponent=e,r}(3),function e(t){function r(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,r.exponent=e,r}(3),Math.PI;(function e(t){function r(e){return e*e*((t+1)*e-t)}return t=+t,r.overshoot=e,r})(1.70158),function e(t){function r(e){return--e*e*((t+1)*e+t)+1}return t=+t,r.overshoot=e,r}(1.70158),function e(t){function r(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,r.overshoot=e,r}(1.70158);var $b=2*Math.PI,wb=(function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=$b);function o(e){return t*Math.pow(2,10*--e)*Math.sin((n-e)/r)}return o.amplitude=function(t){return e(t,r*$b)},o.period=function(r){return e(t,r)},o}(1,.3),function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=$b);function o(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+n)/r)}return o.amplitude=function(t){return e(t,r*$b)},o.period=function(r){return e(t,r)},o}(1,.3),function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=$b);function o(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((n-e)/r):2-t*Math.pow(2,-10*e)*Math.sin((n+e)/r))/2}return o.amplitude=function(t){return e(t,r*$b)},o.period=function(r){return e(t,r)},o}(1,.3),{time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}});function xb(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))return wb.time=ob(),wb;return r}C_.prototype.interrupt=function(e){return this.each(function(){Nb(this,e)})},C_.prototype.transition=function(e){var t,r;e instanceof Ab?(t=e._id,e=e._name):(t=Ib(),(r=wb).time=ob(),e=null==e?null:e+"");for(var n=this._groups,o=n.length,i=0;i<o;++i)for(var a,s=n[i],l=s.length,p=0;p<l;++p)(a=s[p])&&Cb(a,e,t,p,s,r||xb(a,t));return new Ab(n,this._parents,e,t)};function jb(e,t,r){this.k=e,this.x=t,this.y=r}jb.prototype={constructor:jb,scale:function(e){return 1===e?this:new jb(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new jb(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new jb(1,0,0);jb.prototype;var Rb,Db=r("d3");const Gb=20;let Fb=30;class Ub extends l.Component{constructor(){super(),this.textSize={},this.mapScale=1,this.mapTranslate={x:0,y:0},this.state={id:`id-${Date.now()}`,graph:{nodes:[].map(e=>(e.id=e.name,e)),links:[],groups:[]}},this.draw=this.draw.bind(this),this.mouseDown=this.mouseDown.bind(this),this.mouseUp=this.mouseUp.bind(this),this.mouseMove=this.mouseMove.bind(this)}componentDidMount(){this.draw(),window.addEventListener("resize",this.draw),window.addEventListener("mousemove",this.mouseMove),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("mousedown",this.mouseDown)}mouseDown(e){this.mouseStartEvent=e}mouseUp(e){this.mouseStartEvent=null,this.mouseMoved=null}mouseMove(e){this.mouseStartEvent&&(this.mouseMoveEvt=e,this.mouseMoved={x:e.clientX-this.mouseStartEvent.clientX,y:e.clientY-this.mouseStartEvent.clientY})}componentWillUnmount(){window.removeEventListener("resize",this.draw),window.removeEventListener("mousemove",this.mouseMove),window.removeEventListener("mousedown",this.mouseUp),window.removeEventListener("mouseup",this.mouseDown);var e=document.querySelector(`#${this.state.id}`);e&&(e.innerHTML="")}calculateNodeTextSize(e,t){var r=document.querySelector("#secret-div-space");return r||((r=document.createElement("div")).id="secret-div-space",r.setAttribute("id","secret-div-space"),r.style.visibility="hidden",r.style.position="absolute",r.classList.add("label"),r.style.whiteSpace="normal",r.style.maxWidth=(e||"").split(" ").length>1?"200px":"300px",r.style.top="-10000px",r.style.padding=2*t+"px",document.querySelector(`#${this.state.id}`).appendChild(r)),r.innerHTML=e,r.getBoundingClientRect()}draw(){var e=this,t=document.querySelector(`#${this.state.id}`);t.innerHTML="";var r=t.getBoundingClientRect(),n=$y.d3adaptor(Db),o=r.width-10,i=r.height-10,a=Db.scaleOrdinal(Db.schemeCategory10),s=6,l=12;n.linkDistance(this.props.linkDistance||280).avoidOverlaps(!0).handleDisconnected(!1).size([o,i]);var p=function(){var t=Db.select(`#${e.state.id}`).append("svg").attr("width",o).attr("height",i).attr("pointer-events","all");t.append("svg:defs").append("svg:marker").attr("id","end-arrow").attr("viewBox","0 -5 10 10").attr("refX",5).attr("markerWidth",3).attr("markerHeight",3).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5L2,0").attr("stroke-width","0px").attr("fill",function(e){return e&&e.properties&&e.properties.type&&go[e.properties.type]&&go[e.properties.type].stroke?go[e.properties.type].stroke:"#555"});var r=t.append("g");function n(){var{x:t=0,y:n=0}=e.mouseMoved||{};r.attr("transform",`scale(${e.mapScale||1}) translate(${e.mapTranslate.x+t}, ${e.mapTranslate.y+n})`)}return t.on("wheel",function(t){e.mapScale+=Db.event.wheelDelta/(e.props.zoomFactor||5e3),n()}),t.on("mousemove",function(t,r){e.panning&&n()}),t.on("mousedown",function(t){e.panning=!0}),t.on("mouseup",function(t){e.panning=!1,e.mouseMoved&&e.mapTranslate&&(e.mapTranslate={x:e.mapTranslate.x+e.mouseMoved.x,y:e.mapTranslate.y+e.mouseMoved.y})}),n(),r}();var u=this.state.graph;u.nodes.forEach(function(t){var r=e.calculateNodeTextSize(_(t),l);t.width=Math.max(Gb,r.width),t.height=Math.max(Gb,r.height)}),u.groups.forEach(function(e){e.padding=l}),n.nodes(u.nodes).groups(u.groups).links(u.links).on("tick",function(){e.$_nodes&&e.$_nodes.each(function(t){var r=e.calculateNodeTextSize(_(t),l);t.width=Math.max(Gb,r.width),t.height=Math.max(Gb,r.height),t.innerBounds=t.bounds.inflate(-s)});e.$_nodes&&e.$_nodes.attr("width",function(e){return e.width}).attr("height",function(e){return e.height}).attr("x",function(e){return e.x-e.width/2}).attr("y",function(e){return e.y-e.height/2});d.attr("x",function(e){return e.bounds.x}).attr("y",function(e){return e.bounds.y}).attr("width",function(e){return e.bounds.width()}).attr("height",function(e){return e.bounds.height()}),f.each(function(e){e.route=$y.makeEdgeBetween(g(e.source),g(e.target,0),5)}),f.attr("x1",function(e){return e.route.sourceIntersection.x}).attr("y1",function(e){return e.route.sourceIntersection.y}).attr("x2",function(e){return e.route.arrowStart.x}).attr("y2",function(e){return e.route.arrowStart.y}),h.attr("transform",function(e){var t=e.y-e.height/2,r=e.x-e.width/2;return`translate(${r},${t})`}),m.attr("x",function(e){return e.x-e.width/2}).attr("y",function(e){var t=this.querySelector("div"),r=t?t.getBoundingClientRect().height:0;return e.y+r/2-e.height+-l/2-Fb}),v.text(function(e){return _(e)})});var d=p.selectAll(".group").data(u.groups).enter().append("rect").attr("rx",8).attr("ry",8).attr("class","group").style("fill",function(e,t){return a(t)}).call(n.drag),c=p.selectAll(".node");this.$node=c,this.buildNode(u,n,a);var f=p.selectAll(".link").data(u.links).enter().append("line").attr("class","link").style("stroke",function(e){return e.selected?"#ff0000":e&&e.properties&&e.properties.type===_o.FunctionConstraintLink&&!e.properties[bo.VALID_CONSTRAINTS]?go[_o.ErrorLink].stroke:e&&e.properties&&e.properties.type&&go[e.properties.type]&&go[e.properties.type].stroke?go[e.properties.type].stroke:"#555"}).style("stroke-dasharray",function(e){return e&&e.properties&&e.properties.type===_o.FunctionConstraintLink&&!e.properties[bo.VALID_CONSTRAINTS]?"5,5":""}).style("d",function(e){return e&&e.properties&&e.properties.type===_o.FunctionConstraintLink&&!e.properties[bo.VALID_CONSTRAINTS]?"M5 20 l215 0":""}).style("stroke-width",function(e){return e&&e.properties&&e.properties.type&&go[e.properties.type]&&go[e.properties.type].strokeWidth?go[e.properties.type].strokeWidth:Math.sqrt(e.value)});f.on("click",(t,r,n)=>{e.props.onLinkClick&&t&&e.props.onLinkClick({id:t.id,source:t.source.id,target:t.target.id},n[r].getBoundingClientRect())}),f.on("mouseover",(t,r,n)=>{e.props.onLinkHover&&t&&e.props.onLinkHover({id:t.id,source:t.source.id,target:t.target.id},n[r].getBoundingClientRect())});var m=p.selectAll(".label").data(u.nodes).enter().append("foreignObject").attr("class","label");m.on("click",(t,r,n)=>{e.props.onNodeClick&&t&&t.id&&e.props.onNodeClick(t.id,n[r].getBoundingClientRect())});var h=p.selectAll(".features").data(u.nodes).enter().append("g").attr("class","features");h.append("rect").attr("width",function(e){return e.selected?5:0}).attr("height",function(e){return e.height-10}).attr("x",3).attr("y",5).attr("rx",5).attr("ry",5).style("fill",function(t){return t.selected&&e.props.selectedColor?e.props.selectedColor:a(u.groups.length)});var y=m.append("xhtml:div").style("pointer-events","none");y.append("xhtml:object").attr("data",e=>e&&e.properties&&e.properties.nodeType&&as[e.properties.nodeType]?function(e){if(!Hn[e]){let e=Vn.a.readdirSync("./app/css/svg");Object.values(Bn).map((t,r)=>{Hn[t]=`./css/svg/${e[r%e.length]}`})}return Hn[e]}(e.properties.nodeType):"./css/svg/003-cupcake.svg").attr("type",e=>"image/svg+xml").attr("width",function(e){return Fb}).attr("height",function(e){return Fb}).attr("x",40).attr("y",40).style("width",40).style("height",40);var v=y.append("xhtml:div").style("width",e=>`${e.width-l/2}px`).style("white-space","normal").style("text-align","start").style("height",e=>`${e.height-l/2}px`).text(function(e){return`${_(e)}`}).call(n.drag);function _(e){return e&&e.properties&&e.properties.text||e.name}function g(e,t=Math.PI/2){var{innerBounds:r,x:n,y:o}=e,i=r.y-r.Y,a=r.x-r.X;return Object.assign(r,{x:1+r.x,y:i?a/i*1+r.y:r.y,X:1+r.X,Y:i?a/i*1+r.Y:r.Y})}this.$force=n,this.setState({$node:c,$color:a}),n.start()}buildNode(e,t,r){var n=this,o=this.$node.data(t.nodes(),e=>e.id||e.name),i=o.enter().append("rect").attr("class","node").attr("width",function(e){return e.width}).attr("height",function(e){return e.height}).attr("rx",5).attr("ry",5).style("fill",function(t){return t&&t.properties&&t.properties.nodeType&&as[t.properties.nodeType]?as[t.properties.nodeType]:r(e.groups.length)}).on("click",(e,t,r)=>{n.props.onNodeClick&&e&&n.props.onNodeClick(e.id,r[t].getBoundingClientRect())}).call(t.drag);o.exit().remove(),this.$_nodes=i}applyNodeVisualData(e){return e.width=40,e.height=40,e.name=e.id,e}componentWillReceiveProps(e,t){if(e.graph){var{graph:r}=e,n=!0;if(this.$force.stop(),r.nodes&&this.state&&this.state.graph&&this.state.graph.nodes){var o=this.state.graph.nodes.relativeCompliment(r.nodes,(e,t)=>e.id===t).map(e=>this.state.graph.nodes.indexOf(e));this.state.graph.nodes.removeIndices(o),r.nodes.relativeCompliment(this.state.graph.nodes,(e,t)=>e===t.id).map(e=>{this.state.graph.nodes.push(this.applyNodeVisualData(function(e){return{...e}}(r.nodeLib[e])))}),e.selectedNodes&&this.state.graph.nodes.map(t=>{t.selected=!!e.selectedNodes.find(e=>e==t.id)}),this.state.graph.nodes.map(e=>{var t=r.nodeLib[e.id];t&&t.properties&&(e.properties={...t.properties})}),n=!0}if(r.links&&this.state&&this.state.graph&&this.state.graph.links){let t=this.state.graph.links.relativeCompliment(r.links,(e,t)=>e.id===t).map(e=>this.state.graph.links.indexOf(e));this.state.graph.links.removeIndices(t),r.links.relativeCompliment(this.state.graph.links,(e,t)=>e===t.id).map(e=>{this.state.graph.links.push(function(e,t){return{...e,source:t.findIndex(t=>t.id===e.source),target:t.findIndex(t=>t.id===e.target)}}(r.linkLib[e],this.state.graph.nodes))}),e.selectedLinks&&this.state.graph.links.map(t=>{t.selected=!!e.selectedLinks.find(e=>e.id===t.id)}),this.state.graph.links.map(e=>{let t=r.linkLib[e.id];t&&t.properties&&(e.properties={...t.properties})}),n=!0}if(r.groups&&this.state&&this.state.graph&&this.state.graph.groups){let e=r.groups.filter(e=>r.groupLib[e].leaves||r.groupLib[e].groups),t=this.state.graph.groups.relativeCompliment(e,(e,t)=>e.id===t).map(e=>this.state.graph.groups.indexOf(e));this.state.graph.groups.removeIndices(t),e.relativeCompliment(this.state.graph.groups,(e,t)=>e===t.id).filter(e=>r.groupLib[e]&&(r.groupLib[e].leaves||r.groupLib[e].groups)).map(e=>{this.state.graph.groups.push(function(e,t,r){let n={...e};return delete n.leaves,delete n.groups,n}(r.groupLib[e],this.state.graph.nodes))}),e.forEach(e=>{!function(e,t,r,n){t&&(t.leaves&&t.leaves.length?(e.leaves=e.leaves||[],e.leaves.length=0,e.leaves.push(...t.leaves.map(e=>n.findIndex(t=>t.id===e)))):delete e.leaves,t.groups&&t.groups.length?(e.groups=e.groups||[],e.groups.length=0,e.groups.push(...t.groups.map(e=>r.findIndex(t=>t.id===e)))):delete e.groups)}(this.state.graph.groups.find(t=>t.id===e),r.groupLib[e],this.state.graph.groups,this.state.graph.nodes)})}n&&this.draw()}}shouldComponentUpdate(){return!1}render(){return function(e,t,r,n){Rb||(Rb="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Rb,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{id:this.state.id,className:"mindmap",style:{minHeight:946}})}}var Vb;function Bb(e,t,r,n){Vb||(Vb="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Vb,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Hb,qb=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Model),r=Fl(e,_s(e,ep)),n=Es(r,ss.IsAgent),o=Es(r,ss.IsParent),i=Es(r,ss.ManyToManyNexus),a=mp(e,is.Permission).map(e=>({value:e.id,title:ip(e)}));return Bb(oy,{active:t,tab:YN,visual:"model-activities",title:dn},void 0,Bb(gh,{active:t},void 0,r?Bb(Ch,{},void 0,Bb(Uh,{label:kt,value:r.properties?r.properties[ss.IsAgent]:"",onChange:e=>{this.props.graphOperation(du,{prop:ss.IsAgent,id:r.id,value:e})}}),n?Bb(Oh,{label:_n,options:mp(e,is.Model).map(e=>({value:e.id,title:ip(e)})),onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.UIUser],source:t,linkType:ls.UserLink.type}),this.props.graphOperation(du,{prop:ss.UIUser,id:t,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.UserLink}})},value:r.properties?r.properties[ss.UIUser]:""}):null,Bb(Uh,{label:Tt,value:r.properties?r.properties[ss.IsUser]:"",onChange:e=>{this.props.graphOperation(du,{prop:ss.IsUser,id:r.id,value:e})}}),Bb(Uh,{label:Nt,title:Mt,value:r.properties?r.properties[ss.IsOwnedByAgents]:"",onChange:e=>{this.props.graphOperation(du,{prop:ss.IsOwnedByAgents,id:r.id,value:e})}}),Bb(Uh,{label:bn,title:On,value:Es(r,ss.ManyToManyNexus),onChange:e=>{this.props.graphOperation([{operation:du,options:{prop:ss.ManyToManyNexus,id:r.id,value:e}}])}}),Bb(Uh,{label:yn,value:Es(r,ss.IsCompositeInput),onChange:e=>{this.props.graphOperation(du,{prop:ss.IsCompositeInput,id:r.id,value:e})}}),Bb(Uh,{label:vn,value:Es(r,ss.ExcludeFromController),onChange:e=>{this.props.graphOperation(du,{prop:ss.ExcludeFromController,id:r.id,value:e})}}),i?Bb(Oh,{options:mp(e,Bn.Model).map(e=>({value:e.id,title:ip(e)})),label:En,onChange:e=>{let t=r.id;var n=Es(r,ss.ManyToManyNexusTypes)||[];this.props.graphOperation([{operation:du,options:{prop:ss.ManyToManyNexusTypes,id:r.id,value:[...n,e].unique(e=>e)}},{operation:hu,options:{target:e,source:t,properties:{...ls.ManyToManyLink}}}])},value:""}):null,Bb(Bh,{active:!0,isSelected:e=>{var t=Es(r,ss.ManyToManyNexusTypes)||[];return e&&t.some(t=>t===e.id)},items:(Es(r,ss.ManyToManyNexusTypes)||[]).map(t=>{let r=Yi(Up(e),t);if(r)return{title:ip(r),id:r.id}}),onClick:e=>{let t=r.id;var n=Es(r,ss.ManyToManyNexusTypes)||[],o=n;o=n.some(t=>e.id===t)?[...o.filter(t=>t!==e.id)].unique(e=>e):[...o,e.id].unique(e=>e),this.props.graphOperation([{operation:du,options:{prop:ss.ManyToManyNexusTypes,id:r.id,value:o}},{operation:_u,options:{target:e.id,source:t,linkType:ls.ManyToManyLink.type}}])}})):null,Bb(_h,{title:Ve}),Bb(yh,{},void 0,Bb(vh,{onClick:()=>{this.props.graphOperation(uu,{parent:_s(e,ep),groupProperties:{},linkProperties:{properties:{...ls.PropertyLink}}})},icon:"fa fa-puzzle-piece",title:He,description:Be}),Bb(vh,{onClick:()=>{this.props.graphOperation(cu,{parent:_s(e,ep),groupProperties:{},linkProperties:{properties:{...ls.PropertyLink}}})},icon:"fa fa-puzzle-piece",title:qe,description:Qe}),Bb(vh,{onClick:()=>{iy.clipboard.writeText(hs(r))},icon:"fa fa-puzzle-piece",title:We,description:We}),Bb(Xh,{title:Z,open:_s(e,Z),active:_s(e,Z),toggle:()=>{this.props.toggleVisual(Z)},icon:"fa fa-tag"},void 0,Bb(Xh,{hideArrow:!0,title:ay.type,icon:"fa fa-plus",onClick:()=>{this.props.executeGraphOperation(r,ay)}}),Bb(Xh,{hideArrow:!0,title:sy.type,icon:"fa fa-plus",onClick:()=>{this.props.executeGraphOperation(r,sy)}}),Bb(Xh,{hideArrow:!0,title:ly.type,icon:"fa fa-plus",onClick:()=>{this.props.executeGraphOperation(r,ly)}}))),n?Bb(Oh,{label:wt,options:a,onChange:e=>{var t=r.id;this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.PermissionLink}})},value:r.properties?r.properties[ss.UIPermissions]:""}):null,r?Bb(Ch,{},void 0,Bb(Uh,{label:hn,value:r.properties?r.properties[ss.IsParent]:"",onChange:e=>{this.props.graphOperation(du,{prop:ss.IsParent,id:r.id,value:e})}})):null,o?Bb(Oh,{label:mn,options:mp(e,is.Model).map(e=>({value:e.id,title:ip(e)})),onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.UIChoiceNode],source:t,linkType:ls.ParentLink.type}),this.props.graphOperation(du,{prop:ss.UIChoiceNode,id:t,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ParentLink}})},value:r.properties?r.properties[ss.UIChoiceNode]:""}):null,Bb(yh,{},void 0,n?Bb(vh,{onClick:()=>{this.props.graphOperation(fu,{parent:_s(e,ep),linkProperties:{properties:{...ls.PermissionLink}}})},icon:"fa fa-puzzle-piece",title:Ht,description:Bt}):null)))}});function Wb(e,t,r,n){Hb||(Hb="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Hb,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Yb,zb=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Function),r=Fl(e,_s(e,ep)),n=mp(e,is.Model).filter(e=>Es(e,ss.IsAgent)).map(e=>({value:e.id,title:ip(e)})),o=Object.keys(li).map(e=>({title:li[e].title||e,value:e}));return Wb(gh,{active:t},void 0,r?Wb(Oh,{label:pt,options:n,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.UIExtension],source:t}),this.props.graphOperation(du,{prop:ss.UIExtension,id:r.id,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.FunctionOperator}})},value:r.properties?r.properties[ss.UIPermissions]:""}):null,r?Wb(Uh,{label:In,title:Ln,value:r.properties?r.properties[ss.UseScopeGraph]:"",onChange:e=>{this.props.graphOperation(du,{prop:ss.UseScopeGraph,id:r.id,value:e})}}):null,r&&!r.properties[ss.UseScopeGraph]?Wb(Oh,{label:Wr,options:o,onChange:e=>{this.props.graphOperation(du,{prop:ss.FunctionType,id:r.id,value:e}),this.props.graphOperation(Gu,{id:r.id,value:e})},value:r.properties?r.properties[ss.FunctionType]:""}):null,r?Wb(Oh,{label:Fe,options:Object.keys(Eo).map(e=>({title:e,value:Eo[e]})),onChange:e=>{this.props.graphOperation(du,{prop:ss.MethodType,id:r.id,value:e})},value:r.properties?r.properties[ss.MethodType]:""}):null,r?Wb(Oh,{label:Xr,options:Object.keys(ni).map(e=>({title:e,value:ni[e]})),onChange:e=>{this.props.graphOperation(du,{id:r.id,value:e,prop:uo.HttpMethod})},value:Es(r,uo.HttpMethod)}):null,r?Wb(Th,{label:Qr,value:Es(r,uo.HttpRoute),onChange:e=>{this.props.graphOperation(du,{id:r.id,value:e,prop:uo.HttpRoute})}}):null,Wb(yh,{},void 0,r&&r.properties[ss.UseScopeGraph]?Wb(vh,{onClick:()=>{this.props.graphOperation([{operation:void 0},{options:{id:r.id}}])},icon:"fa fa-puzzle-piece",title:In,description:Ln}):null,r?Wb(vh,{onClick:()=>{this.props.graphOperation(Cu,{parent:_s(e,ep)})},icon:"fa fa-puzzle-piece",title:gt,description:bt}):null,r?Wb(vh,{onClick:()=>{this.props.graphOperation(Eu,{parent:_s(e,ep)})},icon:"fa fa-puzzle-piece",title:Ct,description:Ot}):null))}});function Jb(e,t,r,n){Yb||(Yb="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Yb,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Xb,Kb=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Property),r=Fl(e,_s(e,ep));if(r)var n=r&&r.properties&&r.properties[ss.UseUIDependsOn],o=Es(r,ss.UseModelAsType),i=Es(r,ss.ManyToManyNexus),a=mp(e,is.Property).filter(e=>e.id!==r.id).map(e=>({value:e.id,title:ip(e)}));return Jb(gh,{active:t},void 0,r?Jb(Ch,{},void 0,Jb(Uh,{label:dr,value:r.properties?r.properties[ss.UseUIDependsOn]:"",onChange:e=>{this.props.graphOperation(du,{prop:ss.UseUIDependsOn,id:r.id,value:e})}}),n?Jb(Oh,{label:ur,options:a,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.UIDependsOn],source:t}),this.props.graphOperation(du,{prop:ss.UIDependsOn,id:t,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.DependsOnLink}})},value:r.properties?r.properties[ss.UIDependsOn]:""}):null):null,r?Jb(Ch,{},void 0,Jb(Th,{label:tt,value:r.properties?r.properties[ss.UIName]:"",onChange:e=>{this.props.graphOperation(du,{prop:ss.UIName,id:r.id,value:e})}})):null,r?Jb(Ch,{},void 0,Jb(Uh,{label:bn,title:On,value:Es(r,ss.ManyToManyNexus),onChange:e=>{var t=r.id;this.props.graphOperation([e?null:{operation:_u,options:{target:r.properties[ss.ManyToManyNexusType],source:t}},{operation:du,options:{prop:ss.ManyToManyNexus,id:r.id,value:e}},e&&r.properties[ss.ManyToManyNexusType]?{operation:hu,options:{target:r.properties[ss.ManyToManyNexusType],source:t,properties:{...ls.ManyToManyLink}}}:null].filter(e=>e))}}),Jb(Oh,{options:Object.keys(lo).map(e=>({title:e,value:e})),label:gn,onChange:e=>{this.props.graphOperation([{operation:du,options:{prop:ss.DataGenerationType,id:r.id,value:e}}])},value:Es(r,ss.DataGenerationType)}),i?Jb(Oh,{options:mp(e,Bn.Model).filter(e=>Es(e,uo.ManyToManyNexus)).map(e=>({value:e.id,title:ip(e)})),label:bn,onChange:e=>{var t=r.id;this.props.graphOperation([{operation:_u,options:{target:r.properties[ss.ManyToManyNexusType],source:t}},{operation:du,options:{prop:ss.ManyToManyNexusType,id:r.id,value:e}},{operation:hu,options:{target:e,source:t,properties:{...ls.ManyToManyLink}}}])},value:Es(r,ss.ManyToManyNexusType)}):null,Jb(Uh,{label:An,value:r.properties?r.properties[ss.UseModelAsType]:"",onChange:e=>{var t=r.id;this.props.graphOperation([e?null:{operation:_u,options:{target:r.properties[ss.UIModelType],source:t}},{operation:du,options:{prop:ss.UseModelAsType,id:r.id,value:e}},e&&r.properties[ss.UIModelType]?{operation:hu,options:{target:r.properties[ss.UIModelType],source:t,properties:{...ls.ModelTypeLink}}}:null])}}),o?null:Jb(Oh,{options:Object.keys(us).sort((e,t)=>e.localeCompare(t)).map(e=>({value:us[e],title:e})),label:it,onChange:e=>{this.props.graphOperation(du,{prop:ss.UIAttributeType,id:r.id,value:e})},value:r.properties?r.properties[ss.UIAttributeType]:""}),o?Jb(Oh,{options:mp(e,Bn.Model).map(e=>({value:e.id,title:ip(e)})),label:at,onChange:e=>{var t=r.id;this.props.graphOperation([{operation:_u,options:{target:r.properties[ss.UIModelType],source:t}},{operation:du,options:{prop:ss.UIModelType,id:r.id,value:e}},{operation:hu,options:{target:e,source:t,properties:{...ls.ModelTypeLink}}}])},value:r.properties?r.properties[ss.UIModelType]:""}):null,o?Jb(Uh,{label:lt,value:r.properties?r.properties[ss.IsReferenceList]:"",onChange:e=>{this.props.graphOperation(du,{prop:ss.IsReferenceList,id:r.id,value:e})}}):null):null,Jb(_h,{title:Ve}),Jb(yh,{},void 0,Jb(vh,{onClick:()=>{this.props.graphOperation(mu,{parent:_s(e,ep),groupProperties:{},linkProperties:{properties:{...Co.AttributeLink}}})},icon:"fa fa-puzzle-piece",title:Ze,description:et})))}});function Qb(e,t,r,n){Xb||(Xb="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Xb,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Zb,eC=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.DataChain),r=Fl(e,_s(e,ep));let n=Es(r,uo.DataChainFunctionType),o=!!Xa[n]&&Xa[n].ui.model,i=!!Xa[n]&&Xa[n].ui.property,a=!!Xa[n]&&Xa[n].ui.node_1,s=!!Xa[n]&&Xa[n].ui.node_2,l=mp(e,Bn.DataChain).filter(e=>Es(e,uo.GroupParent)===Es(r,uo.GroupParent)&&e!==r).toNodeSelect();return Qb(gh,{active:t},void 0,Qb(Ch,{},void 0,Qb(Uh,{label:U,value:Es(r,ss.EntryPoint),onChange:e=>{this.props.graphOperation(du,{prop:ss.EntryPoint,id:r.id,value:e})}}),Qb(Uh,{label:L,value:Es(r,ss.AsOutput),onChange:e=>{this.props.graphOperation(du,{prop:ss.AsOutput,id:r.id,value:e})}}),Qb(Oh,{onChange:e=>{let t=r.id;this.props.graphOperation(du,{prop:ss.DataChainFunctionType,id:t,value:e})},label:Wr,value:n,options:Object.keys(Xa).map(e=>({title:e,value:e}))}),o?Qb(Oh,{onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.UIModelType],source:t}),this.props.graphOperation(du,{prop:ss.UIModelType,id:t,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ModelTypeLink}})},label:B,value:Es(r,uo.UIModelType),options:pp().toNodeSelect()}):null,i?Qb(Oh,{onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:Es(r,ss.Property),source:t}),this.props.graphOperation(du,{prop:ss.Property,id:t,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.PropertyLink}})},label:Rr,value:Es(r,uo.Property),options:Ps(Es(r,ss.UIModelType)).toNodeSelect()}):null,a?Qb(Oh,{onChange:e=>{var t=r.id;this.props.graphOperation(_u,{source:r.properties[ss.ChainNodeInput1],target:t}),this.props.graphOperation(du,{prop:ss.ChainNodeInput1,id:t,value:e}),this.props.graphOperation(hu,{source:e,target:t,properties:{...ls.DataChainLink}})},label:`${jr} 1`,value:Es(r,uo.ChainNodeInput1),options:l}):null,s?Qb(Oh,{onChange:e=>{var t=r.id;this.props.graphOperation(_u,{source:r.properties[ss.ChainNodeInput2],target:t}),this.props.graphOperation(du,{prop:ss.ChainNodeInput2,id:t,value:e}),this.props.graphOperation(hu,{source:e,target:t,properties:{...ls.DataChainLink}})},label:`${jr} 2`,value:Es(r,uo.ChainNodeInput2),options:l}):null))}});function tC(e,t,r,n){Zb||(Zb="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Zb,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var rC,nC=Um(class extends l.Component{getControls(){var{state:e}=this.props,t=Fl(e,_s(e,ep));let r=[],n=Es(t,ss.AfterMethod);r.push(tC(Oh,{label:N,options:Object.keys(Wo).map(e=>({value:e,title:e})),onChange:e=>{var r=t.id;this.props.graphOperation(du,{prop:ss.AfterMethod,id:r,value:e})},value:Es(t,ss.AfterMethod)}));let o=Ip(_a(e,t.id));if(n&&Wo[n]){let{templateKeys:i}=Wo[n];i&&Object.values(i).map(i=>{let{key:a,nodeTypes:s,parent:l,useNodes:p,useMethodTypes:u,useString:d}=i,c=Es(t,ss.AfterMethodSetup);if(l||p||u||d)if(c&&c[n]&&c[n][l]){if(o[c[n][l]]){let i=Tp(o[c[n][l]]);if(i){let o=ba(e,{id:i.id,links:[{type:_o.PropertyLink,direction:Na}]});r.push(tC(Oh,{label:a,options:o.toNodeSelect(),onChange:e=>{var r=va(t,n,a,e);this.props.graphOperation(du,{prop:ss.AfterMethodSetup,id:t.id,value:r})},value:c&&c[n]&&c[n][a]?c[n][a]:null}))}}}else{let o=mp(e,s),i=[];p?i=o.toNodeSelect():u?i=Object.keys(Eo).map(e=>({title:e,value:Eo[e]})):d&&(i=Object.values(d).map(e=>({title:e,value:e}))),r.push(tC(Oh,{label:a,options:i,onChange:e=>{var r=va(t,n,a,e);this.props.graphOperation(du,{prop:ss.AfterMethodSetup,id:t.id,value:r})},value:c&&c[n]&&c[n][a]?c[n][a]:null}))}else r.push(tC(Oh,{label:a,options:$l(o),onChange:e=>{var r=va(t,n,a,e);this.props.graphOperation(du,{prop:ss.AfterMethodSetup,id:t.id,value:r})},value:c&&c[n]&&c[n][a]?c[n][a]:null}))})}return r}render(){var{state:e}=this.props,t=gs(e,is.AfterEffect),r=Fl(e,_s(e,ep));let n=t?this.getControls():[];return tC(gh,{active:t},void 0,r?tC(Ch,{},void 0,n):null)}});function oC(e,t,r,n){rC||(rC="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:rC,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var iC,aC=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Attribute),r=Fl(e,_s(e,ep)),n=mp(e,is.ChoiceList).map(e=>({value:e.id,title:ip(e)})),o=mp(e,is.ValidationList).map(e=>({value:e.id,title:ip(e)})),i=r&&r.properties&&r.properties[ss.UIAttributeType]==ps.CHOICE,a=bs(r,ss.UseUIValidations),s=bs(r,ss.UseUIOptions),l=bs(r,ss.UseUIExtensionList),p=mp(e,is.OptionList).map(e=>({value:e.id,title:ip(e)})),u=mp(e,is.ExtensionType).map(e=>({value:e.id,title:ip(e)}));return oC(gh,{active:t},void 0,r?oC(Ch,{},void 0,oC(Th,{label:tt,title:rt,value:r.properties?r.properties[ss.UIName]:"",onChange:e=>{this.props.graphOperation(du,{prop:ss.UIName,id:r.id,value:e})}}),oC(Oh,{options:Object.keys(ps).sort((e,t)=>e.localeCompare(t)).map(e=>({value:ps[e],title:e})),label:it,onChange:e=>{this.props.graphOperation(du,{prop:ss.UIAttributeType,id:r.id,value:e})},value:r.properties?r.properties[ss.UIAttributeType]:""}),i?oC(Oh,{label:Ft,options:n,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.UIChoiceType],source:t}),this.props.graphOperation(du,{prop:ss.UIChoiceType,id:t,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ChoiceLink}})},value:r.properties?r.properties[ss.UIChoiceType]:""}):null,i?oC(yh,{},void 0,oC(vh,{onClick:()=>{this.props.graphOperation(Mu,{})},icon:"fa fa-puzzle-piece",title:Ut,description:Vt})):null,oC(Uh,{label:nt,value:r.properties?r.properties[ss.UISingular]:"",onChange:e=>{this.props.graphOperation(du,{prop:ss.UISingular,id:r.id,value:e})}}),oC(Uh,{label:Jt,value:r.properties?r.properties[ss.UseUIValidations]:"",onChange:e=>{this.props.graphOperation(du,{prop:ss.UseUIValidations,id:r.id,value:e})}}),a?oC(Oh,{label:Zt,options:o,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.UIValidationType],source:t}),this.props.graphOperation(du,{prop:ss.UIValidationType,id:t,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ValdationLink}})},value:r.properties?r.properties[ss.UIValidationType]:""}):null,a?oC(yh,{},void 0,oC(vh,{onClick:()=>{this.props.graphOperation(Tu,{})},icon:"fa fa-puzzle-piece",title:Xt,description:Kt})):null,oC(Uh,{label:sr,value:r.properties?r.properties[ss.UseUIOptions]:"",onChange:e=>{this.props.graphOperation(du,{prop:ss.UseUIOptions,id:r.id,value:e})}}),s?oC(Oh,{label:ir,options:p,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.UIOptionType],source:t}),this.props.graphOperation(du,{prop:ss.UIOptionType,id:t,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.OptionLink}})},value:r.properties?r.properties[ss.UIOptionType]:""}):null,s?oC(yh,{},void 0,oC(vh,{onClick:()=>{this.props.graphOperation(Pu,{})},icon:"fa fa-puzzle-piece",title:lr,description:pr})):null,oC(Uh,{label:cr,value:r.properties?r.properties[ss.UseUIExtensionList]:"",onChange:e=>{this.props.graphOperation(du,{prop:ss.UseUIExtensionList,id:r.id,value:e})}}),l?oC(Oh,{label:Cr,options:u,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.UIExtensionList],source:t}),this.props.graphOperation(du,{prop:ss.UIExtensionList,id:t,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ExtensionLink}})},value:r.properties?r.properties[ss.UIExtensionList]:""}):null,l?oC(yh,{},void 0,oC(vh,{onClick:()=>{this.props.graphOperation(xu,{})},icon:"fa fa-puzzle-piece",title:Er,description:Or})):null):null)}});function sC(e,t,r,n){iC||(iC="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:iC,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var lC=sC("div",{});var pC;Um(class extends l.Component{constructor(e){super(e),this.state={}}render(){let e=this.props.nodeProperty,t=this.props.node;if(!t)return lC;this.props.linkType;let r=this.props.items,{state:n}=this.props;return sC(Bh,{active:!0,isSelected:r=>{var n=Es(t,e)||[];if(n&&n.some)return r&&n.some(e=>e===r.id)},items:r,onClick:e=>{this.props.removeLink&&this.props.graphOperation(_u,{target:e.value,source:t.id}),this.props.removeNode&&this.props.graphOperation(iu,{id:e.value})}})}});function uC(e,t,r,n){pC||(pC="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:pC,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var dC,cC=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Condition);return uC(gh,{active:t},void 0,uC(_h,{title:Ve}))}});function fC(e,t,r,n){dC||(dC="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:dC,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var mC,hC,yC=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.ChoiceList),r=Es(Fl(e,_s(e,ep)),ss.UIExtensionDefinition);return fC(gh,{active:t},void 0,fC("ul",{},void 0,r?Object.keys(r.definition).map((e,t)=>fC("li",{},`clist${e}-${t}`,e)):null))}});class vC extends l.Component{icon(){return this.props.icon||"fa fa-circle-o"}render(){return function(e,t,r,n){mC||(mC="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:mC,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("li",{},void 0,this.props.title,this.props.children)}}function _C(e,t,r,n){hC||(hC="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:hC,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var gC=_C("div",{});var bC,CC=Um(class extends l.Component{constructor(e){super(e),this.state={filter:""}}render(){let{state:e}=this.props;var t=gs(e,is.Screen),r=Fl(e,_s(e,ep));if(!t)return gC;Up(e);let n=(this.state.filter||"").toLowerCase(),o=(ap(e).filter(e=>!!n&&-1!==this.toFilterString(e).indexOf(n)).groupBy(e=>Es(e,uo.NODEType)),Es(r,uo.ScreenParameters)||[]),i=o.map((e,t)=>_C(Xh,{title:ki(e),hideArrow:!0,icon:"fa fa-terminal",onClick:()=>{this.props.graphOperation(du,{prop:uo.ScreenParameters,id:r.id,value:o.filter(t=>t!==e)})}},"param"+t))||[];return _C("div",{style:{position:"relative"}},void 0,_C(mh,{active:t,relative:!0},void 0,_C(Hh,{relative:!0,style:{paddingTop:0}},void 0,_C(Kh,{},void 0,_C(Xh,{title:`${M}`,icon:"fa fa-object-group",open:_s(e,"UI_PARAMETERS"),active:_s(e,"UI_PARAMETERS"),onClick:()=>{this.props.toggleVisual("UI_PARAMETERS")}},void 0,_C(Ch,{sidebarform:!0},void 0,_C(Th,{value:Vl(e,"ui-parameter"),onClick:()=>{let t=Vl(e,"ui-parameter");if(t){let e=function(e){return{title:e||"",id:_()}}(t);o.push(e),this.props.graphOperation(du,{prop:uo.ScreenParameters,id:r.id,value:o.unique(e=>e.name)})}},onChange:e=>{this.props.setApplication("ui-parameter",e)},inputgroup:!0,placeholder:Fn})),_C(Xh,{icon:"fa fa-dot-circle-o",title:Et,open:_s(e,"SCREEN_PARAMETERS"),active:_s(e,"SCREEN_PARAMETERS"),onClick:()=>{this.props.toggleVisual("SCREEN_PARAMETERS")}},void 0,i))))))}});function EC(e){return e&&e.properties?Object.values(e.properties).map(e=>({title:e.property,id:e.id,value:e.property})):[]}function OC(e,t,r,n){bC||(bC="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:bC,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var kC,NC=Um(class extends l.Component{constructor(e){super(e),this.state={}}getComponentApi(e,t){let{state:r}=this.props;var n=Fl(r,_s(r,ep));if(Es(n,uo.ComponentParameters),this.state.selectedCell,e&&e.nodeProperty){let o=Es(n,uo.ComponentApi);if(o){let i=t,a=Es(n,e.nodeProperty);a=a||{};let{instanceType:s,model:l,apiProperty:p,modelProperty:u}=a[i]||{};return[i?OC(Oh,{label:xr,value:s,options:Object.keys(Mf).map(e=>({title:e,value:Mf[e]})),onChange:t=>{a[i]=a[i]||{},a[i].instanceType=t,this.props.graphOperation(du,{prop:e.nodeProperty,id:n.id,value:a})}}):null,i&&s===Mf.ApiProperty?OC(Oh,{label:t,value:p,options:EC(o),onChange:t=>{a[i]=a[i]||{},a[i].apiProperty=t,this.props.graphOperation(du,{prop:e.nodeProperty,id:n.id,value:a})}}):null,i&&s===Mf.ScreenInstance?OC(Oh,{label:B,value:l,options:mp(this.props.state,Bn.Model).toNodeSelect(),onChange:t=>{a[i]=a[i]||{},a[i].model=t,this.props.graphOperation(du,{prop:e.nodeProperty,id:n.id,value:a})}}):null,i&&s===Mf.ScreenInstance?OC(Oh,{options:ka(Vp(r),{id:l,direction:Na}).toNodeSelect(),onChange:t=>{a[i]=a[i]||{},a[i].modelProperty=t,this.props.graphOperation(du,{prop:e.nodeProperty,id:n.id,value:a})},label:Rr,value:u}):null].filter(e=>e)}}return null}render(){var{state:e}=this.props,t=Fl(e,_s(e,ep)),r=Es(t,ss.NODEType)===is.ComponentNode;let n=Es(t?ga(e,t.id,Bn.ScreenOption)||ga(e,t.id,Bn.ComponentNode,Ma):null,ss.UIType),o=Nf[n]||{},i=Es(t,ss.ComponentType),a=[];return o[i]&&o[i].properties&&Object.keys(o[i].properties).map(r=>{let s=o[i].properties[r];s&&s.ui&&(s.options?a.push(OC(Oh,{label:r,options:s.options.map(e=>({title:e,value:e})),value:Es(t,s.nodeProperty),onChange:e=>{this.props.graphOperation(du,{prop:s.nodeProperty,id:t.id,value:e})}},`${n} - ${i}- ${r}`)):s.nodeTypes?a.push(OC(Oh,{label:r,options:mp(e,s.nodeTypes).filter(s.nodeFilter||(()=>!0)).toNodeSelect(),value:Es(t,s.nodeProperty),onChange:e=>{this.props.graphOperation(du,{prop:s.nodeProperty,id:t.id,value:e})}},`${n} - ${i}- ${r}`)):s.boolean?a.push(OC(Uh,{label:r,value:Es(t,s.nodeProperty),onChange:e=>{this.props.graphOperation(du,{prop:s.nodeProperty,id:t.id,value:e})}},`${n} - ${i}- ${r}`)):s.parameterConfig&&a.push(this.getComponentApi(s,r)))}),a=a.filter(e=>e),OC(gh,{active:r},void 0,t?OC(Ch,{},void 0,OC(Th,{label:re,value:Es(t,ss.Label),onChange:e=>{this.props.graphOperation(du,{prop:ss.Label,id:t.id,value:e})}}),OC(Oh,{label:X,options:Object.keys(o).map(e=>({title:e,value:e})),value:Es(t,ss.ComponentType),onChange:e=>{this.props.graphOperation(du,{prop:ss.ComponentType,id:t.id,value:e})}}),a):null,i&&o&&o[i]&&o[i].layout?OC(yh,{},void 0,OC(vh,{onClick:()=>{this.props.graphOperation(du,{prop:ss.Layout,id:t.id,value:Es(t,uo.Layout)||{layout:{},properties:{}}}),this.props.setVisual(oo,so)},icon:"fa fa-puzzle-piece",title:ne,description:ne}),OC(vh,{onClick:()=>{this.props.graphOperation(du,{prop:ss.Layout,id:t.id,value:null}),this.props.setVisual(oo,null)},icon:"fa fa-puzzle-piece",title:se,description:se}),OC(vh,{onClick:()=>{this.props.graphOperation($u,{parent:_s(e,ep),groupProperties:{},properties:{[ss.UIType]:Es(t,ss.UIType)},linkProperties:{properties:{...Co.ComponentLink}}}),this.props.setVisual(oo,so)},icon:"fa fa-puzzle-piece",title:W,description:W}),Es(t,ss.ComponentType)===Nf.ReactNative.List.key?OC(vh,{onClick:()=>{this.props.graphOperation($u,{parent:_s(e,ep),groupProperties:{},properties:{[ss.UIType]:Es(t,ss.UIType)},linkProperties:{properties:{...Co.ListItem}}}),this.props.setVisual(oo,so)},icon:"fa fa-puzzle-piece",title:ae,description:ae}):null):null,i&&o&&o[i]&&o[i].datasource?OC(yh,{},void 0," ",OC(vh,{onClick:()=>{this.props.graphOperation(Lu,{parent:_s(e,ep),groupProperties:{},properties:{[ss.UIType]:Es(t,ss.UIType),[ss.UIText]:`${ip(t)} Data Source`},linkProperties:{properties:{...Co.DataSourceLink}}})},icon:"fa fa-puzzle-piece",title:J,description:J}),"  "):null)}});function MC(e,t,r,n){kC||(kC="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:kC,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var TC,SC=Um(class extends l.Component{constructor(e){super(e),this.state={}}render(){var{state:e}=this.props,t=Fl(e,_s(e,ep)),r=[is.ComponentNode,is.ScreenOption].some(e=>e===Es(t,ss.NODEType));let n=t?ga(e,t.id,Bn.ScreenOption)||ga(e,t.id,Bn.ComponentNode,Ma):null,o=Nf[Es(n,ss.UIType)]||{},i=Es(t,ss.ComponentType),a=mp(e,Bn.Model).toNodeSelect(),s=Es(t,ss.ComponentProperties)||{properties:{},instanceTypes:{}};return MC(oy,{active:r,tab:zN,visual:"component-property-menu",title:x},void 0,MC(gh,{active:r},void 0,t?MC(Ch,{},void 0,MC(Oh,{label:B,options:a,value:this.state.modelType,onChange:e=>{this.setState({modelType:e})}}),MC(Th,{label:Rr,value:this.state.modelProp,onChange:e=>{this.setState({modelProp:e})}}),MC(Oh,{label:xr,value:this.state.instanceType,options:Object.keys(Mf).map(e=>({title:e,value:Mf[e]})),onChange:e=>{this.setState({instanceType:e})}})):null,i&&o&&o[i]&&o[i]?MC(yh,{},void 0,MC(vh,{onClick:()=>{this.state.modelType&&this.state.modelProp&&(Ki(s,this.state.modelProp)&&this.props.graphOperation(_u,{target:Qi(s,this.state.modelProp),source:t.id}),s=function(e,t){let{modelType:r,modelProp:n,instanceType:o}=t;return e&&e.properties&&(e.properties[n]=r,e.instanceTypes[n]=o),e}(s,{instanceType:this.state.instanceType,modelType:this.state.modelType,modelProp:this.state.modelProp}),this.props.graphOperation(du,{prop:ss.ComponentProperties,id:t.id,value:s}),this.props.graphOperation(hu,{target:this.state.modelType,source:t.id,properties:{...ls.ComponentPropertyLink}}))},icon:"fa fa-plus",title:Qt,description:Qt}),MC(vh,{onClick:()=>{this.state.modelType&&this.state.modelProp&&(Ki(s,this.state.modelProp)&&this.props.graphOperation(_u,{target:Qi(s,this.state.modelProp),source:t.id}),s=function(e,t){let{modelProp:r}=t;return e&&e.properties&&(delete e.properties[r],delete e.instanceTypes[r]),e}(s,{instanceType:this.state.instanceType,modelType:this.state.modelType,modelProp:this.state.modelProp}),this.props.graphOperation(du,{prop:ss.ComponentProperties,id:t.id,value:s}))},icon:"fa fa-plus",title:k,description:k})):null,MC(Bh,{active:!0,isSelected:e=>e.value===this.state.selectedItem,items:Xi(Es(t,ss.ComponentProperties)),onClick:e=>{this.setState({modelType:Qi(s,e.value),instanceType:Qi(s,e.value,"instanceTypes"),modelProp:e.value,selectedItem:e.value})}})))}});function PC(e,t,r,n){TC||(TC="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:TC,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var AC,IC=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.ModelFilter),r=Fl(e,_s(e,ep));let n=mp(e,Bn.Model).map(e=>({title:ip(e),value:e.id})),o=mp(e,Bn.Model).filter(e=>Es(e,uo.IsAgent)).map(e=>({title:ip(e),value:e.id}));var i=r?PC(Oh,{label:B,options:n,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:Es(r,uo.FilterModel),source:t}),this.props.graphOperation(du,{prop:uo.FilterModel,id:r.id,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ModelTypeLink}})},value:Es(r,uo.FilterModel)}):null,a=r?PC(Oh,{label:Ie,options:o,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:Es(r,uo.FilterAgent),source:t}),this.props.graphOperation(du,{prop:uo.FilterAgent,id:r.id,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.AgentTypeLink}})},value:Es(r,uo.FilterAgent)}):null;return PC(gh,{active:t},void 0,r?PC(Ch,{},void 0,i,a):null)}});function LC(e,t,r,n){AC||(AC="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:AC,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var $C,wC=Um(class extends l.Component{constructor(e){super(e),this.state={}}render(){var{state:e}=this.props,t=Fl(e,_s(e,ep)),r=[is.ComponentNode,is.ScreenOption].some(e=>e===Es(t,ss.NODEType));let n=t?ga(e,t.id,Bn.ScreenOption)||ga(e,t.id,Bn.ComponentNode,Ma):null,o=Nf[Es(n,ss.UIType)]||{},i=Es(t,ss.ComponentType),a=(mp(e,Bn.Model).toNodeSelect(),Es(t,ss.ComponentApi)||{properties:{},instanceTypes:{}});return LC(oy,{active:r,tab:zN,visual:"component-api-menu",title:j},void 0,LC(gh,{active:r},void 0,t?LC(Ch,{},void 0,LC(Th,{label:Rr,value:this.state.modelProp,onChange:e=>{this.setState({modelProp:e})}})):null,i&&o&&o[i]&&o[i]?LC(yh,{},void 0,LC(vh,{onClick:()=>{this.state.modelProp&&(a=function(e,t){let{modelProp:r}=t;return e&&e.properties&&(e.properties[r]?e.properties[r].property=r:e.properties[r]={property:r,id:_()}),e}(a,{modelProp:this.state.modelProp}),this.props.graphOperation(du,{prop:ss.ComponentApi,id:t.id,value:a}))},icon:"fa fa-plus",title:Qt,description:Qt}),LC(vh,{onClick:()=>{this.state.modelType&&this.state.modelProp&&(a=function(e,t){let{modelProp:r}=t;return e&&e.properties&&delete e.properties[r],e}(a,{modelProp:this.state.modelProp}),this.props.graphOperation(du,{prop:ss.ComponentApi,id:t.id,value:a}))},icon:"fa fa-plus",title:k,description:k})):null,LC(Bh,{active:!0,isSelected:e=>e.value===this.state.selectedItem,items:Xi(Es(t,ss.ComponentApi)),onClick:e=>{this.setState({modelProp:e.value,selectedItem:e.value})}})))}});function xC(e,t,r,n){$C||($C="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:$C,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var jC,RC=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.ValidationList);return xC(gh,{active:t},void 0,xC(_h,{title:Wt}),xC(yh,{},void 0,xC(vh,{onClick:()=>{this.props.graphOperation(Nu,{parent:_s(e,ep),groupProperties:{},linkProperties:{properties:{...ls.ValidationLinkItem}}})},icon:"fa fa-puzzle-piece",title:Yt,description:zt})))}});function DC(e,t,r,n){jC||(jC="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:jC,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var GC,FC=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.ValidationListItem),r=Fl(e,_s(e,ep));return DC(gh,{active:t},void 0,r?DC(Ch,{},void 0,DC(Oh,{options:Object.keys(ds).sort((e,t)=>e.localeCompare(t)).map(e=>({value:ds[e],title:e})),label:er,onChange:e=>{this.props.graphOperation(du,{prop:ss.UIValidationType,id:r.id,value:e})},value:r.properties?r.properties[ss.UIValidationType]:""})):null)}});function UC(e,t,r,n){GC||(GC="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:GC,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var VC,BC=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Validator),r=Fl(e,_s(e,ep)),n=mp(e,is.Model).map(e=>({title:ip(e),value:e.id})),o=mp(e,[is.Method,is.Function]).map(e=>({title:ip(e),value:e.id})),i=mp(e,is.Model).filter(e=>Es(e,uo.IsAgent)).map(e=>({title:ip(e),value:e.id}));return UC(gh,{active:t},void 0,r?UC(Ch,{},void 0,UC(Oh,{options:n,label:B,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.ValidatorModel],source:t}),this.props.graphOperation(du,{prop:ss.ValidatorModel,id:r.id,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ValidatorModelLink}})},value:r.properties?r.properties[ss.ValidatorModel]:""}),UC(Oh,{options:i,label:Ie,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.ValidatorAgent],source:t}),this.props.graphOperation(du,{prop:ss.ValidatorAgent,id:r.id,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ValidatorAgentLink}})},value:r.properties?r.properties[ss.ValidatorAgent]:""}),UC(Oh,{options:o,label:Yr,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.ValidatorFunction],source:t}),this.props.graphOperation(du,{prop:ss.ValidatorFunction,id:r.id,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ValidatorFunctionLink}})},value:r.properties?r.properties[ss.ValidatorFunction]:""})):null,UC("button",{type:"submit",className:"btn btn-primary",onClick:()=>{this.props.graphOperation(yu,{parent:_s(e,ep),groupProperties:{},linkProperties:{properties:{...Co.ConditionLink}}})}},void 0,A))}});function HC(e,t,r,n){VC||(VC="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:VC,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var qC,WC=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.OptionList);return HC(gh,{active:t},void 0,HC(_h,{title:tr}),HC(yh,{},void 0,HC(vh,{onClick:()=>{this.props.graphOperation(Su,{parent:_s(e,ep),groupProperties:{},linkProperties:{properties:{...ls.OptionItemLink}}})},icon:"fa fa-puzzle-piece",title:rr,description:nr})))}});function YC(e,t,r,n){qC||(qC="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:qC,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var zC,JC=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Executor),r=Up(e),n=Fl(e,_s(e,ep));if(n&&Es(n,ss.ExecutorModel)){var o=Ea(r,{id:Es(n,ss.ExecutorModel),direction:Na,type:_o.PropertyLink}).map(e=>({title:ip(e),value:e.id}));Es(n,uo.Executor)}return YC(gh,{active:t},void 0,n?YC(Ch,{},void 0,YC(Oh,{options:o,defaultSelectText:xe,label:Rr,onChange:e=>{var t=n.id;let r=Es(n,uo.Executor)||wi();r=xi(r,{id:e}),this.props.graphOperation(du,{id:t,prop:uo.Executor,value:r}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ExecutorModelLink,...ja(vo.Remove,{function:"OnRemoveExecutorPropConnection"})}})},value:n.properties?n.properties[ss.ExecutorModel]:""})):null)}});function XC(e,t,r,n){zC||(zC="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:zC,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var KC,QC=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Configuration),r=Fl(e,_s(e,ep));return XC(gh,{active:t},void 0,XC(Uh,{label:S,value:Es(r,ss.UseHttps),onChange:e=>{this.props.graphOperation(du,{prop:ss.UseHttps,id:r.id,value:e})}}),Object.keys(po).map(e=>XC(Th,{label:e,value:Es(r,e),onChange:t=>{this.props.graphOperation(du,{prop:e,id:r.id,value:t})}},e)))}});function ZC(e,t,r,n){KC||(KC="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:KC,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var eE;Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Condition),r=Fl(e,_s(e,ep)),n=Es(r,ss.ConditionType),o=Up(e),i=r?ba(e,{id:r.id,links:[{type:_o.Condition,direction:Ma},{type:_o.FunctionOperator,direction:Ma}]}):[];let a=[],s=[];Es(r,uo.MatchReference);var l=[],p=i.map(e=>Es(e,uo.FunctionType)).filter(e=>e);if(fi[n]&&fi[n].functions&&p&&1===p.length){let{constraints:t}=fi[n].functions[p[0]];if(t){let n=Es(i[0],uo.MethodProps);if(l=Object.keys(t).filter(e=>-1!==t[e].nodeTypes.indexOf(Bn.Model)).map(e=>n&&n[e]?{title:`${Es(Yi(o,n[e]),uo.UIText)||e}(${e})`,value:e}:{title:e,value:e}),n){var u=Es(r,uo.MatchReference)||{};u.ref2&&(a=this.getProperties(n,u,e,"ref2")),u.ref1&&(s=this.getProperties(n,u,e,"ref1"))}}}return ZC(gh,{active:t},void 0,ZC(Th,{label:G,value:Es(r,uo.UIText),onChange:e=>{this.props.graphOperation(su,{id:r.id,value:e})}}),ZC(Oh,{label:K,options:Object.keys(ui).map(e=>({title:e,value:ui[e]})),onChange:e=>{this.props.graphOperation(du,{prop:ss.ConditionType,id:r.id,value:e})},value:n}),this.getMatchManyReferenceProperty({conditionType:n,model_options:l,currentNode:r,methods:i}),this.getEnumeration({conditionType:n,graph:o,model_options:l,currentNode:r,methods:i}),this.getMatchReferenceProperty({conditionType:n,model_options:l,currentNode:r,methods:i,graph:o}))}getProperties(e,t,r,n="ref2"){let o=e[t[n]],i=[],a=Il(o),s=Is(o);a&&(i=a.toNodeSelect());let l=Ll(s.id);return i=[...i,...l.toNodeSelect()]}getEnumeration(e){var{conditionType:t,model_options:r,graph:n,currentNode:o,methods:i}=e,{state:a}=this.props,s=Es(o,uo.EnumerationReference)||{};if(t!==ui.InEnumerable)return[];let l=Es(i?i[0]:null,uo.MethodProps);var p=[],u=ba(a,{id:o.id,links:[{type:_o.Condition,direction:Ma}]})[0];(s=Es(o,uo.EnumerationReference)||{ref1:GetNodeProp(u,ss.PermissionRequester)}).ref2&&this.getProperties(l,s,a,"ref2"),s.ref1&&(p=this.getProperties(l,s,a,"ref1")),s[di.RefManyToMany]&&this.getProperties(l,s,a,"refManyToMany");var d=s&&s[ss.Enumeration]?s[ss.Enumeration]:"",c=s&&s[ss.AllowedEnumValues]?s[ss.AllowedEnumValues]:[],f=[];if(d){var m=Yi(n,d);if(m){var h=Es(m,uo.Enumeration)||[];c=c.intersection(h),f=h.relativeCompliment(c)}}let y={...s};var v=mp(a,is.Enumeration).toNodeSelect();return[ZC(Oh,{label:ee,options:r,onChange:e=>{s.ref1=e,this.props.graphOperation(du,{prop:ss.EnumerationReference,id:o.id,value:s})},value:y.ref1}),ZC(Oh,{label:Rr,options:p,onChange:e=>{s.ref1Property=e,this.props.graphOperation(du,{prop:ss.EnumerationReference,id:o.id,value:s})},value:y.ref1Property}),o?ZC(Oh,{label:Xe,options:v,onChange:e=>{var t=o.id;let r=s[ss.Enumeration]||"";s[ss.Enumeration]=e,this.props.graphOperation(_u,{target:r,source:t,linkType:ls.EnumerationReferenceLink.type}),this.props.graphOperation(du,{prop:ss.EnumerationReference,id:t,value:s}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.EnumerationReferenceLink}})},value:s[ss.Enumeration]||""},`${o.id}-enum`):null,ZC(_h,{title:Ue},`${o.id}-allowed-enum-title`),c&&c.length?c.map(e=>ZC("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{var t=h.relativeCompliment([...c].filter(t=>t!==e));s[ss.AllowedEnumValues]=[...c].filter(t=>t!==e),s[ss.DisallowedEnumValues]=t,this.props.graphOperation(du,{prop:ss.EnumerationReference,id:o.id,value:s})}},`allowed-${e}`," ",e)):null,ZC(_h,{title:je},`${o.id}-disalloweditem-title`),f&&f.length?f.map(e=>ZC("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{var t=h.relativeCompliment([...c,e].unique());s[ss.AllowedEnumValues]=[...c,e].unique(),s[ss.DisallowedEnumValues]=t,this.props.graphOperation(du,{prop:ss.EnumerationReference,id:o.id,value:s})}},`disallowed-${e}`," ",e)):null]}getMatchManyReferenceProperty(e){var{conditionType:t,model_options:r,currentNode:n,methods:o}=e,{state:i}=this.props,a=Es(n,uo.MatchManyReferenceParameter)||{};let s=Es(o?o[0]:null,uo.MethodProps);var l=[],p=[],u=[];(a=Es(n,uo.MatchManyReferenceParameter)||{}).ref2&&(p=this.getProperties(s,a,i,"ref2")),a.ref1&&(l=this.getProperties(s,a,i,"ref1")),a[di.RefManyToMany]&&(u=this.getProperties(s,a,i,"refManyToMany"));let d={...a};return[t==ui.MatchManyReferenceParameter?ZC(Oh,{label:ee,options:r,onChange:e=>{a.ref1=e,this.props.graphOperation(du,{prop:ss.MatchManyReferenceParameter,id:n.id,value:a})},value:d.ref1}):null,d.ref1&&t==ui.MatchManyReferenceParameter?ZC(Uh,{label:$r,value:d.ref1UseId,onChange:e=>{a.ref1UseId=e,this.props.graphOperation(du,{prop:ss.MatchManyReferenceParameter,id:n.id,value:a})}}):null,d.ref1&&!a.ref1UseId&&t==ui.MatchManyReferenceParameter?ZC(Oh,{label:Rr,options:l,onChange:e=>{a.ref1Property=e,this.props.graphOperation(du,{prop:ss.MatchManyReferenceParameter,id:n.id,value:a})},value:d.ref1Property}):null,t==ui.MatchManyReferenceParameter?ZC(Oh,{label:ee,options:r,onChange:e=>{a.ref2=e,this.props.graphOperation(du,{prop:ss.MatchManyReferenceParameter,id:n.id,value:a})},value:d.ref2}):null,d.ref2&&t==ui.MatchManyReferenceParameter?ZC(Uh,{label:$r,value:d.ref2UseId,onChange:e=>{a.ref2UseId=e,this.props.graphOperation(du,{prop:ss.MatchManyReferenceParameter,id:n.id,value:a})}}):null,d.ref2&&!a.ref2UseId&&t==ui.MatchManyReferenceParameter?ZC(Oh,{label:Rr,options:p,onChange:e=>{a.ref2Property=e,this.props.graphOperation(du,{prop:ss.MatchManyReferenceParameter,id:n.id,value:a})},value:d.ref2Property}):null,d.ref1&&d.ref2&&t==ui.MatchManyReferenceParameter?ZC(Oh,{label:bn,options:r,onChange:e=>{a[di.RefManyToMany]=e,this.props.graphOperation(du,{prop:ss.MatchManyReferenceParameter,id:n.id,value:a})},value:d[di.RefManyToMany]}):null,d.ref2&&t==ui.MatchManyReferenceParameter?ZC(Uh,{label:Cn,value:d.refManyToManyExists,onChange:e=>{a.refManyToManyExists=e,this.props.graphOperation(du,{prop:ss.MatchManyReferenceParameter,id:n.id,value:a})}}):null,d.ref1&&d.ref2&&t==ui.MatchManyReferenceParameter?ZC(Oh,{label:Rr,options:u,onChange:e=>{a.refManyToManyProperty=e,this.props.graphOperation(du,{prop:ss.MatchManyReferenceParameter,id:n.id,value:a})},value:d.refManyToManyProperty}):null,d.refManyToManyProperty&&d.ref1&&d.ref2&&t==ui.MatchManyReferenceParameter?ZC(Oh,{title:Ur,label:Ur,options:[...Object.keys(ci)].map(e=>({title:e,value:e})),value:d.refManyToManyCondition,onChange:e=>{a.refManyToManyCondition=e,this.props.graphOperation(du,{prop:ss.MatchManyReferenceParameter,id:n.id,value:a})}}):null].filter(e=>e).map((e,t)=>e)}getMatchReferenceProperty(e){var{conditionType:t,model_options:r,currentNode:n,methods:o}=e;if(t!==ui.MatchReference)return null;var{state:i}=this.props,a=Es(n,uo.MatchReference)||{};let s=Es(o?o[0]:null,uo.MethodProps);var l=[],p=[],u=ss.MatchReference;a.ref2&&(p=this.getProperties(s,a,i,"ref2")),a.ref1&&(l=this.getProperties(s,a,i,"ref1")),a[di.RefManyToMany]&&this.getProperties(s,a,i,"refManyToMany");let d={...a};return[ZC(Oh,{label:ee,options:r,onChange:e=>{var t=Es(n,uo.MatchReference)||{};t.ref1=e,this.props.graphOperation(du,{prop:u,id:n.id,value:t})},value:d.ref1}),d.ref1?ZC(Uh,{label:$r,value:d.ref1UseId,onChange:e=>{var t=Es(n,uo.MatchReference)||{};t.ref1UseId=e,this.props.graphOperation(du,{prop:u,id:n.id,value:t})}}):null,d.ref1&&!a.ref1UseId?ZC(Oh,{label:Rr,options:l,onChange:e=>{var t=Es(n,uo.MatchReference)||{};t[di.Ref1Property]=e,this.props.graphOperation(du,{prop:u,id:n.id,value:t})},value:d.ref1Property}):null,ZC(Oh,{label:ee,options:r,onChange:e=>{var t=Es(n,uo.MatchReference)||{};t.ref2=e,this.props.graphOperation(du,{prop:u,id:n.id,value:t})},value:d.ref2}),d.ref2?ZC(Uh,{label:$r,value:d.ref2UseId,onChange:e=>{var t=Es(n,uo.MatchReference)||{};t.ref2UseId=e,this.props.graphOperation(du,{prop:u,id:n.id,value:t})}}):null,d.ref2&&!a.ref2UseId?ZC(Oh,{label:Rr,options:p,onChange:e=>{var t=Es(n,uo.MatchReference)||{};t.ref2Property=e,this.props.graphOperation(du,{prop:u,id:n.id,value:t})},value:d.ref2Property}):null].filter(e=>e)}});function tE(e,t,r,n){eE||(eE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:eE,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var rE,nE=Um(class extends l.Component{mustBeModel(e){for(var{state:t}=this.props,r=ua(Up(t),e.id,Ma),n=0;n<r.length;n++){var o=Rl(r[n],bo.CONSTRAINTS);if(o&&o[Uo.IsModel])return!0}return!1}mustBeProperty(e){for(var{state:t}=this.props,r=ua(Up(t),e.id,Ma),n=0;n<r.length;n++){var o=Rl(r[n],bo.CONSTRAINTS);if(o&&o[Uo.IsProperty])return!0}return!1}mustBeFunction(e){for(var{state:t}=this.props,r=ua(Up(t),e.id,Ma),n=0;n<r.length;n++){var o=Rl(r[n],bo.CONSTRAINTS);if(o&&o[Uo.IsFunction])return!0}return!1}render(){var e,t,{state:r}=this.props,n=gs(r,is.Parameter),o=Fl(r,_s(r,ep)),i=[],a=[];return o&&n&&(e=Up(r),t={id:o.id},i=Oa(e,{...t||{},direction:Ma}),this.mustBeModel(o)?a=mp(r,is.Model).map(e=>({value:e.id,title:ip(e)})):this.mustBeProperty(o)?a=mp(r,is.Property).map(e=>({value:e.id,title:ip(e)})):this.mustBeFunction(o)&&(a=mp(r,is.Function).map(e=>({value:e.id,title:ip(e)})))),tE(gh,{active:n},void 0,o&&0===i.length?tE(Oh,{label:St,options:Object.keys(us).sort((e,t)=>e.localeCompare(t)).map(e=>({value:us[e],title:e})),onChange:e=>{o.id,this.props.graphOperation(du,{prop:ss.CodePropertyType,id:o.id,value:e})},value:o.properties?o.properties[ss.CodePropertyType]:""}):null,o?tE(Oh,{label:Ft,options:a,onChange:e=>{var t=o.id;this.props.graphOperation(_u,{target:o.properties[ss.UIChoiceNode],source:t}),this.props.graphOperation(du,{prop:ss.UIChoiceNode,id:t,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ChoiceLink}})},value:o.properties?o.properties[ss.UIChoiceNode]:""}):null)}});function oE(e,t,r,n){rE||(rE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:rE,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var iE,aE=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.OptionListItem),r=Fl(e,_s(e,ep)),n=r&&r.properties&&r.properties[ss.UseCustomUIOption],o=mp(e,is.OptionCustom).map(e=>({value:e.id,title:ip(e)}));return oE(gh,{active:t},void 0,r?oE(Ch,{},void 0,oE(Uh,{label:ar,value:r.properties?r.properties[ss.UseCustomUIOption]:"",onChange:e=>{this.props.graphOperation(du,{prop:ss.UseCustomUIOption,id:r.id,value:e})}}),oE(Oh,n?{options:o,label:ir,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.UIOptionTypeCustom],source:t}),this.props.graphOperation(du,{prop:ss.UIOptionTypeCustom,id:r.id,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.OptionCustomLink}})},value:r.properties?r.properties[ss.UIOptionTypeCustom]:""}:{options:Object.keys(cs).sort((e,t)=>e.localeCompare(t)).map(e=>({value:cs[e],title:e})),label:ir,onChange:e=>{this.props.graphOperation(du,{prop:ss.UIOptionType,id:r.id,value:e})},value:r.properties?r.properties[ss.UIOptionType]:""}),n?oE(yh,{},void 0,oE(vh,{onClick:()=>{this.props.graphOperation(Au,{})},icon:"fa fa-puzzle-piece",title:lr,description:pr})):null):null)}});function sE(e,t,r,n){iE||(iE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:iE,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var lE=sE("div",{}),pE=sE("div",{});var uE,dE=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,this.props.nodeType||is.Executor);if(!t)return lE;var r,n=Up(e),o=Fl(e,_s(e,ep));t&&o&&Es(o,this.props.modelKey||ss.ExecutorModel)&&(r=Es(o,this.props.nodeProp||uo.Executor));let i=this.props.ui||xo,a=pE;return r&&r.properties&&(a=Object.keys(r.properties).map(t=>{let a=r.properties[t],s=`ExecutorPropertyActivityMenu${t}-${o.id}`,l=Object.keys(a&&a.validators?a.validators:{}).map(r=>{let n=`${`${s}-selected-validation`}-inne-${r}-r`;return sE(Xh,{title:a.validators&&a.validators[r]&&a.validators[r].type?a.validators[r].type:r,open:_s(e,n),active:_s(e,n),toggle:()=>{this.props.toggleVisual(n)},icon:"fa fa-tag"},`${r}-v-v`,sE(Xh,{hideArrow:!0,title:k,icon:"fa fa-minus",onClick:()=>{let e=o.id,n=Es(o,this.props.nodeProp||uo.Executor)||{properties:{}};delete n.properties[t].validators[r],this.props.graphOperation(du,{id:e,prop:this.props.nodeProp||uo.Executor,value:n})}}),sE(nv,{node:o.id,property:t,validator:r}))}),p=Object.keys(i).filter(e=>!a||!a.validators||!a.validators[e]).reverse().map(e=>sE(Xh,{hideArrow:!0,title:e,icon:"fa fa-plus-square-o",onClick:()=>{let r=o.id;var n=Es(o,this.props.nodeProp||uo.Executor)||{properties:{}};n=xi(n,{id:t,validator:_(),validatorArgs:{type:e,...i[e]}}),this.props.graphOperation(du,{id:r,prop:this.props.nodeProp||uo.Executor,value:n})}},`${e}-afjlskf-asfd`));return sE(Xh,{open:_s(e,s),active:_s(e,s),title:ip(Yi(n,t)),toggle:()=>{this.props.toggleVisual(s)}},s,sE(Xh,{hideArrow:!0,title:b,icon:"fa fa-minus",onClick:()=>{let e=o.id;this.props.graphOperation(_u,{target:t,source:e})}}),sE(Xh,{title:Pe,icon:"fa  fa-list-ul",open:_s(e,`${s}-selected-executions`),active:_s(e,`${s}-selected-executions`),toggle:()=>{this.props.toggleVisual(`${s}-selected-executions`)}},void 0,l),sE(Xh,{title:E,icon:"fa fa-plus-circle",open:_s(e,`${s}-selectexecution`),active:_s(e,`${s}-selectexecution`),toggle:()=>{this.props.toggleVisual(`${s}-selectexecution`)}},void 0,p))}),a=sE("div",{style:{position:"relative"}},void 0,sE(mh,{},void 0,sE(Hh,{},void 0,sE(Kh,{},void 0,a))))),a}});function cE(e,t,r,n){uE||(uE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:uE,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var fE,mE=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Executor),r=Fl(e,_s(e,ep)),n=mp(e,is.Model).map(e=>({title:ip(e),value:e.id})),o=mp(e,[is.Function,is.Method]).map(e=>({title:ip(e),value:e.id})),i=mp(e,is.Model).filter(e=>Es(e,uo.IsAgent)).map(e=>({title:ip(e),value:e.id}));return cE(gh,{active:t},void 0,r?cE(Ch,{},void 0,cE(Oh,{options:Object.keys(Eo).map(e=>({title:e,value:e})),label:Fe,onChange:e=>{this.props.graphOperation(du,{prop:ss.ExecutorFunctionType,id:r.id,value:e})},value:r.properties?r.properties[ss.ExecutorFunctionType]:""}),cE(Oh,{options:n,label:B,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.ExecutorModel],source:t}),this.props.graphOperation(du,{prop:ss.ExecutorModel,id:r.id,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ExecutorModelLink}})},value:r.properties?r.properties[ss.ExecutorModel]:""}),cE(Oh,{options:n,label:q,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.ExecutorModelOutput],source:t}),this.props.graphOperation(du,{prop:ss.ExecutorModelOutput,id:r.id,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ExecutorModelLink}})},value:Es(r,ss.ExecutorModelOutput)}),cE(Oh,{options:i,label:Ie,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.ExecutorAgent],source:t}),this.props.graphOperation(du,{prop:ss.ExecutorAgent,id:r.id,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ExecutorAgentLink}})},value:r.properties?r.properties[ss.ExecutorAgent]:""}),cE(Oh,{options:o,label:Yr,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.ExecutorFunction],source:t}),this.props.graphOperation(du,{prop:ss.ExecutorFunction,id:r.id,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ExecutorFunctionLink}})},value:r.properties?r.properties[ss.ExecutorFunction]:""})):null)}});function hE(e,t,r,n){fE||(fE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:fE,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var yE,vE=Um(class extends l.Component{render(){var e,{state:t}=this.props,r=gs(t,is.Validator),n=Up(t),o=Fl(t,_s(t,ep));if(o&&Es(o,ss.ValidatorModel)){var i=Ea(n,{id:Es(o,ss.ValidatorModel),direction:Na,type:_o.PropertyLink}).map(e=>({title:ip(e),value:e.id}));e=Es(o,uo.Validator)}let a=[];return e&&e.properties&&(a=Object.keys(e.properties).map(e=>{let r=`ValidatorPropertyMenu${e}-${o.id}`;return hE(Xh,{open:_s(t,r),active:_s(t,r),title:ip(Yi(n,e)),toggle:()=>{this.props.toggleVisual(r)}},r)}),a=hE("div",{style:{position:"relative"}},void 0,hE(mh,{},void 0,hE(Hh,{},void 0,hE(Kh,{},void 0,a))))),hE(gh,{active:r},void 0,o?hE(Ch,{},void 0,hE(Oh,{options:i,defaultSelectText:xe,label:Rr,onChange:e=>{var t=o.id,r=Es(o,uo.Validator)||{properties:{}};r=xi(r,{id:e}),this.props.graphOperation(du,{id:t,prop:uo.Validator,value:r}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ValidatorModelLink,...ja(vo.Remove,{function:"OnRemoveValidationPropConnection"})}})},value:o.properties?o.properties[ss.ValidatorModel]:""})):null)}});function _E(e,t,r,n){yE||(yE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:yE,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var gE=_E("div",{},void 0,"reference"),bE=_E("div",{},void 0,"item"),CE=_E("div",{});var EE,OE=Um(class extends l.Component{render(){var e,{state:t}=this.props,r=(gs(t,is.Validator),Up(t)),n=Fl(t,_s(t,ep));if(n&&Es(n,ss.ValidatorModel)&&(e=(i=Es(n,uo.Validator)).properties[this.props.property].validators[this.props.validator]),e){if(e.arguments&&e.arguments.reference){var{types:o}=e.arguments.reference;if(o){let l=mp(t,o).filter(e=>Es(e,uo.NODEType)!==Bn.ExtensionType||La(e));var i;let p=Ri(i=Es(n,uo.Validator)||{properties:{}},{property:this.props.property,validator:this.props.validator}),u=[];if(p&&p.node){let e=Yi(r,p.node);switch(Es(e,uo.NODEType)){case Bn.Enumeration:u=(Es(e,uo.Enumeration)||[]).map(e=>_E("div",{className:`external-event ${p.enumeration&&p.enumeration[e.id]?"bg-red":"bg-black"}`,style:{cursor:"pointer"},onClick:()=>{p.enumeration=p.enumeration||{},p.enumeration[e.id]=!p.enumeration[e.id],this.props.graphOperation(du,{id:n.id,prop:uo.Validator,value:i})}},void 0," ",e.value));break;case Bn.ExtensionType:var a=$a(e),s=wa(e);u=a.map(e=>_E("div",{className:`external-event ${p.extension&&p.extension[e[s]]?"bg-red":"bg-black"}`,style:{cursor:"pointer"},onClick:()=>{p.extension=p.extension||{},p.extension[e[s]]=!p.extension[e[s]],this.props.graphOperation(du,{id:n.id,prop:uo.Validator,value:i})}},void 0," ",e[s]))}}return _E(Ch,{},void 0,_E(Oh,{options:l.map(e=>({title:ip(e),value:e.id})),defaultSelectText:F,label:Rr,onChange:e=>{var t=n.id,r=Es(n,uo.Validator)||{properties:{}};let o=Ri(r,{property:this.props.property,validator:this.props.validator}),i=o.node;o.node=e,i&&this.props.graphOperation(_u,{target:i,source:t}),this.props.graphOperation(du,{id:t,prop:uo.Validator,value:r}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ValidatorModelItemLink,...ja(vo.Remove,{property:this.props.property,validator:this.props.validator,function:"OnRemoveValidationItemPropConnection",node:o.node})}})},value:e?e.node:""}),u)}return gE}return bE}return CE}});function kE(e,t,r,n){EE||(EE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:EE,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var NE=kE("div",{});var ME,TE=Um(class extends l.Component{render(){var e,{state:t}=this.props,r=gs(t,is.Validator),n=Up(t),o=Fl(t,_s(t,ep));r&&o&&Es(o,ss.ValidatorModel)&&(e=Es(o,uo.Validator));let i=NE;return e&&e.properties&&(i=Object.keys(e.properties).map(r=>{let i=e.properties[r],a=`ValidatorPropertyActivityMenu${r}-${o.id}`,s=Object.keys(i&&i.validators?i.validators:{}).map(e=>{let n=`${`${a}-selected-validation`}-inne-${e}-r`;return kE(Xh,{title:i.validators&&i.validators[e]&&i.validators[e].type?i.validators[e].type:e,open:_s(t,n),active:_s(t,n),toggle:()=>{this.props.toggleVisual(n)},icon:"fa fa-tag"},`${e}-v-v`,kE(Xh,{hideArrow:!0,title:k,icon:"fa fa-minus",onClick:()=>{let t=o.id,n=Es(o,uo.Validator)||{properties:{}};delete n.properties[r].validators[e],this.props.graphOperation(du,{id:t,prop:uo.Validator,value:n})}}),kE(OE,{node:o.id,property:r,validator:e}))}),l=Object.keys(Do).filter(e=>!i||!i.validators||!i.validators[e]).reverse().map(e=>kE(Xh,{hideArrow:!0,title:e,icon:"fa fa-plus-square-o",onClick:()=>{let t=o.id;var n=Es(o,uo.Validator)||{properties:{}};n=xi(n,{id:r,validator:(void 0)(),validatorArgs:{type:e,...Do[e]}}),this.props.graphOperation(du,{id:t,prop:uo.Validator,value:n})}},`${e}-afjlskf-asfd`));return kE(Xh,{open:_s(t,a),active:_s(t,a),title:ip(Yi(n,r)),toggle:()=>{this.props.toggleVisual(a)}},a,kE(Xh,{hideArrow:!0,title:g,icon:"fa fa-minus",onClick:()=>{let e=o.id;this.props.graphOperation(_u,{target:r,source:e})}}),kE(Xh,{title:O,icon:"fa  fa-list-ul",open:_s(t,`${a}-selected-validations`),active:_s(t,`${a}-selected-validations`),toggle:()=>{this.props.toggleVisual(`${a}-selected-validations`)}},void 0,s),kE(Xh,{title:C,icon:"fa fa-plus-circle",open:_s(t,`${a}-selectvalidation`),active:_s(t,`${a}-selectvalidation`),toggle:()=>{this.props.toggleVisual(`${a}-selectvalidation`)}},void 0,l))}),i=kE("div",{style:{position:"relative"}},void 0,kE(mh,{},void 0,kE(Hh,{},void 0,kE(Kh,{},void 0,i))))),i}});function SE(e,t,r,n){ME||(ME="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ME,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var PE,AE=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.ExtensionTypeList),r=Fl(e,_s(e,ep)),n=mp(e,is.ExtensionType).map(e=>({value:e.id,title:ip(e)}));return SE(gh,{active:t},void 0,r?SE(Ch,{},void 0,SE(Oh,{options:n,label:Mr,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.UIExtension],source:t}),this.props.graphOperation(du,{prop:ss.UIExtension,id:r.id,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ExtensionLink}})},value:r.properties?r.properties[ss.UIExtension]:""})):null,SE(_h,{title:kr}),SE(yh,{},void 0,SE(vh,{onClick:()=>{this.props.graphOperation(ju,{})},icon:"fa fa-puzzle-piece",title:Nr,description:Tr})))}});function IE(e,t,r,n){PE||(PE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:PE,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var LE,$E=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Permission),r=Fl(e,_s(e,ep)),n=(Es(r,ss.IsAgent),r?{...Eo,...r.properties[ss.UIPermissions]||{}}:null),o=(mp(e,is.Model).map(e=>({value:e.id,title:ip(e)})),Up(e)),i=o&&r&&r.properties?r.properties[ss.PermissionTarget]:"",a=o&&r&&r.properties?r.properties[ss.PermissionRequester]:"",s=null;i&&(s=Ea(o,{id:i,direction:Na,type:_o.PropertyLink}))&&(s=s.map(e=>({value:e.id,title:ip(e)}))),a&&Ea(o,{id:a,direction:Na,type:_o.PropertyLink}).map(e=>({value:e.id,title:ip(e)}));let l=jl(Es(r?ya(e,{id:r.id,links:[{direction:Ma,type:_o.FunctionOperator}]}):null,uo.MethodProps));return IE(gh,{active:t},void 0,IE(_h,{title:xt}),r?IE(Uh,{title:jt,label:Pt,value:r.properties[ss.IsOwned],onChange:e=>{this.props.graphOperation(du,{prop:ss.IsOwned,id:r.id,value:e})}}):null,IE(_h,{title:Rt}),n?IE(Ch,{},void 0,Object.keys(n).map(e=>IE(Uh,{label:Gt[e],value:n[e],onChange:t=>{n[e]=t,this.props.graphOperation(du,{prop:ss.UIPermissions,id:r.id,value:{...n}})}},`permissions-${e}`))):null,l&&l.length?IE(Oh,{options:l,label:Dt,onChange:e=>{this.props.graphOperation(du,{prop:ss.PermissionValueType,id:r.id,value:e})},value:Es(r,ss.PermissionValueType)}):null,IE("button",{type:"submit",className:"btn btn-primary",onClick:()=>{this.props.graphOperation(yu,{parent:_s(e,ep),groupProperties:{},linkProperties:{properties:{...Co.ConditionLink}}})}},void 0,A))}});function wE(e,t,r,n){LE||(LE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:LE,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var xE,jE=Um(class extends l.Component{render(){var{state:e}=this.props,t=!!(Vl(e,pu)||[]).length,r=(mp(e,Bn.Model,{useRoot:!0})||[]).map(e=>({title:ip(e),value:e.id}));return wE(gh,{active:t},void 0,wE(Ch,{},void 0,wE(Oh,{label:st,options:r,onChange:t=>{var r=hp(e,t);this.props.graphOperation([{operation:Fu,options:{node:r,rootNode:Vp(e)}}])},value:""})))}});function RE(e,t,r,n){xE||(xE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:xE,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var DE=RE("div",{}),GE=RE("span",{className:"hamburger hamburger-1"}),FE=RE("span",{className:"hamburger hamburger-2"}),UE=RE("span",{className:"hamburger hamburger-3"});class VE extends l.Component{constructor(e){super(e),this.state={id:Jl()}}icon(){return this.props.icon||"fa fa-gears"}menuItems(){var e=[],{menuItems:t}=this.props;return t&&t.map((t,r)=>{t.onClick&&t.icon&&e.push(RE("a",{title:t.title,className:"menu-item",onClick:t.onClick,style:{pointerEvents:"all"}},`goo-menu-${this.state.id}-icon-index-${r}`," ",RE("i",{className:t.icon})," "))}),e}render(){if(!this.props.visible)return DE;var e=this.menuItems();return RE("div",{className:"goo-menu container",style:{position:"fixed",transition:"all 200ms",top:this.props.top||0,left:this.props.left||0}},void 0,RE("nav",{className:"menu",style:{pointerEvents:"none"}},void 0,RE("input",{type:"checkbox",onChange:()=>{this.props.onToggle&&this.props.onToggle()},checked:this.props.open,style:{pointerEvents:"all"},href:"#",className:"menu-open",id:`${this.state.id}`}),RE("label",{className:"menu-open-button",htmlFor:`${this.state.id}`,style:{pointerEvents:"all"}},void 0,GE,FE,UE),e))}}var BE,HE=RE("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1"},void 0,RE("defs",{},void 0,RE("filter",{id:"shadowed-goo"},void 0,RE("feGaussianBlur",{in:"SourceGraphic",result:"blur",stdDeviation:"10"}),RE("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7",result:"goo"}),RE("feGaussianBlur",{in:"goo",stdDeviation:"3",result:"shadow"}),RE("feColorMatrix",{in:"shadow",mode:"matrix",values:"0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 -0.2",result:"shadow"}),RE("feOffset",{in:"shadow",dx:"1",dy:"1",result:"shadow"}),RE("feComposite",{in2:"shadow",in:"goo",result:"goo"}),RE("feComposite",{in2:"goo",in:"SourceGraphic",result:"mix"})),RE("filter",{id:"goo"},void 0,RE("feGaussianBlur",{in:"SourceGraphic",result:"blur",stdDeviation:"10"}),RE("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7",result:"goo"}),RE("feComposite",{in2:"goo",in:"SourceGraphic",result:"mix"}))));class qE extends l.Component{render(){return RE("div",{style:{display:"none"}},void 0,HE)}}function WE(e,t,r,n){BE||(BE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:BE,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var YE,zE=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.ChoiceList),r=Es(Fl(e,_s(e,ep)),ss.UIExtensionDefinition);return WE(gh,{active:t},void 0,WE("ul",{},void 0,r?Object.keys(r.definition).map((e,t)=>WE("li",{},`clist${e}-${t}`,e)):null))}});function JE(e,t,r,n){YE||(YE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:YE,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var XE,KE=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.ModelFilter),r=Fl(e,_s(e,ep));mp(e,Bn.Model).map(e=>({title:ip(e),value:e.id}));var n=Up(e);let o=[];return r&&(o=(Ea(n,{id:Es(r,uo.FilterModel),direction:Na,type:_o.PropertyLink})||[]).map(e=>JE(Uh,{label:ip(e),value:Es(r,ss.FilterPropreties)?Es(r,ss.FilterPropreties)[e.id]:"",onChange:t=>{let n=Es(r,ss.FilterPropreties)||{};n[e.id]=t,this.props.graphOperation(du,{prop:ss.FilterPropreties,id:r.id,value:n})}},`checkbox-${e.id}`))),JE(gh,{active:t},void 0,r?JE(Ch,{},void 0,o):null)}});function QE(e,t,r,n){XE||(XE="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:XE,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var ZE=QE("div",{});var eO,tO,rO,nO,oO,iO,aO,sO=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.DataChain),r=Fl(e,_s(e,ep));return t?QE(mh,{active:t,relative:!0},void 0,QE(Hh,{style:{paddingTop:0}},void 0,QE(Kh,{},void 0,QE(Xh,{active:!0,hideArrow:!0,title:Gr,icon:"fa fa-share-alt",onClick:()=>{r.id,this.props.graphOperation(vu,{parent:_s(e,ep),nodeType:Bn.DataChain,groupProperties:{[ro.ExternalEntryNode]:Es(r,uo.ChainParent),[ro.GroupEntryNode]:r.id,[ro.GroupExitNode]:r.id,[ro.ExternalExitNode]:el(r.id)},properties:{[uo.ChainParent]:r.id},linkProperties:{properties:{...Co.DataChainLink}}})}}),Es(r,uo.GroupParent)?QE(Xh,{active:!0,hideArrow:!0,title:Fr,icon:"fa fa-code-fork ",onClick:()=>{let e=Es(r,uo.GroupParent)?{id:ol(Es(r,uo.GroupParent)).id}:null;e&&this.props.graphOperation(vu,{nodeType:Bn.DataChain,properties:{[uo.MergeChain]:!0},groupProperties:e,linkProperties:{properties:{...Co.DataChainLink}}})}}):null,Es(r,uo.GroupParent)?QE(Xh,{active:!0,hideArrow:!0,title:Pr,icon:"fa fa-compress",onClick:()=>{let e=Es(r,uo.GroupParent)?{id:ol(Es(r,uo.GroupParent)).id}:null;if(e){let t=Os(e.id,ro.GroupExitNode),n=Os(e.id,ro.ExternalExitNode);n&&this.props.graphOperation([{operation:_u,options:{target:n,source:t}},{operation:hu,options:{target:n,source:r.id}},{operation:du,options:{id:n,prop:uo.ChainParent,value:n}},{operation:Iu,options:{id:e.id,prop:ro.GroupExitNode,value:r.id}}])}}}):null,r&&al(r.id)?QE(Xh,{active:!0,hideArrow:!0,title:Dr,icon:"fa fa-plus",onClick:()=>{let e=Es(r,uo.GroupParent)?{id:ol(Es(r,uo.GroupParent)).id}:null;this.props.graphOperation(vu,{parent:r.id,nodeType:Bn.DataChain,groupProperties:e,properties:{[uo.ChainParent]:r.id},linkProperties:{properties:{...Co.DataChainLink}}})}}):null))):ZE}});function lO(e,t,r,n){eO||(eO="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:eO,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class pO extends l.Component{min(){return this.props.min||"1"}max(){return this.props.max||"100"}value(){return this.props.value||""}render(){return lO("div",{className:"slidecontainer"},void 0,lO("input",{type:"range",min:this.min(),onChange:e=>{this.props.onChange&&!isNaN(e.target.value)&&this.props.onChange(parseFloat(e.target.value))},max:this.max(),value:this.value(),className:"slider"}))}}function uO(){return(uO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function dO(e,t,r,n){tO||(tO="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:tO,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class cO extends l.Component{menuType(){return"messages-menu"}open(){return this.props.open?"open":""}ariaExpanded(){return this.props.open?"true":"false"}icon(){return this.props.icon||"fa fa-envelope-o"}label(){return null}usermode(){return this.props.usermode}usermenu(){return this.props.usermode?"user user-menu":""}userbody(){return this.props.usermode?"user user-body":""}userheader(){return this.props.usermode,"header"}render(){var e={};return this.props.width&&(e.style={width:this.props.width}),dO("li",{className:`dropdown ${this.usermenu()} ${this.menuType()} ${this.open()}`},void 0,dO("a",{className:"dropdown-toggle","data-toggle":"dropdown","aria-expanded":this.ariaExpanded(),onClick:()=>{this.props.onClick&&this.props.onClick()}},void 0,dO("i",{className:this.icon()}),this.label()),p.a.createElement("ul",uO({className:"dropdown-menu"},e),this.props.headerText?dO("li",{className:this.userheader()},void 0,this.props.headerText):null,this.props.header?dO("li",{className:this.userheader()},void 0,this.props.header):null,this.usermode()?dO("li",{className:this.userbody()},void 0,dO("div",{className:"row"},void 0,this.props.children)):dO("li",{className:this.userbody()},void 0,dO("ul",{className:"menu"},void 0,this.props.children)),this.props.footer?this.props.footer:null))}}class fO extends l.Component{active(){return this.props.active?"active":""}render(){return function(e,t,r,n){rO||(rO="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:rO,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:"tab-content"},void 0,this.props.children)}}class mO extends l.Component{active(){return this.props.active?"active":""}title(){return this.props.title||this.props.children||"{title}"}render(){return function(e,t,r,n){nO||(nO="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:nO,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("li",{className:"user-footer"},void 0,this.props.children)}}class hO extends l.Component{render(){return function(e,t,r,n){oO||(oO="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:oO,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:"nav-tabs-custom"},void 0,this.props.children)}}function yO(e,t,r,n){iO||(iO="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:iO,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class vO extends l.Component{render(){var e=this,t=e.props.dataFunc||(e=>e||""),r=(e.props.data||[]).map((r,n)=>yO("tr",{},`${n}-row`,(e.props.columns||[]).map((e,o)=>yO("td",{},`${o}-${n}-cell`,t(r[e.value],e.value,n))),(e.props.columnButtons||[]).map((e,t)=>yO("td",{},`${t}-${n}-cell-btn`,e(r,n))))),n=(e.props.columns||[]).map((e,t)=>yO("th",{},`col-${t}`,e.title));(e.props.columnButtons||[]).map((e,t)=>{n.push(yO("th",{},`${t}-cell-header`))});var o={};return o.style={maxHeight:this.props.maxHeight||500,overflowY:"auto"},p.a.createElement("div",o,yO("table",{className:"table table-bordered"},void 0,yO("tbody",{},void 0,yO("tr",{},void 0,n),r)))}}function _O(e,t,r,n){aO||(aO="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:aO,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var gO=_O("i",{className:"fa fa-pencil-square"}),bO=_O("i",{className:"fa fa-book"}),CO=_O("i",{className:"fa fa-balance-scale"}),EO=_O("i",{className:"fa fa-trash"}),OO=_O("i",{className:"fa fa-anchor"});var kO,NO=Um(class extends l.Component{constructor(e){super(e),this.state={property:""}}form(){var{state:e}=this.props,t=gs(e,is.ExtensionType)||gs(e,is.ChoiceList),r=Fl(e,_s(e,ep));return t&&Es(r,ss.UIExtensionDefinition),null}editKey(e){return`${e}-edit`}tabKey(e){return`${e}-tabkey`}footer(){var{state:e}=this.props,t=gs(e,is.ExtensionType)||gs(e,is.ChoiceList),r=Fl(e,_s(e,ep));if(t&&r){var n=Es(r,ss.UIExtensionDefinition),o=n&&n.config.isEnumeration?_O("div",{className:"pull-right"},void 0,_O("button",{type:"submit",className:"btn btn-primary",onClick:()=>{n.config.list=[...n.config.list,{}],this.props.graphOperation(du,{prop:ss.UIExtensionDefinition,id:r.id,value:{...n}})}},void 0,Qt)):null,i=r?this.tabKey(r.id):null,a=_O("div",{className:"pull-left"},void 0,_O("div",{className:"btn-group"},void 0,_O("button",{onClick:()=>this.props.setVisual(i,Sr),type:"button",title:Sr,className:"btn btn-default btn-flat"},void 0,gO),_O("button",{onClick:()=>this.props.setVisual(i,Ir),type:"button",title:Ir,className:"btn btn-default btn-flat"},void 0,bO),_O("button",{onClick:()=>{n||(n={config:{isEnumeration:!1,dictionary:{},list:[]},definition:{}}),this.props.setVisual(i,Lr),this.props.graphOperation(du,{prop:ss.UIExtensionDefinition,id:r.id,value:n})},type:"button",title:Lr,className:"btn btn-default btn-flat"},void 0,CO)),_O("div",{className:"btn-group"},void 0,Gl(e,i,Sr)?_O("button",{onClick:()=>{this.state.property&&(n||(n={config:{isEnumeration:!1,dictionary:{},list:[]},definition:{}}),n.definition[this.state.property]="string",this.props.graphOperation(du,{prop:ss.UIExtensionDefinition,id:r.id,value:n}),this.setState({property:""}))},type:"button",className:"btn btn-default btn-flat"},void 0,Qt):null));return _O(mO,{},void 0,a,o)}return null}render(){var{state:e}=this.props,t=Fl(e,_s(e,ep)),r=(this.form(),this.footer()),n=t?this.tabKey(t.id):null,o=Es(t,ss.UIExtensionDefinition),i=t?mp(e,is.Property).map(e=>({value:e.id,title:ip(e)})):[];return _O(gh,{active:gs(e,is.ExtensionType)},void 0,Gl(e,n,Lr)?null:_O(Ch,{},void 0,o?_O(Uh,{label:ut,value:o.config.isEnumeration,onChange:e=>{o.config.isEnumeration=e,this.props.graphOperation(du,{prop:ss.UIExtensionDefinition,id:t.id,value:{...o,config:{...o.config}}})}}):null,_O(Th,{value:this.state.property,label:Rr,onChange:e=>{this.setState({property:e})}})),o&&Gl(e,n,Ir)?_O(vO,{columns:Object.keys(o.definition).map(e=>({title:e,value:e})),dataFunc:(e,r,n)=>_O(Th,{label:dt,value:e,onChange:e=>{o.config.isEnumeration?o.config&&o.config.list&&o.config.list[n]&&(o.config.list[n][r]=e):o.config&&o.config.dictionary&&(o.config.dictionary[r]=e),this.props.graphOperation(du,{prop:ss.UIExtensionDefinition,id:t.id,value:{...o,config:{...o.config,dictionary:{...o.config.dictionary},list:[...o.config.list]}}})}}),columnButtons:o.config.isEnumeration?[(e,r)=>_O("div",{className:"pull-right"},void 0,_O("button",{onClick:()=>{o.config.isEnumeration&&(o.config&&o.config.list&&o.config.list[r]&&(o.config.list=[...o.config.list.filter((e,t)=>t!==r)]),this.props.graphOperation(du,{prop:ss.UIExtensionDefinition,id:t.id,value:{...o}}))},className:"btn btn-block btn-default"},void 0,EO))]:[],data:o.config.isEnumeration?o.config.list.map(e=>({...e})):[{...o.config.dictionary}]}):null,o&&Gl(e,n,Sr)?_O(vO,{columns:[{title:or,value:"name"}],columnButtons:[e=>_O("div",{className:"pull-right"},void 0,_O("div",{class:"btn-group"},void 0,_O("button",{title:ze,onClick:()=>{o.config={...o.config,keyField:e.name},this.props.graphOperation(du,{prop:ss.UIExtensionDefinition,id:t.id,value:{...o}})},className:`btn   ${e.name===o.config.keyField?"btn-success":"btn-default"}`},void 0,OO),_O("button",{onClick:()=>{delete o.definition[e.name],o.definition={...o.definition},this.props.graphOperation(du,{prop:ss.UIExtensionDefinition,id:t.id,value:{...o}})},className:"btn btn-default"},void 0,"x")))],data:Object.keys(o.definition).map(e=>({name:e}))}):null,o&&Gl(e,n,Lr)?_O(Ch,{},void 0,_O(Uh,{label:Lr,title:Vr,value:o.definition.dependsOn,onChange:e=>{o.definition.dependsOn=e,this.props.graphOperation(du,{prop:ss.UIExtensionDefinition,id:t.id,value:{...o,definition:{...o.definition}}})}}),_O(Oh,{label:ur,title:Br,options:i,value:o.definition.property,onChange:e=>{o.definition.property=e;var r=t.id;this.props.graphOperation(_u,{target:t.properties[ss.UIChoiceType],source:r}),this.props.graphOperation(du,{prop:ss.UIChoiceType,id:r,value:e}),this.props.graphOperation(hu,{target:e,source:r,properties:{...ls.ExtensionDependencyLink}}),this.props.graphOperation(du,{prop:ss.UIExtensionDefinition,id:t.id,value:{...o,definition:{...o.definition}}})}}),_O(Th,{label:Hr,title:qr,value:o.definition.match,onChange:e=>{o.definition.match=e,this.props.graphOperation(du,{prop:ss.UIExtensionDefinition,id:t.id,value:{...o,definition:{...o.definition}}})}})):null,r)}});function MO(e,t,r,n){kO||(kO="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:kO,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var TO,SO=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Method),r=Fl(e,_s(e,ep)),n=Object.keys(li).map(e=>({title:li[e].title||e,value:e}));return MO(gh,{active:t},void 0,r&&!r.properties[ss.UseScopeGraph]?MO(Oh,{label:Wr,options:n,onChange:e=>{this.props.graphOperation(du,{prop:ss.FunctionType,id:r.id,value:e})},value:r.properties?r.properties[ss.FunctionType]:""}):null,r?MO(Oh,{label:Fe,options:Object.keys(Eo).map(e=>({title:e,value:Eo[e]})),onChange:e=>{this.props.graphOperation(du,{prop:ss.MethodType,id:r.id,value:e})},value:r.properties?r.properties[ss.MethodType]:""}):null,r?MO(Oh,{label:Xr,options:Object.keys(ni).map(e=>({title:e,value:ni[e]})),onChange:e=>{this.props.graphOperation(du,{id:r.id,value:e,prop:uo.HttpMethod})},value:Es(r,uo.HttpMethod)}):null,r?MO(Th,{label:Qr,value:Es(r,uo.HttpRoute),onChange:e=>{this.props.graphOperation(du,{id:r.id,value:e,prop:uo.HttpRoute})}}):null,r?MO(Uh,{label:Zr,onChange:e=>{this.props.graphOperation(du,{prop:ss.NotIncludedInController,id:r.id,value:e})},value:Es(r,ss.NotIncludedInController)}):null,r?MO(Uh,{label:en,onChange:e=>{this.props.graphOperation(du,{prop:ss.AsForm,id:r.id,value:e})},value:Es(r,ss.AsForm)}):null,r?MO(Uh,{label:nn,onChange:e=>{this.props.graphOperation(du,{prop:ss.NoApiPrefix,id:r.id,value:e})},value:Es(r,ss.NoApiPrefix)}):null,MO(yh,{},void 0,r&&r.properties[ss.UseScopeGraph]?MO(vh,{onClick:()=>{this.props.graphOperation([{operation:void 0},{options:{id:r.id}}])},icon:"fa fa-puzzle-piece",title:In,description:Ln}):null,r?MO(vh,{onClick:()=>{this.props.graphOperation(Ou,{parent:_s(e,ep),groupProperties:{},linkProperties:{properties:{...Co.ModelItemFilter}}})},icon:"fa fa-puzzle-piece",title:Lt,description:$t}):null,r?MO(vh,{onClick:()=>{this.props.graphOperation(ku,{parent:_s(e,ep),groupProperties:{},linkProperties:{properties:{...Co.AfterMethod}},properties:{[uo.UIText]:`${Es(r,uo.UIText)} After Effect`}})},icon:"fa fa-puzzle-piece",title:At,description:It}):null))}});function PO(e,t,r,n){TO||(TO="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:TO,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var AO,IO=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Method),r=(Up(e),Fl(e,_s(e,ep))),n=Es(r,uo.FunctionType);let o=li[n],i=[];return o&&o.constraints&&(i=Object.values(o.constraints).map(t=>{let n=mp(e,t.nodeTypes).filter(e=>!Object.keys(t).filter(e=>"key"!=e&&"nodeTypes"!==e).find(r=>Es(e,r)!==t[r])).map(e=>({title:ip(e),value:e.id}));return PO(Oh,{label:t.key,options:n,onChange:e=>{var n=r.id;let o=Es(r,uo.MethodProps)||{},i=o[t.key];o[t.key]=e,this.props.graphOperation(_u,{target:i,source:n,linkType:ls.FunctionOperator.type}),this.props.graphOperation(du,{prop:ss.MethodProps,id:r.id,value:o}),this.props.graphOperation(hu,{target:e,source:n,properties:{...ls.FunctionOperator}})},value:Es(r,uo.MethodProps)?Es(r,uo.MethodProps)[t.key]:""},t.key)})),PO(gh,{active:t},void 0,r?PO(Ch,{},void 0,i):null)}});function LO(e,t,r,n){AO||(AO="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:AO,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const $O="MAESTRO_DETAILS_MENU";var wO=LO("div",{});var xO,jO=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Maestro),r=Fl(e,_s(e,ep)),n=r?fa(Up(e),{id:r.id}):[];return t?LO(Xh,{open:_s(e,$O),active:_s(e,$O),title:Jr,toggle:()=>{this.props.toggleVisual($O)}},void 0,n.map((e,t)=>LO(Zh,{title:`${ip(e)}`,onClick:()=>{var t=r.id;this.props.graphOperation(_u,{target:e.id,source:t})}},`tree-view-item-maestro-details${t}`))):wO}});function RO(e,t,r,n){xO||(xO="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:xO,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const DO="NODE_MANAGEMENT_MENU",GO="NODE_MANAGEMENT";var FO,UO=Um(class extends l.Component{constructor(e){super(e),this.state={filter:""}}toFilterString(e){return`${Es(e,uo.CodeName)} ${e.id} ${Es(e,uo.UIText)} ${Es(e,uo.NODEType)}`.toLowerCase()}render(){let{state:e}=this.props;var t=Up(e);let r=(this.state.filter||"").toLowerCase(),n=ap(e).filter(e=>!!r&&-1!==this.toFilterString(e).indexOf(r)).groupBy(e=>Es(e,uo.NODEType)),o=[];return o=Object.keys(n).filter(e=>n[e].length).map((t,r)=>{let o=`NodeManagement-${t}`,i=n[t].map((e,n)=>RO(Xh,{hideArrow:!0,title:Es(e,uo.UIText),icon:Es(e,uo.Pinned)?"fa fa-check-circle-o":"fa fa-circle-o",toggle:()=>{this.props.graphOperation(du,{prop:ss.Pinned,id:e.id,value:!Es(e,uo.Pinned)})}},`node-${t}-${r}-${n}`));return RO(Xh,{title:t,icon:"fa fa-dot-circle-o",open:_s(e,o),active:_s(e,o),right:RO("span",{className:"label label-primary "},void 0,n[t].length),toggle:()=>{this.props.toggleVisual(o)}},`node-${t}-${r}`,i)}),RO(Xh,{title:`${V} ${t?Object.keys(t.visibleNodes||{}).length:""}`,icon:"fa fa-object-group",open:_s(e,GO),active:_s(e,GO),onClick:()=>{this.props.toggleVisual(GO)}},void 0,RO(Xh,{icon:"fa fa-dot-circle-o",title:Et,open:_s(e,DO),active:_s(e,DO),onClick:()=>{this.props.toggleVisual(DO)}},void 0,RO(Xh,{hideArrow:!0,title:Gn,icon:"fa fa-times",onClick:()=>{this.props.graphOperation(ap(e).filter(e=>Es(e,uo.Pinned)).map(e=>({operation:du,options:{prop:ss.Pinned,id:e.id,value:!1}})))}})),RO(Ch,{sidebarform:!0},void 0,RO(Th,{value:this.state.filter,onChange:e=>{this.setState({filter:e})},inputgroup:!0,placeholder:Fn})),o)}});function VO(e,t,r,n){FO||(FO="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:FO,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const BO="METHOD_PARAMETERS";var HO=VO("br",{});var qO,WO=Um(class extends l.Component{render(){var{state:e}=this.props,t=Fl(e,_s(e,ep)),r=Es(t,ss.NODEType)===is.ComponentNode;let n=Es(t?ga(e,t.id,Bn.ScreenOption)||ga(e,t.id,Bn.ComponentNode,Ma):null,ss.UIType),o=Nf[n]||{},i=Es(t,ss.ComponentType),a=Es(t,ss.ComponentProperties),s=Xi(a),l=[],p=Es(t,ss.ClientMethodParameters)||{},u=Pl();return o[i]&&o[i].properties&&Object.keys(o[i].properties).map(r=>{let d=o[i].properties[r];if(d&&d.ui&&d.options){let o=Es(t,d.nodeProperty);if(o===kf){l.push(VO(Oh,{label:R,options:mp(e,Bn.Method).toNodeSelect(),value:Es(t,uo.ClientMethod),onChange:e=>{this.props.graphOperation(du,{prop:uo.ClientMethod,id:t.id,value:e})}},`${o} - ${n} - ${i} - ${r}`));let d=Es(t,uo.ClientMethod);if(d){let a=As(d);if(a){let{parameters:s,body:d}=a;if(d){let a=`${o} - ${n} - ${i} - parameter - body`,s=u.find(e=>e.id===Ji(p,r,"body","component")),d=s&&s.componentPropertiesList?s.componentPropertiesList:[];l.push(VO(Xh,{open:_s(e,a),active:_s(e,a),onClick:()=>{this.props.toggleVisual(a)},title:I,icon:"fa fa-tv"},"body",VO(Ch,{},void 0,VO(Oh,{label:xr,value:Ji(p,r,"body","instanceType"),options:Object.keys(Mf).map(e=>({title:e,value:Mf[e]})),onChange:e=>{p=zi(p,r,"body","instanceType",e),this.props.graphOperation(du,{prop:uo.ClientMethodParameters,id:t.id,value:p})}}),VO(Oh,{label:B,value:Ji(p,r,"body","component"),options:u.map(e=>({title:Ts(e.id),value:e.id})),onChange:e=>{p=zi(p,r,"body","component",e),this.props.graphOperation(du,{prop:uo.ClientMethodParameters,id:t.id,value:p})}}),VO(Oh,{label:B,value:Ji(p,r,"body","componentModel"),options:d,onChange:e=>{p=zi(p,r,"body","componentModel",e),this.props.graphOperation(du,{prop:uo.ClientMethodParameters,id:t.id,value:p})}}))))}}}let c=(Es(Is(Es(t,uo.ClientMethod)),uo.ScreenParameters)||[]).map(r=>{let l=`${o} - ${n} - ${i} - parameter - ${ki(r)}`,p=Es(t,uo.MethodParameters)||{},u=Es(t,ss.MethodParameterProperty)||{};return VO(Xh,{title:`${ki(r)}`,icon:"fa fa-object-group",open:_s(e,l),active:_s(e,l),onClick:()=>{this.props.toggleVisual(l)}},void 0,VO(Ch,{},void 0,VO(Oh,{label:ki(r),options:s,value:p[r.id],onChange:e=>{let n=Es(t,uo.MethodParameters)||{};n[r.id]=e,this.props.graphOperation(du,{prop:uo.MethodParameters,id:t.id,value:n})}},`${l}`),a&&p&&r&&r.id&&p[r.id]?VO(Oh,{options:ka(Vp(e),{id:a.properties[p[r.id]],direction:Na}).toNodeSelect(),onChange:e=>{u[p[r.id]]=e,this.props.graphOperation(du,{prop:ss.MethodParameterProperty,id:t.id,value:u})},label:Rr,value:u[p[r.id]]}):null))});l.push(c)}}}),VO("div",{style:{position:"relative"}},void 0,VO(mh,{notactive:!r,relative:!0},void 0,VO(Hh,{relative:!0,style:{paddingTop:0}},void 0,VO(Kh,{},void 0,VO(Xh,{title:`${R}`,icon:"fa fa-object-group",open:_s(e,BO),active:_s(e,BO),onClick:()=>{this.props.toggleVisual(BO)}},void 0,HO,l)))))}});function YO(e,t,r,n){qO||(qO="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:qO,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var zO,JO=Um(class extends l.Component{render(){var{state:e}=this.props,t=Fl(e,_s(e,ep)),r=!qn[Es(t,ss.NODEType)];return YO(oy,{active:r,tab:YN,visual:"common-activty+menu",title:un},void 0,YO(gh,{active:r},void 0,t?YO(Ch,{},void 0,YO(Th,{label:ft,disabled:!sp(t),value:t.properties?t.properties[ss.CodeName]:"",onChange:e=>{this.props.graphOperation(du,{prop:ss.CodeName,id:t.id,value:e})}}),YO(Th,{label:mt,disabled:!sp(t),value:t.properties?t.properties[ss.ValueName]:"",onChange:e=>{this.props.graphOperation(du,{prop:ss.ValueName,id:t.id,value:e})}}),YO(Th,{label:ht,disabled:!sp(t),value:t.properties?t.properties[ss.AgentName]:"",onChange:e=>{this.props.graphOperation(du,{prop:ss.AgentName,id:t.id,value:e})}})):null))}});function XO(e,t,r,n){zO||(zO="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:zO,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var KO,QO=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.ModelItemFilter),r=[],n=Up(e),o=Fl(e,_s(e,ep));if(o){var i=ya(e,{id:o.id,links:[{direction:Ma,type:_o.ModelItemFilter}]}),a=null,s=Ip(i);if(s)switch(Sp(i)){case Go.Get_ManyToMany_Agent_Value__IListChild:a=Yi(n,s[Fo.ManyToManyModel]);break;case Go.Create_Object_Agent_Value__IListObject:case Go.Get_Parent$Child_Agent_Value__IListChild:case Go.Create_Parent$Child_Agent_Value__IListChild:case Go.Create_Parent_Child_Agent_Value__Child:default:a=Yi(n,s[Fo.ModelOutput]||s[Fo.Model])}a&&(r=[...Ps(a.id).toNodeSelect()])}return XO(gh,{active:t},void 0,o?XO(Ch,{},void 0,XO(Th,{label:G,value:Es(o,uo.UIText),onChange:e=>{this.props.graphOperation(su,{id:o.id,value:e})}}),XO(Th,{label:F,value:Es(o,uo.NODEType),disabled:!0}),XO(Oh,{options:r,defaultSelectText:xe,label:Rr,onChange:e=>{var t=o.id;let r=Es(o,uo.FilterModel)||wi();r=xi(r,{id:e}),this.props.graphOperation([{operation:du,options:{id:t,prop:uo.FilterModel,value:r}},{operation:du,options:{id:t,prop:uo.ModelItemFilter,value:a.id}}]),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ModelItemFilter,...ja(vo.Remove,{function:"OnRemoveModelFilterPropConnection"})}})},value:""})):null,XO("button",{type:"submit",className:"btn btn-primary",onClick:()=>{this.props.graphOperation(yu,{parent:_s(e,ep),groupProperties:{},linkProperties:{properties:{...Co.ConditionLink}}})}},void 0,A))}});function ZO(e,t,r,n){KO||(KO="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:KO,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var ek=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Model),r=Fl(e,_s(e,ep)),n=Es(r,ss.HasLogicalChildren),o=Es(r,ss.HasLogicalNieces);return ZO(gh,{active:t},void 0,r?ZO(Ch,{},void 0,ZO(Uh,{label:kn,title:Tn,value:Es(r,ss.HasLogicalChildren),onChange:e=>{this.props.graphOperation([{operation:du,options:{prop:ss.HasLogicalChildren,id:r.id,value:e}}])}}),n?ZO(Oh,{options:mp(e,Bn.Model).map(e=>({value:e.id,title:ip(e)})),label:Nn,onChange:e=>{let t=r.id;var n=Es(r,ss.LogicalChildrenTypes)||[];this.props.graphOperation([{operation:du,options:{prop:ss.LogicalChildrenTypes,id:r.id,value:[...n,e].unique(e=>e)}},{operation:hu,options:{target:e,source:t,properties:{...ls.LogicalChildren}}}])},value:""}):null,n?ZO(Bh,{active:!0,isSelected:e=>{var t=Es(r,ss.LogicalChildrenTypes)||[];return e&&t.some(t=>t===e.id)},items:(Es(r,ss.LogicalChildrenTypes)||[]).map(t=>{let r=Yi(Up(e),t);if(r)return{title:ip(r),id:r.id}}),onClick:e=>{let t=r.id;var n=Es(r,ss.LogicalChildrenTypes)||[],o=n;o=n.some(t=>e.id===t)?[...o.filter(t=>t!==e.id)].unique(e=>e):[...o,e.id].unique(e=>e),this.props.graphOperation([{operation:du,options:{prop:ss.LogicalChildrenTypes,id:r.id,value:o}},{operation:_u,options:{target:e.id,source:t,properties:{...ls.LogicalChildren}}}])}}):null,ZO(Uh,{label:Sn,title:Pn,value:Es(r,ss.HasLogicalNieces),onChange:e=>{this.props.graphOperation([{operation:du,options:{prop:ss.HasLogicalNieces,id:r.id,value:e}}])}}),o?ZO(Oh,{options:mp(e,Bn.Model).map(e=>({value:e.id,title:ip(e)})),label:Mn,onChange:e=>{let t=r.id;var n=Es(r,ss.LogicalNieceTypes)||[];this.props.graphOperation([{operation:du,options:{prop:ss.LogicalNieceTypes,id:r.id,value:[...n,e].unique(e=>e)}},{operation:hu,options:{target:e,source:t,properties:{...ls.LogicalNieces}}}])},value:""}):null,o?ZO(Bh,{active:!0,isSelected:e=>{var t=Es(r,ss.LogicalNieceTypes)||[];return e&&t.some(t=>t===e.id)},items:(Es(r,ss.LogicalNieceTypes)||[]).map(t=>{let r=Yi(Up(e),t);if(r)return{title:ip(r),id:r.id}}),onClick:e=>{let t=r.id;var n=Es(r,ss.LogicalNieceTypes)||[],o=n;o=n.some(t=>e.id===t)?[...o.filter(t=>t!==e.id)].unique(e=>e):[...o,e.id].unique(e=>e),this.props.graphOperation([{operation:du,options:{prop:ss.LogicalNieceTypes,id:r.id,value:o}},{operation:_u,options:{target:e.id,source:t,properties:{...ls.LogicalNieces}}}])}}):null):null)}});var tk;function rk(e,t,r,n){tk||(tk="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:tk,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var nk=rk("div",{});var ok,ik=Um(class extends l.Component{constructor(e){super(e),this.state={filter:""}}toFilterString(e){return`${Es(e,uo.CodeName)} ${e.id} ${Es(e,uo.UIText)} ${Es(e,uo.NODEType)}`.toLowerCase()}render(){let{state:e}=this.props;var t=Up(e);return t?rk(zy,{title:te},void 0,rk(Ch,{},void 0,rk(Oh,{label:N,options:[].interpolate(0,7,e=>({title:"Depth  "+e,value:e})),onChange:e=>{this.props.graphOperation([{operation:Uu,options:{depth:e}}])},value:t.depth}))):nk}});function ak(e,t,r,n){ok||(ok="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:ok,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var sk,lk=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Maestro),r=Fl(e,_s(e,ep)),n=Up(e),o=mp(e,[is.Function,is.Method]).map(e=>({title:ip(e),value:e.id}));return ak(gh,{active:t},void 0,r?ak(Oh,{label:Yr,options:o,defaultSelectText:zr,onChange:e=>{let t=r.id;this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.FunctionLink}}),fa(n,{id:e,constraints:{[Uo.IsInputVariable]:!0}}).map(r=>{this.props.graphOperation(hu,{source:r.id,target:t,properties:{...ls.FunctionVariable,[bo.FUNCTION_ID]:e}})})},value:""}):null)}});function pk(e,t,r,n){sk||(sk="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:sk,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var uk,dk=Um(class extends l.Component{getMenuMode(e){let t=[],r=()=>{this.props.setVisual(rp,null)};switch(e){case"layout":t.push(pk(Xh,{open:!0,active:!0,title:D,toggle:()=>{}},void 0,pk(Xh,{title:D,hideArrow:!0,icon:"fa fa-taxi",onClick:()=>{this.props.setVisual(oo,so),r()}},"layoutview"),pk(Xh,{title:cn,hideArrow:!0,icon:"fa fa-taxi",onClick:()=>{this.props.setVisual(oo,io),r()}},"mindmap"),pk(Xh,{title:fn,hideArrow:!0,icon:"fa fa-taxi",onClick:()=>{this.props.setVisual(oo,ao),r()}},"codeview")))}return t}render(){var{state:e}=this.props,t=Fl(e,_s(e,ep));let r=_s(e,rp)?"block":"none",n=_s(e,rp)?Es(t,uo.NODEType):null,o=_s(e,rp),i=this.getMenuMode(o);return pk("div",{className:"context-menu",style:{position:"fixed",width:250,height:400,display:r,top:250,left:500}},void 0,pk(cv,{active:!0,title:"asdf",subTitle:"afaf",nodeType:n},void 0,i))}});function ck(e,t,r,n){uk||(uk="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:uk,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const fk="CONTROLLER_DETAILS_MENU";var mk=ck("div",{});var hk,yk=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Maestro),r=Fl(e,_s(e,ep)),n=r?fa(Up(e),{id:r.id}):[];return t?ck(Xh,{open:_s(e,fk),active:_s(e,fk),title:Jr,toggle:()=>{this.props.toggleVisual(fk)}},void 0,n.map((e,t)=>ck(Zh,{title:`${ip(e)}`,onClick:()=>{var t=r.id;this.props.graphOperation(_u,{target:e.id,source:t})}},`tree-view-item-controller-details${t}`))):mk}});function vk(e,t,r,n){hk||(hk="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:hk,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var _k,gk=Um(class extends l.Component{render(){var{state:e}=this.props,t=Fl(e,_s(e,ep)),r=gs(e,is.Controller),n=(Up(e),mp(e,is.Maestro).map(e=>({title:ip(e),value:e.id})));return vk(gh,{active:r},void 0,t?vk(Oh,{label:tn,options:n,defaultSelectText:Kr,onChange:e=>{let r=t.id;this.props.graphOperation(hu,{target:e,source:r,properties:{...ls.MaestroLink}})},value:""}):null,t?vk(Th,{label:Ke,value:Es(t,uo.CodeUser),onChange:e=>{this.props.graphOperation(du,{id:t.id,value:e,prop:uo.CodeUser})}}):null)}});function bk(e,t,r,n){_k||(_k="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:_k,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Ck,Ek,Ok=Um(class extends l.Component{getTargetNodes(e,t){let r=[];return t&&((r=Ea(e,{id:t.id,direction:Na,type:_o.PermissionDependencyPropertyManyToManyLink})).length||(r=Ea(e,{id:t.id,direction:Na,type:_o.PermissionDependencyProperty}))),r}render(){var{state:e}=this.props,t=gs(e,is.PermissionDependency),r=Fl(e,_s(e,ep)),n=(Es(r,ss.IsAgent),mp(e,is.Enumeration).map(e=>({value:e.id,title:ip(e)}))),o=mp(e,is.ExtensionType).map(e=>({value:e.id,title:ip(e)})),i=Up(e),a=r&&r.properties?r.properties[ss.UIExtension]:"",s=(r&&r.properties?r.properties[ss.AllowedExtensionValues]:[])||[],l=[];if(a){var p=Yi(i,a);if(p){var u=Es(p,ss.UIExtensionDefinition);if(u&&u.config&&u.config.isEnumeration){var d=u.config.list.map(e=>e[u.config.keyField||Object.keys(e)[0]]);s=s.intersection(d),l=d.relativeCompliment(s)}}}var c=r&&r.properties?r.properties[ss.Enumeration]:"",f=(r&&r.properties?r.properties[ss.AllowedEnumValues]:[])||[],m=[];if(c){var h=Yi(i,c);if(h){var y=Es(h,uo.Enumeration)||[];f=f.intersection(y),m=y.relativeCompliment(f)}}let v=this.getTargetNodes(i,r),_=null,g=null;return v.length&&(_=Es(g=v[0],ss.UIAttributeType)),bk(gh,{active:t},void 0,bk(_h,{title:Ye}),r&&g&&_==us.BOOLEAN?bk(Uh,{title:hr,label:yr,value:r.properties[ss.UseEqual],onChange:e=>{this.props.graphOperation(du,{prop:ss.UseEqual,id:r.id,value:e})}}):null,r&&g&&_==us.BOOLEAN&&Es(r,ss.UseEqual)?bk(Oh,{title:vr,label:mr,options:["true","false"].map(e=>({title:e,value:e})),value:r.properties[ss.IsEqualTo],onChange:e=>{this.props.graphOperation(du,{prop:ss.IsEqualTo,id:r.id,value:e})}}):null,r&&g&&_==us.LISTOFSTRINGS?bk(Uh,{title:br,label:fr,value:r.properties[ss.IncludedInList],onChange:e=>{this.props.graphOperation(du,{prop:ss.IncludedInList,id:r.id,value:e})}}):null,r&&g&&_==us.LISTOFSTRINGS?bk(Uh,{title:gr,label:_r,value:r.properties[ss.ExcludedFromList],onChange:e=>{this.props.graphOperation(du,{prop:ss.ExcludedFromList,id:r.id,value:e})}}):null,r&&g&&_==us.STRING?bk(Uh,{title:Je,label:Je,value:r.properties[ss.UseEnumeration],onChange:e=>{this.props.graphOperation(du,{prop:ss.UseEnumeration,id:r.id,value:e})}}):null,r&&g&&_==us.STRING?bk(Uh,{title:cr,label:cr,value:r.properties[ss.UseExtension],onChange:e=>{this.props.graphOperation(du,{prop:ss.UseExtension,id:r.id,value:e})}}):null,r&&g&&_==us.STRING&&r.properties[ss.UseExtension]?bk(_h,{title:Ue}):null,t&&s&&s.length&&r&&r.properties[ss.UseExtension]?s.map(e=>bk("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{this.props.graphOperation(du,{prop:ss.AllowedExtensionValues,id:r.id,value:[...s].filter(t=>t!==e)}),this.props.graphOperation(du,{prop:ss.DisallowedExtensionValues,id:r.id,value:d.relativeCompliment([...s].filter(t=>t!==e))})}},`ext_allowed-${e}`," ",e)):null,r&&g&&_==us.STRING&&r.properties[ss.UseExtension]?bk(_h,{title:je}):null,t&&l&&l.length&&r&&r.properties[ss.UseExtension]?l.map(e=>bk("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{this.props.graphOperation(du,{prop:ss.AllowedExtensionValues,id:r.id,value:[...s,e].unique()}),this.props.graphOperation(du,{prop:ss.DisallowedExtensionValues,id:r.id,value:d.relativeCompliment([...s,e].unique())})}},`ext_disallowed-${e}`," ",e)):null,r&&g&&_==us.STRING&&r.properties[ss.UseExtension]?bk(Oh,{label:Ar,options:o,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.UIExtension],source:t,linkType:ls.ExtensionLink.type}),this.props.graphOperation(du,{prop:ss.UIExtension,id:t,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.ExtensionLink}})},value:r.properties?r.properties[ss.UIExtension]:""}):null,r&&g&&_==us.STRING&&r.properties[ss.UseEnumeration]?bk(Oh,{label:Xe,options:n,onChange:e=>{var t=r.id;this.props.graphOperation(_u,{target:r.properties[ss.Enumeration],source:t,linkType:ls.EnumerationLink.type}),this.props.graphOperation(du,{prop:ss.Enumeration,id:t,value:e}),this.props.graphOperation(hu,{target:e,source:t,properties:{...ls.EnumerationLink}})},value:r.properties?r.properties[ss.Enumeration]:""}):null,r&&g&&_==us.STRING&&r.properties[ss.UseEnumeration]?bk(_h,{title:Ue}):null,t&&f&&f.length&&r&&r.properties[ss.UseEnumeration]?f.map(e=>bk("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{var t=y.relativeCompliment([...f].filter(t=>t!==e));this.props.graphOperation(du,{prop:ss.AllowedEnumValues,id:r.id,value:[...f].filter(t=>t!==e)}),this.props.graphOperation(du,{prop:ss.DisallowedEnumValues,id:r.id,value:t})}},`allowed-${e}`," ",e)):null,r&&g&&_==us.STRING&&r.properties[ss.UseEnumeration]?bk(_h,{title:je}):null,t&&m&&m.length&&r&&r.properties[ss.UseEnumeration]?m.map(e=>bk("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{var t=y.relativeCompliment([...f,e].unique());this.props.graphOperation(du,{prop:ss.AllowedEnumValues,id:r.id,value:[...f,e].unique()}),this.props.graphOperation(du,{prop:ss.DisallowedEnumValues,id:r.id,value:t})}},`disallowed-${e}`," ",e)):null)}});function kk(e,t,r,n){Ck||(Ck="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Ck,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Nk extends l.Component{icon(){return this.props.icon||"fa fa-envelope-o"}render(){return kk("li",{},void 0,kk("a",{onClick:()=>{this.props.onClick&&this.props.onClick()}},void 0,kk("div",{className:"pull-left"},void 0,kk("i",{style:{fontSize:34},className:this.icon()})),kk("h4",{},void 0,this.props.title),kk("p",{},void 0,this.props.description)))}}function Mk(e,t,r,n){Ek||(Ek="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Ek,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const Tk="GRAPH_MENU";var Sk,Pk=Um(class extends l.Component{render(){var{state:e}=this.props;return Mk(cO,{icon:"fa fa-cart-plus",open:_s(e,Tk),onClick:()=>{this.props.toggleVisual(Tk)}},void 0,Mk(Nk,{icon:"fa fa-plus",title:$n,onClick:()=>{this.props.addNewSubGraph()},description:xn}))}});function Ak(e,t,r,n){Sk||(Sk="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Sk,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const Ik="SECTION_LIST";var Lk,$k=Um(class extends l.Component{render(){let e=this,{state:t}=e.props,r=[],n=Bp(t),o=Vp(t);n&&n.map(t=>{r.push(Ak(Zh,{title:t.title||ot,right:Ak("span",{className:"label label-primary pull-right"},void 0,t.nodes.length),onClick:()=>{e.props.setApplication(pu,[t.id])}},t.id))});let i=r;return o&&(i=Ak(Xh,{hideIcon:!0,right:Ak("span",{className:"label label-primary pull-right"},void 0,o.nodes.length),title:o.title||ot,hideArrow:!0,open:!0,active:!0,onClick:()=>{e.props.setApplication(pu,null)}},void 0,r)),Ak(Xh,{title:wn,icon:"fa fa-cart-plus",open:_s(t,Ik),active:_s(t,Ik),onClick:()=>{this.props.toggleVisual(Ik)}},void 0,i)}});function wk(e,t,r,n){Lk||(Lk="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Lk,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var xk,jk=Um(class extends l.Component{render(){var{state:e}=this.props,t=gs(e,is.Enumeration),r=Fl(e,_s(e,ep)),n=Es(r,uo.Enumeration)||[];return wk(gh,{active:t},void 0,wk(Xy,{onComplete:e=>{if(e){var t=Es(r,uo.Enumeration)||[];this.props.graphOperation(du,{prop:ss.Enumeration,id:r.id,value:[...t,{value:e,id:_()}].unique(e=>e.value)})}}}),t&&n&&n.length?n.map(e=>wk("div",{className:"external-event bg-red",style:{cursor:"pointer"},onClick:()=>{this.props.graphOperation(du,{prop:ss.Enumeration,id:r.id,value:[...n].filter(t=>t!==e)})}},e.id," ",e&&e.id?e.value:e)):null)}});function Rk(e,t,r,n){xk||(xk="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:xk,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var Dk,Gk=Um(class extends l.Component{render(){var{state:e}=this.props,t=Yp(e);return Rk(Ch,{sidebarform:!0},void 0,Rk(Th,{value:t?t.title:"",onChange:e=>{this.props.graphOperation(nu,{text:e})},inputgroup:!0,placeholder:jn}))}});function Fk(e,t,r,n){Dk||(Dk="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Dk,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Uk extends l.Component{active(){return!!this.props.active}render(){let e=this.active();return Fk("div",{style:{position:"relative",width:"100%"}},void 0,Fk("div",{style:{position:"absolute",width:"100%",transition:"all 1s",pointerEvents:e?"all":"none",top:e?0:"-1000px",backgroundColor:"#dd4b39d2"}},void 0,this.props.children))}}var Vk,Bk,Hk,qk=r("react-syntax-highlighter"),Wk=r.n(qk),Yk={hljs:{display:"block",overflowX:"auto",padding:"0.5em",color:"#000",background:"#f8f8ff"},"hljs-comment":{color:"#408080",fontStyle:"italic"},"hljs-quote":{color:"#408080",fontStyle:"italic"},"hljs-keyword":{color:"#954121"},"hljs-selector-tag":{color:"#954121"},"hljs-literal":{color:"#954121"},"hljs-subst":{color:"#954121"},"hljs-number":{color:"#40a070"},"hljs-string":{color:"#219161"},"hljs-doctag":{color:"#219161"},"hljs-selector-id":{color:"#19469d"},"hljs-selector-class":{color:"#19469d"},"hljs-section":{color:"#19469d"},"hljs-type":{color:"#19469d"},"hljs-params":{color:"#00f"},"hljs-title":{color:"#458",fontWeight:"bold"},"hljs-tag":{color:"#000080",fontWeight:"normal"},"hljs-name":{color:"#000080",fontWeight:"normal"},"hljs-attribute":{color:"#000080",fontWeight:"normal"},"hljs-variable":{color:"#008080"},"hljs-template-variable":{color:"#008080"},"hljs-regexp":{color:"#b68"},"hljs-link":{color:"#b68"},"hljs-symbol":{color:"#990073"},"hljs-bullet":{color:"#990073"},"hljs-built_in":{color:"#0086b3"},"hljs-builtin-name":{color:"#0086b3"},"hljs-meta":{color:"#999",fontWeight:"bold"},"hljs-deletion":{background:"#fdd"},"hljs-addition":{background:"#dfd"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}};function zk(e,t,r,n){Vk||(Vk="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Vk,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class Jk extends l.Component{active(){return this.props.active?"active":""}title(){return this.props.title||this.props.children||"{title}"}render(){return zk("li",{className:this.active()},void 0,zk("a",{"data-toggle":"tab",onClick:()=>{this.props.onClick&&this.props.onClick()},"aria-expanded":"true"},void 0,this.title()))}}class Xk extends l.Component{render(){return function(e,t,r,n){Bk||(Bk="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Bk,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("ul",{className:"nav nav-tabs"},void 0,this.props.children)}}function Kk(e,t,r,n){Hk||(Hk="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:Hk,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const Qk="MODEL_CODE",Zk="CODE_VIEW_TAB";var eN,tN,rN=Um(class extends l.Component{constructor(e){super(e),this.state={}}active(){return!!this.props.active}render(){var{state:e}=this.props;let t=this.active(),r="",n=(_s(e,Qk),Vp(e)),o=n?n[vi.NAMESPACE]:null,i=n?n[vi.PROJECTNAME]:null,a=n?n[vi.COLORSCHEME]:null,s=n?n[vi.SERVER_SIDE_SETUP]:null,l=null;if(e&&n&&t){var p=_s(e,Zk),u=this.state[_s(e,Zk)],d=im.generate({type:p,key:u,state:e});l=d,d&&d[u]&&(r=d[u].template)}var c=[Bn.Controller,Bn.Model,Bn.ExtensionType,Bn.Maestro,...Object.values(Wn)];_s(e,Zk);let f=[];return l&&Object.keys(l).map(e=>{f.push({id:e,title:l[e].name,value:l[e].name})}),Kk(Uk,{active:t},void 0,Kk("section",{className:"content"},void 0,Kk("div",{className:"row"},void 0,Kk("div",{className:"col-md-2"},void 0,Kk(zy,{primary:!0,title:ce},void 0,Kk(Th,{onChange:e=>{this.props.setRootGraph(vi.NAMESPACE,e),this.props.setAppsettingsAssemblyPrefixes(e)},label:fe,value:o}),Kk(Th,{onChange:e=>{this.props.setRootGraph(vi.PROJECTNAME,e)},label:de,value:i}),Kk(Th,{onChange:e=>{this.props.setRootGraph(vi.COLORSCHEME,e)},label:ve,value:a}),Kk(Oh,{label:P,options:Object.keys(zn).map(e=>({title:e,value:zn[e]})),onChange:e=>{this.props.setRootGraph(vi.SERVER_SIDE_SETUP,e)},value:s})),Kk(zy,{primary:!0,title:ue},void 0,Kk(Bh,{active:!0,isSelected:t=>t&&this.state[_s(e,Zk)]===t.id,items:f,onClick:t=>{this.setState({[_s(e,Zk)]:t.id})}}))),Kk("div",{className:"col-md-10"},void 0,Kk(hO,{},void 0,Kk(Xk,{},void 0,c?c.map(t=>Kk(Jk,{active:Gl(e,Zk,t),title:t,onClick:()=>{this.props.setVisual(Zk,t)}},t)):null)),Kk(fO,{},void 0,Kk(gh,{active:_s(e,Zk)},void 0,Kk(zy,{title:vt,primary:!0,maxheight:700},void 0,r?Kk(Wk.a,{language:"csharp",style:Yk},void 0,r):null)))))))}});function nN(e,t,r,n){eN||(eN="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:eN,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}class oN extends l.Component{buildLayoutTree(e,t){let r=[],{layout:n,properties:o}=e;return t||(t=n),Object.keys(t).map((n,o)=>{r.push(this.createSection(e,n,t[n],o+1))}),r}createSection(e,t,r,n){let{properties:o}=e,i=o[t].style||{},a=Object.keys(r).length?this.buildLayoutTree(e,r):null,s={};return this.props.selectedCell===t&&(s={backgroundColor:"#ffffff33"}),s.padding=10,nN("div",{onClick:e=>{if(this.props.onSelectionClick)return this.props.onSelectionClick(t),e.stopPropagation(),e.preventDefault(),!1},style:{...i,...s}},t,a||n)}render(){let e="dd4b39-3a405a-fff2f2-e8e8e8-857885".split("-").map(e=>`#${e}`),t=this.props.layout,r=null;return t&&(r=this.buildLayoutTree(t)),nN("div",{style:{display:"flex",height:"100%",borderStyle:"solid",borderWidth:1,borderColor:e[2],...this.props.style}},void 0,r)}}function iN(e,t,r,n){tN||(tN="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:tN,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var aN,sN=Um(class extends l.Component{constructor(e){super(e),this.state={}}active(){return!!this.props.active}getComponentApi(e){let{state:t}=this.props;var r=Fl(t,_s(t,ep));let n=Es(r,uo.Layout),o=this.state.selectedCell;if(e&&e[o]){let i=Es(Is(e[o]),uo.ComponentApi);if(i){let e=this.state.componentApi?this.state.componentApi[o]:null,a=bi(n,this.state.selectedCell);a.componentApi=a.componentApi||{};let{instanceType:s,model:l,modelProperty:p}=a.componentApi[e]||{},u=Es(r,ss.ComponentProperties),d=Xi(u);return[iN(Oh,{label:j,value:e,options:EC(i),onChange:e=>{this.setState({componentApi:{...this.state.componentApi||{},[o]:e}})}}),e?iN(Oh,{label:xr,value:s,options:Object.keys(Mf).map(e=>({title:e,value:Mf[e]})),onChange:t=>{a.componentApi[e]=a.componentApi[e]||{},a.componentApi[e].instanceType=t,this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:n})}}):null,e&&s===Mf.ScreenInstance?iN(Oh,{label:B,value:l,options:d,onChange:t=>{a.componentApi[e]=a.componentApi[e]||{},(a.componentApi[e]||{}).model=t,this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:n})}}):null,e&&s===Mf.ScreenInstance?iN(Oh,{options:ka(Vp(t),{id:Qi(u,l),direction:Na}).toNodeSelect(),onChange:t=>{a.componentApi[e]=a.componentApi[e]||{},(a.componentApi[e]||{}).modelProperty=t,this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:n})},label:Rr,value:p}):null].filter(e=>e)}}return null}render(){var{state:e}=this.props;let t=this.active();var r=Fl(e,_s(e,ep));let n,o=r?function(e,t,r,n){return ka(Vp(e),{id:t,direction:n}).filter(e=>Es(e,uo.NODEType)===r)}(e,r.id,Bn.ComponentNode,Na):[],i=Es(r,uo.Layout),a=null,s=null,l=null,p=null,u=null,d=null,c=null;i&&this.state.selectedCell&&((n=bi(i,this.state.selectedCell))&&(a=n.style,n.children=n.children||{},s=n.children,n.cellModel=n.cellModel||{},l=n.cellModel,n.cellModelProperty=n.cellModelProperty||{},p=n.cellModelProperty,n.cellRoot=n.cellRoot||{},u=n.cellRoot,n.cellEvents=n.cellEvents||{},d=n.cellEvents),c=_i(this.state.selectedCell,i.layout)||i.layout);let f=Es(r,ss.ComponentProperties),m=Xi(f);return iN(Uk,{active:t},void 0,iN("section",{className:"content"},void 0,iN("div",{className:"row"},void 0,iN("div",{className:"col-md-2"},void 0,iN(zy,{primary:!0,maxheight:350,title:D},void 0,this.state.selectedCell?iN("button",{onClick:()=>{let e=Es(r,uo.Layout)||{layout:{},properties:{}};e=Ci(e,this.state.selectedCell),this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:e}),this.setState({selectedCell:null})}},void 0,"Remove Selected"):null,iN(Oh,{options:[].interpolate(1,12,e=>({title:e,value:e})),onChange:e=>{let t=Es(r,uo.Layout)||{layout:{},properties:{}};t=function(e,t,r,n=gi){let o=[],i=null;if(t=parseInt(t),r){if(!(i=_i(r,e.layout)))throw"missing root";o=Object.keys(i)}else o=Object.keys(e.layout),i=e.layout;return o.length-t<0?[].interpolate(0,t-o.length,()=>{let t=_();i[t]={},e.properties[t]={...JSON.parse(JSON.stringify(n))}}):o.length-t>0&&[].interpolate(0,o.length-t,t=>{delete i[o[t]],delete e.properties[o[t]]}),e}(t,e,this.state.selectedCell),this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:t})},label:wn,value:Object.keys(c||{}).length}),a?iN(Oh,{options:["column","row"].map(e=>({title:e,value:e})),onChange:e=>{let t=i||{layout:{},properties:{}};a.flexDirection=e,this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:t})},label:ie,value:a.flexDirection}):null,a?iN(Oh,{options:[].interpolate(0,12,e=>({title:e,value:e})),onChange:e=>{let t=i||{layout:{},properties:{}};parseInt(e)?a.flex=parseInt(e):a.flex=null,this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:t})},label:le,value:a.flex}):null,a?iN(Oh,{options:["flex-start","flex-end","center","space-between"].map(e=>({title:e,value:e})),onChange:e=>{let t=i||{layout:{},properties:{}};a.justifyContent=e,this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:t})},label:"justify-content",value:a.justifyContent}):null,a?iN(Oh,{options:["flex-start","flex-end","center","stretch"].map(e=>({title:e,value:e})),onChange:e=>{let t=i||{layout:{},properties:{}};a.alignItems=e,this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:t})},label:"align-items",value:a.alignItems}):null,a?iN(Th,{onChange:e=>{let t=i||{layout:{},properties:{}};a.height=""===e?null:parseInt(e),this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:t})},label:Y,value:a.height}):null,a?iN(Th,{onChange:e=>{let t=i||{layout:{},properties:{}};a.width=""===e?null:parseInt(e),this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:t})},label:Q,value:a.width}):null,d?iN(Uh,{label:$e,onChange:e=>{let t=i||{layout:{},properties:{}};d[this.state.selectedCell]=d[this.state.selectedCell]||{},d[this.state.selectedCell]={...d[this.state.selectedCell],onChange:e},this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:t})},value:d&&d[this.state.selectedCell]&&d[this.state.selectedCell].onChange}):null,d?iN(Uh,{label:we,onChange:e=>{let t=i||{layout:{},properties:{}};d[this.state.selectedCell]=d[this.state.selectedCell]||{},d[this.state.selectedCell]={...d[this.state.selectedCell],onPress:e},this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:t})},value:d&&d[this.state.selectedCell]&&d[this.state.selectedCell].onPress}):null,s?iN(Oh,{options:o.toNodeSelect(),onChange:e=>{let t=i||{layout:{},properties:{}};s[this.state.selectedCell]=e,this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:t})},label:z,value:s[this.state.selectedCell]}):null,s&&s[this.state.selectedCell]?this.getComponentApi(s):null,s&&s[this.state.selectedCell]?iN(Uh,{label:Le,onChange:e=>{let t=i||{layout:{},properties:{}};u[this.state.selectedCell]=e,this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:t})},value:u[this.state.selectedCell]}):null,s&&s[this.state.selectedCell]&&m&&m.length?iN(Oh,{options:m,onChange:e=>{let t=i||{layout:{},properties:{}};l[this.state.selectedCell]=e,this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:t})},label:B,value:l[this.state.selectedCell]}):null,l&&l[this.state.selectedCell]&&m&&m.length?iN(Oh,{options:ka(Vp(e),{id:Qi(f,l[this.state.selectedCell]),direction:Na}).toNodeSelect(),onChange:e=>{let t=i||{layout:{},properties:{}};p[this.state.selectedCell]=e,this.props.graphOperation(du,{prop:ss.Layout,id:r.id,value:t})},label:Rr,value:p[this.state.selectedCell]}):null)),iN("div",{className:"col-md-10"},void 0,iN(oN,{selectedCell:this.state.selectedCell,layout:Es(r,uo.Layout),onSelectionClick:e=>{this.setState({selectedCell:this.state.selectedCell!==e?e:null})},style:{height:500}})))))}});function lN(e,t,r,n){aN||(aN="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:aN,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const{clipboard:pN}=r("electron"),uN="side-panel-open",dN="NODE_MENU",cN="CONNECTING_NODE",fN="LINK_DISTANCE";var mN=lN(qE,{}),hN=lN(Jm,{}),yN=lN(th,{}),vN=lN(Pk,{}),_N=lN(Gk,{}),gN=lN(vC,{},void 0,lN(ik,{})),bN=lN($k,{}),CN=lN(UO,{}),EN=lN(jO,{}),ON=lN(yk,{}),kN=lN(zE,{}),NN=lN(eC,{}),MN=lN(Nv,{methodDefinitionKey:"validation"}),TN=lN(Nv,{methodDefinitionKey:"permission"}),SN=lN(Nv,{methodDefinitionKey:"filter"}),PN=lN(Nv,{view:"datasource"}),AN=lN(JO,{}),IN=lN(qb,{}),LN=lN(Hy,{},void 0,lN(gk,{}),lN(QO,{}),lN(Ty,{}),lN(zb,{}),lN(QC,{}),lN(SO,{}),lN(NC,{}),lN(aC,{}),lN(nE,{}),lN(BC,{}),lN(mE,{}),lN(Kb,{}),lN(FC,{}),lN(yC,{}),lN(lk,{}),lN(Ey,{}),lN(RC,{}),lN(WC,{}),lN(AE,{}),lN(Ly,{}),lN(aE,{}),lN($E,{}),lN(NO,{}),lN(IC,{}),lN(Ok,{}),lN(nC,{}),lN(jk,{}),lN(By,{})),$N=lN(SC,{}),wN=lN(wC,{}),xN=lN(Hy,{},void 0,lN(vE,{}),lN(jE,{}),lN(JC,{}),lN(ek,{}),lN(IO,{}),lN(cC,{}),lN(KE,{})),jN=lN(TE,{}),RN=lN(dE,{}),DN=lN(Hy,{},void 0,lN(Dh,{})),GN=lN(sO,{}),FN=lN(CC,{}),UN=lN(gy,{}),VN=lN(WO,{}),BN=lN(fy,{}),HN=lN(dk,{});const qN="SELECTED_TAB",WN="DEFAULT_TAB",YN="PARAMETER_TAB",zN="SCOPE_TAB",JN="QUICK_MENU";var XN,KN,QN=Um(class extends l.Component{componentDidMount(){this.props.setState(),this.props.setRemoteState()}minified(){var{state:e}=this.props;return ms(e,Qa,rs)?"sidebar-collapse":""}nodeSelectionMenuItems(){var e=[],{state:t}=this.props;if(_s(t,ep)){switch(Es(Fl(t,_s(t,ep)),uo.NODEType)){case Bn.Method:case Bn.Action:e.push({onClick:()=>{this.props.setVisual(cN,Co.OnScreenLink)},icon:"fa fa-download",title:Ee},{onClick:()=>{this.props.setVisual(cN,Co.OnSuccessLink)},icon:"fa  fa-trophy",title:Te},{onClick:()=>{this.props.setVisual(cN,Co.OnItemSelection)},icon:"fa  fa-tasks",title:Me},{onClick:()=>{this.props.setVisual(cN,Co.OnAction)},icon:"fa  fa-tasks",title:Ne},{onClick:()=>{this.props.setVisual(cN,Co.OnFailureLink)},icon:"fa  fa-frown-o",title:ke});break;case Bn.ScreenItem:case Bn.ScreenCollection:case Bn.ScreenContainer:case Bn.Screen:e.push({onClick:()=>{this.props.setVisual(cN,Co.ChildLink)},icon:"fa  fa-share-alt",title:Oe})}e.push({onClick:()=>{this.props.setVisual(cN,!0)},icon:"fa fa-link",title:Ce})}return e}render(){var{state:e}=this.props,t=_s(e,ns),r=0,n=0;t&&(r=t.right,n=t.top);var o=this.nodeSelectionMenuItems(),i=Fl(e,_s(e,ep));let a=Up(e),s=Vp(e),l=Bl(e),p=_s(e,oo),u="0.0.0",d=null;s&&(u=`${s.version.major}.${s.version.minor}.${s.version.build}`,d=s.workspaces&&s.workspaces[Object(am.platform)()]||s.workspace);let c=null;return _s(e,Zl)&&(c=function(e,t){var r=Sa(e,t);return r?e.linkLib[r]:null}(s,_s(e,Zl))),lN("div",{className:`skin-red sidebar-mini skin-red ${this.minified()}`,style:{height:"auto",minHeight:"100vh"}},void 0,lN("div",{className:"wrapper",style:{height:"100vh"}},void 0,mN,lN(VE,{visible:_s(e,ep),left:r-20,open:_s(e,dN),onToggle:()=>{this.props.toggleVisual(dN)},top:n+30,menuItems:o}),lN("div",{"data-tid":"container"},void 0,lN(Xm,{},void 0,hN,lN(Km,{},void 0,yN,lN(nh,{},void 0,_s(e,Ql)?lN(Wy,{icon:"fa fa-cube",onClick:()=>{this.props.graphOperation(_u,_s(e,Ql)),this.props.setVisual(Ql,null)}}):null,vN,lN(Wy,{icon:"fa fa-asterisk",onClick:()=>{pN.writeText(vs())}}),lN(Wy,{icon:"fa fa-plus",onClick:()=>{this.props.graphOperation(ou),this.props.setVisual(uN,!0),this.props.setVisual(qN,WN)}}),lN(Wy,{icon:"fa fa-minus",onClick:()=>{this.props.graphOperation(iu,{id:_s(e,ep)}),this.props.setVisual(uN,!1),this.props.setVisual(qN,WN)}}),lN(Wy,{onClick:()=>{this.props.toggleVisual("side-panel-open")}})),lN(nh,{paddingRight:15},void 0,lN(Wy,{icon:"fa fa-remove",title:Gn,onClick:()=>{this.props.graphOperation(ap(e).filter(e=>Es(e,uo.Pinned)).map(e=>({operation:du,options:{prop:ss.Pinned,id:e.id,value:!1}})))}})),lN(nh,{paddingRight:15,style:{float:"left"}},void 0,_s(e,"MAIN_NAV")?lN(Wy,{active:p===io||!p,hideArrow:!0,title:cn,icon:"fa fa-map",onClick:()=>{this.props.setVisual(oo,io)}}):null,_s(e,"MAIN_NAV")?lN(Wy,{active:p===ao,hideArrow:!0,title:fn,icon:"fa fa-code",onClick:()=>{this.props.setVisual(oo,ao)}}):null),lN(nh,{paddingRight:15,style:{float:"left"}},void 0,lN(Wy,{title:oe,icon:"fa fa-plus",onClick:()=>{this.props.newRedQuickBuilderGraph()}}),lN(Wy,{title:an,icon:"fa fa-folder-open",onClick:()=>{this.props.openRedQuickBuilderGraph()}}),s?lN(Wy,{title:rn,icon:"fa fa-cloud-upload",onClick:()=>{this.props.saveGraphToFile()}}):null,s&&s.fileName?lN(Wy,{title:on,icon:"fa fa-save",onClick:()=>{this.props.saveGraph()}}):null,s?lN(Wy,{title:ln,icon:"fa fa-building",onClick:()=>{confirm("Are you sure you want to scaffold the project")&&this.props.scaffoldProject()}}):null,s?lN(Wy,{title:sn,icon:"fa  fa-building-o",onClick:()=>{this.props.scaffoldProject({filesOnly:!0})}}):null,s?lN(Wy,{title:pn,icon:"fa fa-folder-open",onClick:()=>{this.props.setWorkingDirectory()}}):null,s?lN(Wy,{title:u}):null,d?lN(Wy,{title:d,icon:"fa fa-cog"}):null))),lN(mh,{},void 0,lN(Kh,{},void 0,lN(Gh,{title:_t,onClick:()=>{this.props.toggleVisual("MAIN_NAV")}}),_s(e,"MAIN_NAV")?lN(Xh,{active:p===io||!p,hideArrow:!0,title:cn,icon:"fa fa-map",onClick:()=>{this.props.setVisual(oo,io)}}):null,_s(e,"MAIN_NAV")?lN(Xh,{active:p===ao,hideArrow:!0,title:fn,icon:"fa fa-code",onClick:()=>{this.props.setVisual(oo,ao)}}):null,c&&c.properties?lN(Gh,{title:c.properties.type}):null,lN(Gh,{title:yt}),lN(Xh,{open:_s(e,ih),active:_s(e,ih),title:ct,toggle:()=>{this.props.toggleVisual(ih)}},void 0,lN(Xh,{hideArrow:!0,title:oe,icon:"fa fa-plus",onClick:()=>{this.props.newRedQuickBuilderGraph()}}),lN(Xh,{hideArrow:!0,title:an,icon:"fa fa-folder-open",onClick:()=>{this.props.openRedQuickBuilderGraph()}}),s?lN(Xh,{hideArrow:!0,title:rn,icon:"fa fa-cloud-upload",onClick:()=>{this.props.saveGraphToFile()}}):null,s&&s.fileName?lN(Xh,{hideArrow:!0,title:on,icon:"fa fa-save",onClick:()=>{this.props.saveGraph()}}):null,s?lN(Xh,{hideArrow:!0,title:ln,icon:"fa  fa-building",onClick:()=>{confirm("Are you sure you want to scaffold the project")&&this.props.scaffoldProject()}}):null,s?lN(Xh,{hideArrow:!0,title:sn,icon:"fa  fa-building-o",onClick:()=>{this.props.scaffoldProject({filesOnly:!0})}}):null,s?lN(Xh,{hideArrow:!0,title:pn,icon:"fa fa-folder-open",onClick:()=>{this.props.setWorkingDirectory()}}):null,s?lN(Xh,{title:u,hideArrow:!0}):null,d?lN(Xh,{hideArrow:!0,title:d,icon:"fa fa-cog"}):null,_N),lN(Xh,{open:_s(e,oh),active:_s(e,oh),title:w,toggle:()=>{this.props.toggleVisual(oh)}},void 0,lN(vC,{},void 0,lN(pO,{min:30,max:1500,onChange:e=>{this.props.setVisual(fN,e)},value:_s(e,fN)})),gN),bN,CN,EN,ON)),lN(my,{},void 0,lN(rN,{active:_s(e,oo)===ao}),lN(sN,{active:_s(e,oo)===so}),lN(Ub,{linkDistance:_s(e,fN),onNodeClick:(t,r)=>{if(_s(e,cN)){let r=_s(e,ep);console.log(`selectedId:${r} => nodeId:${t}`);let n=_s(e,cN);!0===n?this.props.graphOperation(au,{target:t,source:r}):this.props.graphOperation(au,{target:t,source:r,properties:n}),this.props.setVisual(cN,!1),this.props.setVisual(ep,null)}else-1===[_s(e,ep)].indexOf(t)?(this.props.SelectedNode(t),this.props.setVisual(ns,r),this.props.setVisual(uN,!0)):this.props.SelectedNode(null)},onLinkClick:(e,t)=>{console.log(`link id : ${e}`),this.props.setVisual(Ql,e),this.props.setVisual(Zl,e)},selectedColor:qu.SelectedNode,selectedLinks:[_s(e,Ql)].filter(e=>e),selectedNodes:[_s(e,ep)].filter(e=>e),graph:l||a})),lN(Hh,{open:_s(e,uN),extraWide:gs(e,is.ExtensionType)},void 0,lN(Sy,{},void 0,lN(Ay,{icon:"fa fa-cog",active:Gl(e,qN,WN),onClick:()=>{this.props.setVisual(qN,WN)}}),lN(Ay,{active:Gl(e,qN,YN),onClick:()=>{this.props.setVisual(qN,YN)}}),lN(Ay,{active:Gl(e,qN,zN),onClick:()=>{this.props.setVisual(qN,zN)}}),lN(Ay,{icon:"fa fa-institution",active:Gl(e,qN,JN),onClick:()=>{this.props.setVisual(qN,JN)}})),i&&!qn[Es(i,uo.NODEType)]?lN(oy,{active:!0,tab:WN,title:wr},"node-properties",lN(Ch,{},void 0,lN(Kh,{},void 0,lN(Gh,{onClick:()=>{pN.writeText(_s(e,ep))},title:_s(e,ep)})),kN,NN,lN(Th,{label:G,value:i.properties?i.properties.text:"",onChange:e=>{this.props.graphOperation(su,{id:i.id,value:e})}}),Zn[i.properties?Es(i,ss.NODEType):null]?null:lN(Oh,{disabled:!sp(i),label:F,options:Object.keys(is).filter(e=>!Zn[is[e]]).sort((e,t)=>e.localeCompare(t)).map(e=>({value:is[e],title:e})),onChange:e=>{this.props.graphOperation(du,{prop:ss.NODEType,id:i.id,value:e})},value:i.properties?Es(i,ss.NODEType):null}),lN(Uh,{label:be,value:Es(i,ss.Collapsed),onChange:e=>{this.props.graphOperation(du,{prop:ss.Collapsed,id:i.id,value:e})}}),lN(Uh,{label:he,title:ye,value:Es(i,ss.Pinned),onChange:e=>{this.props.graphOperation(du,{prop:ss.Pinned,id:i.id,value:e})}}))):null,Gl(e,qN,YN)?MN:null,Gl(e,qN,YN)?TN:null,Gl(e,qN,YN)?SN:null,Gl(e,qN,YN)?PN:null,AN,IN,Gl(e,qN,YN)?LN:null,$N,wN,Gl(e,qN,zN)?xN:null,Gl(e,qN,zN)?jN:null,Gl(e,qN,zN)?RN:null,Gl(e,qN,zN)?lN(dE,{ui:Ro,modelKey:uo.ModelItemFilter,nodeType:Bn.ModelItemFilter,nodeProp:uo.FilterModel}):null,Gl(e,qN,zN)?lN(dE,{ui:Ro,modelKey:uo.Condition,nodeType:Bn.Condition,nodeProp:uo.Condition}):null,Gl(e,qN,JN)?DN:null,Gl(e,qN,WN)?GN:null,Gl(e,qN,zN)?FN:null,Gl(e,qN,zN)?UN:null,Gl(e,qN,zN)?VN:null,Gl(e,qN,JN)?BN:null)),HN))}});function ZN(e,t,r,n){XN||(XN="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:XN,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function eM(e,t,r,n){KN||(KN="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:KN,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var tM=eM(()=>ZN(y,{},void 0,ZN(m.Switch,{},void 0,ZN(m.Route,{path:h.HOME,component:QN}))),{});var rM=r("redux-thunk"),nM=r.n(rM),oM=r("history");r("./node_modules/redux-logger/dist/redux-logger.js");const iM="INCREMENT_COUNTER",aM="DECREMENT_COUNTER";function sM(){return{type:iM}}function lM(){return{type:aM}}function pM(){return(e,t)=>{const{counter:r}=t();r%2!=0&&e(sM())}}function uM(e=1e3){return t=>{setTimeout(()=>{t(sM())},e)}}function dM(e=0,t){switch(t.type){case iM:return e+1;case aM:return e-1;default:return e}}function cM(e,t){switch(e=e||{},t.type){case fs:return function(e,t){var r={...e};return r[t.section]={...r[t.section]||{}},r[t.section][t.item]=t.value,r}(e,t);default:return e}}function fM(e){return Object(v.combineReducers)({router:Object(f.connectRouter)(e),counter:dM,uiReducer:cM})}const mM=Object(oM.createHashHistory)();fM(mM);const hM=Object(oM.createHashHistory)(),yM=fM(hM),vM=Object(f.routerMiddleware)(hM),_M=Object(v.applyMiddleware)(nM.a,vM);const gM={configureStore:function(e){return Object(v.createStore)(yM,e,_M)},history:hM},{configureStore:bM}=gM,{history:CM}=gM;var EM;r("./app/app.global.css");function OM(e,t,r,n){EM||(EM="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var s=new Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:EM,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}const kM=bM();Object(u.render)(OM(d.AppContainer,{},void 0,OM(class extends l.Component{render(){const{store:e,history:t}=this.props;return eM(c.Provider,{store:e},void 0,eM(f.ConnectedRouter,{history:t},void 0,tM))}},{store:kM,history:CM})),document.getElementById("root"))},"./node_modules/connected-react-router/lib/ConnectedRouter.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r("react"),a=d(i),s=d(r("./node_modules/prop-types/index.js")),l=r("react-redux"),p=r("react-router"),u=r("./node_modules/connected-react-router/lib/actions.js");function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.getIn,r=e.toJS,n=function(e){function n(e,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));i.inTimeTravelling=!1,i.unsubscribe=o.store.subscribe(function(){var n=r(t(o.store.getState(),["router","location"])),a=n.pathname,s=n.search,l=n.hash,p=e.history.location,u=p.pathname,d=p.search,c=p.hash;u===a&&d===s&&c===l||(i.inTimeTravelling=!0,e.history.push({pathname:a,search:s,hash:l}))});var a=function(t,r){i.inTimeTravelling?i.inTimeTravelling=!1:e.onLocationChanged(t,r)};return i.unlisten=e.history.listen(a),a(e.history.location,e.history.action),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,C("Component")),o(n,[{key:"componentWillUnmount",value:function(){this.unlisten(),this.unsubscribe()}},{key:"render",value:function(){var e=this.props,t=e.history,r=e.children;return C("React").createElement(C("Router"),{history:t},r)}}]),n}();n.contextTypes={store:C("PropTypes").shape({getState:C("PropTypes").func.isRequired,subscribe:C("PropTypes").func.isRequired}).isRequired},n.propTypes={history:C("PropTypes").shape({action:C("PropTypes").string.isRequired,listen:C("PropTypes").func.isRequired,location:C("PropTypes").object.isRequired,push:C("PropTypes").func.isRequired}).isRequired,location:C("PropTypes").oneOfType([C("PropTypes").object,C("PropTypes").string]).isRequired,action:C("PropTypes").string.isRequired,basename:C("PropTypes").string,children:C("PropTypes").oneOfType([C("PropTypes").func,C("PropTypes").node]),onLocationChanged:C("PropTypes").func.isRequired};return C("connect")(function(e){return{action:t(e,["router","action"]),location:t(e,["router","location"])}},function(e){return{onLocationChanged:function(t,r){return e(C("onLocationChanged")(t,r))}}})(n)};function f(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=C("createConnectedRouter");var m,h=null;function y(){if(null===h){var e=f();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),h=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return h}function v(){var e=f();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function _(){var e=y(),t=v(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(m=f()).__rewire_reset_all__||(m.__rewire_reset_all__=function(){m.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var g="__INTENTIONAL_UNDEFINED__",b={};function C(e){var t=_();if(void 0===t[e])return function(e){switch(e){case"Component":return i.Component;case"PropTypes":return s.default;case"onLocationChanged":return u.onLocationChanged;case"connect":return l.connect;case"createConnectedRouter":return c;case"React":return a.default;case"Router":return p.Router}return}(e);var r=t[e];return r===g?void 0:r}function E(e,t){var r=_();if("object"!==(void 0===e?"undefined":n(e)))return r[e]=void 0===t?g:t,function(){O(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function O(e){var t=_();delete t[e],0==Object.keys(t).length&&delete v()[y]}function k(e){var t=_(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(b,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",C),e("__GetDependency__",C),e("__Rewire__",E),e("__set__",E),e("__reset__",O),e("__ResetDependency__",O),e("__with__",k)}();var N=void 0===c?"undefined":n(c);function M(e,t){Object.defineProperty(c,e,{value:t,enumerable:!1,configurable:!0})}"object"!==N&&"function"!==N||!Object.isExtensible(c)||(M("__get__",C),M("__GetDependency__",C),M("__Rewire__",E),M("__set__",E),M("__reset__",O),M("__ResetDependency__",O),M("__with__",k),M("__RewireAPI__",b)),t.__get__=C,t.__GetDependency__=C,t.__Rewire__=E,t.__set__=E,t.__ResetDependency__=O,t.__RewireAPI__=b},"./node_modules/connected-react-router/lib/actions.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=t.LOCATION_CHANGE="@@router/LOCATION_CHANGE",i=(t.onLocationChanged=function(e,t){return{type:b("LOCATION_CHANGE"),payload:{location:e,action:t}}},t.CALL_HISTORY_METHOD="@@router/CALL_HISTORY_METHOD"),a=function(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return{type:b("CALL_HISTORY_METHOD"),payload:{method:e,args:r}}}},s=t.push=b("updateLocation")("push"),l=t.replace=b("updateLocation")("replace"),p=t.go=b("updateLocation")("go"),u=t.goBack=b("updateLocation")("goBack"),d=t.goForward=b("updateLocation")("goForward");t.routerActions={push:b("push"),replace:b("replace"),go:b("go"),goBack:b("goBack"),goForward:b("goForward")};function c(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}var f,m=null;function h(){if(null===m){var e=c();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),m=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return m}function y(){var e=c();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function v(){var e=h(),t=y(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(f=c()).__rewire_reset_all__||(f.__rewire_reset_all__=function(){f.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var _="__INTENTIONAL_UNDEFINED__",g={};function b(e){var t=v();if(void 0===t[e])return function(e){switch(e){case"LOCATION_CHANGE":return o;case"CALL_HISTORY_METHOD":return i;case"updateLocation":return a;case"push":return s;case"replace":return l;case"go":return p;case"goBack":return u;case"goForward":return d}return}(e);var r=t[e];return r===_?void 0:r}function C(e,t){var r=v();if("object"!==(void 0===e?"undefined":n(e)))return r[e]=void 0===t?_:t,function(){E(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function E(e){var t=v();delete t[e],0==Object.keys(t).length&&delete y()[h]}function O(e){var t=v(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(g,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",b),e("__GetDependency__",b),e("__Rewire__",C),e("__set__",C),e("__reset__",E),e("__ResetDependency__",E),e("__with__",O)}(),t.__get__=b,t.__GetDependency__=b,t.__Rewire__=C,t.__set__=C,t.__ResetDependency__=E,t.__RewireAPI__=g,t.default=g},"./node_modules/connected-react-router/lib/createAll.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r("./node_modules/connected-react-router/lib/actions.js")),a=u(r("./node_modules/connected-react-router/lib/ConnectedRouter.js")),s=u(r("./node_modules/connected-react-router/lib/reducer.js")),l=u(r("./node_modules/connected-react-router/lib/middleware.js")),p=u(r("./node_modules/connected-react-router/lib/selectors.js"));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){return o({},b("actions"),b("createSelectors")(e),{ConnectedRouter:b("createConnectedRouter")(e),connectRouter:b("createConnectRouter")(e),routerMiddleware:b("routerMiddleware")})};function c(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=b("createAll");var f,m=null;function h(){if(null===m){var e=c();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),m=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return m}function y(){var e=c();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function v(){var e=h(),t=y(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(f=c()).__rewire_reset_all__||(f.__rewire_reset_all__=function(){f.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var _="__INTENTIONAL_UNDEFINED__",g={};function b(e){var t=v();if(void 0===t[e])return function(e){switch(e){case"actions":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter(function(e){return"__get__"!==e&&"__set__"!==e&&"__reset__"!==e&&"__with__"!==e&&"__GetDependency__"!==e&&"__Rewire__"!==e&&"__ResetDependency__"!==e&&"__RewireAPI__"!==e}).reduce(function(t,r){return t[r]=e[r],t},{})}(i);case"createSelectors":return p.default;case"createConnectedRouter":return a.default;case"createConnectRouter":return s.default;case"routerMiddleware":return l.default;case"createAll":return d}return}(e);var r=t[e];return r===_?void 0:r}function C(e,t){var r=v();if("object"!==(void 0===e?"undefined":n(e)))return r[e]=void 0===t?_:t,function(){E(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function E(e){var t=v();delete t[e],0==Object.keys(t).length&&delete y()[h]}function O(e){var t=v(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(g,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",b),e("__GetDependency__",b),e("__Rewire__",C),e("__set__",C),e("__reset__",E),e("__ResetDependency__",E),e("__with__",O)}();var k=void 0===d?"undefined":n(d);function N(e,t){Object.defineProperty(d,e,{value:t,enumerable:!1,configurable:!0})}"object"!==k&&"function"!==k||!Object.isExtensible(d)||(N("__get__",b),N("__GetDependency__",b),N("__Rewire__",C),N("__set__",C),N("__reset__",E),N("__ResetDependency__",E),N("__with__",O),N("__RewireAPI__",g)),t.__get__=b,t.__GetDependency__=b,t.__Rewire__=C,t.__set__=C,t.__ResetDependency__=E,t.__RewireAPI__=g},"./node_modules/connected-react-router/lib/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=t.createMatchSelector=t.getAction=t.getLocation=t.routerMiddleware=t.connectRouter=t.ConnectedRouter=t.routerActions=t.goForward=t.goBack=t.go=t.replace=t.push=t.CALL_HISTORY_METHOD=t.LOCATION_CHANGE=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=a(r("./node_modules/connected-react-router/lib/createAll.js")),i=a(r("./node_modules/connected-react-router/lib/structure/plain/index.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=A("createAll")(A("plainStructure")),l=s.LOCATION_CHANGE,p=s.CALL_HISTORY_METHOD,u=s.push,d=s.replace,c=s.go,f=s.goBack,m=s.goForward,h=s.routerActions,y=s.ConnectedRouter,v=s.connectRouter,_=s.routerMiddleware,g=s.getLocation,b=s.getAction,C=s.createMatchSelector;function E(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.LOCATION_CHANGE=l,t.CALL_HISTORY_METHOD=p,t.push=u,t.replace=d,t.go=c,t.goBack=f,t.goForward=m,t.routerActions=h,t.ConnectedRouter=y,t.connectRouter=v,t.routerMiddleware=_,t.getLocation=g,t.getAction=b,t.createMatchSelector=C;var O,k=null;function N(){if(null===k){var e=E();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),k=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return k}function M(){var e=E();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function T(){var e=N(),t=M(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(O=E()).__rewire_reset_all__||(O.__rewire_reset_all__=function(){O.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var S="__INTENTIONAL_UNDEFINED__",P={};function A(e){var t=T();if(void 0===t[e])return function(e){switch(e){case"createAll":return o.default;case"plainStructure":return i.default}return}(e);var r=t[e];return r===S?void 0:r}function I(e,t){var r=T();if("object"!==(void 0===e?"undefined":n(e)))return r[e]=void 0===t?S:t,function(){L(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function L(e){var t=T();delete t[e],0==Object.keys(t).length&&delete M()[N]}function $(e){var t=T(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(P,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",A),e("__GetDependency__",A),e("__Rewire__",I),e("__set__",I),e("__reset__",L),e("__ResetDependency__",L),e("__with__",$)}(),t.__get__=A,t.__GetDependency__=A,t.__Rewire__=I,t.__set__=I,t.__ResetDependency__=L,t.__RewireAPI__=P,t.default=P},"./node_modules/connected-react-router/lib/middleware.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r("./node_modules/connected-react-router/lib/actions.js");var i=function(e){return function(t){return function(t){return function(r){if(r.type!==m("CALL_HISTORY_METHOD"))return t(r);var n=r.payload,o=n.method,i=n.args;e[o].apply(e,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(i))}}}};function a(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=m("routerMiddleware");var s,l=null;function p(){if(null===l){var e=a();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),l=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return l}function u(){var e=a();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function d(){var e=p(),t=u(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(s=a()).__rewire_reset_all__||(s.__rewire_reset_all__=function(){s.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var c="__INTENTIONAL_UNDEFINED__",f={};function m(e){var t=d();if(void 0===t[e])return function(e){switch(e){case"CALL_HISTORY_METHOD":return o.CALL_HISTORY_METHOD;case"routerMiddleware":return i}return}(e);var r=t[e];return r===c?void 0:r}function h(e,t){var r=d();if("object"!==(void 0===e?"undefined":n(e)))return r[e]=void 0===t?c:t,function(){y(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function y(e){var t=d();delete t[e],0==Object.keys(t).length&&delete u()[p]}function v(e){var t=d(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(f,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",m),e("__GetDependency__",m),e("__Rewire__",h),e("__set__",h),e("__reset__",y),e("__ResetDependency__",y),e("__with__",v)}();var _=void 0===i?"undefined":n(i);function g(e,t){Object.defineProperty(i,e,{value:t,enumerable:!1,configurable:!0})}"object"!==_&&"function"!==_||!Object.isExtensible(i)||(g("__get__",m),g("__GetDependency__",m),g("__Rewire__",h),g("__set__",h),g("__reset__",y),g("__ResetDependency__",y),g("__with__",v),g("__RewireAPI__",f)),t.__get__=m,t.__GetDependency__=m,t.__Rewire__=h,t.__set__=h,t.__ResetDependency__=y,t.__RewireAPI__=f},"./node_modules/connected-react-router/lib/reducer.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r("./node_modules/connected-react-router/lib/actions.js"),i=function(e){var t=e.fromJS,r=e.merge;return function(e){var n=t({location:e.location,action:e.action});return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.type,i=t.payload;return o===m("LOCATION_CHANGE")?r(e,i):e}}};function a(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=m("createConnectRouter");var s,l=null;function p(){if(null===l){var e=a();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),l=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return l}function u(){var e=a();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function d(){var e=p(),t=u(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(s=a()).__rewire_reset_all__||(s.__rewire_reset_all__=function(){s.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var c="__INTENTIONAL_UNDEFINED__",f={};function m(e){var t=d();if(void 0===t[e])return function(e){switch(e){case"LOCATION_CHANGE":return o.LOCATION_CHANGE;case"createConnectRouter":return i}return}(e);var r=t[e];return r===c?void 0:r}function h(e,t){var r=d();if("object"!==(void 0===e?"undefined":n(e)))return r[e]=void 0===t?c:t,function(){y(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function y(e){var t=d();delete t[e],0==Object.keys(t).length&&delete u()[p]}function v(e){var t=d(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(f,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",m),e("__GetDependency__",m),e("__Rewire__",h),e("__set__",h),e("__reset__",y),e("__ResetDependency__",y),e("__with__",v)}();var _=void 0===i?"undefined":n(i);function g(e,t){Object.defineProperty(i,e,{value:t,enumerable:!1,configurable:!0})}"object"!==_&&"function"!==_||!Object.isExtensible(i)||(g("__get__",m),g("__GetDependency__",m),g("__Rewire__",h),g("__set__",h),g("__reset__",y),g("__ResetDependency__",y),g("__with__",v),g("__RewireAPI__",f)),t.__get__=m,t.__GetDependency__=m,t.__Rewire__=h,t.__set__=h,t.__ResetDependency__=y,t.__RewireAPI__=f},"./node_modules/connected-react-router/lib/selectors.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r("react-router"),i=function(e){var t=e.getIn,r=e.toJS,n=function(e){return r(t(e,["router","location"]))};return{getLocation:n,getAction:function(e){return r(t(e,["router","action"]))},createMatchSelector:function(e){var t=null,r=null;return function(o){var i=(n(o)||{}).pathname;if(i===t)return r;t=i;var a=m("matchPath")(i,e);return a&&r&&a.url===r.url||(r=a),r}}}};function a(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=m("createSelectors");var s,l=null;function p(){if(null===l){var e=a();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),l=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return l}function u(){var e=a();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function d(){var e=p(),t=u(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(s=a()).__rewire_reset_all__||(s.__rewire_reset_all__=function(){s.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var c="__INTENTIONAL_UNDEFINED__",f={};function m(e){var t=d();if(void 0===t[e])return function(e){switch(e){case"matchPath":return o.matchPath;case"createSelectors":return i}return}(e);var r=t[e];return r===c?void 0:r}function h(e,t){var r=d();if("object"!==(void 0===e?"undefined":n(e)))return r[e]=void 0===t?c:t,function(){y(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function y(e){var t=d();delete t[e],0==Object.keys(t).length&&delete u()[p]}function v(e){var t=d(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(f,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",m),e("__GetDependency__",m),e("__Rewire__",h),e("__set__",h),e("__reset__",y),e("__ResetDependency__",y),e("__with__",v)}();var _=void 0===i?"undefined":n(i);function g(e,t){Object.defineProperty(i,e,{value:t,enumerable:!1,configurable:!0})}"object"!==_&&"function"!==_||!Object.isExtensible(i)||(g("__get__",m),g("__GetDependency__",m),g("__Rewire__",h),g("__set__",h),g("__reset__",y),g("__ResetDependency__",y),g("__with__",v),g("__RewireAPI__",f)),t.__get__=m,t.__GetDependency__=m,t.__Rewire__=h,t.__set__=h,t.__ResetDependency__=y,t.__RewireAPI__=f},"./node_modules/connected-react-router/lib/structure/plain/getIn.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(!e)return e;var r=t.length;if(r){for(var n=e,o=0;o<r&&n;++o)n=n[t[o]];return n}};function i(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=f("getIn");var a,s=null;function l(){if(null===s){var e=i();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),s=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return s}function p(){var e=i();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function u(){var e=l(),t=p(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(a=i()).__rewire_reset_all__||(a.__rewire_reset_all__=function(){a.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var d="__INTENTIONAL_UNDEFINED__",c={};function f(e){var t=u();if(void 0===t[e])return function(e){switch(e){case"getIn":return o}return}(e);var r=t[e];return r===d?void 0:r}function m(e,t){var r=u();if("object"!==(void 0===e?"undefined":n(e)))return r[e]=void 0===t?d:t,function(){h(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function h(e){var t=u();delete t[e],0==Object.keys(t).length&&delete p()[l]}function y(e){var t=u(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(c,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",f),e("__GetDependency__",f),e("__Rewire__",m),e("__set__",m),e("__reset__",h),e("__ResetDependency__",h),e("__with__",y)}();var v=void 0===o?"undefined":n(o);function _(e,t){Object.defineProperty(o,e,{value:t,enumerable:!1,configurable:!0})}"object"!==v&&"function"!==v||!Object.isExtensible(o)||(_("__get__",f),_("__GetDependency__",f),_("__Rewire__",m),_("__set__",m),_("__reset__",h),_("__ResetDependency__",h),_("__with__",y),_("__RewireAPI__",c)),t.__get__=f,t.__GetDependency__=f,t.__Rewire__=m,t.__set__=m,t.__ResetDependency__=h,t.__RewireAPI__=c},"./node_modules/connected-react-router/lib/structure/plain/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=void 0;var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r("./node_modules/connected-react-router/lib/structure/plain/getIn.js"),s=(n=a)&&n.__esModule?n:{default:n};var l={fromJS:function(e){return e},getIn:v("getIn"),merge:function(e,t){return i({},e,t)},toJS:function(e){return e}};function p(){try{if(global)return global}catch(e){try{if(window)return window}catch(e){return this}}}t.default=v("structure");var u,d=null;function c(){if(null===d){var e=p();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),d=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return d}function f(){var e=p();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),__$$GLOBAL_REWIRE_REGISTRY__}function m(){var e=c(),t=f(),r=t[e];return r||(t[e]=Object.create(null),r=t[e]),r}(u=p()).__rewire_reset_all__||(u.__rewire_reset_all__=function(){u.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)});var h="__INTENTIONAL_UNDEFINED__",y={};function v(e){var t=m();if(void 0===t[e])return function(e){switch(e){case"getIn":return s.default;case"structure":return l}return}(e);var r=t[e];return r===h?void 0:r}function _(e,t){var r=m();if("object"!==(void 0===e?"undefined":o(e)))return r[e]=void 0===t?h:t,function(){g(e)};Object.keys(e).forEach(function(t){r[t]=e[t]})}function g(e){var t=m();delete t[e],0==Object.keys(t).length&&delete f()[c]}function b(e){var t=m(),r=Object.keys(e),n={};function o(){r.forEach(function(e){t[e]=n[e]})}return function(i){r.forEach(function(r){n[r]=t[r],t[r]=e[r]});var a=i();return a&&"function"==typeof a.then?a.then(o).catch(o):o(),a}}!function(){function e(e,t){Object.defineProperty(y,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",v),e("__GetDependency__",v),e("__Rewire__",_),e("__set__",_),e("__reset__",g),e("__ResetDependency__",g),e("__with__",b)}();var C=void 0===l?"undefined":o(l);function E(e,t){Object.defineProperty(l,e,{value:t,enumerable:!1,configurable:!0})}"object"!==C&&"function"!==C||!Object.isExtensible(l)||(E("__get__",v),E("__GetDependency__",v),E("__Rewire__",_),E("__set__",_),E("__reset__",g),E("__ResetDependency__",g),E("__with__",b),E("__RewireAPI__",y)),t.__get__=v,t.__GetDependency__=v,t.__Rewire__=_,t.__set__=_,t.__ResetDependency__=g,t.__RewireAPI__=y},"./node_modules/core-js/modules/_a-function.js":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"./node_modules/core-js/modules/_add-to-unscopables.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_wks.js")("unscopables"),o=Array.prototype;null==o[n]&&r("./node_modules/core-js/modules/_hide.js")(o,n,{}),e.exports=function(e){o[n][e]=!0}},"./node_modules/core-js/modules/_an-object.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_is-object.js");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},"./node_modules/core-js/modules/_array-includes.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_to-iobject.js"),o=r("./node_modules/core-js/modules/_to-length.js"),i=r("./node_modules/core-js/modules/_to-absolute-index.js");e.exports=function(e){return function(t,r,a){var s,l=n(t),p=o(l.length),u=i(a,p);if(e&&r!=r){for(;p>u;)if((s=l[u++])!=s)return!0}else for(;p>u;u++)if((e||u in l)&&l[u]===r)return e||u||0;return!e&&-1}}},"./node_modules/core-js/modules/_bind.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_a-function.js"),o=r("./node_modules/core-js/modules/_is-object.js"),i=r("./node_modules/core-js/modules/_invoke.js"),a=[].slice,s={};e.exports=Function.bind||function(e){var t=n(this),r=a.call(arguments,1),l=function(){var n=r.concat(a.call(arguments));return this instanceof l?function(e,t,r){if(!(t in s)){for(var n=[],o=0;o<t;o++)n[o]="a["+o+"]";s[t]=Function("F,a","return new F("+n.join(",")+")")}return s[t](e,r)}(t,n.length,n):i(t,n,e)};return o(t.prototype)&&(l.prototype=t.prototype),l}},"./node_modules/core-js/modules/_cof.js":function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},"./node_modules/core-js/modules/_core.js":function(e,t){var r=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=r)},"./node_modules/core-js/modules/_ctx.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_a-function.js");e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},"./node_modules/core-js/modules/_defined.js":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},"./node_modules/core-js/modules/_descriptors.js":function(e,t,r){e.exports=!r("./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_dom-create.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_is-object.js"),o=r("./node_modules/core-js/modules/_global.js").document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},"./node_modules/core-js/modules/_enum-bug-keys.js":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"./node_modules/core-js/modules/_export.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_global.js"),o=r("./node_modules/core-js/modules/_core.js"),i=r("./node_modules/core-js/modules/_hide.js"),a=r("./node_modules/core-js/modules/_redefine.js"),s=r("./node_modules/core-js/modules/_ctx.js"),l=function(e,t,r){var p,u,d,c,f=e&l.F,m=e&l.G,h=e&l.S,y=e&l.P,v=e&l.B,_=m?n:h?n[t]||(n[t]={}):(n[t]||{}).prototype,g=m?o:o[t]||(o[t]={}),b=g.prototype||(g.prototype={});for(p in m&&(r=t),r)d=((u=!f&&_&&void 0!==_[p])?_:r)[p],c=v&&u?s(d,n):y&&"function"==typeof d?s(Function.call,d):d,_&&a(_,p,d,e&l.U),g[p]!=d&&i(g,p,c),y&&b[p]!=d&&(b[p]=d)};n.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},"./node_modules/core-js/modules/_fails.js":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/modules/_function-to-string.js":function(e,t,r){e.exports=r("./node_modules/core-js/modules/_shared.js")("native-function-to-string",Function.toString)},"./node_modules/core-js/modules/_global.js":function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},"./node_modules/core-js/modules/_has.js":function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},"./node_modules/core-js/modules/_hide.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_object-dp.js"),o=r("./node_modules/core-js/modules/_property-desc.js");e.exports=r("./node_modules/core-js/modules/_descriptors.js")?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},"./node_modules/core-js/modules/_html.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_global.js").document;e.exports=n&&n.documentElement},"./node_modules/core-js/modules/_ie8-dom-define.js":function(e,t,r){e.exports=!r("./node_modules/core-js/modules/_descriptors.js")&&!r("./node_modules/core-js/modules/_fails.js")(function(){return 7!=Object.defineProperty(r("./node_modules/core-js/modules/_dom-create.js")("div"),"a",{get:function(){return 7}}).a})},"./node_modules/core-js/modules/_invoke.js":function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},"./node_modules/core-js/modules/_iobject.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_cof.js");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},"./node_modules/core-js/modules/_is-object.js":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/core-js/modules/_iter-create.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_object-create.js"),o=r("./node_modules/core-js/modules/_property-desc.js"),i=r("./node_modules/core-js/modules/_set-to-string-tag.js"),a={};r("./node_modules/core-js/modules/_hide.js")(a,r("./node_modules/core-js/modules/_wks.js")("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)}),i(e,t+" Iterator")}},"./node_modules/core-js/modules/_iter-define.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_library.js"),o=r("./node_modules/core-js/modules/_export.js"),i=r("./node_modules/core-js/modules/_redefine.js"),a=r("./node_modules/core-js/modules/_hide.js"),s=r("./node_modules/core-js/modules/_iterators.js"),l=r("./node_modules/core-js/modules/_iter-create.js"),p=r("./node_modules/core-js/modules/_set-to-string-tag.js"),u=r("./node_modules/core-js/modules/_object-gpo.js"),d=r("./node_modules/core-js/modules/_wks.js")("iterator"),c=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,r,m,h,y,v){l(r,t,m);var _,g,b,C=function(e){if(!c&&e in N)return N[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},E=t+" Iterator",O="values"==h,k=!1,N=e.prototype,M=N[d]||N["@@iterator"]||h&&N[h],T=M||C(h),S=h?O?C("entries"):T:void 0,P="Array"==t&&N.entries||M;if(P&&(b=u(P.call(new e)))!==Object.prototype&&b.next&&(p(b,E,!0),n||"function"==typeof b[d]||a(b,d,f)),O&&M&&"values"!==M.name&&(k=!0,T=function(){return M.call(this)}),n&&!v||!c&&!k&&N[d]||a(N,d,T),s[t]=T,s[E]=f,h)if(_={values:O?T:C("values"),keys:y?T:C("keys"),entries:S},v)for(g in _)g in N||i(N,g,_[g]);else o(o.P+o.F*(c||k),t,_);return _}},"./node_modules/core-js/modules/_iter-step.js":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},"./node_modules/core-js/modules/_iterators.js":function(e,t){e.exports={}},"./node_modules/core-js/modules/_library.js":function(e,t){e.exports=!1},"./node_modules/core-js/modules/_object-create.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_an-object.js"),o=r("./node_modules/core-js/modules/_object-dps.js"),i=r("./node_modules/core-js/modules/_enum-bug-keys.js"),a=r("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO"),s=function(){},l=function(){var e,t=r("./node_modules/core-js/modules/_dom-create.js")("iframe"),n=i.length;for(t.style.display="none",r("./node_modules/core-js/modules/_html.js").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[i[n]];return l()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=l(),void 0===t?r:o(r,t)}},"./node_modules/core-js/modules/_object-dp.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_an-object.js"),o=r("./node_modules/core-js/modules/_ie8-dom-define.js"),i=r("./node_modules/core-js/modules/_to-primitive.js"),a=Object.defineProperty;t.f=r("./node_modules/core-js/modules/_descriptors.js")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},"./node_modules/core-js/modules/_object-dps.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_object-dp.js"),o=r("./node_modules/core-js/modules/_an-object.js"),i=r("./node_modules/core-js/modules/_object-keys.js");e.exports=r("./node_modules/core-js/modules/_descriptors.js")?Object.defineProperties:function(e,t){o(e);for(var r,a=i(t),s=a.length,l=0;s>l;)n.f(e,r=a[l++],t[r]);return e}},"./node_modules/core-js/modules/_object-gpo.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_has.js"),o=r("./node_modules/core-js/modules/_to-object.js"),i=r("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},"./node_modules/core-js/modules/_object-keys-internal.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_has.js"),o=r("./node_modules/core-js/modules/_to-iobject.js"),i=r("./node_modules/core-js/modules/_array-includes.js")(!1),a=r("./node_modules/core-js/modules/_shared-key.js")("IE_PROTO");e.exports=function(e,t){var r,s=o(e),l=0,p=[];for(r in s)r!=a&&n(s,r)&&p.push(r);for(;t.length>l;)n(s,r=t[l++])&&(~i(p,r)||p.push(r));return p}},"./node_modules/core-js/modules/_object-keys.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_object-keys-internal.js"),o=r("./node_modules/core-js/modules/_enum-bug-keys.js");e.exports=Object.keys||function(e){return n(e,o)}},"./node_modules/core-js/modules/_property-desc.js":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js/modules/_redefine.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_global.js"),o=r("./node_modules/core-js/modules/_hide.js"),i=r("./node_modules/core-js/modules/_has.js"),a=r("./node_modules/core-js/modules/_uid.js")("src"),s=r("./node_modules/core-js/modules/_function-to-string.js"),l=(""+s).split("toString");r("./node_modules/core-js/modules/_core.js").inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var p="function"==typeof r;p&&(i(r,"name")||o(r,"name",t)),e[t]!==r&&(p&&(i(r,a)||o(r,a,e[t]?""+e[t]:l.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:o(e,t,r):(delete e[t],o(e,t,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},"./node_modules/core-js/modules/_set-to-string-tag.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_object-dp.js").f,o=r("./node_modules/core-js/modules/_has.js"),i=r("./node_modules/core-js/modules/_wks.js")("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},"./node_modules/core-js/modules/_shared-key.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_shared.js")("keys"),o=r("./node_modules/core-js/modules/_uid.js");e.exports=function(e){return n[e]||(n[e]=o(e))}},"./node_modules/core-js/modules/_shared.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_core.js"),o=r("./node_modules/core-js/modules/_global.js"),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r("./node_modules/core-js/modules/_library.js")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/modules/_to-absolute-index.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_to-integer.js"),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?o(e+t,0):i(e,t)}},"./node_modules/core-js/modules/_to-integer.js":function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},"./node_modules/core-js/modules/_to-iobject.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_iobject.js"),o=r("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return n(o(e))}},"./node_modules/core-js/modules/_to-length.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_to-integer.js"),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},"./node_modules/core-js/modules/_to-object.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_defined.js");e.exports=function(e){return Object(n(e))}},"./node_modules/core-js/modules/_to-primitive.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_is-object.js");e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/modules/_uid.js":function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},"./node_modules/core-js/modules/_wks.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_shared.js")("wks"),o=r("./node_modules/core-js/modules/_uid.js"),i=r("./node_modules/core-js/modules/_global.js").Symbol,a="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=n},"./node_modules/core-js/modules/es6.array.iterator.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/modules/_add-to-unscopables.js"),o=r("./node_modules/core-js/modules/_iter-step.js"),i=r("./node_modules/core-js/modules/_iterators.js"),a=r("./node_modules/core-js/modules/_to-iobject.js");e.exports=r("./node_modules/core-js/modules/_iter-define.js")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},"./node_modules/core-js/modules/es6.function.bind.js":function(e,t,r){var n=r("./node_modules/core-js/modules/_export.js");n(n.P,"Function",{bind:r("./node_modules/core-js/modules/_bind.js")})},"./node_modules/core-js/modules/web.dom.iterable.js":function(e,t,r){for(var n=r("./node_modules/core-js/modules/es6.array.iterator.js"),o=r("./node_modules/core-js/modules/_object-keys.js"),i=r("./node_modules/core-js/modules/_redefine.js"),a=r("./node_modules/core-js/modules/_global.js"),s=r("./node_modules/core-js/modules/_hide.js"),l=r("./node_modules/core-js/modules/_iterators.js"),p=r("./node_modules/core-js/modules/_wks.js"),u=p("iterator"),d=p("toStringTag"),c=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=o(f),h=0;h<m.length;h++){var y,v=m[h],_=f[v],g=a[v],b=g&&g.prototype;if(b&&(b[u]||s(b,u,c),b[d]||s(b,d,v),l[v]=c,_))for(y in n)b[y]||i(b,y,n[y],!0)}},"./node_modules/prop-types/factoryWithThrowingShims.js":function(e,t,r){"use strict";var n=r("./node_modules/prop-types/lib/ReactPropTypesSecret.js");function o(){}e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=o,r.PropTypes=r,r}},"./node_modules/prop-types/index.js":function(e,t,r){e.exports=r("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/redux-logger/dist/redux-logger.js":function(e,t,r){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function n(e,t,r){n.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function i(e,t){i.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function a(e,t,r){a.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:r,enumerable:!0})}function s(e,t,r){var n=e.slice((r||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function l(e){var t=void 0===e?"undefined":E(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function p(e,t,r,u,d,c,f){f=f||[];var m=(d=d||[]).slice(0);if(void 0!==c){if(u){if("function"==typeof u&&u(m,c))return;if("object"===(void 0===u?"undefined":E(u))){if(u.prefilter&&u.prefilter(m,c))return;if(u.normalize){var h=u.normalize(m,c,e,t);h&&(e=h[0],t=h[1])}}}m.push(c)}"regexp"===l(e)&&"regexp"===l(t)&&(e=e.toString(),t=t.toString());var y=void 0===e?"undefined":E(e),v=void 0===t?"undefined":E(t),_="undefined"!==y||f&&f[f.length-1].lhs&&f[f.length-1].lhs.hasOwnProperty(c),g="undefined"!==v||f&&f[f.length-1].rhs&&f[f.length-1].rhs.hasOwnProperty(c);if(!_&&g)r(new o(m,t));else if(!g&&_)r(new i(m,e));else if(l(e)!==l(t))r(new n(m,e,t));else if("date"===l(e)&&e-t!=0)r(new n(m,e,t));else if("object"===y&&null!==e&&null!==t)if(f.filter(function(t){return t.lhs===e}).length)e!==t&&r(new n(m,e,t));else{if(f.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?r(new a(m,b,new i(void 0,e[b]))):p(e[b],t[b],r,u,m,b,f);for(;b<t.length;)r(new a(m,b,new o(void 0,t[b++])))}else{var C=Object.keys(e),O=Object.keys(t);C.forEach(function(n,o){var i=O.indexOf(n);i>=0?(p(e[n],t[n],r,u,m,n,f),O=s(O,i)):p(e[n],void 0,r,u,m,n,f)}),O.forEach(function(e){p(void 0,t[e],r,u,m,e,f)})}f.length=f.length-1}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||r(new n(m,e,t)))}function u(e,t,r,n){return n=n||[],p(e,t,function(e){e&&n.push(e)},r),n.length?n:void 0}function d(e,t,r){if(e&&t&&r&&r.kind){for(var n=e,o=-1,i=r.path?r.path.length-1:0;++o<i;)void 0===n[r.path[o]]&&(n[r.path[o]]="number"==typeof r.path[o]?[]:{}),n=n[r.path[o]];switch(r.kind){case"A":!function e(t,r,n){if(n.path&&n.path.length){var o,i=t[r],a=n.path.length-1;for(o=0;o<a;o++)i=i[n.path[o]];switch(n.kind){case"A":e(i[n.path[o]],n.index,n.item);break;case"D":delete i[n.path[o]];break;case"E":case"N":i[n.path[o]]=n.rhs}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":t=s(t,r);break;case"E":case"N":t[r]=n.rhs}return t}(r.path?n[r.path[o]]:n,r.index,r.item);break;case"D":delete n[r.path[o]];break;case"E":case"N":n[r.path[o]]=r.rhs}}}function c(e){return"color: "+N[e].color+"; font-weight: bold"}function f(e,t,r,n){var o=u(e,t);try{n?r.groupCollapsed("diff"):r.group("diff")}catch(e){r.log("diff")}o?o.forEach(function(e){var t=e.kind,n=function(e){var t=e.kind,r=e.path,n=e.lhs,o=e.rhs,i=e.index,a=e.item;switch(t){case"E":return[r.join("."),n,"",o];case"N":return[r.join("."),o];case"D":return[r.join(".")];case"A":return[r.join(".")+"["+i+"]",a];default:return[]}}(e);r.log.apply(r,["%c "+N[t].text,c(t)].concat(O(n)))}):r.log(" no diff ");try{r.groupEnd()}catch(e){r.log(" diff end  ")}}function m(e,t,r,n){switch(void 0===e?"undefined":E(e)){case"object":return"function"==typeof e[n]?e[n].apply(e,O(r)):e[n];case"function":return e(t);default:return e}}function h(e,t){var r=t.logger,n=t.actionTransformer,o=t.titleFormatter,i=void 0===o?function(e){var t=e.timestamp,r=e.duration;return function(e,n,o){var i=["action"];return i.push("%c"+String(e.type)),t&&i.push("%c@ "+n),r&&i.push("%c(in "+o.toFixed(2)+" ms)"),i.join(" ")}}(t):o,a=t.collapsed,s=t.colors,l=t.level,p=t.diff,u=void 0===t.titleFormatter;e.forEach(function(o,d){var c=o.started,h=o.startedTime,y=o.action,v=o.prevState,_=o.error,g=o.took,C=o.nextState,E=e[d+1];E&&(C=E.prevState,g=E.started-c);var O=n(y),k="function"==typeof a?a(function(){return C},y,o):a,N=b(h),M=s.title?"color: "+s.title(O)+";":"",T=["color: gray; font-weight: lighter;"];T.push(M),t.timestamp&&T.push("color: gray; font-weight: lighter;"),t.duration&&T.push("color: gray; font-weight: lighter;");var S=i(O,N,g);try{k?s.title&&u?r.groupCollapsed.apply(r,["%c "+S].concat(T)):r.groupCollapsed(S):s.title&&u?r.group.apply(r,["%c "+S].concat(T)):r.group(S)}catch(e){r.log(S)}var P=m(l,O,[v],"prevState"),A=m(l,O,[O],"action"),I=m(l,O,[_,v],"error"),L=m(l,O,[C],"nextState");if(P)if(s.prevState){var $="color: "+s.prevState(v)+"; font-weight: bold";r[P]("%c prev state",$,v)}else r[P]("prev state",v);if(A)if(s.action){var w="color: "+s.action(O)+"; font-weight: bold";r[A]("%c action    ",w,O)}else r[A]("action    ",O);if(_&&I)if(s.error){var x="color: "+s.error(_,v)+"; font-weight: bold;";r[I]("%c error     ",x,_)}else r[I]("error     ",_);if(L)if(s.nextState){var j="color: "+s.nextState(C)+"; font-weight: bold";r[L]("%c next state",j,C)}else r[L]("next state",C);p&&f(v,C,r,k);try{r.groupEnd()}catch(e){r.log(" log end ")}})}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},M,e),r=t.logger,n=t.stateTransformer,o=t.errorTransformer,i=t.predicate,a=t.logErrors,s=t.diffPredicate;if(void 0===r)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var l=[];return function(e){var r=e.getState;return function(e){return function(p){if("function"==typeof i&&!i(r,p))return e(p);var u={};l.push(u),u.started=C.now(),u.startedTime=new Date,u.prevState=n(r()),u.action=p;var d=void 0;if(a)try{d=e(p)}catch(e){u.error=o(e)}else d=e(p);u.took=C.now()-u.started,u.nextState=n(r());var c=t.diff&&"function"==typeof s?s(r,p):t.diff;if(h(l,Object.assign({},t,{diff:c})),l.length=0,u.error)throw u.error;return d}}}}var v,_,g=function(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e},b=function(e){return g(e.getHours(),2)+":"+g(e.getMinutes(),2)+":"+g(e.getSeconds(),2)+"."+g(e.getMilliseconds(),3)},C="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},k=[];v="object"===("undefined"==typeof global?"undefined":E(global))&&global?global:"undefined"!=typeof window?window:{},(_=v.DeepDiff)&&k.push(function(){void 0!==_&&v.DeepDiff===u&&(v.DeepDiff=_,_=void 0)}),t(n,r),t(o,r),t(i,r),t(a,r),Object.defineProperties(u,{diff:{value:u,enumerable:!0},observableDiff:{value:p,enumerable:!0},applyDiff:{value:function(e,t,r){e&&t&&p(e,t,function(n){r&&!r(e,t,n)||d(e,t,n)})},enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:function(e,t,r){if(e&&t&&r&&r.kind){var n,o,i=e;for(o=r.path.length-1,n=0;n<o;n++)void 0===i[r.path[n]]&&(i[r.path[n]]={}),i=i[r.path[n]];switch(r.kind){case"A":!function e(t,r,n){if(n.path&&n.path.length){var o,i=t[r],a=n.path.length-1;for(o=0;o<a;o++)i=i[n.path[o]];switch(n.kind){case"A":e(i[n.path[o]],n.index,n.item);break;case"D":case"E":i[n.path[o]]=n.lhs;break;case"N":delete i[n.path[o]]}}else switch(n.kind){case"A":e(t[r],n.index,n.item);break;case"D":case"E":t[r]=n.lhs;break;case"N":t=s(t,r)}return t}(i[r.path[n]],r.index,r.item);break;case"D":case"E":i[r.path[n]]=r.lhs;break;case"N":delete i[r.path[n]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==_},enumerable:!0},noConflict:{value:function(){return k&&(k.forEach(function(e){e()}),k=null),u},enumerable:!0}});var N={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},M={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,r=e.getState;return"function"==typeof t||"function"==typeof r?y()({dispatch:t,getState:r}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=M,e.createLogger=y,e.logger=T,e.default=T,Object.defineProperty(e,"__esModule",{value:!0})}(t)},d3:function(e,t){e.exports=require("d3")},electron:function(e,t){e.exports=require("electron")},fs:function(e,t){e.exports=require("fs")},history:function(e,t){e.exports=require("history")},os:function(e,t){e.exports=require("os")},path:function(e,t){e.exports=require("path")},react:function(e,t){e.exports=require("react")},"react-dom":function(e,t){e.exports=require("react-dom")},"react-hot-loader":function(e,t){e.exports=require("react-hot-loader")},"react-redux":function(e,t){e.exports=require("react-redux")},"react-router":function(e,t){e.exports=require("react-router")},"react-router-dom":function(e,t){e.exports=require("react-router-dom")},"react-syntax-highlighter":function(e,t){e.exports=require("react-syntax-highlighter")},redux:function(e,t){e.exports=require("redux")},"redux-thunk":function(e,t){e.exports=require("redux-thunk")},util:function(e,t){e.exports=require("util")},webcola:function(e,t){e.exports=require("webcola")}});
//# sourceMappingURL=renderer.prod.js.map